/* Accessibility Styles for CardAll */

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus visible styles */
.focus-visible *:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
}

.focus-visible button:focus-visible,
.focus-visible input:focus-visible,
.focus-visible select:focus-visible,
.focus-visible textarea:focus-visible,
.focus-visible [tabindex]:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
  box-shadow: 0 0 0 4px hsl(var(--primary) / 0.1);
}

/* High contrast mode */
.high-contrast {
  --background: 0 0% 0%;
  --foreground: 0 0% 100%;
  --card: 0 0% 0%;
  --card-foreground: 0 0% 100%;
  --popover: 0 0% 0%;
  --popover-foreground: 0 0% 100%;
  --primary: 0 0% 100%;
  --primary-foreground: 0 0% 0%;
  --secondary: 0 0% 20%;
  --secondary-foreground: 0 0% 100%;
  --muted: 0 0% 20%;
  --muted-foreground: 0 0% 80%;
  --accent: 0 0% 20%;
  --accent-foreground: 0 0% 100%;
  --border: 0 0% 100%;
  --input: 0 0% 0%;
  --ring: 0 0% 100%;
}

.high-contrast .border-border {
  border-color: hsl(var(--border));
}

.high-contrast button {
  border: 2px solid hsl(var(--foreground));
}

.high-contrast input,
.high-contrast select,
.high-contrast textarea {
  border: 2px solid hsl(var(--foreground));
  background: hsl(var(--background));
  color: hsl(var(--foreground));
}

/* Reduced motion */
.reduced-motion * {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

.reduced-motion .flip-card-inner {
  transition: none !important;
}

.reduced-motion .card-hover-lift {
  transition: none !important;
}

.reduced-motion .card-appear {
  animation: none !important;
}

.reduced-motion .mobile-animation {
  animation-duration: 0.01ms !important;
}

/* Large text */
.large-text {
  font-size: 125% !important;
}

.large-text .text-xs {
  font-size: 0.875rem !important;
}

.large-text .text-sm {
  font-size: 1rem !important;
}

.large-text .text-base {
  font-size: 1.125rem !important;
}

.large-text .text-lg {
  font-size: 1.25rem !important;
}

.large-text .text-xl {
  font-size: 1.5rem !important;
}

.large-text .text-2xl {
  font-size: 1.875rem !important;
}

.large-text .text-3xl {
  font-size: 2.25rem !important;
}

.large-text button {
  font-size: 1rem !important;
  padding: 0.75rem 1.5rem !important;
}

.large-text input,
.large-text select,
.large-text textarea {
  font-size: 1rem !important;
  padding: 0.75rem !important;
}

/* Color blind support */
.color-blind {
  /* Deuteranopia (red-green) friendly colors */
  --color-blind-primary: #0077be;
  --color-blind-secondary: #ff6b35;
  --color-blind-success: #28a745;
  --color-blind-warning: #ffc107;
  --color-blind-error: #dc3545;
  --color-blind-info: #17a2b8;
}

.color-blind .bg-primary {
  background-color: var(--color-blind-primary) !important;
}

.color-blind .text-primary {
  color: var(--color-blind-primary) !important;
}

.color-blind .border-primary {
  border-color: var(--color-blind-primary) !important;
}

.color-blind .ring-primary {
  --tw-ring-color: var(--color-blind-primary) !important;
}

/* Keyboard only mode */
.keyboard-only .hover\:opacity-100:hover {
  opacity: 1 !important;
}

.keyboard-only .group:hover .group-hover\:opacity-100 {
  opacity: 1 !important;
}

.keyboard-only .group:hover .group-hover\:scale-105 {
  transform: scale(1.05) !important;
}

/* Skip to main content link */
.skip-to-content {
  position: absolute;
  top: -40px;
  left: 0;
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  padding: 8px;
  text-decoration: none;
  border-radius: 0 0 4px 0;
  z-index: 100;
}

.skip-to-content:focus {
  top: 0;
}

/* Focus indicators */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
}

.focus-ring-inset {
  @apply focus:outline-none focus:ring-2 focus:ring-ring focus:ring-inset;
}

/* Enhanced focus for better visibility */
.focus-visible-enhanced {
  outline: 3px solid hsl(var(--primary));
  outline-offset: 2px;
  box-shadow: 0 0 0 6px hsl(var(--primary) / 0.2);
}

/* Visually hidden but accessible to screen readers */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Accessible color combinations */
.text-accessible {
  color: hsl(var(--foreground));
}

.bg-accessible {
  background-color: hsl(var(--background));
}

.border-accessible {
  border-color: hsl(var(--border));
}

/* Accessible form controls */
.accessible-input {
  @apply w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
}

.accessible-input:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.accessible-input[aria-invalid="true"] {
  @apply border-destructive focus:ring-destructive;
}

/* Accessible buttons */
.accessible-button {
  @apply px-4 py-2 bg-primary text-primary-foreground rounded-md font-medium focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors;
}

.accessible-button:active {
  @apply transform scale-95;
}

/* Accessible links */
.accessible-link {
  @apply text-primary hover:text-primary/80 underline focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 rounded;
}

.accessible-link:visited {
  @apply text-purple-600 hover:text-purple-700;
}

/* Accessible tables */
.accessible-table {
  @apply w-full border-collapse;
}

.accessible-table th,
.accessible-table td {
  @apply border border-border px-4 py-2 text-left;
}

.accessible-table th {
  @apply bg-muted font-semibold;
}

.accessible-table tr:hover {
  @apply bg-muted/50;
}

/* Accessible lists */
.accessible-list {
  @apply list-disc list-inside space-y-1;
}

.accessible-list-ordered {
  @apply list-decimal list-inside space-y-1;
}

/* Accessible alerts */
.accessible-alert {
  @apply p-4 rounded-lg border-l-4 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
}

.accessible-alert-info {
  @apply bg-blue-50 border-blue-400 text-blue-800 dark:bg-blue-950 dark:border-blue-600 dark:text-blue-200;
}

.accessible-alert-success {
  @apply bg-green-50 border-green-400 text-green-800 dark:bg-green-950 dark:border-green-600 dark:text-green-200;
}

.accessible-alert-warning {
  @apply bg-yellow-50 border-yellow-400 text-yellow-800 dark:bg-yellow-950 dark:border-yellow-600 dark:text-yellow-200;
}

.accessible-alert-error {
  @apply bg-red-50 border-red-400 text-red-800 dark:bg-red-950 dark:border-red-600 dark:text-red-200;
}

/* Accessible modal backdrop */
.accessible-modal-backdrop {
  @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50;
}

/* Accessible modal content */
.accessible-modal-content {
  @apply relative bg-background border border-border rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto;
}

/* Accessible dialog attributes */
[role="dialog"] {
  @apply outline-none;
}

[role="dialog"][aria-modal="true"] {
  @apply z-50;
}

/* Accessible landmarks */
[role="banner"] {
  @apply bg-background border-b border-border;
}

[role="navigation"] {
  @apply bg-background;
}

[role="main"] {
  @apply flex-1;
}

[role="contentinfo"] {
  @apply bg-background border-t border-border;
}

[role="complementary"] {
  @apply bg-background border-l border-border;
}

/* Accessible form labels */
.accessible-label {
  @apply block text-sm font-medium text-foreground mb-1;
}

.accessible-label-required::after {
  content: " *";
  @apply text-destructive;
}

/* Accessible form fieldsets */
.accessible-fieldset {
  @apply border border-border rounded-lg p-4 space-y-4;
}

.accessible-legend {
  @apply text-sm font-medium text-foreground px-2;
}

/* Accessible error messages */
.accessible-error {
  @apply text-sm text-destructive mt-1;
}

.accessible-error[role="alert"] {
  @apply bg-destructive/10 border border-destructive/20 rounded p-2;
}

/* Accessible success messages */
.accessible-success {
  @apply text-sm text-green-600 dark:text-green-400 mt-1;
}

.accessible-success[role="alert"] {
  @apply bg-green-50 border border-green-200 rounded p-2 dark:bg-green-950 dark:border-green-800;
}

/* Accessible loading indicators */
.accessible-loading {
  @apply inline-flex items-center space-x-2;
}

.accessible-loading[aria-busy="true"]::before {
  content: "";
  @apply w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin;
}

/* Accessible progress bars */
.accessible-progress {
  @apply w-full bg-muted rounded-full overflow-hidden;
}

.accessible-progress-bar {
  @apply h-full bg-primary transition-all duration-300 ease-out rounded-full;
}

/* Accessible tooltips */
.accessible-tooltip {
  @apply absolute z-50 px-3 py-2 text-sm bg-popover border border-border rounded-md shadow-md;
}

.accessible-tooltip[role="tooltip"] {
  @apply animate-in fade-in-50 zoom-in-90;
}

/* Accessible skip links */
.accessible-skip-link {
  @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary text-primary-foreground px-4 py-2 rounded-md text-sm font-medium z-50;
}

/* Print accessibility styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  .print-only {
    display: block !important;
  }
  
  * {
    background: white !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  a,
  a:visited {
    text-decoration: underline;
    color: black !important;
  }
  
  a[href]:after {
    content: " (" attr(href) ")";
    font-size: 90%;
  }
  
  a[href^="#"]:after,
  a[href^="javascript:"]:after {
    content: "";
  }
  
  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid;
  }
  
  thead {
    display: table-header-group;
  }
  
  tr,
  img {
    page-break-inside: avoid;
  }
  
  img {
    max-width: 100% !important;
  }
  
  @page {
    margin: 1cm;
  }
  
  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3;
  }
  
  h2,
  h3 {
    page-break-after: avoid;
  }
}

/* High contrast print styles */
@media print and (prefers-contrast: high) {
  * {
    border: 1px solid black !important;
  }
  
  a,
  a:visited {
    border-bottom: 2px solid black !important;
  }
}

/* Reduced motion print styles */
@media print and (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important;
  }
}