924361078e40888b184135377f1e3589
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useRegisteredDropTarget = useRegisteredDropTarget;
const index_js_1 = require("../../internals/index.js");
const useDragDropManager_js_1 = require("../useDragDropManager.js");
const useIsomorphicLayoutEffect_js_1 = require("../useIsomorphicLayoutEffect.js");
const useAccept_js_1 = require("./useAccept.js");
const useDropTarget_js_1 = require("./useDropTarget.js");
function useRegisteredDropTarget(spec, monitor, connector) {
    const manager = (0, useDragDropManager_js_1.useDragDropManager)();
    const dropTarget = (0, useDropTarget_js_1.useDropTarget)(spec, monitor);
    const accept = (0, useAccept_js_1.useAccept)(spec);
    (0, useIsomorphicLayoutEffect_js_1.useIsomorphicLayoutEffect)(function registerDropTarget() {
        const [handlerId, unregister] = (0, index_js_1.registerTarget)(accept, dropTarget, manager);
        monitor.receiveHandlerId(handlerId);
        connector.receiveHandlerId(handlerId);
        return unregister;
    }, [
        manager,
        monitor,
        dropTarget,
        connector,
        accept.map((a) => a.toString()).join('|'),
    ]);
}
//# sourceMappingURL=useRegisteredDropTarget.js.map
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXG5vZGVfbW9kdWxlc1xccmVhY3QtZG5kXFxkaXN0XFxob29rc1xcdXNlRHJvcFxcdXNlUmVnaXN0ZXJlZERyb3BUYXJnZXQuanMiLCJtYXBwaW5ncyI6Ijs7QUFLQSwwREFpQkM7QUF0QkQsdURBQTBEO0FBQzFELG9FQUE4RDtBQUM5RCxrRkFBNEU7QUFDNUUsaURBQTJDO0FBQzNDLHlEQUFtRDtBQUNuRCxTQUFnQix1QkFBdUIsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLFNBQVM7SUFDNUQsTUFBTSxPQUFPLEdBQUcsSUFBQSwwQ0FBa0IsR0FBRSxDQUFDO0lBQ3JDLE1BQU0sVUFBVSxHQUFHLElBQUEsZ0NBQWEsRUFBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDaEQsTUFBTSxNQUFNLEdBQUcsSUFBQSx3QkFBUyxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQy9CLElBQUEsd0RBQXlCLEVBQUMsU0FBUyxrQkFBa0I7UUFDakQsTUFBTSxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsR0FBRyxJQUFBLHlCQUFjLEVBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUM1RSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDcEMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sVUFBVSxDQUFDO0lBQ3RCLENBQUMsRUFBRTtRQUNDLE9BQU87UUFDUCxPQUFPO1FBQ1AsVUFBVTtRQUNWLFNBQVM7UUFDVCxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQzNCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztLQUNkLENBQUMsQ0FBQztBQUNQLENBQUM7QUFFRCxtREFBbUQiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXG5vZGVfbW9kdWxlc1xccmVhY3QtZG5kXFxkaXN0XFxob29rc1xcdXNlRHJvcFxcdXNlUmVnaXN0ZXJlZERyb3BUYXJnZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVnaXN0ZXJUYXJnZXQgfSBmcm9tICcuLi8uLi9pbnRlcm5hbHMvaW5kZXguanMnO1xuaW1wb3J0IHsgdXNlRHJhZ0Ryb3BNYW5hZ2VyIH0gZnJvbSAnLi4vdXNlRHJhZ0Ryb3BNYW5hZ2VyLmpzJztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LmpzJztcbmltcG9ydCB7IHVzZUFjY2VwdCB9IGZyb20gJy4vdXNlQWNjZXB0LmpzJztcbmltcG9ydCB7IHVzZURyb3BUYXJnZXQgfSBmcm9tICcuL3VzZURyb3BUYXJnZXQuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVJlZ2lzdGVyZWREcm9wVGFyZ2V0KHNwZWMsIG1vbml0b3IsIGNvbm5lY3Rvcikge1xuICAgIGNvbnN0IG1hbmFnZXIgPSB1c2VEcmFnRHJvcE1hbmFnZXIoKTtcbiAgICBjb25zdCBkcm9wVGFyZ2V0ID0gdXNlRHJvcFRhcmdldChzcGVjLCBtb25pdG9yKTtcbiAgICBjb25zdCBhY2NlcHQgPSB1c2VBY2NlcHQoc3BlYyk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiByZWdpc3RlckRyb3BUYXJnZXQoKSB7XG4gICAgICAgIGNvbnN0IFtoYW5kbGVySWQsIHVucmVnaXN0ZXJdID0gcmVnaXN0ZXJUYXJnZXQoYWNjZXB0LCBkcm9wVGFyZ2V0LCBtYW5hZ2VyKTtcbiAgICAgICAgbW9uaXRvci5yZWNlaXZlSGFuZGxlcklkKGhhbmRsZXJJZCk7XG4gICAgICAgIGNvbm5lY3Rvci5yZWNlaXZlSGFuZGxlcklkKGhhbmRsZXJJZCk7XG4gICAgICAgIHJldHVybiB1bnJlZ2lzdGVyO1xuICAgIH0sIFtcbiAgICAgICAgbWFuYWdlcixcbiAgICAgICAgbW9uaXRvcixcbiAgICAgICAgZHJvcFRhcmdldCxcbiAgICAgICAgY29ubmVjdG9yLFxuICAgICAgICBhY2NlcHQubWFwKChhKT0+YS50b1N0cmluZygpXG4gICAgICAgICkuam9pbignfCcpLCBcbiAgICBdKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlUmVnaXN0ZXJlZERyb3BUYXJnZXQuanMubWFwIl0sInZlcnNpb24iOjN9