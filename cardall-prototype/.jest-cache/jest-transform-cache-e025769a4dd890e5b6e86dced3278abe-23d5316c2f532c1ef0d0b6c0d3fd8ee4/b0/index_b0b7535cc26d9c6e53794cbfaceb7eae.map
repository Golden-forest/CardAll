{"file":"D:\\Projects\\CardEverything\\cardall-prototype\\node_modules\\@jest\\environment-jsdom-abstract\\build\\index.js","mappings":"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","names":[],"sources":["D:\\Projects\\CardEverything\\cardall-prototype\\node_modules\\@jest\\environment-jsdom-abstract\\build\\index.js"],"sourcesContent":["/*!\n * /**\n *  * Copyright (c) Meta Platforms, Inc. and affiliates.\n *  *\n *  * This source code is licensed under the MIT license found in the\n *  * LICENSE file in the root directory of this source tree.\n *  * /\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\nvar __webpack_exports__ = {};\n// This entry needs to be wrapped in an IIFE because it uses a non-standard name for the exports (exports).\n(() => {\nvar exports = __webpack_exports__;\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nfunction _fakeTimers() {\n  const data = require(\"@jest/fake-timers\");\n  _fakeTimers = function () {\n    return data;\n  };\n  return data;\n}\nfunction _jestMock() {\n  const data = require(\"jest-mock\");\n  _jestMock = function () {\n    return data;\n  };\n  return data;\n}\nfunction _jestUtil() {\n  const data = require(\"jest-util\");\n  _jestUtil = function () {\n    return data;\n  };\n  return data;\n}\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// The `Window` interface does not have an `Error.stackTraceLimit` property, but\n// `JSDOMEnvironment` assumes it is there.\n\nfunction isString(value) {\n  return typeof value === 'string';\n}\nclass BaseJSDOMEnvironment {\n  dom;\n  fakeTimers;\n  fakeTimersModern;\n  global;\n  errorEventListener;\n  moduleMocker;\n  customExportConditions = ['browser'];\n  _configuredExportConditions;\n  constructor(config, context, jsdomModule) {\n    const {\n      projectConfig\n    } = config;\n    const {\n      JSDOM,\n      ResourceLoader,\n      VirtualConsole\n    } = jsdomModule;\n    const virtualConsole = new VirtualConsole();\n    virtualConsole.sendTo(context.console, {\n      omitJSDOMErrors: true\n    });\n    virtualConsole.on('jsdomError', error => {\n      context.console.error(error);\n    });\n    this.dom = new JSDOM(typeof projectConfig.testEnvironmentOptions.html === 'string' ? projectConfig.testEnvironmentOptions.html : '<!DOCTYPE html>', {\n      pretendToBeVisual: true,\n      resources: typeof projectConfig.testEnvironmentOptions.userAgent === 'string' ? new ResourceLoader({\n        userAgent: projectConfig.testEnvironmentOptions.userAgent\n      }) : undefined,\n      runScripts: 'dangerously',\n      url: 'http://localhost/',\n      virtualConsole,\n      ...projectConfig.testEnvironmentOptions\n    });\n    const global = this.global = this.dom.window;\n    if (global == null) {\n      throw new Error('JSDOM did not return a Window object');\n    }\n\n    // TODO: remove at some point - for \"universal\" code (code should use `globalThis`)\n    global.global = global;\n\n    // Node's error-message stack size is limited at 10, but it's pretty useful\n    // to see more than that when a test fails.\n    this.global.Error.stackTraceLimit = 100;\n    (0, _jestUtil().installCommonGlobals)(global, projectConfig.globals);\n\n    // TODO: remove this ASAP, but it currently causes tests to run really slow\n    global.Buffer = Buffer;\n\n    // Report uncaught errors.\n    this.errorEventListener = event => {\n      if (userErrorListenerCount === 0 && event.error != null) {\n        process.emit('uncaughtException', event.error);\n      }\n    };\n    global.addEventListener('error', this.errorEventListener);\n\n    // However, don't report them as uncaught if the user listens to 'error' event.\n    // In that case, we assume the might have custom error handling logic.\n    const originalAddListener = global.addEventListener.bind(global);\n    const originalRemoveListener = global.removeEventListener.bind(global);\n    let userErrorListenerCount = 0;\n    global.addEventListener = function (...args) {\n      if (args[0] === 'error') {\n        userErrorListenerCount++;\n      }\n      return originalAddListener.apply(this, args);\n    };\n    global.removeEventListener = function (...args) {\n      if (args[0] === 'error') {\n        userErrorListenerCount--;\n      }\n      return originalRemoveListener.apply(this, args);\n    };\n    if ('customExportConditions' in projectConfig.testEnvironmentOptions) {\n      const {\n        customExportConditions\n      } = projectConfig.testEnvironmentOptions;\n      if (Array.isArray(customExportConditions) && customExportConditions.every(isString)) {\n        this._configuredExportConditions = customExportConditions;\n      } else {\n        throw new Error('Custom export conditions specified but they are not an array of strings');\n      }\n    }\n    this.moduleMocker = new (_jestMock().ModuleMocker)(global);\n    this.fakeTimers = new (_fakeTimers().LegacyFakeTimers)({\n      config: projectConfig,\n      global: global,\n      moduleMocker: this.moduleMocker,\n      timerConfig: {\n        idToRef: id => id,\n        refToId: ref => ref\n      }\n    });\n    this.fakeTimersModern = new (_fakeTimers().ModernFakeTimers)({\n      config: projectConfig,\n      global: global\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  async setup() {}\n  async teardown() {\n    if (this.fakeTimers) {\n      this.fakeTimers.dispose();\n    }\n    if (this.fakeTimersModern) {\n      this.fakeTimersModern.dispose();\n    }\n    if (this.global != null) {\n      if (this.errorEventListener) {\n        this.global.removeEventListener('error', this.errorEventListener);\n      }\n      this.global.close();\n    }\n    this.errorEventListener = null;\n    // @ts-expect-error: this.global not allowed to be `null`\n    this.global = null;\n    this.dom = null;\n    this.fakeTimers = null;\n    this.fakeTimersModern = null;\n  }\n  exportConditions() {\n    return this._configuredExportConditions ?? this.customExportConditions;\n  }\n  getVmContext() {\n    if (this.dom) {\n      return this.dom.getInternalVMContext();\n    }\n    return null;\n  }\n}\nexports[\"default\"] = BaseJSDOMEnvironment;\n})();\n\nmodule.exports = __webpack_exports__;\n/******/ })()\n;"],"version":3}