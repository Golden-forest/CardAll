bb0c149bed91e18177cbff41399cec1f
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// 模拟所有服务
jest.mock('@/services/local-operation');
jest.mock('@/services/network-monitor');
jest.mock('@/services/sync-strategy');
jest.mock('@/services/sync-performance');
const sync_integration_1 = require("@/services/sync-integration");
const local_operation_1 = require("@/services/local-operation");
const network_monitor_1 = require("@/services/network-monitor");
const sync_strategy_1 = require("@/services/sync-strategy");
const sync_performance_1 = require("@/services/sync-performance");
describe('SyncIntegrationService', () => {
    let service;
    let mockLocalOperation;
    let mockNetworkMonitor;
    let mockSyncStrategy;
    let mockPerformanceOptimizer;
    beforeEach(() => {
        jest.clearAllMocks();
        // 创建模拟实例
        mockLocalOperation = new local_operation_1.LocalOperationService();
        mockNetworkMonitor = new network_monitor_1.NetworkMonitorService();
        mockSyncStrategy = new sync_strategy_1.SyncStrategyService();
        mockPerformanceOptimizer = new sync_performance_1.SyncPerformanceOptimizer();
        service = new sync_integration_1.SyncIntegrationService();
    });
    describe('初始化', () => {
        it('应该正确初始化集成服务', async () => {
            mockLocalOperation.initialize.mockResolvedValue(undefined);
            mockNetworkMonitor.initialize.mockResolvedValue(undefined);
            mockSyncStrategy.initialize.mockResolvedValue(undefined);
            mockPerformanceOptimizer.initialize.mockResolvedValue(undefined);
            await service.initialize();
            expect(mockLocalOperation.initialize).toHaveBeenCalled();
            expect(mockNetworkMonitor.initialize).toHaveBeenCalled();
            expect(mockSyncStrategy.initialize).toHaveBeenCalled();
            expect(mockPerformanceOptimizer.initialize).toHaveBeenCalled();
        });
        it('应该处理初始化失败', async () => {
            mockLocalOperation.initialize.mockRejectedValue(new Error('Local operation init failed'));
            await expect(service.initialize()).rejects.toThrow('Local operation init failed');
        });
        it('应该等待所有组件准备就绪', async () => {
            mockLocalOperation.initialize.mockResolvedValue(undefined);
            mockNetworkMonitor.initialize.mockResolvedValue(undefined);
            mockSyncStrategy.initialize.mockResolvedValue(undefined);
            mockPerformanceOptimizer.initialize.mockResolvedValue(undefined);
            await service.initialize();
            const status = service.getSystemStatus();
            expect(status.componentsReady.localQueue).toBe(true);
            expect(status.componentsReady.networkMonitor).toBe(true);
            expect(status.componentsReady.syncStrategy).toBe(true);
            expect(status.componentsReady.performanceOptimizer).toBe(true);
            expect(status.isInitialized).toBe(true);
        });
    });
    describe('同步触发', () => {
        beforeEach(async () => {
            // 初始化服务
            mockLocalOperation.initialize.mockResolvedValue(undefined);
            mockNetworkMonitor.initialize.mockResolvedValue(undefined);
            mockSyncStrategy.initialize.mockResolvedValue(undefined);
            mockPerformanceOptimizer.initialize.mockResolvedValue(undefined);
            await service.initialize();
        });
        it('应该触发增量同步', async () => {
            const userId = 'user-123';
            const lastSyncTime = new Date(Date.now() - 86400000);
            mockNetworkMonitor.getCurrentState.mockReturnValue({
                isOnline: true,
                connectionType: '4g',
                quality: { level: 'excellent', score: 90, stability: 0.95 }
            });
            mockSyncStrategy.performIncrementalSync.mockResolvedValue({
                total: 10,
                processed: 10,
                downloaded: 7,
                uploaded: 3,
                conflicts: 0,
                isComplete: true,
                isSuccessful: true,
                startTime: new Date(),
                endTime: new Date(),
                duration: 5000
            });
            await service.triggerSync({ forceFullSync: false });
            expect(mockSyncStrategy.performIncrementalSync).toHaveBeenCalledWith(userId, expect.any(Date));
        });
        it('应该触发完整同步', async () => {
            const userId = 'user-123';
            mockNetworkMonitor.getCurrentState.mockReturnValue({
                isOnline: true,
                connectionType: '4g',
                quality: { level: 'excellent', score: 90, stability: 0.95 }
            });
            mockSyncStrategy.performFullSync.mockResolvedValue({
                total: 50,
                processed: 50,
                downloaded: 30,
                uploaded: 20,
                conflicts: 2,
                isComplete: true,
                isSuccessful: true,
                startTime: new Date(),
                endTime: new Date(),
                duration: 15000
            });
            await service.triggerSync({ forceFullSync: true });
            expect(mockSyncStrategy.performFullSync).toHaveBeenCalledWith(userId);
        });
        it('应该在网络离线时跳过同步', async () => {
            mockNetworkMonitor.getCurrentState.mockReturnValue({
                isOnline: false,
                connectionType: 'none',
                quality: { level: 'offline', score: 0, stability: 0 }
            });
            await service.triggerSync();
            expect(mockSyncStrategy.performIncrementalSync).not.toHaveBeenCalled();
        });
        it('应该在网络质量差时调整同步策略', async () => {
            const userId = 'user-123';
            mockNetworkMonitor.getCurrentState.mockReturnValue({
                isOnline: true,
                connectionType: '2g',
                quality: { level: 'poor', score: 30, stability: 0.5 }
            });
            mockNetworkMonitor.getSyncRecommendations.mockReturnValue({
                batchSize: 5,
                maxConcurrentOperations: 1,
                enableBackgroundSync: false,
                enableCompression: true,
                recommendedSyncType: 'incremental'
            });
            mockSyncStrategy.performIncrementalSync.mockResolvedValue({
                total: 5,
                processed: 5,
                downloaded: 3,
                uploaded: 2,
                conflicts: 0,
                isComplete: true,
                isSuccessful: true,
                startTime: new Date(),
                endTime: new Date(),
                duration: 8000
            });
            await service.triggerSync();
            expect(mockSyncStrategy.performIncrementalSync).toHaveBeenCalled();
        });
        it('应该处理同步过程中的错误', async () => {
            const userId = 'user-123';
            mockNetworkMonitor.getCurrentState.mockReturnValue({
                isOnline: true,
                connectionType: '4g',
                quality: { level: 'excellent', score: 90, stability: 0.95 }
            });
            mockSyncStrategy.performIncrementalSync.mockRejectedValue(new Error('Sync failed'));
            await expect(service.triggerSync()).rejects.toThrow('Sync failed');
        });
    });
    describe('操作管理', () => {
        beforeEach(async () => {
            mockLocalOperation.initialize.mockResolvedValue(undefined);
            mockNetworkMonitor.initialize.mockResolvedValue(undefined);
            mockSyncStrategy.initialize.mockResolvedValue(undefined);
            mockPerformanceOptimizer.initialize.mockResolvedValue(undefined);
            await service.initialize();
        });
        it('应该添加同步操作', async () => {
            const operation = {
                type: 'create',
                table: 'cards',
                data: { frontContent: 'test', backContent: 'answer' },
                localId: 'card-1'
            };
            mockLocalOperation.addOperation.mockResolvedValue('op-123');
            const operationId = await service.addSyncOperation(operation);
            expect(mockLocalOperation.addOperation).toHaveBeenCalledWith(operation);
            expect(operationId).toBe('op-123');
        });
        it('应该获取队列状态', async () => {
            const mockStats = {
                totalOperations: 5,
                byType: { create: 2, update: 3 },
                byStatus: { pending: 3, processing: 1, completed: 1 },
                averageRetryCount: 0.5
            };
            mockLocalOperation.getQueueStats.mockResolvedValue(mockStats);
            const stats = await service.getQueueStatus();
            expect(stats).toBe(mockStats);
        });
        it('应该清空同步队列', async () => {
            await service.clearSyncQueue();
            expect(mockLocalOperation.clearQueue).toHaveBeenCalled();
        });
    });
    describe('网络状态管理', () => {
        beforeEach(async () => {
            mockLocalOperation.initialize.mockResolvedValue(undefined);
            mockNetworkMonitor.initialize.mockResolvedValue(undefined);
            mockSyncStrategy.initialize.mockResolvedValue(undefined);
            mockPerformanceOptimizer.initialize.mockResolvedValue(undefined);
            await service.initialize();
        });
        it('应该监听网络状态变化', () => {
            const mockListener = jest.fn();
            service.onNetworkChange(mockListener);
            // 模拟网络状态变化
            const networkEvent = {
                type: 'status_change',
                isOnline: false,
                connectionType: 'none',
                timestamp: new Date(),
                quality: { level: 'offline', score: 0, stability: 0 }
            };
            // 触发网络状态变化回调
            service['handleNetworkChange'](networkEvent);
            expect(mockListener).toHaveBeenCalledWith(networkEvent);
        });
        it('应该在网络恢复时自动触发同步', async () => {
            const userId = 'user-123';
            mockNetworkMonitor.getCurrentState.mockReturnValue({
                isOnline: true,
                connectionType: '4g',
                quality: { level: 'excellent', score: 90, stability: 0.95 }
            });
            mockSyncStrategy.performIncrementalSync.mockResolvedValue({
                total: 10,
                processed: 10,
                downloaded: 7,
                uploaded: 3,
                conflicts: 0,
                isComplete: true,
                isSuccessful: true,
                startTime: new Date(),
                endTime: new Date(),
                duration: 5000
            });
            // 模拟网络恢复事件
            const networkEvent = {
                type: 'status_change',
                isOnline: true,
                connectionType: '4g',
                timestamp: new Date(),
                quality: { level: 'excellent', score: 90, stability: 0.95 }
            };
            await service['handleNetworkChange'](networkEvent);
            expect(mockSyncStrategy.performIncrementalSync).toHaveBeenCalled();
        });
    });
    describe('性能优化集成', () => {
        beforeEach(async () => {
            mockLocalOperation.initialize.mockResolvedValue(undefined);
            mockNetworkMonitor.initialize.mockResolvedValue(undefined);
            mockSyncStrategy.initialize.mockResolvedValue(undefined);
            mockPerformanceOptimizer.initialize.mockResolvedValue(undefined);
            await service.initialize();
        });
        it('应该使用性能优化器执行操作', async () => {
            const mockOperation = {
                id: 'op-1',
                type: 'create',
                table: 'cards',
                data: { frontContent: 'test' },
                localId: 'card-1',
                timestamp: new Date().toISOString(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal'
            };
            mockLocalOperation.getPendingOperations.mockResolvedValue([mockOperation]);
            mockPerformanceOptimizer.executeOptimizedOperation.mockResolvedValue({
                success: true,
                operationId: 'op-1',
                latency: 100
            });
            await service['processOptimizedQueue']();
            expect(mockPerformanceOptimizer.executeOptimizedOperation).toHaveBeenCalledWith(mockOperation, expect.any(Function));
        });
        it('应该根据网络质量调整性能参数', async () => {
            mockNetworkMonitor.getCurrentState.mockReturnValue({
                isOnline: true,
                connectionType: '2g',
                quality: { level: 'poor', score: 30, stability: 0.5 }
            });
            mockNetworkMonitor.getSyncRecommendations.mockReturnValue({
                batchSize: 5,
                maxConcurrentOperations: 1,
                enableBackgroundSync: false,
                enableCompression: true,
                recommendedSyncType: 'incremental'
            });
            await service['adaptToNetworkConditions']();
            expect(mockPerformanceOptimizer.updateConfig).toHaveBeenCalledWith(expect.objectContaining({
                throttle: expect.objectContaining({
                    maxConcurrentOperations: 1
                })
            }));
        });
    });
    describe('健康检查', () => {
        beforeEach(async () => {
            mockLocalOperation.initialize.mockResolvedValue(undefined);
            mockNetworkMonitor.initialize.mockResolvedValue(undefined);
            mockSyncStrategy.initialize.mockResolvedValue(undefined);
            mockPerformanceOptimizer.initialize.mockResolvedValue(undefined);
            await service.initialize();
        });
        it('应该执行系统健康检查', async () => {
            mockLocalOperation.getQueueStats.mockResolvedValue({
                totalOperations: 0,
                byType: {},
                byStatus: {},
                averageRetryCount: 0
            });
            mockNetworkMonitor.getCurrentState.mockReturnValue({
                isOnline: true,
                connectionType: '4g',
                quality: { level: 'excellent', score: 90, stability: 0.95 }
            });
            mockSyncStrategy.getSyncStats.mockResolvedValue({
                totalSyncs: 10,
                successfulSyncs: 9,
                failedSyncs: 1,
                successRate: 90
            });
            mockPerformanceOptimizer.getCurrentMetrics.mockReturnValue({
                totalOperations: 100,
                successfulOperations: 95,
                failedOperations: 5,
                successRate: 95,
                averageResponseTime: 150
            });
            const health = await service.performHealthCheck();
            expect(health.overallHealth).toBe('good');
            expect(health.components.localQueue.health).toBe('good');
            expect(health.components.networkMonitor.health).toBe('excellent');
            expect(health.components.syncStrategy.health).toBe('good');
            expect(health.components.performanceOptimizer.health).toBe('excellent');
        });
        it('应该检测不健康的组件', async () => {
            mockLocalOperation.getQueueStats.mockResolvedValue({
                totalOperations: 50,
                byType: {},
                byStatus: { failed: 30 },
                averageRetryCount: 5
            });
            const health = await service.performHealthCheck();
            expect(health.components.localQueue.health).toBe('poor');
            expect(health.overallHealth).toBe('warning');
        });
    });
    describe('配置管理', () => {
        it('应该更新系统配置', async () => {
            const newConfig = {
                enableAutoSync: true,
                syncInterval: 300000,
                enableBackgroundSync: true,
                enableCompression: true,
                enableConflictResolution: true,
                enablePerformanceOptimization: true,
                enableNetworkAdaptation: true,
                enableHealthMonitoring: true,
                maxQueueSize: 1000,
                maxRetryCount: 5,
                syncTimeout: 30000
            };
            await service.updateConfig(newConfig);
            expect(service.getSystemConfig()).toMatchObject(newConfig);
        });
        it('应该验证配置参数', () => {
            const invalidConfig = {
                syncInterval: -1000,
                maxQueueSize: -1
            };
            expect(() => service.updateConfig(invalidConfig)).toThrow();
        });
    });
    describe('事件处理', () => {
        beforeEach(async () => {
            mockLocalOperation.initialize.mockResolvedValue(undefined);
            mockNetworkMonitor.initialize.mockResolvedValue(undefined);
            mockSyncStrategy.initialize.mockResolvedValue(undefined);
            mockPerformanceOptimizer.initialize.mockResolvedValue(undefined);
            await service.initialize();
        });
        it('应该能够添加和移除系统事件监听器', () => {
            const mockListener = jest.fn();
            const unsubscribe = service.onSystemEvent(mockListener);
            expect(typeof unsubscribe).toBe('function');
            // 触发事件
            const event = {
                type: 'sync_started',
                timestamp: new Date(),
                data: { syncType: 'incremental' }
            };
            service['notifySystemEvent'](event);
            expect(mockListener).toHaveBeenCalledWith(event);
            // 移除监听器
            unsubscribe();
            service['notifySystemEvent'](event);
            expect(mockListener).toHaveBeenCalledTimes(1);
        });
        it('应该正确通知所有监听器', () => {
            const mockListener1 = jest.fn();
            const mockListener2 = jest.fn();
            service.onSystemEvent(mockListener1);
            service.onSystemEvent(mockListener2);
            const event = {
                type: 'sync_completed',
                timestamp: new Date(),
                data: {
                    syncType: 'full',
                    duration: 15000,
                    success: true,
                    downloaded: 30,
                    uploaded: 20,
                    conflicts: 2
                }
            };
            service['notifySystemEvent'](event);
            expect(mockListener1).toHaveBeenCalledWith(event);
            expect(mockListener2).toHaveBeenCalledWith(event);
        });
    });
    describe('定时同步', () => {
        beforeEach(async () => {
            mockLocalOperation.initialize.mockResolvedValue(undefined);
            mockNetworkMonitor.initialize.mockResolvedValue(undefined);
            mockSyncStrategy.initialize.mockResolvedValue(undefined);
            mockPerformanceOptimizer.initialize.mockResolvedValue(undefined);
            await service.initialize();
        });
        it('应该启动定时同步', () => {
            jest.useFakeTimers();
            service.startScheduledSync();
            expect(service.syncTimer).toBeDefined();
            // 清理
            service.stopScheduledSync();
            jest.useRealTimers();
        });
        it('应该停止定时同步', () => {
            jest.useFakeTimers();
            service.startScheduledSync();
            expect(service.syncTimer).toBeDefined();
            service.stopScheduledSync();
            expect(service.syncTimer).toBeNull();
            jest.useRealTimers();
        });
        it('应该按配置的间隔执行同步', async () => {
            jest.useFakeTimers();
            const userId = 'user-123';
            mockNetworkMonitor.getCurrentState.mockReturnValue({
                isOnline: true,
                connectionType: '4g',
                quality: { level: 'excellent', score: 90, stability: 0.95 }
            });
            mockSyncStrategy.performIncrementalSync.mockResolvedValue({
                total: 5,
                processed: 5,
                downloaded: 3,
                uploaded: 2,
                conflicts: 0,
                isComplete: true,
                isSuccessful: true,
                startTime: new Date(),
                endTime: new Date(),
                duration: 3000
            });
            // 设置5分钟间隔
            service.updateConfig({ syncInterval: 300000 });
            service.startScheduledSync();
            // 快进时间
            jest.advanceTimersByTime(300000);
            expect(mockSyncStrategy.performIncrementalSync).toHaveBeenCalled();
            // 清理
            service.stopScheduledSync();
            jest.useRealTimers();
        });
    });
    describe('系统状态', () => {
        beforeEach(async () => {
            mockLocalOperation.initialize.mockResolvedValue(undefined);
            mockNetworkMonitor.initialize.mockResolvedValue(undefined);
            mockSyncStrategy.initialize.mockResolvedValue(undefined);
            mockPerformanceOptimizer.initialize.mockResolvedValue(undefined);
            await service.initialize();
        });
        it('应该提供完整的系统状态', () => {
            const status = service.getSystemStatus();
            expect(status.isInitialized).toBe(true);
            expect(status.componentsReady.localQueue).toBe(true);
            expect(status.componentsReady.networkMonitor).toBe(true);
            expect(status.componentsReady.syncStrategy).toBe(true);
            expect(status.componentsReady.performanceOptimizer).toBe(true);
            expect(status.lastSyncTime).toBeDefined();
            expect(status.currentSyncActivity).toBeDefined();
        });
        it('应该追踪同步活动', () => {
            const activity = service.getCurrentSyncActivity();
            expect(activity.isActive).toBeDefined();
            expect(activity.currentSyncType).toBeDefined();
            expect(activity.startTime).toBeDefined();
            expect(activity.progress).toBeDefined();
        });
    });
    describe('清理和资源管理', () => {
        beforeEach(async () => {
            mockLocalOperation.initialize.mockResolvedValue(undefined);
            mockNetworkMonitor.initialize.mockResolvedValue(undefined);
            mockSyncStrategy.initialize.mockResolvedValue(undefined);
            mockPerformanceOptimizer.initialize.mockResolvedValue(undefined);
            await service.initialize();
        });
        it('应该正确清理资源', () => {
            service.startScheduledSync();
            expect(service.syncTimer).toBeDefined();
            service.cleanup();
            expect(service.syncTimer).toBeNull();
        });
        it('应该在组件销毁时清理事件监听器', () => {
            const mockUnsubscribe = jest.fn();
            service.eventUnsubscribers.push(mockUnsubscribe);
            service.cleanup();
            expect(mockUnsubscribe).toHaveBeenCalled();
        });
    });
    describe('错误处理', () => {
        it('应该处理组件初始化错误', async () => {
            mockLocalOperation.initialize.mockRejectedValue(new Error('Component init failed'));
            await expect(service.initialize()).rejects.toThrow('Component init failed');
            const status = service.getSystemStatus();
            expect(status.isInitialized).toBe(false);
        });
        it('应该处理健康检查中的错误', async () => {
            mockLocalOperation.getQueueStats.mockRejectedValue(new Error('Health check failed'));
            const health = await service.performHealthCheck();
            expect(health.overallHealth).toBe('critical');
            expect(health.components.localQueue.health).toBe('unknown');
            expect(health.components.localQueue.error).toBe('Health check failed');
        });
        it('应该处理同步触发中的异常', async () => {
            const userId = 'user-123';
            mockNetworkMonitor.getCurrentState.mockImplementation(() => {
                throw new Error('Network monitor error');
            });
            await service.triggerSync();
            // 应该优雅地处理错误而不抛出异常
            expect(true).toBe(true);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHRlc3RzXFx1bml0XFxzZXJ2aWNlc1xcc3luYy1pbnRlZ3JhdGlvbi50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBTUEsU0FBUztBQUNULElBQUksQ0FBQyxJQUFJLENBQUMsNEJBQTRCLENBQUMsQ0FBQTtBQUN2QyxJQUFJLENBQUMsSUFBSSxDQUFDLDRCQUE0QixDQUFDLENBQUE7QUFDdkMsSUFBSSxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFBO0FBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FBQTtBQVZ4QyxrRUFBa0k7QUFDbEksZ0VBQWtFO0FBQ2xFLGdFQUFrRTtBQUNsRSw0REFBOEQ7QUFDOUQsa0VBQXNFO0FBUXRFLFFBQVEsQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLEVBQUU7SUFDdEMsSUFBSSxPQUErQixDQUFBO0lBQ25DLElBQUksa0JBQXNELENBQUE7SUFDMUQsSUFBSSxrQkFBc0QsQ0FBQTtJQUMxRCxJQUFJLGdCQUFrRCxDQUFBO0lBQ3RELElBQUksd0JBQStELENBQUE7SUFFbkUsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQTtRQUVwQixTQUFTO1FBQ1Qsa0JBQWtCLEdBQUcsSUFBSSx1Q0FBcUIsRUFBUyxDQUFBO1FBQ3ZELGtCQUFrQixHQUFHLElBQUksdUNBQXFCLEVBQVMsQ0FBQTtRQUN2RCxnQkFBZ0IsR0FBRyxJQUFJLG1DQUFtQixFQUFTLENBQUE7UUFDbkQsd0JBQXdCLEdBQUcsSUFBSSwyQ0FBd0IsRUFBUyxDQUFBO1FBRWhFLE9BQU8sR0FBRyxJQUFJLHlDQUFzQixFQUFFLENBQUE7SUFDeEMsQ0FBQyxDQUFDLENBQUE7SUFFRixRQUFRLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRTtRQUNuQixFQUFFLENBQUMsYUFBYSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzNCLGtCQUFrQixDQUFDLFVB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QTtZQUV6QixrQkFBa0IsQ0FBQyxlQUFlLENBQUMsa0JBQWtCLENBQUMsR0FBRyxFQUFFO2dCQUN6RCxNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUE7WUFDMUMsQ0FBQyxDQUFDLENBQUE7WUFFRixNQUFNLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUUzQixrQkFBa0I7WUFDbEIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUN6QixDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHRlc3RzXFx1bml0XFxzZXJ2aWNlc1xcc3luYy1pbnRlZ3JhdGlvbi50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN5bmNJbnRlZ3JhdGlvblNlcnZpY2UsIHR5cGUgU3luY1N5c3RlbUNvbmZpZywgdHlwZSBTeW5jU3lzdGVtU3RhdHVzLCB0eXBlIFN5bmNFdmVudCB9IGZyb20gJ0Avc2VydmljZXMvc3luYy1pbnRlZ3JhdGlvbidcbmltcG9ydCB7IExvY2FsT3BlcmF0aW9uU2VydmljZSB9IGZyb20gJ0Avc2VydmljZXMvbG9jYWwtb3BlcmF0aW9uJ1xuaW1wb3J0IHsgTmV0d29ya01vbml0b3JTZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9uZXR3b3JrLW1vbml0b3InXG5pbXBvcnQgeyBTeW5jU3RyYXRlZ3lTZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9zeW5jLXN0cmF0ZWd5J1xuaW1wb3J0IHsgU3luY1BlcmZvcm1hbmNlT3B0aW1pemVyIH0gZnJvbSAnQC9zZXJ2aWNlcy9zeW5jLXBlcmZvcm1hbmNlJ1xuXG4vLyDmqKHmi5/miYDmnInmnI3liqFcbmplc3QubW9jaygnQC9zZXJ2aWNlcy9sb2NhbC1vcGVyYXRpb24nKVxuamVzdC5tb2NrKCdAL3NlcnZpY2VzL25ldHdvcmstbW9uaXRvcicpXG5qZXN0Lm1vY2soJ0Avc2VydmljZXMvc3luYy1zdHJhdGVneScpXG5qZXN0Lm1vY2soJ0Avc2VydmljZXMvc3luYy1wZXJmb3JtYW5jZScpXG5cbmRlc2NyaWJlKCdTeW5jSW50ZWdyYXRpb25TZXJ2aWNlJywgKCkgPT4ge1xuICBsZXQgc2VydmljZTogU3luY0ludGVncmF0aW9uU2VydmljZVxuICBsZXQgbW9ja0xvY2FsT3BlcmF0aW9uOiBqZXN0Lk1vY2tlZDxMb2NhbE9wZXJhdGlvblNlcnZpY2U+XG4gIGxldCBtb2NrTmV0d29ya01vbml0b3I6IGplc3QuTW9ja2VkPE5ldHdvcmtNb25pdG9yU2VydmljZT5cbiAgbGV0IG1vY2tTeW5jU3RyYXRlZ3k6IGplc3QuTW9ja2VkPFN5bmNTdHJhdGVneVNlcnZpY2U+XG4gIGxldCBtb2NrUGVyZm9ybWFuY2VPcHRpbWl6ZXI6IGplc3QuTW9ja2VkPFN5bmNQZXJmb3JtYW5jZU9wdGltaXplcj5cblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICAgIFxuICAgIC8vIOWIm+W7uuaooeaLn+WunuS+i1xuICAgIG1vY2tMb2NhbE9wZXJhdGlvbiA9IG5ldyBMb2NhbE9wZXJhdGlvblNlcnZpY2UoKSBhcyBhbnlcbiAgICBtb2NrTmV0d29ya01vbml0b3IgPSBuZXcgTmV0d29ya01vbml0b3JTZXJ2aWNlKCkgYXMgYW55XG4gICAgbW9ja1N5bmNTdHJhdGVneSA9IG5ldyBTeW5jU3RyYXRlZ3lTZXJ2aWNlKCkgYXMgYW55XG4gICAgbW9ja1BlcmZvcm1hbmNlT3B0aW1pemVyID0gbmV3IFN5bmNQZXJmb3JtYW5jZU9wdGltaXplcigpIGFzIGFueVxuXG4gICAgc2VydmljZSA9IG5ldyBTeW5jSW50ZWdyYXRpb25TZXJ2aWNlKClcbiAgfSlcblxuICBkZXNjcmliZSgn5Yid5aeL5YyWJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmraPnoa7liJ3lp4vljJbpm4bmiJDmnI3liqEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrTG9jYWxPcGVyYXRpb24uaW5pdGlhbGl6ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gICAgICBtb2NrTmV0d29ya01vbml0b3IuaW5pdGlhbGl6ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gICAgICBtb2NrU3luY1N0cmF0ZWd5LmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja1BlcmZvcm1hbmNlT3B0aW1pemVyLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuXG4gICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKVxuXG4gICAgICBleHBlY3QobW9ja0xvY2FsT3BlcmF0aW9uLmluaXRpYWxpemUpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgICAgZXhwZWN0KG1vY2tOZXR3b3JrTW9uaXRvci5pbml0aWFsaXplKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICAgIGV4cGVjdChtb2NrU3luY1N0cmF0ZWd5LmluaXRpYWxpemUpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgICAgZXhwZWN0KG1vY2tQZXJmb3JtYW5jZU9wdGltaXplci5pbml0aWFsaXplKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeWkhOeQhuWIneWni+WMluWksei0pScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tMb2NhbE9wZXJhdGlvbi5pbml0aWFsaXplLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignTG9jYWwgb3BlcmF0aW9uIGluaXQgZmFpbGVkJykpXG5cbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLmluaXRpYWxpemUoKSkucmVqZWN0cy50b1Rocm93KCdMb2NhbCBvcGVyYXRpb24gaW5pdCBmYWlsZWQnKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l562J5b6F5omA5pyJ57uE5Lu25YeG5aSH5bCx57uqJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0xvY2FsT3BlcmF0aW9uLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja05ldHdvcmtNb25pdG9yLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja1N5bmNTdHJhdGVneS5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIG1vY2tQZXJmb3JtYW5jZU9wdGltaXplci5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcblxuICAgICAgYXdhaXQgc2VydmljZS5pbml0aWFsaXplKClcblxuICAgICAgY29uc3Qgc3RhdHVzID0gc2VydmljZS5nZXRTeXN0ZW1TdGF0dXMoKVxuICAgICAgZXhwZWN0KHN0YXR1cy5jb21wb25lbnRzUmVhZHkubG9jYWxRdWV1ZSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHN0YXR1cy5jb21wb25lbnRzUmVhZHkubmV0d29ya01vbml0b3IpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChzdGF0dXMuY29tcG9uZW50c1JlYWR5LnN5bmNTdHJhdGVneSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHN0YXR1cy5jb21wb25lbnRzUmVhZHkucGVyZm9ybWFuY2VPcHRpbWl6ZXIpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChzdGF0dXMuaXNJbml0aWFsaXplZCkudG9CZSh0cnVlKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+WQjOatpeinpuWPkScsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIC8vIOWIneWni+WMluacjeWKoVxuICAgICAgbW9ja0xvY2FsT3BlcmF0aW9uLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja05ldHdvcmtNb25pdG9yLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja1N5bmNTdHJhdGVneS5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIG1vY2tQZXJmb3JtYW5jZU9wdGltaXplci5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIGF3YWl0IHNlcnZpY2UuaW5pdGlhbGl6ZSgpXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xop6blj5Hlop7ph4/lkIzmraUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VySWQgPSAndXNlci0xMjMnXG4gICAgICBjb25zdCBsYXN0U3luY1RpbWUgPSBuZXcgRGF0ZShEYXRlLm5vdygpIC0gODY0MDAwMDApXG5cbiAgICAgIG1vY2tOZXR3b3JrTW9uaXRvci5nZXRDdXJyZW50U3RhdGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNPbmxpbmU6IHRydWUsXG4gICAgICAgIGNvbm5lY3Rpb25UeXBlOiAnNGcnLFxuICAgICAgICBxdWFsaXR5OiB7IGxldmVsOiAnZXhjZWxsZW50Jywgc2NvcmU6IDkwLCBzdGFiaWxpdHk6IDAuOTUgfVxuICAgICAgfSlcblxuICAgICAgbW9ja1N5bmNTdHJhdGVneS5wZXJmb3JtSW5jcmVtZW50YWxTeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgdG90YWw6IDEwLFxuICAgICAgICBwcm9jZXNzZWQ6IDEwLFxuICAgICAgICBkb3dubG9hZGVkOiA3LFxuICAgICAgICB1cGxvYWRlZDogMyxcbiAgICAgICAgY29uZmxpY3RzOiAwLFxuICAgICAgICBpc0NvbXBsZXRlOiB0cnVlLFxuICAgICAgICBpc1N1Y2Nlc3NmdWw6IHRydWUsXG4gICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoKSxcbiAgICAgICAgZW5kVGltZTogbmV3IERhdGUoKSxcbiAgICAgICAgZHVyYXRpb246IDUwMDBcbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IHNlcnZpY2UudHJpZ2dlclN5bmMoeyBmb3JjZUZ1bGxTeW5jOiBmYWxzZSB9KVxuXG4gICAgICBleHBlY3QobW9ja1N5bmNTdHJhdGVneS5wZXJmb3JtSW5jcmVtZW50YWxTeW5jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh1c2VySWQsIGV4cGVjdC5hbnkoRGF0ZSkpXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xop6blj5HlrozmlbTlkIzmraUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VySWQgPSAndXNlci0xMjMnXG5cbiAgICAgIG1vY2tOZXR3b3JrTW9uaXRvci5nZXRDdXJyZW50U3RhdGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNPbmxpbmU6IHRydWUsXG4gICAgICAgIGNvbm5lY3Rpb25UeXBlOiAnNGcnLFxuICAgICAgICBxdWFsaXR5OiB7IGxldmVsOiAnZXhjZWxsZW50Jywgc2NvcmU6IDkwLCBzdGFiaWxpdHk6IDAuOTUgfVxuICAgICAgfSlcblxuICAgICAgbW9ja1N5bmNTdHJhdGVneS5wZXJmb3JtRnVsbFN5bmMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICB0b3RhbDogNTAsXG4gICAgICAgIHByb2Nlc3NlZDogNTAsXG4gICAgICAgIGRvd25sb2FkZWQ6IDMwLFxuICAgICAgICB1cGxvYWRlZDogMjAsXG4gICAgICAgIGNvbmZsaWN0czogMixcbiAgICAgICAgaXNDb21wbGV0ZTogdHJ1ZSxcbiAgICAgICAgaXNTdWNjZXNzZnVsOiB0cnVlLFxuICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgIGR1cmF0aW9uOiAxNTAwMFxuICAgICAgfSlcblxuICAgICAgYXdhaXQgc2VydmljZS50cmlnZ2VyU3luYyh7IGZvcmNlRnVsbFN5bmM6IHRydWUgfSlcblxuICAgICAgZXhwZWN0KG1vY2tTeW5jU3RyYXRlZ3kucGVyZm9ybUZ1bGxTeW5jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh1c2VySWQpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlnKjnvZHnu5znprvnur/ml7bot7Pov4flkIzmraUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrTmV0d29ya01vbml0b3IuZ2V0Q3VycmVudFN0YXRlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGlzT25saW5lOiBmYWxzZSxcbiAgICAgICAgY29ubmVjdGlvblR5cGU6ICdub25lJyxcbiAgICAgICAgcXVhbGl0eTogeyBsZXZlbDogJ29mZmxpbmUnLCBzY29yZTogMCwgc3RhYmlsaXR5OiAwIH1cbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IHNlcnZpY2UudHJpZ2dlclN5bmMoKVxuXG4gICAgICBleHBlY3QobW9ja1N5bmNTdHJhdGVneS5wZXJmb3JtSW5jcmVtZW50YWxTeW5jKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlnKjnvZHnu5zotKjph4/lt67ml7bosIPmlbTlkIzmraXnrZbnlaUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VySWQgPSAndXNlci0xMjMnXG5cbiAgICAgIG1vY2tOZXR3b3JrTW9uaXRvci5nZXRDdXJyZW50U3RhdGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNPbmxpbmU6IHRydWUsXG4gICAgICAgIGNvbm5lY3Rpb25UeXBlOiAnMmcnLFxuICAgICAgICBxdWFsaXR5OiB7IGxldmVsOiAncG9vcicsIHNjb3JlOiAzMCwgc3RhYmlsaXR5OiAwLjUgfVxuICAgICAgfSlcblxuICAgICAgbW9ja05ldHdvcmtNb25pdG9yLmdldFN5bmNSZWNvbW1lbmRhdGlvbnMubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgYmF0Y2hTaXplOiA1LFxuICAgICAgICBtYXhDb25jdXJyZW50T3BlcmF0aW9uczogMSxcbiAgICAgICAgZW5hYmxlQmFja2dyb3VuZFN5bmM6IGZhbHNlLFxuICAgICAgICBlbmFibGVDb21wcmVzc2lvbjogdHJ1ZSxcbiAgICAgICAgcmVjb21tZW5kZWRTeW5jVHlwZTogJ2luY3JlbWVudGFsJ1xuICAgICAgfSlcblxuICAgICAgbW9ja1N5bmNTdHJhdGVneS5wZXJmb3JtSW5jcmVtZW50YWxTeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgdG90YWw6IDUsXG4gICAgICAgIHByb2Nlc3NlZDogNSxcbiAgICAgICAgZG93bmxvYWRlZDogMyxcbiAgICAgICAgdXBsb2FkZWQ6IDIsXG4gICAgICAgIGNvbmZsaWN0czogMCxcbiAgICAgICAgaXNDb21wbGV0ZTogdHJ1ZSxcbiAgICAgICAgaXNTdWNjZXNzZnVsOiB0cnVlLFxuICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgIGR1cmF0aW9uOiA4MDAwXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCBzZXJ2aWNlLnRyaWdnZXJTeW5jKClcblxuICAgICAgZXhwZWN0KG1vY2tTeW5jU3RyYXRlZ3kucGVyZm9ybUluY3JlbWVudGFsU3luYykudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlpITnkIblkIzmraXov4fnqIvkuK3nmoTplJnor68nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VySWQgPSAndXNlci0xMjMnXG5cbiAgICAgIG1vY2tOZXR3b3JrTW9uaXRvci5nZXRDdXJyZW50U3RhdGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNPbmxpbmU6IHRydWUsXG4gICAgICAgIGNvbm5lY3Rpb25UeXBlOiAnNGcnLFxuICAgICAgICBxdWFsaXR5OiB7IGxldmVsOiAnZXhjZWxsZW50Jywgc2NvcmU6IDkwLCBzdGFiaWxpdHk6IDAuOTUgfVxuICAgICAgfSlcblxuICAgICAgbW9ja1N5bmNTdHJhdGVneS5wZXJmb3JtSW5jcmVtZW50YWxTeW5jLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignU3luYyBmYWlsZWQnKSlcblxuICAgICAgYXdhaXQgZXhwZWN0KHNlcnZpY2UudHJpZ2dlclN5bmMoKSkucmVqZWN0cy50b1Rocm93KCdTeW5jIGZhaWxlZCcpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5pON5L2c566h55CGJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0xvY2FsT3BlcmF0aW9uLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja05ldHdvcmtNb25pdG9yLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja1N5bmNTdHJhdGVneS5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIG1vY2tQZXJmb3JtYW5jZU9wdGltaXplci5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIGF3YWl0IHNlcnZpY2UuaW5pdGlhbGl6ZSgpXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xmt7vliqDlkIzmraXmk43kvZwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcGVyYXRpb24gPSB7XG4gICAgICAgIHR5cGU6ICdjcmVhdGUnIGFzIGNvbnN0LFxuICAgICAgICB0YWJsZTogJ2NhcmRzJyBhcyBjb25zdCxcbiAgICAgICAgZGF0YTogeyBmcm9udENvbnRlbnQ6ICd0ZXN0JywgYmFja0NvbnRlbnQ6ICdhbnN3ZXInIH0sXG4gICAgICAgIGxvY2FsSWQ6ICdjYXJkLTEnXG4gICAgICB9XG5cbiAgICAgIG1vY2tMb2NhbE9wZXJhdGlvbi5hZGRPcGVyYXRpb24ubW9ja1Jlc29sdmVkVmFsdWUoJ29wLTEyMycpXG5cbiAgICAgIGNvbnN0IG9wZXJhdGlvbklkID0gYXdhaXQgc2VydmljZS5hZGRTeW5jT3BlcmF0aW9uKG9wZXJhdGlvbilcblxuICAgICAgZXhwZWN0KG1vY2tMb2NhbE9wZXJhdGlvbi5hZGRPcGVyYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG9wZXJhdGlvbilcbiAgICAgIGV4cGVjdChvcGVyYXRpb25JZCkudG9CZSgnb3AtMTIzJylcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeiOt+WPlumYn+WIl+eKtuaAgScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTdGF0cyA9IHtcbiAgICAgICAgdG90YWxPcGVyYXRpb25zOiA1LFxuICAgICAgICBieVR5cGU6IHsgY3JlYXRlOiAyLCB1cGRhdGU6IDMgfSxcbiAgICAgICAgYnlTdGF0dXM6IHsgcGVuZGluZzogMywgcHJvY2Vzc2luZzogMSwgY29tcGxldGVkOiAxIH0sXG4gICAgICAgIGF2ZXJhZ2VSZXRyeUNvdW50OiAwLjVcbiAgICAgIH1cblxuICAgICAgbW9ja0xvY2FsT3BlcmF0aW9uLmdldFF1ZXVlU3RhdHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1N0YXRzKVxuXG4gICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IHNlcnZpY2UuZ2V0UXVldWVTdGF0dXMoKVxuXG4gICAgICBleHBlY3Qoc3RhdHMpLnRvQmUobW9ja1N0YXRzKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l5riF56m65ZCM5q2l6Zif5YiXJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgc2VydmljZS5jbGVhclN5bmNRdWV1ZSgpXG5cbiAgICAgIGV4cGVjdChtb2NrTG9jYWxPcGVyYXRpb24uY2xlYXJRdWV1ZSkudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn572R57uc54q25oCB566h55CGJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0xvY2FsT3BlcmF0aW9uLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja05ldHdvcmtNb25pdG9yLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja1N5bmNTdHJhdGVneS5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIG1vY2tQZXJmb3JtYW5jZU9wdGltaXplci5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIGF3YWl0IHNlcnZpY2UuaW5pdGlhbGl6ZSgpXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xnm5HlkKznvZHnu5znirbmgIHlj5jljJYnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrTGlzdGVuZXIgPSBqZXN0LmZuKClcbiAgICAgIHNlcnZpY2Uub25OZXR3b3JrQ2hhbmdlKG1vY2tMaXN0ZW5lcilcblxuICAgICAgLy8g5qih5ouf572R57uc54q25oCB5Y+Y5YyWXG4gICAgICBjb25zdCBuZXR3b3JrRXZlbnQgPSB7XG4gICAgICAgIHR5cGU6ICdzdGF0dXNfY2hhbmdlJyBhcyBjb25zdCxcbiAgICAgICAgaXNPbmxpbmU6IGZhbHNlLFxuICAgICAgICBjb25uZWN0aW9uVHlwZTogJ25vbmUnLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIHF1YWxpdHk6IHsgbGV2ZWw6ICdvZmZsaW5lJywgc2NvcmU6IDAsIHN0YWJpbGl0eTogMCB9XG4gICAgICB9XG5cbiAgICAgIC8vIOinpuWPkee9kee7nOeKtuaAgeWPmOWMluWbnuiwg1xuICAgICAgc2VydmljZVsnaGFuZGxlTmV0d29ya0NoYW5nZSddKG5ldHdvcmtFdmVudClcblxuICAgICAgZXhwZWN0KG1vY2tMaXN0ZW5lcikudG9IYXZlQmVlbkNhbGxlZFdpdGgobmV0d29ya0V2ZW50KVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l5Zyo572R57uc5oGi5aSN5pe26Ieq5Yqo6Kem5Y+R5ZCM5q2lJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlcklkID0gJ3VzZXItMTIzJ1xuXG4gICAgICBtb2NrTmV0d29ya01vbml0b3IuZ2V0Q3VycmVudFN0YXRlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGlzT25saW5lOiB0cnVlLFxuICAgICAgICBjb25uZWN0aW9uVHlwZTogJzRnJyxcbiAgICAgICAgcXVhbGl0eTogeyBsZXZlbDogJ2V4Y2VsbGVudCcsIHNjb3JlOiA5MCwgc3RhYmlsaXR5OiAwLjk1IH1cbiAgICAgIH0pXG5cbiAgICAgIG1vY2tTeW5jU3RyYXRlZ3kucGVyZm9ybUluY3JlbWVudGFsU3luYy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHRvdGFsOiAxMCxcbiAgICAgICAgcHJvY2Vzc2VkOiAxMCxcbiAgICAgICAgZG93bmxvYWRlZDogNyxcbiAgICAgICAgdXBsb2FkZWQ6IDMsXG4gICAgICAgIGNvbmZsaWN0czogMCxcbiAgICAgICAgaXNDb21wbGV0ZTogdHJ1ZSxcbiAgICAgICAgaXNTdWNjZXNzZnVsOiB0cnVlLFxuICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgIGR1cmF0aW9uOiA1MDAwXG4gICAgICB9KVxuXG4gICAgICAvLyDmqKHmi5/nvZHnu5zmgaLlpI3kuovku7ZcbiAgICAgIGNvbnN0IG5ldHdvcmtFdmVudCA9IHtcbiAgICAgICAgdHlwZTogJ3N0YXR1c19jaGFuZ2UnIGFzIGNvbnN0LFxuICAgICAgICBpc09ubGluZTogdHJ1ZSxcbiAgICAgICAgY29ubmVjdGlvblR5cGU6ICc0ZycsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgcXVhbGl0eTogeyBsZXZlbDogJ2V4Y2VsbGVudCcsIHNjb3JlOiA5MCwgc3RhYmlsaXR5OiAwLjk1IH1cbiAgICAgIH1cblxuICAgICAgYXdhaXQgc2VydmljZVsnaGFuZGxlTmV0d29ya0NoYW5nZSddKG5ldHdvcmtFdmVudClcblxuICAgICAgZXhwZWN0KG1vY2tTeW5jU3RyYXRlZ3kucGVyZm9ybUluY3JlbWVudGFsU3luYykudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5oCn6IO95LyY5YyW6ZuG5oiQJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0xvY2FsT3BlcmF0aW9uLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja05ldHdvcmtNb25pdG9yLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja1N5bmNTdHJhdGVneS5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIG1vY2tQZXJmb3JtYW5jZU9wdGltaXplci5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIGF3YWl0IHNlcnZpY2UuaW5pdGlhbGl6ZSgpXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xkvb/nlKjmgKfog73kvJjljJblmajmiafooYzmk43kvZwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT3BlcmF0aW9uID0ge1xuICAgICAgICBpZDogJ29wLTEnLFxuICAgICAgICB0eXBlOiAnY3JlYXRlJyBhcyBjb25zdCxcbiAgICAgICAgdGFibGU6ICdjYXJkcycgYXMgY29uc3QsXG4gICAgICAgIGRhdGE6IHsgZnJvbnRDb250ZW50OiAndGVzdCcgfSxcbiAgICAgICAgbG9jYWxJZDogJ2NhcmQtMScsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyBhcyBjb25zdCxcbiAgICAgICAgbG9jYWxWZXJzaW9uOiAxLFxuICAgICAgICBwcmlvcml0eTogJ25vcm1hbCcgYXMgY29uc3RcbiAgICAgIH1cblxuICAgICAgbW9ja0xvY2FsT3BlcmF0aW9uLmdldFBlbmRpbmdPcGVyYXRpb25zLm1vY2tSZXNvbHZlZFZhbHVlKFttb2NrT3BlcmF0aW9uXSlcbiAgICAgIG1vY2tQZXJmb3JtYW5jZU9wdGltaXplci5leGVjdXRlT3B0aW1pemVkT3BlcmF0aW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgb3BlcmF0aW9uSWQ6ICdvcC0xJyxcbiAgICAgICAgbGF0ZW5jeTogMTAwXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCBzZXJ2aWNlWydwcm9jZXNzT3B0aW1pemVkUXVldWUnXSgpXG5cbiAgICAgIGV4cGVjdChtb2NrUGVyZm9ybWFuY2VPcHRpbWl6ZXIuZXhlY3V0ZU9wdGltaXplZE9wZXJhdGlvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tPcGVyYXRpb24sXG4gICAgICAgIGV4cGVjdC5hbnkoRnVuY3Rpb24pXG4gICAgICApXG4gICAgfSlcblxuICAgIGl0KCflupTor6XmoLnmja7nvZHnu5zotKjph4/osIPmlbTmgKfog73lj4LmlbAnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrTmV0d29ya01vbml0b3IuZ2V0Q3VycmVudFN0YXRlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGlzT25saW5lOiB0cnVlLFxuICAgICAgICBjb25uZWN0aW9uVHlwZTogJzJnJyxcbiAgICAgICAgcXVhbGl0eTogeyBsZXZlbDogJ3Bvb3InLCBzY29yZTogMzAsIHN0YWJpbGl0eTogMC41IH1cbiAgICAgIH0pXG5cbiAgICAgIG1vY2tOZXR3b3JrTW9uaXRvci5nZXRTeW5jUmVjb21tZW5kYXRpb25zLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGJhdGNoU2l6ZTogNSxcbiAgICAgICAgbWF4Q29uY3VycmVudE9wZXJhdGlvbnM6IDEsXG4gICAgICAgIGVuYWJsZUJhY2tncm91bmRTeW5jOiBmYWxzZSxcbiAgICAgICAgZW5hYmxlQ29tcHJlc3Npb246IHRydWUsXG4gICAgICAgIHJlY29tbWVuZGVkU3luY1R5cGU6ICdpbmNyZW1lbnRhbCdcbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IHNlcnZpY2VbJ2FkYXB0VG9OZXR3b3JrQ29uZGl0aW9ucyddKClcblxuICAgICAgZXhwZWN0KG1vY2tQZXJmb3JtYW5jZU9wdGltaXplci51cGRhdGVDb25maWcpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgdGhyb3R0bGU6IGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIG1heENvbmN1cnJlbnRPcGVyYXRpb25zOiAxXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCflgaXlurfmo4Dmn6UnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrTG9jYWxPcGVyYXRpb24uaW5pdGlhbGl6ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gICAgICBtb2NrTmV0d29ya01vbml0b3IuaW5pdGlhbGl6ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gICAgICBtb2NrU3luY1N0cmF0ZWd5LmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja1BlcmZvcm1hbmNlT3B0aW1pemVyLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgYXdhaXQgc2VydmljZS5pbml0aWFsaXplKClcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeaJp+ihjOezu+e7n+WBpeW6t+ajgOafpScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tMb2NhbE9wZXJhdGlvbi5nZXRRdWV1ZVN0YXRzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgdG90YWxPcGVyYXRpb25zOiAwLFxuICAgICAgICBieVR5cGU6IHt9LFxuICAgICAgICBieVN0YXR1czoge30sXG4gICAgICAgIGF2ZXJhZ2VSZXRyeUNvdW50OiAwXG4gICAgICB9KVxuXG4gICAgICBtb2NrTmV0d29ya01vbml0b3IuZ2V0Q3VycmVudFN0YXRlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGlzT25saW5lOiB0cnVlLFxuICAgICAgICBjb25uZWN0aW9uVHlwZTogJzRnJyxcbiAgICAgICAgcXVhbGl0eTogeyBsZXZlbDogJ2V4Y2VsbGVudCcsIHNjb3JlOiA5MCwgc3RhYmlsaXR5OiAwLjk1IH1cbiAgICAgIH0pXG5cbiAgICAgIG1vY2tTeW5jU3RyYXRlZ3kuZ2V0U3luY1N0YXRzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgdG90YWxTeW5jczogMTAsXG4gICAgICAgIHN1Y2Nlc3NmdWxTeW5jczogOSxcbiAgICAgICAgZmFpbGVkU3luY3M6IDEsXG4gICAgICAgIHN1Y2Nlc3NSYXRlOiA5MFxuICAgICAgfSlcblxuICAgICAgbW9ja1BlcmZvcm1hbmNlT3B0aW1pemVyLmdldEN1cnJlbnRNZXRyaWNzLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHRvdGFsT3BlcmF0aW9uczogMTAwLFxuICAgICAgICBzdWNjZXNzZnVsT3BlcmF0aW9uczogOTUsXG4gICAgICAgIGZhaWxlZE9wZXJhdGlvbnM6IDUsXG4gICAgICAgIHN1Y2Nlc3NSYXRlOiA5NSxcbiAgICAgICAgYXZlcmFnZVJlc3BvbnNlVGltZTogMTUwXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBoZWFsdGggPSBhd2FpdCBzZXJ2aWNlLnBlcmZvcm1IZWFsdGhDaGVjaygpXG5cbiAgICAgIGV4cGVjdChoZWFsdGgub3ZlcmFsbEhlYWx0aCkudG9CZSgnZ29vZCcpXG4gICAgICBleHBlY3QoaGVhbHRoLmNvbXBvbmVudHMubG9jYWxRdWV1ZS5oZWFsdGgpLnRvQmUoJ2dvb2QnKVxuICAgICAgZXhwZWN0KGhlYWx0aC5jb21wb25lbnRzLm5ldHdvcmtNb25pdG9yLmhlYWx0aCkudG9CZSgnZXhjZWxsZW50JylcbiAgICAgIGV4cGVjdChoZWFsdGguY29tcG9uZW50cy5zeW5jU3RyYXRlZ3kuaGVhbHRoKS50b0JlKCdnb29kJylcbiAgICAgIGV4cGVjdChoZWFsdGguY29tcG9uZW50cy5wZXJmb3JtYW5jZU9wdGltaXplci5oZWFsdGgpLnRvQmUoJ2V4Y2VsbGVudCcpXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xmo4DmtYvkuI3lgaXlurfnmoTnu4Tku7YnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrTG9jYWxPcGVyYXRpb24uZ2V0UXVldWVTdGF0cy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHRvdGFsT3BlcmF0aW9uczogNTAsXG4gICAgICAgIGJ5VHlwZToge30sXG4gICAgICAgIGJ5U3RhdHVzOiB7IGZhaWxlZDogMzAgfSxcbiAgICAgICAgYXZlcmFnZVJldHJ5Q291bnQ6IDVcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGhlYWx0aCA9IGF3YWl0IHNlcnZpY2UucGVyZm9ybUhlYWx0aENoZWNrKClcblxuICAgICAgZXhwZWN0KGhlYWx0aC5jb21wb25lbnRzLmxvY2FsUXVldWUuaGVhbHRoKS50b0JlKCdwb29yJylcbiAgICAgIGV4cGVjdChoZWFsdGgub3ZlcmFsbEhlYWx0aCkudG9CZSgnd2FybmluZycpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn6YWN572u566h55CGJywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xmm7TmlrDns7vnu5/phY3nva4nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBuZXdDb25maWc6IFN5bmNTeXN0ZW1Db25maWcgPSB7XG4gICAgICAgIGVuYWJsZUF1dG9TeW5jOiB0cnVlLFxuICAgICAgICBzeW5jSW50ZXJ2YWw6IDMwMDAwMCxcbiAgICAgICAgZW5hYmxlQmFja2dyb3VuZFN5bmM6IHRydWUsXG4gICAgICAgIGVuYWJsZUNvbXByZXNzaW9uOiB0cnVlLFxuICAgICAgICBlbmFibGVDb25mbGljdFJlc29sdXRpb246IHRydWUsXG4gICAgICAgIGVuYWJsZVBlcmZvcm1hbmNlT3B0aW1pemF0aW9uOiB0cnVlLFxuICAgICAgICBlbmFibGVOZXR3b3JrQWRhcHRhdGlvbjogdHJ1ZSxcbiAgICAgICAgZW5hYmxlSGVhbHRoTW9uaXRvcmluZzogdHJ1ZSxcbiAgICAgICAgbWF4UXVldWVTaXplOiAxMDAwLFxuICAgICAgICBtYXhSZXRyeUNvdW50OiA1LFxuICAgICAgICBzeW5jVGltZW91dDogMzAwMDBcbiAgICAgIH1cblxuICAgICAgYXdhaXQgc2VydmljZS51cGRhdGVDb25maWcobmV3Q29uZmlnKVxuXG4gICAgICBleHBlY3Qoc2VydmljZS5nZXRTeXN0ZW1Db25maWcoKSkudG9NYXRjaE9iamVjdChuZXdDb25maWcpXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xpqozor4HphY3nva7lj4LmlbAnLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkQ29uZmlnID0ge1xuICAgICAgICBzeW5jSW50ZXJ2YWw6IC0xMDAwLFxuICAgICAgICBtYXhRdWV1ZVNpemU6IC0xXG4gICAgICB9XG5cbiAgICAgIGV4cGVjdCgoKSA9PiBzZXJ2aWNlLnVwZGF0ZUNvbmZpZyhpbnZhbGlkQ29uZmlnIGFzIGFueSkpLnRvVGhyb3coKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+S6i+S7tuWkhOeQhicsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tMb2NhbE9wZXJhdGlvbi5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIG1vY2tOZXR3b3JrTW9uaXRvci5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIG1vY2tTeW5jU3RyYXRlZ3kuaW5pdGlhbGl6ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gICAgICBtb2NrUGVyZm9ybWFuY2VPcHRpbWl6ZXIuaW5pdGlhbGl6ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l6IO95aSf5re75Yqg5ZKM56e76Zmk57O757uf5LqL5Lu255uR5ZCs5ZmoJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0xpc3RlbmVyID0gamVzdC5mbigpXG4gICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHNlcnZpY2Uub25TeXN0ZW1FdmVudChtb2NrTGlzdGVuZXIpXG5cbiAgICAgIGV4cGVjdCh0eXBlb2YgdW5zdWJzY3JpYmUpLnRvQmUoJ2Z1bmN0aW9uJylcblxuICAgICAgLy8g6Kem5Y+R5LqL5Lu2XG4gICAgICBjb25zdCBldmVudDogU3luY0V2ZW50ID0ge1xuICAgICAgICB0eXBlOiAnc3luY19zdGFydGVkJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkYXRhOiB7IHN5bmNUeXBlOiAnaW5jcmVtZW50YWwnIH1cbiAgICAgIH1cblxuICAgICAgc2VydmljZVsnbm90aWZ5U3lzdGVtRXZlbnQnXShldmVudClcbiAgICAgIGV4cGVjdChtb2NrTGlzdGVuZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV2ZW50KVxuXG4gICAgICAvLyDnp7vpmaTnm5HlkKzlmahcbiAgICAgIHVuc3Vic2NyaWJlKClcbiAgICAgIHNlcnZpY2VbJ25vdGlmeVN5c3RlbUV2ZW50J10oZXZlbnQpXG4gICAgICBleHBlY3QobW9ja0xpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSlcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeato+ehrumAmuefpeaJgOacieebkeWQrOWZqCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tMaXN0ZW5lcjEgPSBqZXN0LmZuKClcbiAgICAgIGNvbnN0IG1vY2tMaXN0ZW5lcjIgPSBqZXN0LmZuKClcblxuICAgICAgc2VydmljZS5vblN5c3RlbUV2ZW50KG1vY2tMaXN0ZW5lcjEpXG4gICAgICBzZXJ2aWNlLm9uU3lzdGVtRXZlbnQobW9ja0xpc3RlbmVyMilcblxuICAgICAgY29uc3QgZXZlbnQ6IFN5bmNFdmVudCA9IHtcbiAgICAgICAgdHlwZTogJ3N5bmNfY29tcGxldGVkJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkYXRhOiB7IFxuICAgICAgICAgIHN5bmNUeXBlOiAnZnVsbCcsXG4gICAgICAgICAgZHVyYXRpb246IDE1MDAwLFxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZG93bmxvYWRlZDogMzAsXG4gICAgICAgICAgdXBsb2FkZWQ6IDIwLFxuICAgICAgICAgIGNvbmZsaWN0czogMlxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlcnZpY2VbJ25vdGlmeVN5c3RlbUV2ZW50J10oZXZlbnQpXG5cbiAgICAgIGV4cGVjdChtb2NrTGlzdGVuZXIxKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChldmVudClcbiAgICAgIGV4cGVjdChtb2NrTGlzdGVuZXIyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChldmVudClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCflrprml7blkIzmraUnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrTG9jYWxPcGVyYXRpb24uaW5pdGlhbGl6ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gICAgICBtb2NrTmV0d29ya01vbml0b3IuaW5pdGlhbGl6ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gICAgICBtb2NrU3luY1N0cmF0ZWd5LmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja1BlcmZvcm1hbmNlT3B0aW1pemVyLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgYXdhaXQgc2VydmljZS5pbml0aWFsaXplKClcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeWQr+WKqOWumuaXtuWQjOatpScsICgpID0+IHtcbiAgICAgIGplc3QudXNlRmFrZVRpbWVycygpXG4gICAgICBcbiAgICAgIHNlcnZpY2Uuc3RhcnRTY2hlZHVsZWRTeW5jKClcbiAgICAgIFxuICAgICAgZXhwZWN0KChzZXJ2aWNlIGFzIGFueSkuc3luY1RpbWVyKS50b0JlRGVmaW5lZCgpXG4gICAgICBcbiAgICAgIC8vIOa4heeQhlxuICAgICAgc2VydmljZS5zdG9wU2NoZWR1bGVkU3luYygpXG4gICAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l5YGc5q2i5a6a5pe25ZCM5q2lJywgKCkgPT4ge1xuICAgICAgamVzdC51c2VGYWtlVGltZXJzKClcbiAgICAgIFxuICAgICAgc2VydmljZS5zdGFydFNjaGVkdWxlZFN5bmMoKVxuICAgICAgZXhwZWN0KChzZXJ2aWNlIGFzIGFueSkuc3luY1RpbWVyKS50b0JlRGVmaW5lZCgpXG4gICAgICBcbiAgICAgIHNlcnZpY2Uuc3RvcFNjaGVkdWxlZFN5bmMoKVxuICAgICAgZXhwZWN0KChzZXJ2aWNlIGFzIGFueSkuc3luY1RpbWVyKS50b0JlTnVsbCgpXG4gICAgICBcbiAgICAgIGplc3QudXNlUmVhbFRpbWVycygpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XmjInphY3nva7nmoTpl7TpmpTmiafooYzlkIzmraUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LnVzZUZha2VUaW1lcnMoKVxuICAgICAgXG4gICAgICBjb25zdCB1c2VySWQgPSAndXNlci0xMjMnXG4gICAgICBcbiAgICAgIG1vY2tOZXR3b3JrTW9uaXRvci5nZXRDdXJyZW50U3RhdGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNPbmxpbmU6IHRydWUsXG4gICAgICAgIGNvbm5lY3Rpb25UeXBlOiAnNGcnLFxuICAgICAgICBxdWFsaXR5OiB7IGxldmVsOiAnZXhjZWxsZW50Jywgc2NvcmU6IDkwLCBzdGFiaWxpdHk6IDAuOTUgfVxuICAgICAgfSlcblxuICAgICAgbW9ja1N5bmNTdHJhdGVneS5wZXJmb3JtSW5jcmVtZW50YWxTeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgdG90YWw6IDUsXG4gICAgICAgIHByb2Nlc3NlZDogNSxcbiAgICAgICAgZG93bmxvYWRlZDogMyxcbiAgICAgICAgdXBsb2FkZWQ6IDIsXG4gICAgICAgIGNvbmZsaWN0czogMCxcbiAgICAgICAgaXNDb21wbGV0ZTogdHJ1ZSxcbiAgICAgICAgaXNTdWNjZXNzZnVsOiB0cnVlLFxuICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwXG4gICAgICB9KVxuXG4gICAgICAvLyDorr7nva415YiG6ZKf6Ze06ZqUXG4gICAgICBzZXJ2aWNlLnVwZGF0ZUNvbmZpZyh7IHN5bmNJbnRlcnZhbDogMzAwMDAwIH0pXG4gICAgICBzZXJ2aWNlLnN0YXJ0U2NoZWR1bGVkU3luYygpXG5cbiAgICAgIC8vIOW/q+i/m+aXtumXtFxuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDMwMDAwMClcblxuICAgICAgZXhwZWN0KG1vY2tTeW5jU3RyYXRlZ3kucGVyZm9ybUluY3JlbWVudGFsU3luYykudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgICBcbiAgICAgIC8vIOa4heeQhlxuICAgICAgc2VydmljZS5zdG9wU2NoZWR1bGVkU3luYygpXG4gICAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+ezu+e7n+eKtuaAgScsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tMb2NhbE9wZXJhdGlvbi5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIG1vY2tOZXR3b3JrTW9uaXRvci5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIG1vY2tTeW5jU3RyYXRlZ3kuaW5pdGlhbGl6ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gICAgICBtb2NrUGVyZm9ybWFuY2VPcHRpbWl6ZXIuaW5pdGlhbGl6ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l5o+Q5L6b5a6M5pW055qE57O757uf54q25oCBJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhdHVzID0gc2VydmljZS5nZXRTeXN0ZW1TdGF0dXMoKVxuXG4gICAgICBleHBlY3Qoc3RhdHVzLmlzSW5pdGlhbGl6ZWQpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChzdGF0dXMuY29tcG9uZW50c1JlYWR5LmxvY2FsUXVldWUpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChzdGF0dXMuY29tcG9uZW50c1JlYWR5Lm5ldHdvcmtNb25pdG9yKS50b0JlKHRydWUpXG4gICAgICBleHBlY3Qoc3RhdHVzLmNvbXBvbmVudHNSZWFkeS5zeW5jU3RyYXRlZ3kpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChzdGF0dXMuY29tcG9uZW50c1JlYWR5LnBlcmZvcm1hbmNlT3B0aW1pemVyKS50b0JlKHRydWUpXG4gICAgICBleHBlY3Qoc3RhdHVzLmxhc3RTeW5jVGltZSkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHN0YXR1cy5jdXJyZW50U3luY0FjdGl2aXR5KS50b0JlRGVmaW5lZCgpXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xov73ouKrlkIzmraXmtLvliqgnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhY3Rpdml0eSA9IHNlcnZpY2UuZ2V0Q3VycmVudFN5bmNBY3Rpdml0eSgpXG5cbiAgICAgIGV4cGVjdChhY3Rpdml0eS5pc0FjdGl2ZSkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KGFjdGl2aXR5LmN1cnJlbnRTeW5jVHlwZSkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KGFjdGl2aXR5LnN0YXJ0VGltZSkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KGFjdGl2aXR5LnByb2dyZXNzKS50b0JlRGVmaW5lZCgpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5riF55CG5ZKM6LWE5rqQ566h55CGJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0xvY2FsT3BlcmF0aW9uLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja05ldHdvcmtNb25pdG9yLmluaXRpYWxpemUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICAgICAgbW9ja1N5bmNTdHJhdGVneS5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIG1vY2tQZXJmb3JtYW5jZU9wdGltaXplci5pbml0aWFsaXplLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcbiAgICAgIGF3YWl0IHNlcnZpY2UuaW5pdGlhbGl6ZSgpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XmraPnoa7muIXnkIbotYTmupAnLCAoKSA9PiB7XG4gICAgICBzZXJ2aWNlLnN0YXJ0U2NoZWR1bGVkU3luYygpXG4gICAgICBleHBlY3QoKHNlcnZpY2UgYXMgYW55KS5zeW5jVGltZXIpLnRvQmVEZWZpbmVkKClcblxuICAgICAgc2VydmljZS5jbGVhbnVwKClcbiAgICAgIGV4cGVjdCgoc2VydmljZSBhcyBhbnkpLnN5bmNUaW1lcikudG9CZU51bGwoKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l5Zyo57uE5Lu26ZSA5q+B5pe25riF55CG5LqL5Lu255uR5ZCs5ZmoJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1Vuc3Vic2NyaWJlID0gamVzdC5mbigpXG4gICAgICBcbiAgICAgIC8vIOaooeaLn+a3u+WKoOS6i+S7tuebkeWQrOWZqFxuICAgICAgOyhzZXJ2aWNlIGFzIGFueSkuZXZlbnRVbnN1YnNjcmliZXJzLnB1c2gobW9ja1Vuc3Vic2NyaWJlKVxuICAgICAgXG4gICAgICBzZXJ2aWNlLmNsZWFudXAoKVxuICAgICAgXG4gICAgICBleHBlY3QobW9ja1Vuc3Vic2NyaWJlKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfplJnor6/lpITnkIYnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeWkhOeQhue7hOS7tuWIneWni+WMlumUmeivrycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tMb2NhbE9wZXJhdGlvbi5pbml0aWFsaXplLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ29tcG9uZW50IGluaXQgZmFpbGVkJykpXG5cbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLmluaXRpYWxpemUoKSkucmVqZWN0cy50b1Rocm93KCdDb21wb25lbnQgaW5pdCBmYWlsZWQnKVxuXG4gICAgICBjb25zdCBzdGF0dXMgPSBzZXJ2aWNlLmdldFN5c3RlbVN0YXR1cygpXG4gICAgICBleHBlY3Qoc3RhdHVzLmlzSW5pdGlhbGl6ZWQpLnRvQmUoZmFsc2UpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlpITnkIblgaXlurfmo4Dmn6XkuK3nmoTplJnor68nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrTG9jYWxPcGVyYXRpb24uZ2V0UXVldWVTdGF0cy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0hlYWx0aCBjaGVjayBmYWlsZWQnKSlcblxuICAgICAgY29uc3QgaGVhbHRoID0gYXdhaXQgc2VydmljZS5wZXJmb3JtSGVhbHRoQ2hlY2soKVxuXG4gICAgICBleHBlY3QoaGVhbHRoLm92ZXJhbGxIZWFsdGgpLnRvQmUoJ2NyaXRpY2FsJylcbiAgICAgIGV4cGVjdChoZWFsdGguY29tcG9uZW50cy5sb2NhbFF1ZXVlLmhlYWx0aCkudG9CZSgndW5rbm93bicpXG4gICAgICBleHBlY3QoaGVhbHRoLmNvbXBvbmVudHMubG9jYWxRdWV1ZS5lcnJvcikudG9CZSgnSGVhbHRoIGNoZWNrIGZhaWxlZCcpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlpITnkIblkIzmraXop6blj5HkuK3nmoTlvILluLgnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VySWQgPSAndXNlci0xMjMnXG5cbiAgICAgIG1vY2tOZXR3b3JrTW9uaXRvci5nZXRDdXJyZW50U3RhdGUubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIG1vbml0b3IgZXJyb3InKVxuICAgICAgfSlcblxuICAgICAgYXdhaXQgc2VydmljZS50cmlnZ2VyU3luYygpXG5cbiAgICAgIC8vIOW6lOivpeS8mOmbheWcsOWkhOeQhumUmeivr+iAjOS4jeaKm+WHuuW8guW4uFxuICAgICAgZXhwZWN0KHRydWUpLnRvQmUodHJ1ZSlcbiAgICB9KVxuICB9KVxufSkiXSwidmVyc2lvbiI6M30=