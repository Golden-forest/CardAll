7f07617e77d772f5969a440b84ae5431
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const sync_performance_1 = require("@/services/sync-performance");
describe('SyncPerformanceOptimizer', () => {
    let optimizer;
    beforeEach(() => {
        jest.clearAllMocks();
        jest.useFakeTimers();
        optimizer = new sync_performance_1.SyncPerformanceOptimizer();
    });
    afterEach(() => {
        jest.useRealTimers();
    });
    describe('初始化', () => {
        it('应该正确初始化优化器', () => {
            expect(optimizer).toBeDefined();
            const metrics = optimizer.getCurrentMetrics();
            expect(metrics.totalOperations).toBe(0);
            expect(metrics.successRate).toBe(0);
            expect(metrics.averageResponseTime).toBe(0);
        });
    });
    describe('性能优化操作执行', () => {
        it('应该执行优化后的同步操作', async () => {
            const mockOperation = {
                id: 'op-1',
                type: 'create',
                table: 'cards',
                data: { frontContent: 'test', backContent: 'answer' },
                localId: 'card-1',
                timestamp: new Date().toISOString(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal'
            };
            // 模拟成功的操作执行
            const mockExecutor = jest.fn().mockResolvedValue({ success: true, latency: 100 });
            const result = await optimizer.executeOptimizedOperation(mockOperation, mockExecutor);
            expect(result.success).toBe(true);
            expect(result.operationId).toBe('op-1');
            expect(result.latency).toBe(100);
            expect(result.metrics).toBeDefined();
        });
        it('应该处理操作执行失败', async () => {
            const mockOperation = {
                id: 'op-1',
                type: 'create',
                table: 'cards',
                data: { frontContent: 'test', backContent: 'answer' },
                localId: 'card-1',
                timestamp: new Date().toISOString(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal'
            };
            const mockExecutor = jest.fn().mockRejectedValue(new Error('Network error'));
            const result = await optimizer.executeOptimizedOperation(mockOperation, mockExecutor);
            expect(result.success).toBe(false);
            expect(result.error).toBe('Network error');
            expect(result.retryCount).toBe(1);
        });
        it('应该跟踪活动操作', async () => {
            const mockOperation1 = {
                id: 'op-1',
                type: 'create',
                table: 'cards',
                data: { frontContent: 'test1' },
                localId: 'card-1',
                timestamp: new Date().toISOString(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal'
            };
            const mockOperation2 = {
                id: 'op-2',
                type: 'update',
                table: 'cards',
                data: { frontContent: 'test2' },
                localId: 'card-2',
                timestamp: new Date().toISOString(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal'
            };
            const mockExecutor = jest.fn()
                .mockResolvedValueOnce({ success: true, latency: 100 })
                .mockResolvedValueOnce({ success: true, latency: 150 });
            // 并发执行操作
            const promise1 = optimizer.executeOptimizedOperation(mockOperation1, mockExecutor);
            const promise2 = optimizer.executeOptimizedOperation(mockOperation2, mockExecutor);
            // 检查活动操作计数
            const activeOps = optimizer.getActiveOperationCount();
            expect(activeOps).toBe(2);
            await Promise.all([promise1, promise2]);
            // 操作完成后，活动操作数应该为0
            expect(optimizer.getActiveOperationCount()).toBe(0);
        });
    });
    describe('批量处理', () => {
        it('应该执行批量操作', async () => {
            const mockOperations = [
                {
                    id: 'op-1',
                    type: 'create',
                    table: 'cards',
                    data: { frontContent: 'test1' },
                    localId: 'card-1',
                    timestamp: new Date().toISOString(),
                    retryCount: 0,
                    status: 'pending',
                    localVersion: 1,
                    priority: 'normal'
                },
                {
                    id: 'op-2',
                    type: 'create',
                    table: 'cards',
                    data: { frontContent: 'test2' },
                    localId: 'card-2',
                    timestamp: new Date().toISOString(),
                    retryCount: 0,
                    status: 'pending',
                    localVersion: 1,
                    priority: 'normal'
                }
            ];
            const mockBatchExecutor = jest.fn().mockResolvedValue({
                success: true,
                results: [
                    { success: true, latency: 50 },
                    { success: true, latency: 75 }
                ],
                totalLatency: 125
            });
            const result = await optimizer.executeBatchOperations(mockOperations, mockBatchExecutor);
            expect(result.success).toBe(true);
            expect(result.results).toHaveLength(2);
            expect(result.averageLatency).toBe(62.5);
            expect(mockBatchExecutor).toHaveBeenCalledWith(mockOperations, expect.any(Object));
        });
        it('应该优化批量大小', async () => {
            const largeBatchSize = 50;
            const mockOperations = Array.from({ length: largeBatchSize }, (_, i) => ({
                id: `op-${i}`,
                type: 'create',
                table: 'cards',
                data: { frontContent: `test${i}` },
                localId: `card-${i}`,
                timestamp: new Date().toISOString(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal'
            }));
            const mockBatchExecutor = jest.fn().mockResolvedValue({
                success: true,
                results: mockOperations.map(() => ({ success: true, latency: 50 })),
                totalLatency: 2500
            });
            const result = await optimizer.executeBatchOperations(mockOperations, mockBatchExecutor);
            // 应该自动分批处理
            expect(mockBatchExecutor).toHaveBeenCalled();
            expect(result.totalOperations).toBe(largeBatchSize);
        });
        it('应该处理批量操作中的部分失败', async () => {
            const mockOperations = [
                {
                    id: 'op-1',
                    type: 'create',
                    table: 'cards',
                    data: { frontContent: 'test1' },
                    localId: 'card-1',
                    timestamp: new Date().toISOString(),
                    retryCount: 0,
                    status: 'pending',
                    localVersion: 1,
                    priority: 'normal'
                },
                {
                    id: 'op-2',
                    type: 'create',
                    table: 'cards',
                    data: { frontContent: 'test2' },
                    localId: 'card-2',
                    timestamp: new Date().toISOString(),
                    retryCount: 0,
                    status: 'pending',
                    localVersion: 1,
                    priority: 'normal'
                }
            ];
            const mockBatchExecutor = jest.fn().mockResolvedValue({
                success: false,
                results: [
                    { success: true, latency: 50 },
                    { success: false, latency: 100, error: 'Validation failed' }
                ],
                totalLatency: 150,
                error: 'Partial batch failure'
            });
            const result = await optimizer.executeBatchOperations(mockOperations, mockBatchExecutor);
            expect(result.success).toBe(false);
            expect(result.successfulOperations).toBe(1);
            expect(result.failedOperations).toBe(1);
        });
    });
    describe('自适应参数调整', () => {
        it('应该根据性能自动调整批量大小', async () => {
            // 模拟良好的性能
            const goodResults = Array.from({ length: 10 }, () => ({
                success: true,
                latency: 50
            }));
            goodResults.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            // 触发自适应调整
            await optimizer.adaptParameters();
            const params = optimizer.getAdaptiveParams();
            expect(params.currentBatchSize).toBeGreaterThan(optimizer.config.batch.idealBatchSize);
        });
        it('应该在高延迟时减小批量大小', async () => {
            // 模拟高延迟
            const highLatencyResults = Array.from({ length: 5 }, () => ({
                success: true,
                latency: 2000 // 高延迟
            }));
            highLatencyResults.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            await optimizer.adaptParameters();
            const params = optimizer.getAdaptiveParams();
            expect(params.currentBatchSize).toBeLessThan(optimizer.config.batch.idealBatchSize);
        });
        it('应该在错误率高时减少并发数', async () => {
            // 模拟高错误率
            const errorResults = Array.from({ length: 10 }, () => ({
                success: false,
                error: 'Network timeout'
            }));
            errorResults.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            await optimizer.adaptParameters();
            const params = optimizer.getAdaptiveParams();
            expect(params.currentConcurrency).toBeLessThan(optimizer.config.throttle.maxConcurrentOperations);
        });
        it('应该在网络条件改善时恢复参数', async () => {
            // 先模拟差的性能
            const badResults = Array.from({ length: 5 }, () => ({
                success: false,
                latency: 3000,
                error: 'Timeout'
            }));
            badResults.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            await optimizer.adaptParameters();
            const badParams = optimizer.getAdaptiveParams();
            // 然后模拟好的性能
            const goodResults = Array.from({ length: 10 }, () => ({
                success: true,
                latency: 100
            }));
            goodResults.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            await optimizer.adaptParameters();
            const goodParams = optimizer.getAdaptiveParams();
            expect(goodParams.currentBatchSize).toBeGreaterThan(badParams.currentBatchSize);
            expect(goodParams.currentConcurrency).toBeGreaterThan(badParams.currentConcurrency);
        });
    });
    describe('性能监控', () => {
        it('应该记录操作结果', () => {
            const result = {
                success: true,
                latency: 150,
                operationId: 'op-1'
            };
            optimizer.recordOperationResult(result);
            const metrics = optimizer.getCurrentMetrics();
            expect(metrics.totalOperations).toBe(1);
            expect(metrics.successfulOperations).toBe(1);
            expect(metrics.failedOperations).toBe(0);
            expect(metrics.averageResponseTime).toBe(150);
        });
        it('应该计算正确的成功率', () => {
            const results = [
                { success: true, latency: 100 },
                { success: true, latency: 120 },
                { success: false, latency: 200, error: 'Error' },
                { success: true, latency: 80 }
            ];
            results.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            const metrics = optimizer.getCurrentMetrics();
            expect(metrics.totalOperations).toBe(4);
            expect(metrics.successfulOperations).toBe(3);
            expect(metrics.failedOperations).toBe(1);
            expect(metrics.successRate).toBe(75);
            expect(metrics.averageResponseTime).toBe(125); // (100+120+200+80)/4
        });
        it('应该跟踪最近性能', () => {
            const recentResults = Array.from({ length: 20 }, (_, i) => ({
                success: i % 4 !== 0, // 75% 成功率
                latency: 100 + i * 10
            }));
            recentResults.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            const recentMetrics = optimizer.getRecentPerformance(10); // 最近10个操作
            expect(recentMetrics.totalOperations).toBe(10);
            expect(recentMetrics.successRate).toBe(75);
        });
    });
    describe('节流控制', () => {
        it('应该限制并发操作数量', async () => {
            const mockOperation = {
                id: 'op-1',
                type: 'create',
                table: 'cards',
                data: { frontContent: 'test' },
                localId: 'card-1',
                timestamp: new Date().toISOString(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal'
            };
            const mockExecutor = jest.fn().mockResolvedValue({ success: true, latency: 100 });
            // 设置低并发限制
            optimizer.updateConfig({
                throttle: {
                    maxConcurrentOperations: 1,
                    rateLimitWindow: 1000,
                    maxOperationsPerWindow: 10
                }
            });
            // 启动多个操作
            const promises = [];
            for (let i = 0; i < 3; i++) {
                const op = { ...mockOperation, id: `op-${i}`, localId: `card-${i}` };
                promises.push(optimizer.executeOptimizedOperation(op, mockExecutor));
            }
            // 在同一时间，应该只有一个操作在执行
            expect(optimizer.getActiveOperationCount()).toBeLessThanOrEqual(1);
            await Promise.all(promises);
        });
        it('应该实施速率限制', async () => {
            const mockOperation = {
                id: 'op-1',
                type: 'create',
                table: 'cards',
                data: { frontContent: 'test' },
                localId: 'card-1',
                timestamp: new Date().toISOString(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal'
            };
            const mockExecutor = jest.fn().mockResolvedValue({ success: true, latency: 50 });
            // 设置严格的速率限制
            optimizer.updateConfig({
                throttle: {
                    maxConcurrentOperations: 5,
                    rateLimitWindow: 1000,
                    maxOperationsPerWindow: 2
                }
            });
            // 快速执行多个操作
            const promises = [];
            for (let i = 0; i < 5; i++) {
                const op = { ...mockOperation, id: `op-${i}`, localId: `card-${i}` };
                promises.push(optimizer.executeOptimizedOperation(op, mockExecutor));
            }
            // 前两个操作应该立即执行
            await jest.advanceTimersByTime(0);
            expect(optimizer.getActiveOperationCount()).toBe(2);
            // 等待速率限制窗口重置
            await jest.advanceTimersByTime(1001);
            // 后续操作应该能够执行
            await Promise.all(promises);
        });
    });
    describe('性能优化建议', () => {
        it('应该提供性能优化建议', () => {
            // 模拟中等性能
            const results = [
                { success: true, latency: 200 },
                { success: true, latency: 250 },
                { success: false, latency: 500, error: 'Timeout' },
                { success: true, latency: 180 }
            ];
            results.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            const recommendations = optimizer.getPerformanceRecommendations();
            expect(recommendations).toBeDefined();
            expect(Array.isArray(recommendations.suggestions)).toBe(true);
            expect(recommendations.currentHealth).toBeDefined();
            expect(typeof recommendations.currentHealth.score).toBe('number');
        });
        it('应该在性能良好时建议增加吞吐量', () => {
            const goodResults = Array.from({ length: 10 }, () => ({
                success: true,
                latency: 50
            }));
            goodResults.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            const recommendations = optimizer.getPerformanceRecommendations();
            expect(recommendations.currentHealth.score).toBeGreaterThan(80);
            expect(recommendations.suggestions.some(s => s.includes('increase') || s.includes('optimize'))).toBe(true);
        });
        it('应该在性能差时建议减少负载', () => {
            const badResults = Array.from({ length: 10 }, () => ({
                success: false,
                latency: 1000,
                error: 'Network error'
            }));
            badResults.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            const recommendations = optimizer.getPerformanceRecommendations();
            expect(recommendations.currentHealth.score).toBeLessThan(50);
            expect(recommendations.suggestions.some(s => s.includes('reduce') || s.includes('decrease'))).toBe(true);
        });
    });
    describe('内存管理', () => {
        it('应该定期清理历史数据', () => {
            // 添加大量历史数据
            const oldResults = Array.from({ length: 1000 }, (_, i) => ({
                success: true,
                latency: 100,
                timestamp: Date.now() - (i * 1000) // 每秒一个结果
            }));
            oldResults.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            // 触发清理
            optimizer.cleanupOldData();
            const metrics = optimizer.getCurrentMetrics();
            // 应该只保留最近的数据
            expect(metrics.totalOperations).toBeLessThan(1000);
        });
        it('应该提供内存使用统计', () => {
            // 添加一些测试数据
            const results = Array.from({ length: 50 }, (_, i) => ({
                success: true,
                latency: 100 + i
            }));
            results.forEach(result => {
                optimizer.recordOperationResult(result);
            });
            const memoryStats = optimizer.getMemoryStats();
            expect(memoryStats.totalHistorySize).toBe(50);
            expect(memoryStats.recentHistorySize).toBeLessThanOrEqual(50);
            expect(memoryStats.estimatedMemoryUsage).toBeGreaterThan(0);
        });
    });
    describe('配置管理', () => {
        it('应该能够更新性能配置', () => {
            const newConfig = {
                monitoring: {
                    sampleSize: 200,
                    historySize: 1000,
                    autoAdaptInterval: 60000
                },
                batch: {
                    idealBatchSize: 25,
                    maxBatchSize: 100,
                    minBatchSize: 5,
                    adaptiveEnabled: true
                },
                throttle: {
                    maxConcurrentOperations: 5,
                    rateLimitWindow: 2000,
                    maxOperationsPerWindow: 20,
                    adaptiveThrottling: true
                }
            };
            optimizer.updateConfig(newConfig);
            // 验证配置已更新
            expect(optimizer.config).toMatchObject(newConfig);
        });
        it('应该验证配置参数', () => {
            const invalidConfig = {
                batch: {
                    idealBatchSize: -1,
                    maxBatchSize: 0
                }
            };
            expect(() => optimizer.updateConfig(invalidConfig)).toThrow();
        });
        it('应该重置为默认配置', () => {
            // 修改一些配置
            optimizer.updateConfig({
                batch: { idealBatchSize: 50 }
            });
            // 重置
            optimizer.resetToDefaults();
            // 验证已恢复默认值
            expect(optimizer.config.batch.idealBatchSize).toBe(20);
        });
    });
    describe('错误处理', () => {
        it('应该处理记录结果时的异常', () => {
            // 使用无效的结果对象
            const invalidResult = null;
            // 应该不会抛出异常
            expect(() => {
                optimizer.recordOperationResult(invalidResult);
            }).not.toThrow();
        });
        it('应该处理自适应调整中的异常', async () => {
            // 模拟自适应过程中的异常
            jest.spyOn(optimizer, 'calculateNewBatchSize').mockImplementation(() => {
                throw new Error('Calculation error');
            });
            // 应该优雅地处理异常
            await expect(optimizer.adaptParameters()).resolves.not.toThrow();
        });
        it('应该在操作失败时记录错误详情', async () => {
            const mockOperation = {
                id: 'op-1',
                type: 'create',
                table: 'cards',
                data: { frontContent: 'test' },
                localId: 'card-1',
                timestamp: new Date().toISOString(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal'
            };
            const mockExecutor = jest.fn().mockRejectedValue(new Error('Database connection failed'));
            const result = await optimizer.executeOptimizedOperation(mockOperation, mockExecutor);
            expect(result.success).toBe(false);
            expect(result.error).toBeDefined();
            expect(result.retryCount).toBe(1);
            const metrics = optimizer.getCurrentMetrics();
            expect(metrics.failedOperations).toBe(1);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHRlc3RzXFx1bml0XFxzZXJ2aWNlc1xcc3luYy1wZXJmb3JtYW5jZS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsa0VBQXNJO0FBR3RJLFFBQVEsQ0FBQywwQkFBMEIsRUFBRSxHQUFHLEVBQUU7SUFDeEMsSUFBSSxTQUFtQyxDQUFBO0lBRXZDLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUE7UUFDcEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFBO1FBQ3BCLFNBQVMsR0FBRyxJQUFJLDJDQUF3QixFQUFFLENBQUE7SUFDNUMsQ0FBQyxDQUFDLENBQUE7SUFFRixTQUFTLENBQUMsR0FBRyxFQUFFO1FBQ2IsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFBO0lBQ3RCLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUU7UUFDbkIsRUFBRSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUU7WUFDcEIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBRS9CLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFBO1lBQzdDLE1BQU0sQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ3ZDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ25DLE1BQU0sQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDN0MsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1FBQ3hCLEVBQUUsQ0FBQyxjQUFjLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFD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OltdLCJzb3VyY2VzIjpbIkQ6XFxQcm9qZWN0c1xcQ2FyZEV2ZXJ5dGhpbmdcXGNhcmRhbGwtcHJvdG90eXBlXFx0ZXN0c1xcdW5pdFxcc2VydmljZXNcXHN5bmMtcGVyZm9ybWFuY2UudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTeW5jUGVyZm9ybWFuY2VPcHRpbWl6ZXIsIHR5cGUgUGVyZm9ybWFuY2VNZXRyaWNzLCB0eXBlIEJhdGNoQ29uZmlnLCB0eXBlIEFkYXB0aXZlUGFyYW1zIH0gZnJvbSAnQC9zZXJ2aWNlcy9zeW5jLXBlcmZvcm1hbmNlJ1xuaW1wb3J0IHR5cGUgeyBMb2NhbFN5bmNPcGVyYXRpb24gfSBmcm9tICdAL3NlcnZpY2VzL2xvY2FsLW9wZXJhdGlvbidcblxuZGVzY3JpYmUoJ1N5bmNQZXJmb3JtYW5jZU9wdGltaXplcicsICgpID0+IHtcbiAgbGV0IG9wdGltaXplcjogU3luY1BlcmZvcm1hbmNlT3B0aW1pemVyXG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKVxuICAgIG9wdGltaXplciA9IG5ldyBTeW5jUGVyZm9ybWFuY2VPcHRpbWl6ZXIoKVxuICB9KVxuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKClcbiAgfSlcblxuICBkZXNjcmliZSgn5Yid5aeL5YyWJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmraPnoa7liJ3lp4vljJbkvJjljJblmagnLCAoKSA9PiB7XG4gICAgICBleHBlY3Qob3B0aW1pemVyKS50b0JlRGVmaW5lZCgpXG4gICAgICBcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBvcHRpbWl6ZXIuZ2V0Q3VycmVudE1ldHJpY3MoKVxuICAgICAgZXhwZWN0KG1ldHJpY3MudG90YWxPcGVyYXRpb25zKS50b0JlKDApXG4gICAgICBleHBlY3QobWV0cmljcy5zdWNjZXNzUmF0ZSkudG9CZSgwKVxuICAgICAgZXhwZWN0KG1ldHJpY3MuYXZlcmFnZVJlc3BvbnNlVGltZSkudG9CZSgwKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+aAp+iDveS8mOWMluaTjeS9nOaJp+ihjCcsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5omn6KGM5LyY5YyW5ZCO55qE5ZCM5q2l5pON5L2cJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja09wZXJhdGlvbjogTG9jYWxTeW5jT3BlcmF0aW9uID0ge1xuICAgICAgICBpZDogJ29wLTEnLFxuICAgICAgICB0eXBlOiAnY3JlYXRlJyxcbiAgICAgICAgdGFibGU6ICdjYXJkcycsXG4gICAgICAgIGRhdGE6IHsgZnJvbnRDb250ZW50OiAndGVzdCcsIGJhY2tDb250ZW50OiAnYW5zd2VyJyB9LFxuICAgICAgICBsb2NhbElkOiAnY2FyZC0xJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICBsb2NhbFZlcnNpb246IDEsXG4gICAgICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xuICAgICAgfVxuXG4gICAgICAvLyDmqKHmi5/miJDlip/nmoTmk43kvZzmiafooYxcbiAgICAgIGNvbnN0IG1vY2tFeGVjdXRvciA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN1Y2Nlc3M6IHRydWUsIGxhdGVuY3k6IDEwMCB9KVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcHRpbWl6ZXIuZXhlY3V0ZU9wdGltaXplZE9wZXJhdGlvbihtb2NrT3BlcmF0aW9uLCBtb2NrRXhlY3V0b3IpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHJlc3VsdC5vcGVyYXRpb25JZCkudG9CZSgnb3AtMScpXG4gICAgICBleHBlY3QocmVzdWx0LmxhdGVuY3kpLnRvQmUoMTAwKVxuICAgICAgZXhwZWN0KHJlc3VsdC5tZXRyaWNzKS50b0JlRGVmaW5lZCgpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlpITnkIbmk43kvZzmiafooYzlpLHotKUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT3BlcmF0aW9uOiBMb2NhbFN5bmNPcGVyYXRpb24gPSB7XG4gICAgICAgIGlkOiAnb3AtMScsXG4gICAgICAgIHR5cGU6ICdjcmVhdGUnLFxuICAgICAgICB0YWJsZTogJ2NhcmRzJyxcbiAgICAgICAgZGF0YTogeyBmcm9udENvbnRlbnQ6ICd0ZXN0JywgYmFja0NvbnRlbnQ6ICdhbnN3ZXInIH0sXG4gICAgICAgIGxvY2FsSWQ6ICdjYXJkLTEnLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcmV0cnlDb3VudDogMCxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgIGxvY2FsVmVyc2lvbjogMSxcbiAgICAgICAgcHJpb3JpdHk6ICdub3JtYWwnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1vY2tFeGVjdXRvciA9IGplc3QuZm4oKS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKSlcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3B0aW1pemVyLmV4ZWN1dGVPcHRpbWl6ZWRPcGVyYXRpb24obW9ja09wZXJhdGlvbiwgbW9ja0V4ZWN1dG9yKVxuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpXG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKCdOZXR3b3JrIGVycm9yJylcbiAgICAgIGV4cGVjdChyZXN1bHQucmV0cnlDb3VudCkudG9CZSgxKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l6Lef6Liq5rS75Yqo5pON5L2cJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja09wZXJhdGlvbjE6IExvY2FsU3luY09wZXJhdGlvbiA9IHtcbiAgICAgICAgaWQ6ICdvcC0xJyxcbiAgICAgICAgdHlwZTogJ2NyZWF0ZScsXG4gICAgICAgIHRhYmxlOiAnY2FyZHMnLFxuICAgICAgICBkYXRhOiB7IGZyb250Q29udGVudDogJ3Rlc3QxJyB9LFxuICAgICAgICBsb2NhbElkOiAnY2FyZC0xJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICBsb2NhbFZlcnNpb246IDEsXG4gICAgICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtb2NrT3BlcmF0aW9uMjogTG9jYWxTeW5jT3BlcmF0aW9uID0ge1xuICAgICAgICBpZDogJ29wLTInLFxuICAgICAgICB0eXBlOiAndXBkYXRlJyxcbiAgICAgICAgdGFibGU6ICdjYXJkcycsXG4gICAgICAgIGRhdGE6IHsgZnJvbnRDb250ZW50OiAndGVzdDInIH0sXG4gICAgICAgIGxvY2FsSWQ6ICdjYXJkLTInLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcmV0cnlDb3VudDogMCxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgIGxvY2FsVmVyc2lvbjogMSxcbiAgICAgICAgcHJpb3JpdHk6ICdub3JtYWwnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1vY2tFeGVjdXRvciA9IGplc3QuZm4oKVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgc3VjY2VzczogdHJ1ZSwgbGF0ZW5jeTogMTAwIH0pXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyBzdWNjZXNzOiB0cnVlLCBsYXRlbmN5OiAxNTAgfSlcblxuICAgICAgLy8g5bm25Y+R5omn6KGM5pON5L2cXG4gICAgICBjb25zdCBwcm9taXNlMSA9IG9wdGltaXplci5leGVjdXRlT3B0aW1pemVkT3BlcmF0aW9uKG1vY2tPcGVyYXRpb24xLCBtb2NrRXhlY3V0b3IpXG4gICAgICBjb25zdCBwcm9taXNlMiA9IG9wdGltaXplci5leGVjdXRlT3B0aW1pemVkT3BlcmF0aW9uKG1vY2tPcGVyYXRpb24yLCBtb2NrRXhlY3V0b3IpXG5cbiAgICAgIC8vIOajgOafpea0u+WKqOaTjeS9nOiuoeaVsFxuICAgICAgY29uc3QgYWN0aXZlT3BzID0gb3B0aW1pemVyLmdldEFjdGl2ZU9wZXJhdGlvbkNvdW50KClcbiAgICAgIGV4cGVjdChhY3RpdmVPcHMpLnRvQmUoMilcblxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW3Byb21pc2UxLCBwcm9taXNlMl0pXG5cbiAgICAgIC8vIOaTjeS9nOWujOaIkOWQju+8jOa0u+WKqOaTjeS9nOaVsOW6lOivpeS4ujBcbiAgICAgIGV4cGVjdChvcHRpbWl6ZXIuZ2V0QWN0aXZlT3BlcmF0aW9uQ291bnQoKSkudG9CZSgwKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+aJuemHj+WkhOeQhicsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5omn6KGM5om56YeP5pON5L2cJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja09wZXJhdGlvbnM6IExvY2FsU3luY09wZXJhdGlvbltdID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdvcC0xJyxcbiAgICAgICAgICB0eXBlOiAnY3JlYXRlJyxcbiAgICAgICAgICB0YWJsZTogJ2NhcmRzJyxcbiAgICAgICAgICBkYXRhOiB7IGZyb250Q29udGVudDogJ3Rlc3QxJyB9LFxuICAgICAgICAgIGxvY2FsSWQ6ICdjYXJkLTEnLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgICAgbG9jYWxWZXJzaW9uOiAxLFxuICAgICAgICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdvcC0yJyxcbiAgICAgICAgICB0eXBlOiAnY3JlYXRlJyxcbiAgICAgICAgICB0YWJsZTogJ2NhcmRzJyxcbiAgICAgICAgICBkYXRhOiB7IGZyb250Q29udGVudDogJ3Rlc3QyJyB9LFxuICAgICAgICAgIGxvY2FsSWQ6ICdjYXJkLTInLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgICAgbG9jYWxWZXJzaW9uOiAxLFxuICAgICAgICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xuICAgICAgICB9XG4gICAgICBdXG5cbiAgICAgIGNvbnN0IG1vY2tCYXRjaEV4ZWN1dG9yID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgcmVzdWx0czogW1xuICAgICAgICAgIHsgc3VjY2VzczogdHJ1ZSwgbGF0ZW5jeTogNTAgfSxcbiAgICAgICAgICB7IHN1Y2Nlc3M6IHRydWUsIGxhdGVuY3k6IDc1IH1cbiAgICAgICAgXSxcbiAgICAgICAgdG90YWxMYXRlbmN5OiAxMjVcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wdGltaXplci5leGVjdXRlQmF0Y2hPcGVyYXRpb25zKG1vY2tPcGVyYXRpb25zLCBtb2NrQmF0Y2hFeGVjdXRvcilcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgyKVxuICAgICAgZXhwZWN0KHJlc3VsdC5hdmVyYWdlTGF0ZW5jeSkudG9CZSg2Mi41KVxuICAgICAgZXhwZWN0KG1vY2tCYXRjaEV4ZWN1dG9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChtb2NrT3BlcmF0aW9ucywgZXhwZWN0LmFueShPYmplY3QpKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l5LyY5YyW5om56YeP5aSn5bCPJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbGFyZ2VCYXRjaFNpemUgPSA1MFxuICAgICAgY29uc3QgbW9ja09wZXJhdGlvbnM6IExvY2FsU3luY09wZXJhdGlvbltdID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogbGFyZ2VCYXRjaFNpemUgfSwgKF8sIGkpID0+ICh7XG4gICAgICAgIGlkOiBgb3AtJHtpfWAsXG4gICAgICAgIHR5cGU6ICdjcmVhdGUnIGFzIGNvbnN0LFxuICAgICAgICB0YWJsZTogJ2NhcmRzJyBhcyBjb25zdCxcbiAgICAgICAgZGF0YTogeyBmcm9udENvbnRlbnQ6IGB0ZXN0JHtpfWAgfSxcbiAgICAgICAgbG9jYWxJZDogYGNhcmQtJHtpfWAsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyBhcyBjb25zdCxcbiAgICAgICAgbG9jYWxWZXJzaW9uOiAxLFxuICAgICAgICBwcmlvcml0eTogJ25vcm1hbCcgYXMgY29uc3RcbiAgICAgIH0pKVxuXG4gICAgICBjb25zdCBtb2NrQmF0Y2hFeGVjdXRvciA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHJlc3VsdHM6IG1vY2tPcGVyYXRpb25zLm1hcCgoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBsYXRlbmN5OiA1MCB9KSksXG4gICAgICAgIHRvdGFsTGF0ZW5jeTogMjUwMFxuICAgICAgfSlcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3B0aW1pemVyLmV4ZWN1dGVCYXRjaE9wZXJhdGlvbnMobW9ja09wZXJhdGlvbnMsIG1vY2tCYXRjaEV4ZWN1dG9yKVxuXG4gICAgICAvLyDlupTor6Xoh6rliqjliIbmibnlpITnkIZcbiAgICAgIGV4cGVjdChtb2NrQmF0Y2hFeGVjdXRvcikudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgICBleHBlY3QocmVzdWx0LnRvdGFsT3BlcmF0aW9ucykudG9CZShsYXJnZUJhdGNoU2l6ZSlcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeWkhOeQhuaJuemHj+aTjeS9nOS4reeahOmDqOWIhuWksei0pScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPcGVyYXRpb25zOiBMb2NhbFN5bmNPcGVyYXRpb25bXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnb3AtMScsXG4gICAgICAgICAgdHlwZTogJ2NyZWF0ZScsXG4gICAgICAgICAgdGFibGU6ICdjYXJkcycsXG4gICAgICAgICAgZGF0YTogeyBmcm9udENvbnRlbnQ6ICd0ZXN0MScgfSxcbiAgICAgICAgICBsb2NhbElkOiAnY2FyZC0xJyxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICAgIGxvY2FsVmVyc2lvbjogMSxcbiAgICAgICAgICBwcmlvcml0eTogJ25vcm1hbCdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnb3AtMicsXG4gICAgICAgICAgdHlwZTogJ2NyZWF0ZScsXG4gICAgICAgICAgdGFibGU6ICdjYXJkcycsXG4gICAgICAgICAgZGF0YTogeyBmcm9udENvbnRlbnQ6ICd0ZXN0MicgfSxcbiAgICAgICAgICBsb2NhbElkOiAnY2FyZC0yJyxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICAgIGxvY2FsVmVyc2lvbjogMSxcbiAgICAgICAgICBwcmlvcml0eTogJ25vcm1hbCdcbiAgICAgICAgfVxuICAgICAgXVxuXG4gICAgICBjb25zdCBtb2NrQmF0Y2hFeGVjdXRvciA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICByZXN1bHRzOiBbXG4gICAgICAgICAgeyBzdWNjZXNzOiB0cnVlLCBsYXRlbmN5OiA1MCB9LFxuICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGxhdGVuY3k6IDEwMCwgZXJyb3I6ICdWYWxpZGF0aW9uIGZhaWxlZCcgfVxuICAgICAgICBdLFxuICAgICAgICB0b3RhbExhdGVuY3k6IDE1MCxcbiAgICAgICAgZXJyb3I6ICdQYXJ0aWFsIGJhdGNoIGZhaWx1cmUnXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcHRpbWl6ZXIuZXhlY3V0ZUJhdGNoT3BlcmF0aW9ucyhtb2NrT3BlcmF0aW9ucywgbW9ja0JhdGNoRXhlY3V0b3IpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSlcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2Vzc2Z1bE9wZXJhdGlvbnMpLnRvQmUoMSlcbiAgICAgIGV4cGVjdChyZXN1bHQuZmFpbGVkT3BlcmF0aW9ucykudG9CZSgxKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+iHqumAguW6lOWPguaVsOiwg+aVtCcsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5qC55o2u5oCn6IO96Ieq5Yqo6LCD5pW05om56YeP5aSn5bCPJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8g5qih5ouf6Imv5aW955qE5oCn6IO9XG4gICAgICBjb25zdCBnb29kUmVzdWx0cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwIH0sICgpID0+ICh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGxhdGVuY3k6IDUwXG4gICAgICB9KSlcblxuICAgICAgZ29vZFJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICBvcHRpbWl6ZXIucmVjb3JkT3BlcmF0aW9uUmVzdWx0KHJlc3VsdClcbiAgICAgIH0pXG5cbiAgICAgIC8vIOinpuWPkeiHqumAguW6lOiwg+aVtFxuICAgICAgYXdhaXQgb3B0aW1pemVyLmFkYXB0UGFyYW1ldGVycygpXG5cbiAgICAgIGNvbnN0IHBhcmFtcyA9IG9wdGltaXplci5nZXRBZGFwdGl2ZVBhcmFtcygpXG4gICAgICBleHBlY3QocGFyYW1zLmN1cnJlbnRCYXRjaFNpemUpLnRvQmVHcmVhdGVyVGhhbihvcHRpbWl6ZXIuY29uZmlnLmJhdGNoLmlkZWFsQmF0Y2hTaXplKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l5Zyo6auY5bu26L+f5pe25YeP5bCP5om56YeP5aSn5bCPJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8g5qih5ouf6auY5bu26L+fXG4gICAgICBjb25zdCBoaWdoTGF0ZW5jeVJlc3VsdHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1IH0sICgpID0+ICh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGxhdGVuY3k6IDIwMDAgLy8g6auY5bu26L+fXG4gICAgICB9KSlcblxuICAgICAgaGlnaExhdGVuY3lSZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcbiAgICAgICAgb3B0aW1pemVyLnJlY29yZE9wZXJhdGlvblJlc3VsdChyZXN1bHQpXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCBvcHRpbWl6ZXIuYWRhcHRQYXJhbWV0ZXJzKClcblxuICAgICAgY29uc3QgcGFyYW1zID0gb3B0aW1pemVyLmdldEFkYXB0aXZlUGFyYW1zKClcbiAgICAgIGV4cGVjdChwYXJhbXMuY3VycmVudEJhdGNoU2l6ZSkudG9CZUxlc3NUaGFuKG9wdGltaXplci5jb25maWcuYmF0Y2guaWRlYWxCYXRjaFNpemUpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlnKjplJnor6/njofpq5jml7blh4/lsJHlubblj5HmlbAnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyDmqKHmi5/pq5jplJnor6/njodcbiAgICAgIGNvbnN0IGVycm9yUmVzdWx0cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwIH0sICgpID0+ICh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ05ldHdvcmsgdGltZW91dCdcbiAgICAgIH0pKVxuXG4gICAgICBlcnJvclJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICBvcHRpbWl6ZXIucmVjb3JkT3BlcmF0aW9uUmVzdWx0KHJlc3VsdClcbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IG9wdGltaXplci5hZGFwdFBhcmFtZXRlcnMoKVxuXG4gICAgICBjb25zdCBwYXJhbXMgPSBvcHRpbWl6ZXIuZ2V0QWRhcHRpdmVQYXJhbXMoKVxuICAgICAgZXhwZWN0KHBhcmFtcy5jdXJyZW50Q29uY3VycmVuY3kpLnRvQmVMZXNzVGhhbihvcHRpbWl6ZXIuY29uZmlnLnRocm90dGxlLm1heENvbmN1cnJlbnRPcGVyYXRpb25zKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l5Zyo572R57uc5p2h5Lu25pS55ZaE5pe25oGi5aSN5Y+C5pWwJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8g5YWI5qih5ouf5beu55qE5oCn6IO9XG4gICAgICBjb25zdCBiYWRSZXN1bHRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNSB9LCAoKSA9PiAoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbGF0ZW5jeTogMzAwMCxcbiAgICAgICAgZXJyb3I6ICdUaW1lb3V0J1xuICAgICAgfSkpXG5cbiAgICAgIGJhZFJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICBvcHRpbWl6ZXIucmVjb3JkT3BlcmF0aW9uUmVzdWx0KHJlc3VsdClcbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IG9wdGltaXplci5hZGFwdFBhcmFtZXRlcnMoKVxuICAgICAgY29uc3QgYmFkUGFyYW1zID0gb3B0aW1pemVyLmdldEFkYXB0aXZlUGFyYW1zKClcblxuICAgICAgLy8g54S25ZCO5qih5ouf5aW955qE5oCn6IO9XG4gICAgICBjb25zdCBnb29kUmVzdWx0cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwIH0sICgpID0+ICh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGxhdGVuY3k6IDEwMFxuICAgICAgfSkpXG5cbiAgICAgIGdvb2RSZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcbiAgICAgICAgb3B0aW1pemVyLnJlY29yZE9wZXJhdGlvblJlc3VsdChyZXN1bHQpXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCBvcHRpbWl6ZXIuYWRhcHRQYXJhbWV0ZXJzKClcbiAgICAgIGNvbnN0IGdvb2RQYXJhbXMgPSBvcHRpbWl6ZXIuZ2V0QWRhcHRpdmVQYXJhbXMoKVxuXG4gICAgICBleHBlY3QoZ29vZFBhcmFtcy5jdXJyZW50QmF0Y2hTaXplKS50b0JlR3JlYXRlclRoYW4oYmFkUGFyYW1zLmN1cnJlbnRCYXRjaFNpemUpXG4gICAgICBleHBlY3QoZ29vZFBhcmFtcy5jdXJyZW50Q29uY3VycmVuY3kpLnRvQmVHcmVhdGVyVGhhbihiYWRQYXJhbXMuY3VycmVudENvbmN1cnJlbmN5KVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+aAp+iDveebkeaOpycsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l6K6w5b2V5pON5L2c57uT5p6cJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBsYXRlbmN5OiAxNTAsXG4gICAgICAgIG9wZXJhdGlvbklkOiAnb3AtMSdcbiAgICAgIH1cblxuICAgICAgb3B0aW1pemVyLnJlY29yZE9wZXJhdGlvblJlc3VsdChyZXN1bHQpXG5cbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBvcHRpbWl6ZXIuZ2V0Q3VycmVudE1ldHJpY3MoKVxuICAgICAgZXhwZWN0KG1ldHJpY3MudG90YWxPcGVyYXRpb25zKS50b0JlKDEpXG4gICAgICBleHBlY3QobWV0cmljcy5zdWNjZXNzZnVsT3BlcmF0aW9ucykudG9CZSgxKVxuICAgICAgZXhwZWN0KG1ldHJpY3MuZmFpbGVkT3BlcmF0aW9ucykudG9CZSgwKVxuICAgICAgZXhwZWN0KG1ldHJpY3MuYXZlcmFnZVJlc3BvbnNlVGltZSkudG9CZSgxNTApXG4gICAgfSlcblxuICAgIGl0KCflupTor6XorqHnrpfmraPnoa7nmoTmiJDlip/njocnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHRzID0gW1xuICAgICAgICB7IHN1Y2Nlc3M6IHRydWUsIGxhdGVuY3k6IDEwMCB9LFxuICAgICAgICB7IHN1Y2Nlc3M6IHRydWUsIGxhdGVuY3k6IDEyMCB9LFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBsYXRlbmN5OiAyMDAsIGVycm9yOiAnRXJyb3InIH0sXG4gICAgICAgIHsgc3VjY2VzczogdHJ1ZSwgbGF0ZW5jeTogODAgfVxuICAgICAgXVxuXG4gICAgICByZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcbiAgICAgICAgb3B0aW1pemVyLnJlY29yZE9wZXJhdGlvblJlc3VsdChyZXN1bHQpXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBtZXRyaWNzID0gb3B0aW1pemVyLmdldEN1cnJlbnRNZXRyaWNzKClcbiAgICAgIGV4cGVjdChtZXRyaWNzLnRvdGFsT3BlcmF0aW9ucykudG9CZSg0KVxuICAgICAgZXhwZWN0KG1ldHJpY3Muc3VjY2Vzc2Z1bE9wZXJhdGlvbnMpLnRvQmUoMylcbiAgICAgIGV4cGVjdChtZXRyaWNzLmZhaWxlZE9wZXJhdGlvbnMpLnRvQmUoMSlcbiAgICAgIGV4cGVjdChtZXRyaWNzLnN1Y2Nlc3NSYXRlKS50b0JlKDc1KVxuICAgICAgZXhwZWN0KG1ldHJpY3MuYXZlcmFnZVJlc3BvbnNlVGltZSkudG9CZSgxMjUpIC8vICgxMDArMTIwKzIwMCs4MCkvNFxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l6Lef6Liq5pyA6L+R5oCn6IO9JywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVjZW50UmVzdWx0cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDIwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICBzdWNjZXNzOiBpICUgNCAhPT0gMCwgLy8gNzUlIOaIkOWKn+eOh1xuICAgICAgICBsYXRlbmN5OiAxMDAgKyBpICogMTBcbiAgICAgIH0pKVxuXG4gICAgICByZWNlbnRSZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcbiAgICAgICAgb3B0aW1pemVyLnJlY29yZE9wZXJhdGlvblJlc3VsdChyZXN1bHQpXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZWNlbnRNZXRyaWNzID0gb3B0aW1pemVyLmdldFJlY2VudFBlcmZvcm1hbmNlKDEwKSAvLyDmnIDov5ExMOS4quaTjeS9nFxuICAgICAgZXhwZWN0KHJlY2VudE1ldHJpY3MudG90YWxPcGVyYXRpb25zKS50b0JlKDEwKVxuICAgICAgZXhwZWN0KHJlY2VudE1ldHJpY3Muc3VjY2Vzc1JhdGUpLnRvQmUoNzUpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn6IqC5rWB5o6n5Yi2JywgKCkgPT4ge1xuICAgIGl0KCflupTor6XpmZDliLblubblj5Hmk43kvZzmlbDph48nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT3BlcmF0aW9uOiBMb2NhbFN5bmNPcGVyYXRpb24gPSB7XG4gICAgICAgIGlkOiAnb3AtMScsXG4gICAgICAgIHR5cGU6ICdjcmVhdGUnLFxuICAgICAgICB0YWJsZTogJ2NhcmRzJyxcbiAgICAgICAgZGF0YTogeyBmcm9udENvbnRlbnQ6ICd0ZXN0JyB9LFxuICAgICAgICBsb2NhbElkOiAnY2FyZC0xJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICBsb2NhbFZlcnNpb246IDEsXG4gICAgICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtb2NrRXhlY3V0b3IgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBzdWNjZXNzOiB0cnVlLCBsYXRlbmN5OiAxMDAgfSlcblxuICAgICAgLy8g6K6+572u5L2O5bm25Y+R6ZmQ5Yi2XG4gICAgICBvcHRpbWl6ZXIudXBkYXRlQ29uZmlnKHtcbiAgICAgICAgdGhyb3R0bGU6IHtcbiAgICAgICAgICBtYXhDb25jdXJyZW50T3BlcmF0aW9uczogMSxcbiAgICAgICAgICByYXRlTGltaXRXaW5kb3c6IDEwMDAsXG4gICAgICAgICAgbWF4T3BlcmF0aW9uc1BlcldpbmRvdzogMTBcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8g5ZCv5Yqo5aSa5Liq5pON5L2cXG4gICAgICBjb25zdCBwcm9taXNlcyA9IFtdXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBjb25zdCBvcCA9IHsgLi4ubW9ja09wZXJhdGlvbiwgaWQ6IGBvcC0ke2l9YCwgbG9jYWxJZDogYGNhcmQtJHtpfWAgfVxuICAgICAgICBwcm9taXNlcy5wdXNoKG9wdGltaXplci5leGVjdXRlT3B0aW1pemVkT3BlcmF0aW9uKG9wLCBtb2NrRXhlY3V0b3IpKVxuICAgICAgfVxuXG4gICAgICAvLyDlnKjlkIzkuIDml7bpl7TvvIzlupTor6Xlj6rmnInkuIDkuKrmk43kvZzlnKjmiafooYxcbiAgICAgIGV4cGVjdChvcHRpbWl6ZXIuZ2V0QWN0aXZlT3BlcmF0aW9uQ291bnQoKSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxKVxuXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeWunuaWvemAn+eOh+mZkOWIticsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPcGVyYXRpb246IExvY2FsU3luY09wZXJhdGlvbiA9IHtcbiAgICAgICAgaWQ6ICdvcC0xJyxcbiAgICAgICAgdHlwZTogJ2NyZWF0ZScsXG4gICAgICAgIHRhYmxlOiAnY2FyZHMnLFxuICAgICAgICBkYXRhOiB7IGZyb250Q29udGVudDogJ3Rlc3QnIH0sXG4gICAgICAgIGxvY2FsSWQ6ICdjYXJkLTEnLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcmV0cnlDb3VudDogMCxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgIGxvY2FsVmVyc2lvbjogMSxcbiAgICAgICAgcHJpb3JpdHk6ICdub3JtYWwnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1vY2tFeGVjdXRvciA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN1Y2Nlc3M6IHRydWUsIGxhdGVuY3k6IDUwIH0pXG5cbiAgICAgIC8vIOiuvue9ruS4peagvOeahOmAn+eOh+mZkOWItlxuICAgICAgb3B0aW1pemVyLnVwZGF0ZUNvbmZpZyh7XG4gICAgICAgIHRocm90dGxlOiB7XG4gICAgICAgICAgbWF4Q29uY3VycmVudE9wZXJhdGlvbnM6IDUsXG4gICAgICAgICAgcmF0ZUxpbWl0V2luZG93OiAxMDAwLFxuICAgICAgICAgIG1heE9wZXJhdGlvbnNQZXJXaW5kb3c6IDJcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8g5b+r6YCf5omn6KGM5aSa5Liq5pON5L2cXG4gICAgICBjb25zdCBwcm9taXNlcyA9IFtdXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICBjb25zdCBvcCA9IHsgLi4ubW9ja09wZXJhdGlvbiwgaWQ6IGBvcC0ke2l9YCwgbG9jYWxJZDogYGNhcmQtJHtpfWAgfVxuICAgICAgICBwcm9taXNlcy5wdXNoKG9wdGltaXplci5leGVjdXRlT3B0aW1pemVkT3BlcmF0aW9uKG9wLCBtb2NrRXhlY3V0b3IpKVxuICAgICAgfVxuXG4gICAgICAvLyDliY3kuKTkuKrmk43kvZzlupTor6Xnq4vljbPmiafooYxcbiAgICAgIGF3YWl0IGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgwKVxuICAgICAgZXhwZWN0KG9wdGltaXplci5nZXRBY3RpdmVPcGVyYXRpb25Db3VudCgpKS50b0JlKDIpXG5cbiAgICAgIC8vIOetieW+hemAn+eOh+mZkOWItueql+WPo+mHjee9rlxuICAgICAgYXdhaXQgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMDEpXG4gICAgICBcbiAgICAgIC8vIOWQjue7reaTjeS9nOW6lOivpeiDveWkn+aJp+ihjFxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5oCn6IO95LyY5YyW5bu66K6uJywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xmj5DkvpvmgKfog73kvJjljJblu7rorq4nLCAoKSA9PiB7XG4gICAgICAvLyDmqKHmi5/kuK3nrYnmgKfog71cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXG4gICAgICAgIHsgc3VjY2VzczogdHJ1ZSwgbGF0ZW5jeTogMjAwIH0sXG4gICAgICAgIHsgc3VjY2VzczogdHJ1ZSwgbGF0ZW5jeTogMjUwIH0sXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGxhdGVuY3k6IDUwMCwgZXJyb3I6ICdUaW1lb3V0JyB9LFxuICAgICAgICB7IHN1Y2Nlc3M6IHRydWUsIGxhdGVuY3k6IDE4MCB9XG4gICAgICBdXG5cbiAgICAgIHJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICBvcHRpbWl6ZXIucmVjb3JkT3BlcmF0aW9uUmVzdWx0KHJlc3VsdClcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IG9wdGltaXplci5nZXRQZXJmb3JtYW5jZVJlY29tbWVuZGF0aW9ucygpXG5cbiAgICAgIGV4cGVjdChyZWNvbW1lbmRhdGlvbnMpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlY29tbWVuZGF0aW9ucy5zdWdnZXN0aW9ucykpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChyZWNvbW1lbmRhdGlvbnMuY3VycmVudEhlYWx0aCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHR5cGVvZiByZWNvbW1lbmRhdGlvbnMuY3VycmVudEhlYWx0aC5zY29yZSkudG9CZSgnbnVtYmVyJylcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeWcqOaAp+iDveiJr+WlveaXtuW7uuiuruWinuWKoOWQnuWQkOmHjycsICgpID0+IHtcbiAgICAgIGNvbnN0IGdvb2RSZXN1bHRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAgfSwgKCkgPT4gKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbGF0ZW5jeTogNTBcbiAgICAgIH0pKVxuXG4gICAgICBnb29kUmVzdWx0cy5mb3JFYWNoKHJlc3VsdCA9PiB7XG4gICAgICAgIG9wdGltaXplci5yZWNvcmRPcGVyYXRpb25SZXN1bHQocmVzdWx0KVxuICAgICAgfSlcblxuICAgICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gb3B0aW1pemVyLmdldFBlcmZvcm1hbmNlUmVjb21tZW5kYXRpb25zKClcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlY29tbWVuZGF0aW9ucy5jdXJyZW50SGVhbHRoLnNjb3JlKS50b0JlR3JlYXRlclRoYW4oODApXG4gICAgICBleHBlY3QocmVjb21tZW5kYXRpb25zLnN1Z2dlc3Rpb25zLnNvbWUocyA9PiBzLmluY2x1ZGVzKCdpbmNyZWFzZScpIHx8IHMuaW5jbHVkZXMoJ29wdGltaXplJykpKS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlnKjmgKfog73lt67ml7blu7rorq7lh4/lsJHotJ/ovb0nLCAoKSA9PiB7XG4gICAgICBjb25zdCBiYWRSZXN1bHRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAgfSwgKCkgPT4gKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGxhdGVuY3k6IDEwMDAsXG4gICAgICAgIGVycm9yOiAnTmV0d29yayBlcnJvcidcbiAgICAgIH0pKVxuXG4gICAgICBiYWRSZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcbiAgICAgICAgb3B0aW1pemVyLnJlY29yZE9wZXJhdGlvblJlc3VsdChyZXN1bHQpXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSBvcHRpbWl6ZXIuZ2V0UGVyZm9ybWFuY2VSZWNvbW1lbmRhdGlvbnMoKVxuICAgICAgXG4gICAgICBleHBlY3QocmVjb21tZW5kYXRpb25zLmN1cnJlbnRIZWFsdGguc2NvcmUpLnRvQmVMZXNzVGhhbig1MClcbiAgICAgIGV4cGVjdChyZWNvbW1lbmRhdGlvbnMuc3VnZ2VzdGlvbnMuc29tZShzID0+IHMuaW5jbHVkZXMoJ3JlZHVjZScpIHx8IHMuaW5jbHVkZXMoJ2RlY3JlYXNlJykpKS50b0JlKHRydWUpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5YaF5a2Y566h55CGJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XlrprmnJ/muIXnkIbljoblj7LmlbDmja4nLCAoKSA9PiB7XG4gICAgICAvLyDmt7vliqDlpKfph4/ljoblj7LmlbDmja5cbiAgICAgIGNvbnN0IG9sZFJlc3VsdHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBsYXRlbmN5OiAxMDAsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSAtIChpICogMTAwMCkgLy8g5q+P56eS5LiA5Liq57uT5p6cXG4gICAgICB9KSlcblxuICAgICAgb2xkUmVzdWx0cy5mb3JFYWNoKHJlc3VsdCA9PiB7XG4gICAgICAgIG9wdGltaXplci5yZWNvcmRPcGVyYXRpb25SZXN1bHQocmVzdWx0KVxuICAgICAgfSlcblxuICAgICAgLy8g6Kem5Y+R5riF55CGXG4gICAgICBvcHRpbWl6ZXIuY2xlYW51cE9sZERhdGEoKVxuXG4gICAgICBjb25zdCBtZXRyaWNzID0gb3B0aW1pemVyLmdldEN1cnJlbnRNZXRyaWNzKClcbiAgICAgIC8vIOW6lOivpeWPquS/neeVmeacgOi/keeahOaVsOaNrlxuICAgICAgZXhwZWN0KG1ldHJpY3MudG90YWxPcGVyYXRpb25zKS50b0JlTGVzc1RoYW4oMTAwMClcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeaPkOS+m+WGheWtmOS9v+eUqOe7n+iuoScsICgpID0+IHtcbiAgICAgIC8vIOa3u+WKoOS4gOS6m+a1i+ivleaVsOaNrlxuICAgICAgY29uc3QgcmVzdWx0cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDUwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBsYXRlbmN5OiAxMDAgKyBpXG4gICAgICB9KSlcblxuICAgICAgcmVzdWx0cy5mb3JFYWNoKHJlc3VsdCA9PiB7XG4gICAgICAgIG9wdGltaXplci5yZWNvcmRPcGVyYXRpb25SZXN1bHQocmVzdWx0KVxuICAgICAgfSlcblxuICAgICAgY29uc3QgbWVtb3J5U3RhdHMgPSBvcHRpbWl6ZXIuZ2V0TWVtb3J5U3RhdHMoKVxuXG4gICAgICBleHBlY3QobWVtb3J5U3RhdHMudG90YWxIaXN0b3J5U2l6ZSkudG9CZSg1MClcbiAgICAgIGV4cGVjdChtZW1vcnlTdGF0cy5yZWNlbnRIaXN0b3J5U2l6ZSkudG9CZUxlc3NUaGFuT3JFcXVhbCg1MClcbiAgICAgIGV4cGVjdChtZW1vcnlTdGF0cy5lc3RpbWF0ZWRNZW1vcnlVc2FnZSkudG9CZUdyZWF0ZXJUaGFuKDApXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn6YWN572u566h55CGJywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xog73lpJ/mm7TmlrDmgKfog73phY3nva4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXdDb25maWcgPSB7XG4gICAgICAgIG1vbml0b3Jpbmc6IHtcbiAgICAgICAgICBzYW1wbGVTaXplOiAyMDAsXG4gICAgICAgICAgaGlzdG9yeVNpemU6IDEwMDAsXG4gICAgICAgICAgYXV0b0FkYXB0SW50ZXJ2YWw6IDYwMDAwXG4gICAgICAgIH0sXG4gICAgICAgIGJhdGNoOiB7XG4gICAgICAgICAgaWRlYWxCYXRjaFNpemU6IDI1LFxuICAgICAgICAgIG1heEJhdGNoU2l6ZTogMTAwLFxuICAgICAgICAgIG1pbkJhdGNoU2l6ZTogNSxcbiAgICAgICAgICBhZGFwdGl2ZUVuYWJsZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgdGhyb3R0bGU6IHtcbiAgICAgICAgICBtYXhDb25jdXJyZW50T3BlcmF0aW9uczogNSxcbiAgICAgICAgICByYXRlTGltaXRXaW5kb3c6IDIwMDAsXG4gICAgICAgICAgbWF4T3BlcmF0aW9uc1BlcldpbmRvdzogMjAsXG4gICAgICAgICAgYWRhcHRpdmVUaHJvdHRsaW5nOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgb3B0aW1pemVyLnVwZGF0ZUNvbmZpZyhuZXdDb25maWcpXG5cbiAgICAgIC8vIOmqjOivgemFjee9ruW3suabtOaWsFxuICAgICAgZXhwZWN0KG9wdGltaXplci5jb25maWcpLnRvTWF0Y2hPYmplY3QobmV3Q29uZmlnKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l6aqM6K+B6YWN572u5Y+C5pWwJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZENvbmZpZyA9IHtcbiAgICAgICAgYmF0Y2g6IHtcbiAgICAgICAgICBpZGVhbEJhdGNoU2l6ZTogLTEsXG4gICAgICAgICAgbWF4QmF0Y2hTaXplOiAwXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZXhwZWN0KCgpID0+IG9wdGltaXplci51cGRhdGVDb25maWcoaW52YWxpZENvbmZpZyBhcyBhbnkpKS50b1Rocm93KClcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpemHjee9ruS4uum7mOiupOmFjee9ricsICgpID0+IHtcbiAgICAgIC8vIOS/ruaUueS4gOS6m+mFjee9rlxuICAgICAgb3B0aW1pemVyLnVwZGF0ZUNvbmZpZyh7XG4gICAgICAgIGJhdGNoOiB7IGlkZWFsQmF0Y2hTaXplOiA1MCB9XG4gICAgICB9KVxuXG4gICAgICAvLyDph43nva5cbiAgICAgIG9wdGltaXplci5yZXNldFRvRGVmYXVsdHMoKVxuXG4gICAgICAvLyDpqozor4Hlt7LmgaLlpI3pu5jorqTlgLxcbiAgICAgIGV4cGVjdChvcHRpbWl6ZXIuY29uZmlnLmJhdGNoLmlkZWFsQmF0Y2hTaXplKS50b0JlKDIwKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+mUmeivr+WkhOeQhicsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5aSE55CG6K6w5b2V57uT5p6c5pe255qE5byC5bi4JywgKCkgPT4ge1xuICAgICAgLy8g5L2/55So5peg5pWI55qE57uT5p6c5a+56LGhXG4gICAgICBjb25zdCBpbnZhbGlkUmVzdWx0ID0gbnVsbCBhcyBhbnlcbiAgICAgIFxuICAgICAgLy8g5bqU6K+l5LiN5Lya5oqb5Ye65byC5bi4XG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBvcHRpbWl6ZXIucmVjb3JkT3BlcmF0aW9uUmVzdWx0KGludmFsaWRSZXN1bHQpXG4gICAgICB9KS5ub3QudG9UaHJvdygpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlpITnkIboh6rpgILlupTosIPmlbTkuK3nmoTlvILluLgnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyDmqKHmi5/oh6rpgILlupTov4fnqIvkuK3nmoTlvILluLhcbiAgICAgIGplc3Quc3B5T24ob3B0aW1pemVyIGFzIGFueSwgJ2NhbGN1bGF0ZU5ld0JhdGNoU2l6ZScpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsY3VsYXRpb24gZXJyb3InKVxuICAgICAgfSlcblxuICAgICAgLy8g5bqU6K+l5LyY6ZuF5Zyw5aSE55CG5byC5bi4XG4gICAgICBhd2FpdCBleHBlY3Qob3B0aW1pemVyLmFkYXB0UGFyYW1ldGVycygpKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlnKjmk43kvZzlpLHotKXml7borrDlvZXplJnor6/or6bmg4UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT3BlcmF0aW9uOiBMb2NhbFN5bmNPcGVyYXRpb24gPSB7XG4gICAgICAgIGlkOiAnb3AtMScsXG4gICAgICAgIHR5cGU6ICdjcmVhdGUnLFxuICAgICAgICB0YWJsZTogJ2NhcmRzJyxcbiAgICAgICAgZGF0YTogeyBmcm9udENvbnRlbnQ6ICd0ZXN0JyB9LFxuICAgICAgICBsb2NhbElkOiAnY2FyZC0xJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICBsb2NhbFZlcnNpb246IDEsXG4gICAgICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtb2NrRXhlY3V0b3IgPSBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpKVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcHRpbWl6ZXIuZXhlY3V0ZU9wdGltaXplZE9wZXJhdGlvbihtb2NrT3BlcmF0aW9uLCBtb2NrRXhlY3V0b3IpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSlcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChyZXN1bHQucmV0cnlDb3VudCkudG9CZSgxKVxuXG4gICAgICBjb25zdCBtZXRyaWNzID0gb3B0aW1pemVyLmdldEN1cnJlbnRNZXRyaWNzKClcbiAgICAgIGV4cGVjdChtZXRyaWNzLmZhaWxlZE9wZXJhdGlvbnMpLnRvQmUoMSlcbiAgICB9KVxuICB9KVxufSkiXSwidmVyc2lvbiI6M30=