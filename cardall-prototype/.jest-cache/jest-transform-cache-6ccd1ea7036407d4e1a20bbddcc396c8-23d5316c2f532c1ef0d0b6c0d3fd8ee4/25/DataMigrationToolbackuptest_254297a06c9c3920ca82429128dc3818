4fb58a686d276425b77b827c1dfb0940
"use strict";
/**
 * 备份恢复机制测试
 */
Object.defineProperty(exports, "__esModule", { value: true });
const data_migration_tool_1 = require("@/services/data-migration-tool");
const database_unified_1 = require("@/services/database-unified");
const test_utils_1 = require("./test-utils");
describe('DataMigrationTool - 备份恢复机制测试', () => {
    const { setupLocalStorageData, cleanupLocalStorage, validateMigrationResult, createProgressListener } = test_utils_1.MigrationTestHelpers;
    describe('备份创建', () => {
        beforeEach(async () => {
            cleanupLocalStorage();
            await database_unified_1.db.clearAll();
        });
        afterEach(async () => {
            cleanupLocalStorage();
            await database_unified_1.db.clearAll();
        });
        test('应该在迁移前创建完整备份', async () => {
            // 先在数据库中准备一些数据
            const existingData = test_utils_1.TestDataFactory.createBulkTestData(5, 2, 3);
            await database_unified_1.db.cards.bulkAdd(existingData.cards.map(card => ({
                ...card,
                userId: 'default',
                syncVersion: 1,
                pendingSync: false,
                updatedAt: new Date(),
                searchVector: 'test vector'
            })));
            await database_unified_1.db.folders.bulkAdd(existingData.folders.map(folder => ({
                ...folder,
                userId: 'default',
                syncVersion: 1,
                pendingSync: false,
                updatedAt: new Date(),
                fullPath: folder.name,
                depth: 0
            })));
            await database_unified_1.db.tags.bulkAdd(existingData.tags.map(tag => ({
                ...tag,
                userId: 'default',
                syncVersion: 1,
                pendingSync: false,
                updatedAt: new Date(),
                count: 0
            })));
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            expect(plan.backupRequired).toBe(true);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            expect(result.rollbackPoint).toBeDefined();
            // 验证备份点数据存在
            const rollbackKey = `rollback_${result.rollbackPoint}`;
            const rollbackData = await database_unified_1.db.settings
                .where('key')
                .equals(rollbackKey)
                .first();
            expect(rollbackData).toBeDefined();
            expect(rollbackData.value).toBeDefined();
            expect(rollbackData.value.data).toBeDefined();
            expect(rollbackData.value.data.cards).toHaveLength(existingData.cards.length);
            expect(rollbackData.value.data.folders).toHaveLength(existingData.folders.length);
            expect(rollbackData.value.data.tags).toHaveLength(existingData.tags.length);
        });
        test('应该正确计算备份校验和', async () => {
            const testData = test_utils_1.TestDataFactory.createBulkTestData(3, 1, 2);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            expect(result.rollbackPoint).toBeDefined();
            // 获取备份数据
            const rollbackKey = `rollback_${result.rollbackPoint}`;
            const rollbackData = await database_unified_1.db.settings
                .where('key')
                .equals(rollbackKey)
                .first();
            expect(rollbackData.value.checksum).toBeDefined();
            expect(typeof rollbackData.value.checksum).toBe('string');
            expect(rollbackData.value.checksum.length).toBe(64); // SHA-256 哈希长度
        });
        test('应该同时保存到localStorage作为额外保护', async () => {
            const testData = test_utils_1.TestDataFactory.createBulkTestData(2, 1, 1);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            expect(result.rollbackPoint).toBeDefined();
            // 验证localStorage中也有备份
            const backupKeys = Object.keys(localStorage);
            const migrationBackups = backupKeys.filter(key => key.startsWith('migration_backup_'));
            expect(migrationBackups.length).toBeGreaterThan(0);
            // 验证备份数据格式
            const backupKey = migrationBackups[0];
            const backupData = JSON.parse(localStorage.getItem(backupKey));
            expect(backupData.id).toBeDefined();
            expect(backupData.timestamp).toBeDefined();
            expect(backupData.data).toBeDefined();
            expect(backupData.checksum).toBeDefined();
        });
        test('应该正确备份设置数据', async () => {
            // 先在数据库中添加一些设置
            await database_unified_1.db.settings.bulkAdd([
                { key: 'theme', value: 'dark', updatedAt: new Date(), scope: 'user' },
                { key: 'language', value: 'zh-CN', updatedAt: new Date(), scope: 'user' },
                { key: 'auto-sync', value: true, updatedAt: new Date(), scope: 'global' }
            ]);
            const testData = test_utils_1.TestDataFactory.createBulkTestData(1, 0, 0);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            // 验证设置数据也被备份
            const rollbackKey = `rollback_${result.rollbackPoint}`;
            const rollbackData = await database_unified_1.db.settings
                .where('key')
                .equals(rollbackKey)
                .first();
            expect(rollbackData.value.data.settings).toBeDefined();
            expect(rollbackData.value.data.settings.length).toBe(3);
            expect(rollbackData.value.data.settings.some((s) => s.key === 'theme')).toBe(true);
        });
        test('应该正确备份同步队列数据', async () => {
            // 添加同步队列数据
            await database_unified_1.db.syncQueue.bulkAdd([
                {
                    type: 'create',
                    entity: 'card',
                    entityId: 'card-1',
                    userId: 'default',
                    timestamp: new Date(),
                    retryCount: 0,
                    maxRetries: 3,
                    priority: 'normal'
                },
                {
                    type: 'update',
                    entity: 'folder',
                    entityId: 'folder-1',
                    userId: 'default',
                    timestamp: new Date(),
                    retryCount: 1,
                    maxRetries: 3,
                    priority: 'high'
                }
            ]);
            const testData = test_utils_1.TestDataFactory.createBulkTestData(1, 0, 0);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            // 验证同步队列数据也被备份
            const rollbackKey = `rollback_${result.rollbackPoint}`;
            const rollbackData = await database_unified_1.db.settings
                .where('key')
                .equals(rollbackKey)
                .first();
            expect(rollbackData.value.data.syncQueue).toBeDefined();
            expect(rollbackData.value.data.syncQueue.length).toBe(2);
        });
    });
    describe('备份恢复', () => {
        beforeEach(async () => {
            cleanupLocalStorage();
            await database_unified_1.db.clearAll();
        });
        afterEach(async () => {
            cleanupLocalStorage();
            await database_unified_1.db.clearAll();
        });
        test('应该能够从回滚点恢复数据', async () => {
            // 准备原始数据
            const originalData = test_utils_1.TestDataFactory.createBulkTestData(5, 2, 3);
            await database_unified_1.db.cards.bulkAdd(originalData.cards.map(card => ({
                ...card,
                userId: 'default',
                syncVersion: 1,
                pendingSync: false,
                updatedAt: new Date(),
                searchVector: 'original data'
            })));
            // 创建迁移
            const testData = test_utils_1.TestDataFactory.createBulkTestData(3, 1, 2);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            expect(result.rollbackPoint).toBeDefined();
            // 验证迁移后的数据
            let dbCards = await database_unified_1.db.cards.toArray();
            expect(dbCards.length).toBe(originalData.cards.length + testData.cards.length);
            // 模拟迁移失败，手动触发回滚
            await data_migration_tool_1.dataMigrationTool.rollbackMigration(result.rollbackPoint);
            // 验证数据已恢复
            dbCards = await database_unified_1.db.cards.toArray();
            expect(dbCards.length).toBe(originalData.cards.length);
            // 验证原始数据完整性
            dbCards.forEach(card => {
                expect(card.searchVector).toBe('original data');
                expect(card.userId).toBe('default');
            });
        });
        test('应该正确恢复复杂的数据结构', async () => {
            // 准备包含图片和复杂关系的原始数据
            const complexData = test_utils_1.TestDataFactory.createBulkTestData(10, 5, 8);
            // 添加图片数据到数据库
            const imageRecords = [];
            for (let i = 0; i < 3; i++) {
                imageRecords.push({
                    id: `image-${i}`,
                    cardId: complexData.cards[i].id,
                    userId: 'default',
                    fileName: `image-${i}.jpg`,
                    filePath: `/images/${complexData.cards[i].id}/image-${i}.jpg`,
                    metadata: {
                        originalName: `image-${i}.jpg`,
                        size: 1024,
                        width: 100,
                        height: 100,
                        format: 'jpg',
                        compressed: false
                    },
                    storageMode: 'filesystem',
                    createdAt: new Date(),
                    updatedAt: new Date(),
                    syncVersion: 1,
                    pendingSync: false
                });
            }
            await database_unified_1.db.images.bulkAdd(imageRecords);
            // 添加设置和同步数据
            await database_unified_1.db.settings.bulkAdd([
                { key: 'test-setting', value: 'test-value', updatedAt: new Date(), scope: 'user' }
            ]);
            // 执行迁移
            const testData = test_utils_1.TestDataFactory.createBulkTestData(2, 1, 1);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            // 执行回滚
            await data_migration_tool_1.dataMigrationTool.rollbackMigration(result.rollbackPoint);
            // 验证所有数据都正确恢复
            const dbCards = await database_unified_1.db.cards.toArray();
            const dbImages = await database_unified_1.db.images.toArray();
            const dbSettings = await database_unified_1.db.settings.where('key').equals('test-setting').toArray();
            expect(dbCards.length).toBe(complexData.cards.length);
            expect(dbImages.length).toBe(imageRecords.length);
            expect(dbSettings.length).toBe(1);
            // 验证数据关系
            dbImages.forEach(image => {
                expect(dbCards.some(card => card.id === image.cardId)).toBe(true);
            });
        });
        test('应该处理回滚过程中的错误', async () => {
            const testData = test_utils_1.TestDataFactory.createBulkTestData(1, 0, 0);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            expect(result.rollbackPoint).toBeDefined();
            // 模拟回滚失败
            const originalClearAll = database_unified_1.db.clearAll;
            database_unified_1.db.clearAll = jest.fn().mockRejectedValue(new Error('Clear failed'));
            try {
                await expect(data_migration_tool_1.dataMigrationTool.rollbackMigration(result.rollbackPoint))
                    .rejects.toThrow('Rollback failed');
            }
            finally {
                // 恢复原始方法
                database_unified_1.db.clearAll = originalClearAll;
            }
        });
        test('应该验证回滚后的数据完整性', async () => {
            // 准备原始数据
            const originalData = test_utils_1.TestDataFactory.createBulkTestData(5, 2, 3);
            await database_unified_1.db.cards.bulkAdd(originalData.cards.map(card => ({
                ...card,
                userId: 'default',
                syncVersion: 1,
                pendingSync: false,
                updatedAt: new Date(),
                searchVector: 'test data'
            })));
            const testData = test_utils_1.TestDataFactory.createBulkTestData(3, 1, 2);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            // 执行回滚
            await data_migration_tool_1.dataMigrationTool.rollbackMigration(result.rollbackPoint);
            // 验证回滚后的数据完整性
            const validationReport = await data_migration_tool_1.dataMigrationTool.createValidationReport();
            expect(validationReport.success).toBe(true);
            expect(validationReport.integrity.cardsValid).toBe(originalData.cards.length);
            expect(validationReport.consistency.referencesValid).toBe(true);
            expect(validationReport.consistency.orphansFound).toBe(0);
        });
    });
    describe('备份策略和优化', () => {
        beforeEach(async () => {
            cleanupLocalStorage();
            await database_unified_1.db.clearAll();
        });
        afterEach(async () => {
            cleanupLocalStorage();
            await database_unified_1.db.clearAll();
        });
        test('应该根据源类型决定是否需要备份', async () => {
            // localStorage源需要备份
            const localStorageSource = {
                type: 'localStorage',
                version: '1.0'
            };
            const localStoragePlan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(localStorageSource);
            expect(localStoragePlan.backupRequired).toBe(true);
            // 备份源不需要额外备份
            const backupSource = {
                type: 'backup',
                version: '1.0'
            };
            const backupPlan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(backupSource);
            expect(backupPlan.backupRequired).toBe(false);
        });
        test('应该优化大数据量的备份性能', async () => {
            // 准备大量原始数据
            const largeOriginalData = test_utils_1.TestDataFactory.createBulkTestData(100, 20, 30);
            await database_unified_1.db.cards.bulkAdd(largeOriginalData.cards.map(card => ({
                ...card,
                userId: 'default',
                syncVersion: 1,
                pendingSync: false,
                updatedAt: new Date(),
                searchVector: 'large original data'
            })));
            const testData = test_utils_1.TestDataFactory.createBulkTestData(10, 3, 5);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const startTime = performance.now();
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            const endTime = performance.now();
            expect(result.success).toBe(true);
            const backupTime = endTime - startTime;
            console.log(`大数据量备份耗时: ${backupTime.toFixed(2)}ms`);
            // 备份应该在合理时间内完成（5秒内）
            expect(backupTime).toBeLessThan(5000);
            // 验证备份数据完整性
            const rollbackKey = `rollback_${result.rollbackPoint}`;
            const rollbackData = await database_unified_1.db.settings
                .where('key')
                .equals(rollbackKey)
                .first();
            expect(rollbackData.value.data.cards.length).toBe(largeOriginalData.cards.length);
        });
        test('应该正确清理过期的回滚点', async () => {
            const testData = test_utils_1.TestDataFactory.createBulkTestData(2, 1, 1);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            expect(result.rollbackPoint).toBeDefined();
            // 验证回滚点存在
            const rollbackKey = `rollback_${result.rollbackPoint}`;
            let rollbackData = await database_unified_1.db.settings
                .where('key')
                .equals(rollbackKey)
                .first();
            expect(rollbackData).toBeDefined();
            // 迁移完成后应该自动清理
            await test_utils_1.MigrationTestHelpers.waitFor(100);
            // 检查是否已清理（可能在后台自动清理）
            rollbackData = await database_unified_1.db.settings
                .where('key')
                .equals(rollbackKey)
                .first();
            // 清理是可选的，不强制要求
        });
        test('应该处理备份存储空间不足的情况', async () => {
            // 模拟存储配额不足
            const originalEstimate = navigator.storage?.estimate;
            if (typeof navigator !== 'undefined') {
                ;
                navigator.storage = {
                    estimate: jest.fn().mockResolvedValue({
                        usage: 4.9 * 1024 * 1024 * 1024, // 4.9GB used
                        quota: 5 * 1024 * 1024 * 1024 // 5GB total
                    })
                };
            }
            const testData = test_utils_1.TestDataFactory.createBulkTestData(1, 0, 0);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            try {
                const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
                const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
                // 即使存储空间紧张，也应该能够完成基本备份
                expect(result.success).toBe(true);
            }
            finally {
                // 恢复原始estimate方法
                if (originalEstimate) {
                    ;
                    navigator.storage.estimate = originalEstimate;
                }
            }
        });
    });
    describe('备份验证和安全', () => {
        beforeEach(async () => {
            cleanupLocalStorage();
            await database_unified_1.db.clearAll();
        });
        afterEach(async () => {
            cleanupLocalStorage();
            await database_unified_1.db.clearAll();
        });
        test('应该验证备份数据的完整性', async () => {
            const testData = test_utils_1.TestDataFactory.createBulkTestData(3, 1, 2);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            // 获取备份数据
            const rollbackKey = `rollback_${result.rollbackPoint}`;
            const rollbackData = await database_unified_1.db.settings
                .where('key')
                .equals(rollbackKey)
                .first();
            // 验证备份数据结构
            expect(rollbackData.value.id).toBeDefined();
            expect(rollbackData.value.timestamp).toBeInstanceOf(Date);
            expect(rollbackData.value.version).toBeDefined();
            expect(rollbackData.value.data).toBeDefined();
            expect(rollbackData.value.checksum).toBeDefined();
            // 验证各数据表存在
            expect(rollbackData.value.data.cards).toBeDefined();
            expect(rollbackData.value.data.folders).toBeDefined();
            expect(rollbackData.value.data.tags).toBeDefined();
            expect(rollbackData.value.data.images).toBeDefined();
            expect(rollbackData.value.data.settings).toBeDefined();
            expect(rollbackData.value.data.syncQueue).toBeDefined();
        });
        test('应该检测备份数据的损坏', async () => {
            const testData = test_utils_1.TestDataFactory.createBulkTestData(1, 0, 0);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            // 获取并损坏备份数据
            const rollbackKey = `rollback_${result.rollbackPoint}`;
            const rollbackData = await database_unified_1.db.settings
                .where('key')
                .equals(rollbackKey)
                .first();
            // 修改备份数据以模拟损坏
            rollbackData.value.data.cards = null;
            await database_unified_1.db.settings.update(rollbackData.key, { value: rollbackData.value });
            // 尝试回滚应该检测到损坏
            await expect(data_migration_tool_1.dataMigrationTool.rollbackMigration(result.rollbackPoint))
                .rejects.toThrow();
        });
        test('应该保护备份不被意外删除', async () => {
            const testData = test_utils_1.TestDataFactory.createBulkTestData(1, 0, 0);
            setupLocalStorageData(testData);
            const source = {
                type: 'localStorage',
                version: '1.0'
            };
            const plan = await data_migration_tool_1.dataMigrationTool.analyzeAndCreatePlan(source);
            const result = await data_migration_tool_1.dataMigrationTool.executeMigration(plan);
            expect(result.success).toBe(true);
            // 尝试直接删除备份应该失败（通过正常API）
            const rollbackKey = `rollback_${result.rollbackPoint}`;
            // 验证备份存在
            let rollbackData = await database_unified_1.db.settings
                .where('key')
                .equals(rollbackKey)
                .first();
            expect(rollbackData).toBeDefined();
            // 备份应该在迁移完成后保持一段时间，不能立即删除
            // 这是设计要求，确保有足够时间进行恢复
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHNyY1xcX190ZXN0c19fXFxzZXJ2aWNlc1xcZGF0YS1taWdyYXRpb25cXERhdGFNaWdyYXRpb25Ub29sLmJhY2t1cC50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7R0FFRzs7QUFFSCx3RUFBa0U7QUFDbEUsa0VBQWdEO0FBQ2hELDZDQUFvRTtBQUdwRSxRQUFRLENBQUMsOEJBQThCLEVBQUUsR0FBRyxFQUFFO0lBQzVDLE1BQU0sRUFDSixxQkFBcUIsRUFDckIsbUJBQW1CLEVBQ25CLHVCQUF1QixFQUN2QixzQkFBc0IsRUFDdkIsR0FBRyxpQ0FBb0IsQ0FBQTtJQUV4QixRQUFRLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtRQUNwQixVQUFVLENBQUMsS0FBSyxJQUFJLEVBQUU7WUFDcEIsbUJBQW1CLEVBQUUsQ0FBQTtZQUNyQixNQUFNLHFCQUFFLENBQUMsUUFBUSxFQUFFLENBQUE7UUFDckIsQ0FBQyxDQUFDLENBQUE7UUFFRixTQUFTLENBQUMsS0FBSyxJQUFJLEVBQUU7WUFDbkIsbUJBQW1CLEVBQUUsQ0FBQTtZQUNyQixNQUFNLHFCQUFFLENBQUMsUUFBUSxFQUFFLENBQUE7UUFDckIsQ0FBQyxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsY0FBYyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzlCLGVBQWU7WUFDZixNQUFNLFlBQVksR0FBRyw0QkFBZSxDQUFDLGtCQUFrQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDaEUsTUFBTSxxQkFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUNyRCxHQUFHLElBQUk7Z0JBQ1AsTUFBTSxFQUFFLFNBQVM7Z0JBQ2pCLFdBQVcsRUFBRSxDQUFDO2dCQUNkLFdBQVcsRUFBRSxLQUFLO2dCQUNsQixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3JCLFlBQVksRUFBRSxhQUFhO2FBQzVCLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDSixNQUFNLHFCQUFFLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQzNELEdBQUcsTUFBTTtnQkFDVCxNQUFNLEVBQUUsU0FBUztnQkFDakIsV0FBVyxFQUFFLENBQUM7Z0JBQ2QsV0FBVyxFQUFFLEtBQUs7Z0JBQ2xCLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDckIsUUFBUSxFQUFFLE1BQU0sQ0FBQyxJQUFJO2dCQUNyQixLQUFLLEVBQUUsQ0FBQzthQUNULENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDSixNQUFNLHFCQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ2xELEdBQUcsR0FBRztnQkFDTixNQUFNLEVBQUUsU0FBUztnQkFDakIsV0FBVyxFQUFFLENBQUM7Z0JBQ2QsV0FBVyxFQUFFLEtBQUs7Z0JBQ2xCLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDckIsS0FBSyxFQUFFLENBQUM7YUFDVCxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBRUosTUFBTSxNQUFNLEdBQUc7Z0JBQ2IsSUFBSSxFQUFFLGNBQXVCO2dCQUM3QixPQUFPLEVBQUUsS0FBSzthQUNmLENBQUE7WUFFRCxNQUFNLElBQUksR0FBRyxNQUFNLHVDQUFpQixDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ2pFLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBRXRDLE1BQU0sTUFBTSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUE7WUFFN0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDakMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUUxQyxZQUFZO1lBQ1osTUFBTSxXQUFXLEdBQUcsWUFBWSxNQUFNLENBQUMsYUFBYSxFQUFFLENBQUE7WUFDdEQsTUFBTSxZQUFZLEdBQUcsTUFBTSxxQkFBRSxDQUFDLFFBQVE7aUJBQ25DLEtBQUssQ0FBQyxLQUFLLENBQUM7aUJBQ1osTUFBTSxDQUFDLFdBQVcsQ0FBQztpQkFDbkIsS0FBSyxFQUFFLENBQUE7WUFFVixNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDbEMsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUN4QyxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUM3QyxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDN0UsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ2pGLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUM3RSxDQUFDLENBQUMsQ0FBQTtRQUVGLElBQUksQ0FBQyxhQUFhLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDN0IsTUFBTSxRQUFRLEdBQUcsNEJBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQzVELHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBRS9CLE1BQU0sTUFBTSxHQUFHO2dCQUNiLElBQUksRUFBRSxjQUF1QjtnQkFDN0IsT0FBTyxFQUFFLEtBQUs7YUFDZixDQUFBO1lBRUQsTUFBTSxJQUFJLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUNqRSxNQUFNLE1BQU0sR0FBRyxNQUFNLHVDQUFpQixDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFBO1lBRTdELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ2pDLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFFMUMsU0FBUztZQUNULE1BQU0sV0FBVyxHQUFHLFlBQVksTUFBTSxDQUFDLGFBQWEsRUFBRSxDQUFBO1lBQ3RELE1BQU0sWUFBWSxHQUFHLE1BQU0scUJBQUUsQ0FBQyxRQUFRO2lCQUNuQyxLQUFLLENBQUMsS0FBSyxDQUFDO2lCQUNaLE1BQU0sQ0FBQyxXQUFXLENBQUM7aUJBQ25CLEtBQUssRUFBRSxDQUFBO1lBRVYsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDakQsTUFBTSxDQUFDLE9BQU8sWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUE7WUFDekQsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQSxDQUFDLGVBQWU7UUFDckUsQ0FBQyxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsMkJBQTJCLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDM0MsTUFBTSxRQUFRLEdBQUcsNEJBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQzVELHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBRS9CLE1BQU0sTUFBTSxHQUFHO2dCQUNiLElBQUksRUFBRSxjQUF1QjtnQkFDN0IsT0FBTyxFQUFFLEtBQUs7YUFDZixDQUFBO1lBRUQsTUFBTSxJQUFJLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUNqRSxNQUFNLE1BQU0sR0FBRyxNQUFNLHVDQUFpQixDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFBO1lBRTdELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ2pDLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFFMUMsc0JBQXNCO1lBQ3RCLE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUE7WUFDNUMsTUFBTSxnQkFBZ0IsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUE7WUFFdEYsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUVsRCxXQUFXO1lBQ1gsTUFBTSxTQUFTLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDckMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBRSxDQUFDLENBQUE7WUFFL0QsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUNuQyxNQUFNLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQzFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDckMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtRQUMzQyxDQUFDLENBQUMsQ0FBQTtRQUVGLElBQUksQ0FBQyxZQUFZLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDNUIsZUFBZTtZQUNmLE1BQU0scUJBQUUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDO2dCQUN4QixFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO2dCQUNyRSxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO2dCQUN6RSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFO2FBQzFFLENBQUMsQ0FBQTtZQUVGLE1BQU0sUUFBUSxHQUFHLDRCQUFlLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUM1RCxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUUvQixNQUFNLE1BQU0sR0FBRztnQkFDYixJQUFJLEVBQUUsY0FBdUI7Z0JBQzdCLE9BQU8sRUFBRSxLQUFLO2FBQ2YsQ0FBQTtZQUVELE1BQU0sSUFBSSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDakUsTUFBTSxNQUFNLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUU3RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUVqQyxhQUFhO1lBQ2IsTUFBTSxXQUFXLEdBQUcsWUFBWSxNQUFNLENBQUMsYUFBYSxFQUFFLENBQUE7WUFDdEQsTUFBTSxZQUFZLEdBQUcsTUFBTSxxQkFBRSxDQUFDLFFBQVE7aUJBQ25DLEtBQUssQ0FBQyxLQUFLLENBQUM7aUJBQ1osTUFBTSxDQUFDLFdBQVcsQ0FBQztpQkFDbkIsS0FBSyxFQUFFLENBQUE7WUFFVixNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDdEQsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDdkQsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDekYsQ0FBQyxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsY0FBYyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzlCLFdBQVc7WUFDWCxNQUFNLHFCQUFFLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQztnQkFDekI7b0JBQ0UsSUFBSSxFQUFFLFFBQVE7b0JBQ2QsTUFBTSxFQUFFLE1BQU07b0JBQ2QsUUFBUSxFQUFFLFFBQVE7b0JBQ2xCLE1BQU0sRUFBRSxTQUFTO29CQUNqQixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7b0JBQ3JCLFVBQVUsRUFBRSxDQUFDO29CQUNiLFVBQVUsRUFBRSxDQUFDO29CQUNiLFFBQVEsRUFBRSxRQUFRO2lCQUNuQjtnQkFDRDtvQkFDRSxJQUFJLEVBQUUsUUFBUTtvQkFDZCxNQUFNLEVBQUUsUUFBUTtvQkFDaEIsUUFBUSxFQUFFLFVBQVU7b0JBQ3BCLE1BQU0sRUFBRSxTQUFTO29CQUNqQixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7b0JBQ3JCLFVBQVUsRUFBRSxDQUFDO29CQUNiLFVBQVUsRUFBRSxDQUFDO29CQUNiLFFBQVEsRUFBRSxNQUFNO2lCQUNqQjthQUNGLENBQUMsQ0FBQTtZQUVGLE1BQU0sUUFBUSxHQUFHLDRCQUFlLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUM1RCxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUUvQixNQUFNLE1BQU0sR0FBRztnQkFDYixJQUFJLEVBQUUsY0FBdUI7Z0JBQzdCLE9BQU8sRUFBRSxLQUFLO2FBQ2YsQ0FBQTtZQUVELE1BQU0sSUFBSSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDakUsTUFBTSxNQUFNLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUU3RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUVqQyxlQUFlO1lBQ2YsTUFBTSxXQUFXLEdBQUcsWUFBWSxNQUFNLENBQUMsYUFBYSxFQUFFLENBQUE7WUFDdEQsTUFBTSxZQUFZLEdBQUcsTUFBTSxxQkFBRSxDQUFDLFFBQVE7aUJBQ25DLEtBQUssQ0FBQyxLQUFLLENBQUM7aUJBQ1osTUFBTSxDQUFDLFdBQVcsQ0FBQztpQkFDbkIsS0FBSyxFQUFFLENBQUE7WUFFVixNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDdkQsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDMUQsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO1FBQ3BCLFVBQVUsQ0FBQyxLQUFLLElBQUksRUFBRTtZQUNwQixtQkFBbUIsRUFBRSxDQUFBO1lBQ3JCLE1BQU0scUJBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQTtRQUNyQixDQUFDLENBQUMsQ0FBQTtRQUVGLFNBQVMsQ0FBQyxLQUFLLElBQUksRUFBRTtZQUNuQixtQkFBbUIsRUFBRSxDQUFBO1lBQ3JCLE1BQU0scUJBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQTtRQUNyQixDQUFDLENBQUMsQ0FBQTtRQUVGLElBQUksQ0FBQyxjQUFjLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDOUIsU0FBUztZQUNULE1BQU0sWUFBWSxHQUFHLDRCQUFlLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUNoRSxNQUFNLHFCQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ3JELEdBQUcsSUFBSTtnQkFDUCxNQUFNLEVBQUUsU0FBUztnQkFDakIsV0FBVyxFQUFFLENBQUM7Z0JBQ2QsV0FBVyxFQUFFLEtBQUs7Z0JBQ2xCLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDckIsWUFBWSxFQUFFLGVBQWU7YUFDOUIsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUVKLE9BQU87WUFDUCxNQUFNLFFBQVEsR0FBRyw0QkFBZSxDQUFDLGtCQUFrQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDNUQscUJBQXFCLENBQUMsUUFBUSxDQUFDLENBQUE7WUFFL0IsTUFBTSxNQUFNLEdBQUc7Z0JBQ2IsSUFBSSxFQUFFLGNBQXVCO2dCQUM3QixPQUFPLEVBQUUsS0FBSzthQUNmLENBQUE7WUFFRCxNQUFNLElBQUksR0FBRyxNQUFNLHVDQUFpQixDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ2pFLE1BQU0sTUFBTSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUE7WUFFN0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDakMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUUxQyxXQUFXO1lBQ1gsSUFBSSxPQUFPLEdBQUcsTUFBTSxxQkFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQTtZQUN0QyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBRTlFLGdCQUFnQjtZQUNoQixNQUFPLHVDQUF5QixDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxhQUFjLENBQUMsQ0FBQTtZQUV6RSxVQUFVO1lBQ1YsT0FBTyxHQUFHLE1BQU0scUJBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUE7WUFDbEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUV0RCxZQUFZO1lBQ1osT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDckIsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUE7Z0JBQy9DLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBQ3JDLENBQUMsQ0FBQyxDQUFBO1FBQ0osQ0FBQyxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsZUFBZSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQy9CLG1CQUFtQjtZQUNuQixNQUFNLFdBQVcsR0FBRyw0QkFBZSxDQUFDLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFFaEUsYUFBYTtZQUNiLE1BQU0sWUFBWSxHQUFHLEVBQUUsQ0FBQTtZQUN2QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQzNCLFlBQVksQ0FBQyxJQUFJLENBQUM7b0JBQ2hCLEVBQUUsRUFBRSxTQUFTLENBQUMsRUFBRTtvQkFDaEIsTUFBTSxFQUFFLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDL0IsTUFBTSxFQUFFLFNBQVM7b0JBQ2pCLFFBQVEsRUFBRSxTQUFTLENBQUMsTUFBTTtvQkFDMUIsUUFBUSxFQUFFLFdBQVcsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxNQUFNO29CQUM3RCxRQUFRLEVBQUU7d0JBQ1IsWUFBWSxFQUFFLFNBQVMsQ0FBQyxNQUFNO3dCQUM5QixJQUFJLEVBQUUsSUFBSTt3QkFDVixLQUFLLEVBQUUsR0FBRzt3QkFDVixNQUFNLEVBQUUsR0FBRzt3QkFDWCxNQUFNLEVBQUUsS0FBSzt3QkFDYixVQUFVLEVBQUUsS0FBSztxQkFDbEI7b0JBQ0QsV0FBVyxFQUFFLFlBQXFCO29CQUNsQyxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7b0JBQ3JCLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtvQkFDckIsV0FBVyxFQUFFLENBQUM7b0JBQ2QsV0FBVyxFQUFFLEtBQUs7aUJBQ25CLENBQUMsQ0FBQTtZQUNKLENBQUM7WUFDRCxNQUFNLHFCQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtZQUVyQyxZQUFZO1lBQ1osTUFBTSxxQkFBRSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUM7Z0JBQ3hCLEVBQUUsR0FBRyxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7YUFDbkYsQ0FBQyxDQUFBO1lBRUYsT0FBTztZQUNQLE1BQU0sUUFBUSxHQUFHLDRCQUFlLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUM1RCxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUUvQixNQUFNLE1BQU0sR0FBRztnQkFDYixJQUFJLEVBQUUsY0FBdUI7Z0JBQzdCLE9BQU8sRUFBRSxLQUFLO2FBQ2YsQ0FBQTtZQUVELE1BQU0sSUFBSSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDakUsTUFBTSxNQUFNLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUU3RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUVqQyxPQUFPO1lBQ1AsTUFBTyx1Q0FBeUIsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsYUFBYyxDQUFDLENBQUE7WUFFekUsY0FBYztZQUNkLE1BQU0sT0FBTyxHQUFHLE1BQU0scUJBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUE7WUFDeEMsTUFBTSxRQUFRLEdBQUcsTUFBTSxxQkFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtZQUMxQyxNQUFNLFVBQVUsR0FBRyxNQUFNLHFCQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUE7WUFFbEYsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUNyRCxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDakQsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFFakMsU0FBUztZQUNULFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ3ZCLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDbkUsQ0FBQyxDQUFDLENBQUE7UUFDSixDQUFDLENBQUMsQ0FBQTtRQUVGLElBQUksQ0FBQyxjQUFjLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDOUIsTUFBTSxRQUFRLEdBQUcsNEJBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQzVELHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBRS9CLE1BQU0sTUFBTSxHQUFHO2dCQUNiLElBQUksRUFBRSxjQUF1QjtnQkFDN0IsT0FBTyxFQUFFLEtBQUs7YUFDZixDQUFBO1lBRUQsTUFBTSxJQUFJLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUNqRSxNQUFNLE1BQU0sR0FBRyxNQUFNLHVDQUFpQixDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFBO1lBRTdELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ2pDLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFFMUMsU0FBUztZQUNULE1BQU0sZ0JBQWdCLEdBQUcscUJBQUUsQ0FBQyxRQUFRLENBQUE7WUFDcEMscUJBQUUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGlCQUFpQixDQUFDLElBQUksS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUE7WUFFcEUsSUFBSSxDQUFDO2dCQUNILE1BQU0sTUFBTSxDQUFFLHVDQUF5QixDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxhQUFjLENBQUMsQ0FBQztxQkFDOUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO1lBQ3ZDLENBQUM7b0JBQVMsQ0FBQztnQkFDVCxTQUFTO2dCQUNULHFCQUFFLENBQUMsUUFBUSxHQUFHLGdCQUFnQixDQUFBO1lBQ2hDLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQTtRQUVGLElBQUksQ0FBQyxlQUFlLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDL0IsU0FBUztZQUNULE1BQU0sWUFBWSxHQUFHLDRCQUFlLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUNoRSxNQUFNLHFCQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ3JELEdBQUcsSUFBSTtnQkFDUCxNQUFNLEVBQUUsU0FBUztnQkFDakIsV0FBVyxFQUFFLENBQUM7Z0JBQ2QsV0FBVyxFQUFFLEtBQUs7Z0JBQ2xCLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDckIsWUFBWSxFQUFFLFdBQVc7YUFDMUIsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUVKLE1BQU0sUUFBUSxHQUFHLDRCQUFlLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUM1RCxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUUvQixNQUFNLE1BQU0sR0FBRztnQkFDYixJQUFJLEVBQUUsY0FBdUI7Z0JBQzdCLE9BQU8sRUFBRSxLQUFLO2FBQ2YsQ0FBQTtZQUVELE1BQU0sSUFBSSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDakUsTUFBTSxNQUFNLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUU3RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUVqQyxPQUFPO1lBQ1AsTUFBTyx1Q0FBeUIsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsYUFBYyxDQUFDLENBQUE7WUFFekUsY0FBYztZQUNkLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxzQkFBc0IsRUFBRSxDQUFBO1lBRXpFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDM0MsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUM3RSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUMvRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUMzRCxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUU7UUFDdkIsVUFBVSxDQUFDLEtBQUssSUFBSSxFQUFFO1lBQ3BCLG1CQUFtQixFQUFFLENBQUE7WUFDckIsTUFBTSxxQkFBRSxDQUFDLFFBQVEsRUFBRSxDQUFBO1FBQ3JCLENBQUMsQ0FBQyxDQUFBO1FBRUYsU0FBUyxDQUFDLEtBQUssSUFBSSxFQUFFO1lBQ25CLG1CQUFtQixFQUFFLENBQUE7WUFDckIsTUFBTSxxQkFBRSxDQUFDLFFBQVEsRUFBRSxDQUFBO1FBQ3JCLENBQUMsQ0FBQyxDQUFBO1FBRUYsSUFBSSxDQUFDLGlCQUFpQixFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2pDLG9CQUFvQjtZQUNwQixNQUFNLGtCQUFrQixHQUFHO2dCQUN6QixJQUFJLEVBQUUsY0FBdUI7Z0JBQzdCLE9BQU8sRUFBRSxLQUFLO2FBQ2YsQ0FBQTtZQUVELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxvQkFBb0IsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO1lBQ3pGLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7WUFFbEQsYUFBYTtZQUNiLE1BQU0sWUFBWSxHQUFHO2dCQUNuQixJQUFJLEVBQUUsUUFBaUI7Z0JBQ3ZCLE9BQU8sRUFBRSxLQUFLO2FBQ2YsQ0FBQTtZQUVELE1BQU0sVUFBVSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsb0JBQW9CLENBQUMsWUFBWSxDQUFDLENBQUE7WUFDN0UsTUFBTSxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDL0MsQ0FBQyxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsZUFBZSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQy9CLFdBQVc7WUFDWCxNQUFNLGlCQUFpQixHQUFHLDRCQUFlLENBQUMsa0JBQWtCLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQTtZQUN6RSxNQUFNLHFCQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDMUQsR0FBRyxJQUFJO2dCQUNQLE1BQU0sRUFBRSxTQUFTO2dCQUNqQixXQUFXLEVBQUUsQ0FBQztnQkFDZCxXQUFXLEVBQUUsS0FBSztnQkFDbEIsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFO2dCQUNyQixZQUFZLEVBQUUscUJBQXFCO2FBQ3BDLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFFSixNQUFNLFFBQVEsR0FBRyw0QkFBZSxDQUFDLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDN0QscUJBQXFCLENBQUMsUUFBUSxDQUFDLENBQUE7WUFFL0IsTUFBTSxNQUFNLEdBQUc7Z0JBQ2IsSUFBSSxFQUFFLGNBQXVCO2dCQUM3QixPQUFPLEVBQUUsS0FBSzthQUNmLENBQUE7WUFFRCxNQUFNLElBQUksR0FBRyxNQUFNLHVDQUFpQixDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBRWpFLE1BQU0sU0FBUyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQTtZQUNuQyxNQUFNLE1BQU0sR0FBRyxNQUFNLHVDQUFpQixDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFBO1lBQzdELE1BQU0sT0FBTyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQTtZQUVqQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUVqQyxNQUFNLFVBQVUsR0FBRyxPQUFPLEdBQUcsU0FBUyxDQUFBO1lBQ3RDLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUVuRCxvQkFBb0I7WUFDcEIsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUVyQyxZQUFZO1lBQ1osTUFBTSxXQUFXLEdBQUcsWUFBWSxNQUFNLENBQUMsYUFBYSxFQUFFLENBQUE7WUFDdEQsTUFBTSxZQUFZLEdBQUcsTUFBTSxxQkFBRSxDQUFDLFFBQVE7aUJBQ25DLEtBQUssQ0FBQyxLQUFLLENBQUM7aUJBQ1osTUFBTSxDQUFDLFdBQVcsQ0FBQztpQkFDbkIsS0FBSyxFQUFFLENBQUE7WUFFVixNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUE7UUFDbkYsQ0FBQyxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsY0FBYyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzlCLE1BQU0sUUFBUSxHQUFHLDRCQUFlLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUM1RCxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUUvQixNQUFNLE1BQU0sR0FBRztnQkFDYixJQUFJLEVBQUUsY0FBdUI7Z0JBQzdCLE9BQU8sRUFBRSxLQUFLO2FBQ2YsQ0FBQTtZQUVELE1BQU0sSUFBSSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDakUsTUFBTSxNQUFNLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUU3RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUNqQyxNQUFNLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBRTFDLFVBQVU7WUFDVixNQUFNLFdBQVcsR0FBRyxZQUFZLE1BQU0sQ0FBQyxhQUFhLEVBQUUsQ0FBQTtZQUN0RCxJQUFJLFlBQVksR0FBRyxNQUFNLHFCQUFFLENBQUMsUUFBUTtpQkFDakMsS0FBSyxDQUFDLEtBQUssQ0FBQztpQkFDWixNQUFNLENBQUMsV0FBVyxDQUFDO2lCQUNuQixLQUFLLEVBQUUsQ0FBQTtZQUVWLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUVsQyxjQUFjO1lBQ2QsTUFBTSxpQ0FBb0IsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUE7WUFFdkMscUJBQXFCO1lBQ3JCLFlBQVksR0FBRyxNQUFNLHFCQUFFLENBQUMsUUFBUTtpQkFDN0IsS0FBSyxDQUFDLEtBQUssQ0FBQztpQkFDWixNQUFNLENBQUMsV0FBVyxDQUFDO2lCQUNuQixLQUFLLEVBQUUsQ0FBQTtZQUVWLGVBQWU7UUFDakIsQ0FBQyxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsaUJBQWlCLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDakMsV0FBVztZQUNYLE1BQU0sZ0JBQWdCLEdBQUksU0FBaUIsQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFBO1lBQzdELElBQUksT0FBTyxTQUFTLEtBQUssV0FBVyxFQUFFLENBQUM7Z0JBQ3JDLENBQUM7Z0JBQUMsU0FBaUIsQ0FBQyxPQUFPLEdBQUc7b0JBQzVCLFFBQVEsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUM7d0JBQ3BDLEtBQUssRUFBRSxHQUFHLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEVBQUUsYUFBYTt3QkFDOUMsS0FBSyxFQUFFLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBSSxZQUFZO3FCQUM5QyxDQUFDO2lCQUNILENBQUE7WUFDSCxDQUFDO1lBRUQsTUFBTSxRQUFRLEdBQUcsNEJBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQzVELHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBRS9CLE1BQU0sTUFBTSxHQUFHO2dCQUNiLElBQUksRUFBRSxjQUF1QjtnQkFDN0IsT0FBTyxFQUFFLEtBQUs7YUFDZixDQUFBO1lBRUQsSUFBSSxDQUFDO2dCQUNILE1BQU0sSUFBSSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUE7Z0JBQ2pFLE1BQU0sTUFBTSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUE7Z0JBRTdELHVCQUF1QjtnQkFDdkIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDbkMsQ0FBQztvQkFBUyxDQUFDO2dCQUNULGlCQUFpQjtnQkFDakIsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO29CQUNyQixDQUFDO29CQUFDLFNBQWlCLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQTtnQkFDekQsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUU7UUFDdkIsVUFBVSxDQUFDLEtBQUssSUFBSSxFQUFFO1lBQ3BCLG1CQUFtQixFQUFFLENBQUE7WUFDckIsTUFBTSxxQkFBRSxDQUFDLFFBQVEsRUFBRSxDQUFBO1FBQ3JCLENBQUMsQ0FBQyxDQUFBO1FBRUYsU0FBUyxDQUFDLEtBQUssSUFBSSxFQUFFO1lBQ25CLG1CQUFtQixFQUFFLENBQUE7WUFDckIsTUFBTSxxQkFBRSxDQUFDLFFBQVEsRUFBRSxDQUFBO1FBQ3JCLENBQUMsQ0FBQyxDQUFBO1FBRUYsSUFBSSxDQUFDLGNBQWMsRUFBRSxLQUFLLElBQUksRUFBRTtZQUM5QixNQUFNLFFBQVEsR0FBRyw0QkFBZSxDQUFDLGtCQUFrQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDNUQscUJBQXFCLENBQUMsUUFBUSxDQUFDLENBQUE7WUFFL0IsTUFBTSxNQUFNLEdBQUc7Z0JBQ2IsSUFBSSxFQUFFLGNBQXVCO2dCQUM3QixPQUFPLEVBQUUsS0FBSzthQUNmLENBQUE7WUFFRCxNQUFNLElBQUksR0FBRyxNQUFNLHVDQUFpQixDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ2pFLE1BQU0sTUFBTSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUE7WUFFN0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7WUFFakMsU0FBUztZQUNULE1BQU0sV0FBVyxHQUFHLFlBQVksTUFBTSxDQUFDLGFBQWEsRUFBRSxDQUFBO1lBQ3RELE1BQU0sWUFBWSxHQUFHLE1BQU0scUJBQUUsQ0FBQyxRQUFRO2lCQUNuQyxLQUFLLENBQUMsS0FBSyxDQUFDO2lCQUNaLE1BQU0sQ0FBQyxXQUFXLENBQUM7aUJBQ25CLEtBQUssRUFBRSxDQUFBO1lBRVYsV0FBVztZQUNYLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQzNDLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUN6RCxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUNoRCxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUM3QyxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUVqRCxXQUFXO1lBQ1gsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQ25ELE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUNyRCxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDbEQsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQ3BELE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUN0RCxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7UUFDekQsQ0FBQyxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzdCLE1BQU0sUUFBUSxHQUFHLDRCQUFlLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUM1RCxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQTtZQUUvQixNQUFNLE1BQU0sR0FBRztnQkFDYixJQUFJLEVBQUUsY0FBdUI7Z0JBQzdCLE9BQU8sRUFBRSxLQUFLO2FBQ2YsQ0FBQTtZQUVELE1BQU0sSUFBSSxHQUFHLE1BQU0sdUNBQWlCLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDakUsTUFBTSxNQUFNLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUU3RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUVqQyxZQUFZO1lBQ1osTUFBTSxXQUFXLEdBQUcsWUFBWSxNQUFNLENBQUMsYUFBYSxFQUFFLENBQUE7WUFDdEQsTUFBTSxZQUFZLEdBQUcsTUFBTSxxQkFBRSxDQUFDLFFBQVE7aUJBQ25DLEtBQUssQ0FBQyxLQUFLLENBQUM7aUJBQ1osTUFBTSxDQUFDLFdBQVcsQ0FBQztpQkFDbkIsS0FBSyxFQUFFLENBQUE7WUFFVixjQUFjO1lBQ2QsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQTtZQUVwQyxNQUFNLHFCQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBSSxFQUFFLEVBQUUsS0FBSyxFQUFFLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFBO1lBRTFFLGNBQWM7WUFDZCxNQUFNLE1BQU0sQ0FBRSx1Q0FBeUIsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsYUFBYyxDQUFDLENBQUM7aUJBQzlFLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUN0QixDQUFDLENBQUMsQ0FBQTtRQUVGLElBQUksQ0FBQyxjQUFjLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDOUIsTUFBTSxRQUFRLEdBQUcsNEJBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQzVELHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBRS9CLE1BQU0sTUFBTSxHQUFHO2dCQUNiLElBQUksRUFBRSxjQUF1QjtnQkFDN0IsT0FBTyxFQUFFLEtBQUs7YUFDZixDQUFBO1lBRUQsTUFBTSxJQUFJLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUNqRSxNQUFNLE1BQU0sR0FBRyxNQUFNLHVDQUFpQixDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFBO1lBRTdELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBRWpDLHdCQUF3QjtZQUN4QixNQUFNLFdBQVcsR0FBRyxZQUFZLE1BQU0sQ0FBQyxhQUFhLEVBQUUsQ0FBQTtZQUV0RCxTQUFTO1lBQ1QsSUFBSSxZQUFZLEdBQUcsTUFBTSxxQkFBRSxDQUFDLFFBQVE7aUJBQ2pDLEtBQUssQ0FBQyxLQUFLLENBQUM7aUJBQ1osTUFBTSxDQUFDLFdBQVcsQ0FBQztpQkFDbkIsS0FBSyxFQUFFLENBQUE7WUFFVixNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFFbEMsMEJBQTBCO1lBQzFCLHFCQUFxQjtRQUN2QixDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHNyY1xcX190ZXN0c19fXFxzZXJ2aWNlc1xcZGF0YS1taWdyYXRpb25cXERhdGFNaWdyYXRpb25Ub29sLmJhY2t1cC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5aSH5Lu95oGi5aSN5py65Yi25rWL6K+VXG4gKi9cblxuaW1wb3J0IHsgZGF0YU1pZ3JhdGlvblRvb2wgfSBmcm9tICdAL3NlcnZpY2VzL2RhdGEtbWlncmF0aW9uLXRvb2wnXG5pbXBvcnQgeyBkYiB9IGZyb20gJ0Avc2VydmljZXMvZGF0YWJhc2UtdW5pZmllZCdcbmltcG9ydCB7IFRlc3REYXRhRmFjdG9yeSwgTWlncmF0aW9uVGVzdEhlbHBlcnMgfSBmcm9tICcuL3Rlc3QtdXRpbHMnXG5pbXBvcnQgeyBzZXR1cCB9IGZyb20gJy4vc2V0dXAnXG5cbmRlc2NyaWJlKCdEYXRhTWlncmF0aW9uVG9vbCAtIOWkh+S7veaBouWkjeacuuWItua1i+ivlScsICgpID0+IHtcbiAgY29uc3Qge1xuICAgIHNldHVwTG9jYWxTdG9yYWdlRGF0YSxcbiAgICBjbGVhbnVwTG9jYWxTdG9yYWdlLFxuICAgIHZhbGlkYXRlTWlncmF0aW9uUmVzdWx0LFxuICAgIGNyZWF0ZVByb2dyZXNzTGlzdGVuZXJcbiAgfSA9IE1pZ3JhdGlvblRlc3RIZWxwZXJzXG5cbiAgZGVzY3JpYmUoJ+Wkh+S7veWIm+W7uicsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGNsZWFudXBMb2NhbFN0b3JhZ2UoKVxuICAgICAgYXdhaXQgZGIuY2xlYXJBbGwoKVxuICAgIH0pXG5cbiAgICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgY2xlYW51cExvY2FsU3RvcmFnZSgpXG4gICAgICBhd2FpdCBkYi5jbGVhckFsbCgpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeWcqOi/geenu+WJjeWIm+W7uuWujOaVtOWkh+S7vScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIOWFiOWcqOaVsOaNruW6k+S4reWHhuWkh+S4gOS6m+aVsOaNrlxuICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gVGVzdERhdGFGYWN0b3J5LmNyZWF0ZUJ1bGtUZXN0RGF0YSg1LCAyLCAzKVxuICAgICAgYXdhaXQgZGIuY2FyZHMuYnVsa0FkZChleGlzdGluZ0RhdGEuY2FyZHMubWFwKGNhcmQgPT4gKHtcbiAgICAgICAgLi4uY2FyZCxcbiAgICAgICAgdXNlcklkOiAnZGVmYXVsdCcsXG4gICAgICAgIHN5bmNWZXJzaW9uOiAxLFxuICAgICAgICBwZW5kaW5nU3luYzogZmFsc2UsXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgc2VhcmNoVmVjdG9yOiAndGVzdCB2ZWN0b3InXG4gICAgICB9KSkpXG4gICAgICBhd2FpdCBkYi5mb2xkZXJzLmJ1bGtBZGQoZXhpc3RpbmdEYXRhLmZvbGRlcnMubWFwKGZvbGRlciA9PiAoe1xuICAgICAgICAuLi5mb2xkZXIsXG4gICAgICAgIHVzZXJJZDogJ2RlZmF1bHQnLFxuICAgICAgICBzeW5jVmVyc2lvbjogMSxcbiAgICAgICAgcGVuZGluZ1N5bmM6IGZhbHNlLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIGZ1bGxQYXRoOiBmb2xkZXIubmFtZSxcbiAgICAgICAgZGVwdGg6IDBcbiAgICAgIH0pKSlcbiAgICAgIGF3YWl0IGRiLnRhZ3MuYnVsa0FkZChleGlzdGluZ0RhdGEudGFncy5tYXAodGFnID0+ICh7XG4gICAgICAgIC4uLnRhZyxcbiAgICAgICAgdXNlcklkOiAnZGVmYXVsdCcsXG4gICAgICAgIHN5bmNWZXJzaW9uOiAxLFxuICAgICAgICBwZW5kaW5nU3luYzogZmFsc2UsXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgY291bnQ6IDBcbiAgICAgIH0pKSlcblxuICAgICAgY29uc3Qgc291cmNlID0ge1xuICAgICAgICB0eXBlOiAnbG9jYWxTdG9yYWdlJyBhcyBjb25zdCxcbiAgICAgICAgdmVyc2lvbjogJzEuMCdcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGxhbiA9IGF3YWl0IGRhdGFNaWdyYXRpb25Ub29sLmFuYWx5emVBbmRDcmVhdGVQbGFuKHNvdXJjZSlcbiAgICAgIGV4cGVjdChwbGFuLmJhY2t1cFJlcXVpcmVkKS50b0JlKHRydWUpXG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRhdGFNaWdyYXRpb25Ub29sLmV4ZWN1dGVNaWdyYXRpb24ocGxhbilcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QocmVzdWx0LnJvbGxiYWNrUG9pbnQpLnRvQmVEZWZpbmVkKClcblxuICAgICAgLy8g6aqM6K+B5aSH5Lu954K55pWw5o2u5a2Y5ZyoXG4gICAgICBjb25zdCByb2xsYmFja0tleSA9IGByb2xsYmFja18ke3Jlc3VsdC5yb2xsYmFja1BvaW50fWBcbiAgICAgIGNvbnN0IHJvbGxiYWNrRGF0YSA9IGF3YWl0IGRiLnNldHRpbmdzXG4gICAgICAgIC53aGVyZSgna2V5JylcbiAgICAgICAgLmVxdWFscyhyb2xsYmFja0tleSlcbiAgICAgICAgLmZpcnN0KClcblxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YSkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YS52YWx1ZSkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YS52YWx1ZS5kYXRhKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3Qocm9sbGJhY2tEYXRhLnZhbHVlLmRhdGEuY2FyZHMpLnRvSGF2ZUxlbmd0aChleGlzdGluZ0RhdGEuY2FyZHMubGVuZ3RoKVxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YS52YWx1ZS5kYXRhLmZvbGRlcnMpLnRvSGF2ZUxlbmd0aChleGlzdGluZ0RhdGEuZm9sZGVycy5sZW5ndGgpXG4gICAgICBleHBlY3Qocm9sbGJhY2tEYXRhLnZhbHVlLmRhdGEudGFncykudG9IYXZlTGVuZ3RoKGV4aXN0aW5nRGF0YS50YWdzLmxlbmd0aClcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5q2j56Gu6K6h566X5aSH5Lu95qCh6aqM5ZKMJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdERhdGEgPSBUZXN0RGF0YUZhY3RvcnkuY3JlYXRlQnVsa1Rlc3REYXRhKDMsIDEsIDIpXG4gICAgICBzZXR1cExvY2FsU3RvcmFnZURhdGEodGVzdERhdGEpXG5cbiAgICAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgICAgICAgdHlwZTogJ2xvY2FsU3RvcmFnZScgYXMgY29uc3QsXG4gICAgICAgIHZlcnNpb246ICcxLjAnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBsYW4gPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5hbmFseXplQW5kQ3JlYXRlUGxhbihzb3VyY2UpXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5leGVjdXRlTWlncmF0aW9uKHBsYW4pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHJlc3VsdC5yb2xsYmFja1BvaW50KS50b0JlRGVmaW5lZCgpXG5cbiAgICAgIC8vIOiOt+WPluWkh+S7veaVsOaNrlxuICAgICAgY29uc3Qgcm9sbGJhY2tLZXkgPSBgcm9sbGJhY2tfJHtyZXN1bHQucm9sbGJhY2tQb2ludH1gXG4gICAgICBjb25zdCByb2xsYmFja0RhdGEgPSBhd2FpdCBkYi5zZXR0aW5nc1xuICAgICAgICAud2hlcmUoJ2tleScpXG4gICAgICAgIC5lcXVhbHMocm9sbGJhY2tLZXkpXG4gICAgICAgIC5maXJzdCgpXG5cbiAgICAgIGV4cGVjdChyb2xsYmFja0RhdGEudmFsdWUuY2hlY2tzdW0pLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdCh0eXBlb2Ygcm9sbGJhY2tEYXRhLnZhbHVlLmNoZWNrc3VtKS50b0JlKCdzdHJpbmcnKVxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YS52YWx1ZS5jaGVja3N1bS5sZW5ndGgpLnRvQmUoNjQpIC8vIFNIQS0yNTYg5ZOI5biM6ZW/5bqmXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeWQjOaXtuS/neWtmOWIsGxvY2FsU3RvcmFnZeS9nOS4uumineWkluS/neaKpCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3REYXRhID0gVGVzdERhdGFGYWN0b3J5LmNyZWF0ZUJ1bGtUZXN0RGF0YSgyLCAxLCAxKVxuICAgICAgc2V0dXBMb2NhbFN0b3JhZ2VEYXRhKHRlc3REYXRhKVxuXG4gICAgICBjb25zdCBzb3VyY2UgPSB7XG4gICAgICAgIHR5cGU6ICdsb2NhbFN0b3JhZ2UnIGFzIGNvbnN0LFxuICAgICAgICB2ZXJzaW9uOiAnMS4wJ1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwbGFuID0gYXdhaXQgZGF0YU1pZ3JhdGlvblRvb2wuYW5hbHl6ZUFuZENyZWF0ZVBsYW4oc291cmNlKVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGF0YU1pZ3JhdGlvblRvb2wuZXhlY3V0ZU1pZ3JhdGlvbihwbGFuKVxuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChyZXN1bHQucm9sbGJhY2tQb2ludCkudG9CZURlZmluZWQoKVxuXG4gICAgICAvLyDpqozor4Fsb2NhbFN0b3JhZ2XkuK3kuZ/mnInlpIfku71cbiAgICAgIGNvbnN0IGJhY2t1cEtleXMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpXG4gICAgICBjb25zdCBtaWdyYXRpb25CYWNrdXBzID0gYmFja3VwS2V5cy5maWx0ZXIoa2V5ID0+IGtleS5zdGFydHNXaXRoKCdtaWdyYXRpb25fYmFja3VwXycpKVxuXG4gICAgICBleHBlY3QobWlncmF0aW9uQmFja3Vwcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxuXG4gICAgICAvLyDpqozor4HlpIfku73mlbDmja7moLzlvI9cbiAgICAgIGNvbnN0IGJhY2t1cEtleSA9IG1pZ3JhdGlvbkJhY2t1cHNbMF1cbiAgICAgIGNvbnN0IGJhY2t1cERhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGJhY2t1cEtleSkhKVxuXG4gICAgICBleHBlY3QoYmFja3VwRGF0YS5pZCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KGJhY2t1cERhdGEudGltZXN0YW1wKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QoYmFja3VwRGF0YS5kYXRhKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QoYmFja3VwRGF0YS5jaGVja3N1bSkudG9CZURlZmluZWQoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XmraPnoa7lpIfku73orr7nva7mlbDmja4nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyDlhYjlnKjmlbDmja7lupPkuK3mt7vliqDkuIDkupvorr7nva5cbiAgICAgIGF3YWl0IGRiLnNldHRpbmdzLmJ1bGtBZGQoW1xuICAgICAgICB7IGtleTogJ3RoZW1lJywgdmFsdWU6ICdkYXJrJywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLCBzY29wZTogJ3VzZXInIH0sXG4gICAgICAgIHsga2V5OiAnbGFuZ3VhZ2UnLCB2YWx1ZTogJ3poLUNOJywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLCBzY29wZTogJ3VzZXInIH0sXG4gICAgICAgIHsga2V5OiAnYXV0by1zeW5jJywgdmFsdWU6IHRydWUsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSwgc2NvcGU6ICdnbG9iYWwnIH1cbiAgICAgIF0pXG5cbiAgICAgIGNvbnN0IHRlc3REYXRhID0gVGVzdERhdGFGYWN0b3J5LmNyZWF0ZUJ1bGtUZXN0RGF0YSgxLCAwLCAwKVxuICAgICAgc2V0dXBMb2NhbFN0b3JhZ2VEYXRhKHRlc3REYXRhKVxuXG4gICAgICBjb25zdCBzb3VyY2UgPSB7XG4gICAgICAgIHR5cGU6ICdsb2NhbFN0b3JhZ2UnIGFzIGNvbnN0LFxuICAgICAgICB2ZXJzaW9uOiAnMS4wJ1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwbGFuID0gYXdhaXQgZGF0YU1pZ3JhdGlvblRvb2wuYW5hbHl6ZUFuZENyZWF0ZVBsYW4oc291cmNlKVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGF0YU1pZ3JhdGlvblRvb2wuZXhlY3V0ZU1pZ3JhdGlvbihwbGFuKVxuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcblxuICAgICAgLy8g6aqM6K+B6K6+572u5pWw5o2u5Lmf6KKr5aSH5Lu9XG4gICAgICBjb25zdCByb2xsYmFja0tleSA9IGByb2xsYmFja18ke3Jlc3VsdC5yb2xsYmFja1BvaW50fWBcbiAgICAgIGNvbnN0IHJvbGxiYWNrRGF0YSA9IGF3YWl0IGRiLnNldHRpbmdzXG4gICAgICAgIC53aGVyZSgna2V5JylcbiAgICAgICAgLmVxdWFscyhyb2xsYmFja0tleSlcbiAgICAgICAgLmZpcnN0KClcblxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YS52YWx1ZS5kYXRhLnNldHRpbmdzKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3Qocm9sbGJhY2tEYXRhLnZhbHVlLmRhdGEuc2V0dGluZ3MubGVuZ3RoKS50b0JlKDMpXG4gICAgICBleHBlY3Qocm9sbGJhY2tEYXRhLnZhbHVlLmRhdGEuc2V0dGluZ3Muc29tZSgoczogYW55KSA9PiBzLmtleSA9PT0gJ3RoZW1lJykpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5q2j56Gu5aSH5Lu95ZCM5q2l6Zif5YiX5pWw5o2uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8g5re75Yqg5ZCM5q2l6Zif5YiX5pWw5o2uXG4gICAgICBhd2FpdCBkYi5zeW5jUXVldWUuYnVsa0FkZChbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnY3JlYXRlJyxcbiAgICAgICAgICBlbnRpdHk6ICdjYXJkJyxcbiAgICAgICAgICBlbnRpdHlJZDogJ2NhcmQtMScsXG4gICAgICAgICAgdXNlcklkOiAnZGVmYXVsdCcsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgICAgbWF4UmV0cmllczogMyxcbiAgICAgICAgICBwcmlvcml0eTogJ25vcm1hbCdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICd1cGRhdGUnLFxuICAgICAgICAgIGVudGl0eTogJ2ZvbGRlcicsXG4gICAgICAgICAgZW50aXR5SWQ6ICdmb2xkZXItMScsXG4gICAgICAgICAgdXNlcklkOiAnZGVmYXVsdCcsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHJldHJ5Q291bnQ6IDEsXG4gICAgICAgICAgbWF4UmV0cmllczogMyxcbiAgICAgICAgICBwcmlvcml0eTogJ2hpZ2gnXG4gICAgICAgIH1cbiAgICAgIF0pXG5cbiAgICAgIGNvbnN0IHRlc3REYXRhID0gVGVzdERhdGFGYWN0b3J5LmNyZWF0ZUJ1bGtUZXN0RGF0YSgxLCAwLCAwKVxuICAgICAgc2V0dXBMb2NhbFN0b3JhZ2VEYXRhKHRlc3REYXRhKVxuXG4gICAgICBjb25zdCBzb3VyY2UgPSB7XG4gICAgICAgIHR5cGU6ICdsb2NhbFN0b3JhZ2UnIGFzIGNvbnN0LFxuICAgICAgICB2ZXJzaW9uOiAnMS4wJ1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwbGFuID0gYXdhaXQgZGF0YU1pZ3JhdGlvblRvb2wuYW5hbHl6ZUFuZENyZWF0ZVBsYW4oc291cmNlKVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGF0YU1pZ3JhdGlvblRvb2wuZXhlY3V0ZU1pZ3JhdGlvbihwbGFuKVxuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcblxuICAgICAgLy8g6aqM6K+B5ZCM5q2l6Zif5YiX5pWw5o2u5Lmf6KKr5aSH5Lu9XG4gICAgICBjb25zdCByb2xsYmFja0tleSA9IGByb2xsYmFja18ke3Jlc3VsdC5yb2xsYmFja1BvaW50fWBcbiAgICAgIGNvbnN0IHJvbGxiYWNrRGF0YSA9IGF3YWl0IGRiLnNldHRpbmdzXG4gICAgICAgIC53aGVyZSgna2V5JylcbiAgICAgICAgLmVxdWFscyhyb2xsYmFja0tleSlcbiAgICAgICAgLmZpcnN0KClcblxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YS52YWx1ZS5kYXRhLnN5bmNRdWV1ZSkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YS52YWx1ZS5kYXRhLnN5bmNRdWV1ZS5sZW5ndGgpLnRvQmUoMilcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCflpIfku73mgaLlpI0nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBjbGVhbnVwTG9jYWxTdG9yYWdlKClcbiAgICAgIGF3YWl0IGRiLmNsZWFyQWxsKClcbiAgICB9KVxuXG4gICAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGNsZWFudXBMb2NhbFN0b3JhZ2UoKVxuICAgICAgYXdhaXQgZGIuY2xlYXJBbGwoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6Xog73lpJ/ku47lm57mu5rngrnmgaLlpI3mlbDmja4nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyDlh4blpIfljp/lp4vmlbDmja5cbiAgICAgIGNvbnN0IG9yaWdpbmFsRGF0YSA9IFRlc3REYXRhRmFjdG9yeS5jcmVhdGVCdWxrVGVzdERhdGEoNSwgMiwgMylcbiAgICAgIGF3YWl0IGRiLmNhcmRzLmJ1bGtBZGQob3JpZ2luYWxEYXRhLmNhcmRzLm1hcChjYXJkID0+ICh7XG4gICAgICAgIC4uLmNhcmQsXG4gICAgICAgIHVzZXJJZDogJ2RlZmF1bHQnLFxuICAgICAgICBzeW5jVmVyc2lvbjogMSxcbiAgICAgICAgcGVuZGluZ1N5bmM6IGZhbHNlLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHNlYXJjaFZlY3RvcjogJ29yaWdpbmFsIGRhdGEnXG4gICAgICB9KSkpXG5cbiAgICAgIC8vIOWIm+W7uui/geenu1xuICAgICAgY29uc3QgdGVzdERhdGEgPSBUZXN0RGF0YUZhY3RvcnkuY3JlYXRlQnVsa1Rlc3REYXRhKDMsIDEsIDIpXG4gICAgICBzZXR1cExvY2FsU3RvcmFnZURhdGEodGVzdERhdGEpXG5cbiAgICAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgICAgICAgdHlwZTogJ2xvY2FsU3RvcmFnZScgYXMgY29uc3QsXG4gICAgICAgIHZlcnNpb246ICcxLjAnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBsYW4gPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5hbmFseXplQW5kQ3JlYXRlUGxhbihzb3VyY2UpXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5leGVjdXRlTWlncmF0aW9uKHBsYW4pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHJlc3VsdC5yb2xsYmFja1BvaW50KS50b0JlRGVmaW5lZCgpXG5cbiAgICAgIC8vIOmqjOivgei/geenu+WQjueahOaVsOaNrlxuICAgICAgbGV0IGRiQ2FyZHMgPSBhd2FpdCBkYi5jYXJkcy50b0FycmF5KClcbiAgICAgIGV4cGVjdChkYkNhcmRzLmxlbmd0aCkudG9CZShvcmlnaW5hbERhdGEuY2FyZHMubGVuZ3RoICsgdGVzdERhdGEuY2FyZHMubGVuZ3RoKVxuXG4gICAgICAvLyDmqKHmi5/ov4Hnp7vlpLHotKXvvIzmiYvliqjop6blj5Hlm57mu5pcbiAgICAgIGF3YWl0IChkYXRhTWlncmF0aW9uVG9vbCBhcyBhbnkpLnJvbGxiYWNrTWlncmF0aW9uKHJlc3VsdC5yb2xsYmFja1BvaW50ISlcblxuICAgICAgLy8g6aqM6K+B5pWw5o2u5bey5oGi5aSNXG4gICAgICBkYkNhcmRzID0gYXdhaXQgZGIuY2FyZHMudG9BcnJheSgpXG4gICAgICBleHBlY3QoZGJDYXJkcy5sZW5ndGgpLnRvQmUob3JpZ2luYWxEYXRhLmNhcmRzLmxlbmd0aClcblxuICAgICAgLy8g6aqM6K+B5Y6f5aeL5pWw5o2u5a6M5pW05oCnXG4gICAgICBkYkNhcmRzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICAgIGV4cGVjdChjYXJkLnNlYXJjaFZlY3RvcikudG9CZSgnb3JpZ2luYWwgZGF0YScpXG4gICAgICAgIGV4cGVjdChjYXJkLnVzZXJJZCkudG9CZSgnZGVmYXVsdCcpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XmraPnoa7mgaLlpI3lpI3mnYLnmoTmlbDmja7nu5PmnoQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyDlh4blpIfljIXlkKvlm77niYflkozlpI3mnYLlhbPns7vnmoTljp/lp4vmlbDmja5cbiAgICAgIGNvbnN0IGNvbXBsZXhEYXRhID0gVGVzdERhdGFGYWN0b3J5LmNyZWF0ZUJ1bGtUZXN0RGF0YSgxMCwgNSwgOClcblxuICAgICAgLy8g5re75Yqg5Zu+54mH5pWw5o2u5Yiw5pWw5o2u5bqTXG4gICAgICBjb25zdCBpbWFnZVJlY29yZHMgPSBbXVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgaW1hZ2VSZWNvcmRzLnB1c2goe1xuICAgICAgICAgIGlkOiBgaW1hZ2UtJHtpfWAsXG4gICAgICAgICAgY2FyZElkOiBjb21wbGV4RGF0YS5jYXJkc1tpXS5pZCxcbiAgICAgICAgICB1c2VySWQ6ICdkZWZhdWx0JyxcbiAgICAgICAgICBmaWxlTmFtZTogYGltYWdlLSR7aX0uanBnYCxcbiAgICAgICAgICBmaWxlUGF0aDogYC9pbWFnZXMvJHtjb21wbGV4RGF0YS5jYXJkc1tpXS5pZH0vaW1hZ2UtJHtpfS5qcGdgLFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBvcmlnaW5hbE5hbWU6IGBpbWFnZS0ke2l9LmpwZ2AsXG4gICAgICAgICAgICBzaXplOiAxMDI0LFxuICAgICAgICAgICAgd2lkdGg6IDEwMCxcbiAgICAgICAgICAgIGhlaWdodDogMTAwLFxuICAgICAgICAgICAgZm9ybWF0OiAnanBnJyxcbiAgICAgICAgICAgIGNvbXByZXNzZWQ6IGZhbHNlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdG9yYWdlTW9kZTogJ2ZpbGVzeXN0ZW0nIGFzIGNvbnN0LFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgc3luY1ZlcnNpb246IDEsXG4gICAgICAgICAgcGVuZGluZ1N5bmM6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBhd2FpdCBkYi5pbWFnZXMuYnVsa0FkZChpbWFnZVJlY29yZHMpXG5cbiAgICAgIC8vIOa3u+WKoOiuvue9ruWSjOWQjOatpeaVsOaNrlxuICAgICAgYXdhaXQgZGIuc2V0dGluZ3MuYnVsa0FkZChbXG4gICAgICAgIHsga2V5OiAndGVzdC1zZXR0aW5nJywgdmFsdWU6ICd0ZXN0LXZhbHVlJywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLCBzY29wZTogJ3VzZXInIH1cbiAgICAgIF0pXG5cbiAgICAgIC8vIOaJp+ihjOi/geenu1xuICAgICAgY29uc3QgdGVzdERhdGEgPSBUZXN0RGF0YUZhY3RvcnkuY3JlYXRlQnVsa1Rlc3REYXRhKDIsIDEsIDEpXG4gICAgICBzZXR1cExvY2FsU3RvcmFnZURhdGEodGVzdERhdGEpXG5cbiAgICAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgICAgICAgdHlwZTogJ2xvY2FsU3RvcmFnZScgYXMgY29uc3QsXG4gICAgICAgIHZlcnNpb246ICcxLjAnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBsYW4gPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5hbmFseXplQW5kQ3JlYXRlUGxhbihzb3VyY2UpXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5leGVjdXRlTWlncmF0aW9uKHBsYW4pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKVxuXG4gICAgICAvLyDmiafooYzlm57mu5pcbiAgICAgIGF3YWl0IChkYXRhTWlncmF0aW9uVG9vbCBhcyBhbnkpLnJvbGxiYWNrTWlncmF0aW9uKHJlc3VsdC5yb2xsYmFja1BvaW50ISlcblxuICAgICAgLy8g6aqM6K+B5omA5pyJ5pWw5o2u6YO95q2j56Gu5oGi5aSNXG4gICAgICBjb25zdCBkYkNhcmRzID0gYXdhaXQgZGIuY2FyZHMudG9BcnJheSgpXG4gICAgICBjb25zdCBkYkltYWdlcyA9IGF3YWl0IGRiLmltYWdlcy50b0FycmF5KClcbiAgICAgIGNvbnN0IGRiU2V0dGluZ3MgPSBhd2FpdCBkYi5zZXR0aW5ncy53aGVyZSgna2V5JykuZXF1YWxzKCd0ZXN0LXNldHRpbmcnKS50b0FycmF5KClcblxuICAgICAgZXhwZWN0KGRiQ2FyZHMubGVuZ3RoKS50b0JlKGNvbXBsZXhEYXRhLmNhcmRzLmxlbmd0aClcbiAgICAgIGV4cGVjdChkYkltYWdlcy5sZW5ndGgpLnRvQmUoaW1hZ2VSZWNvcmRzLmxlbmd0aClcbiAgICAgIGV4cGVjdChkYlNldHRpbmdzLmxlbmd0aCkudG9CZSgxKVxuXG4gICAgICAvLyDpqozor4HmlbDmja7lhbPns7tcbiAgICAgIGRiSW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4ge1xuICAgICAgICBleHBlY3QoZGJDYXJkcy5zb21lKGNhcmQgPT4gY2FyZC5pZCA9PT0gaW1hZ2UuY2FyZElkKSkudG9CZSh0cnVlKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5aSE55CG5Zue5rua6L+H56iL5Lit55qE6ZSZ6K+vJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdERhdGEgPSBUZXN0RGF0YUZhY3RvcnkuY3JlYXRlQnVsa1Rlc3REYXRhKDEsIDAsIDApXG4gICAgICBzZXR1cExvY2FsU3RvcmFnZURhdGEodGVzdERhdGEpXG5cbiAgICAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgICAgICAgdHlwZTogJ2xvY2FsU3RvcmFnZScgYXMgY29uc3QsXG4gICAgICAgIHZlcnNpb246ICcxLjAnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBsYW4gPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5hbmFseXplQW5kQ3JlYXRlUGxhbihzb3VyY2UpXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5leGVjdXRlTWlncmF0aW9uKHBsYW4pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHJlc3VsdC5yb2xsYmFja1BvaW50KS50b0JlRGVmaW5lZCgpXG5cbiAgICAgIC8vIOaooeaLn+Wbnua7muWksei0pVxuICAgICAgY29uc3Qgb3JpZ2luYWxDbGVhckFsbCA9IGRiLmNsZWFyQWxsXG4gICAgICBkYi5jbGVhckFsbCA9IGplc3QuZm4oKS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0NsZWFyIGZhaWxlZCcpKVxuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBleHBlY3QoKGRhdGFNaWdyYXRpb25Ub29sIGFzIGFueSkucm9sbGJhY2tNaWdyYXRpb24ocmVzdWx0LnJvbGxiYWNrUG9pbnQhKSlcbiAgICAgICAgICAucmVqZWN0cy50b1Rocm93KCdSb2xsYmFjayBmYWlsZWQnKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8g5oGi5aSN5Y6f5aeL5pa55rOVXG4gICAgICAgIGRiLmNsZWFyQWxsID0gb3JpZ2luYWxDbGVhckFsbFxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6Xpqozor4Hlm57mu5rlkI7nmoTmlbDmja7lrozmlbTmgKcnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyDlh4blpIfljp/lp4vmlbDmja5cbiAgICAgIGNvbnN0IG9yaWdpbmFsRGF0YSA9IFRlc3REYXRhRmFjdG9yeS5jcmVhdGVCdWxrVGVzdERhdGEoNSwgMiwgMylcbiAgICAgIGF3YWl0IGRiLmNhcmRzLmJ1bGtBZGQob3JpZ2luYWxEYXRhLmNhcmRzLm1hcChjYXJkID0+ICh7XG4gICAgICAgIC4uLmNhcmQsXG4gICAgICAgIHVzZXJJZDogJ2RlZmF1bHQnLFxuICAgICAgICBzeW5jVmVyc2lvbjogMSxcbiAgICAgICAgcGVuZGluZ1N5bmM6IGZhbHNlLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHNlYXJjaFZlY3RvcjogJ3Rlc3QgZGF0YSdcbiAgICAgIH0pKSlcblxuICAgICAgY29uc3QgdGVzdERhdGEgPSBUZXN0RGF0YUZhY3RvcnkuY3JlYXRlQnVsa1Rlc3REYXRhKDMsIDEsIDIpXG4gICAgICBzZXR1cExvY2FsU3RvcmFnZURhdGEodGVzdERhdGEpXG5cbiAgICAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgICAgICAgdHlwZTogJ2xvY2FsU3RvcmFnZScgYXMgY29uc3QsXG4gICAgICAgIHZlcnNpb246ICcxLjAnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBsYW4gPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5hbmFseXplQW5kQ3JlYXRlUGxhbihzb3VyY2UpXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5leGVjdXRlTWlncmF0aW9uKHBsYW4pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKVxuXG4gICAgICAvLyDmiafooYzlm57mu5pcbiAgICAgIGF3YWl0IChkYXRhTWlncmF0aW9uVG9vbCBhcyBhbnkpLnJvbGxiYWNrTWlncmF0aW9uKHJlc3VsdC5yb2xsYmFja1BvaW50ISlcblxuICAgICAgLy8g6aqM6K+B5Zue5rua5ZCO55qE5pWw5o2u5a6M5pW05oCnXG4gICAgICBjb25zdCB2YWxpZGF0aW9uUmVwb3J0ID0gYXdhaXQgZGF0YU1pZ3JhdGlvblRvb2wuY3JlYXRlVmFsaWRhdGlvblJlcG9ydCgpXG5cbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uUmVwb3J0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uUmVwb3J0LmludGVncml0eS5jYXJkc1ZhbGlkKS50b0JlKG9yaWdpbmFsRGF0YS5jYXJkcy5sZW5ndGgpXG4gICAgICBleHBlY3QodmFsaWRhdGlvblJlcG9ydC5jb25zaXN0ZW5jeS5yZWZlcmVuY2VzVmFsaWQpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uUmVwb3J0LmNvbnNpc3RlbmN5Lm9ycGhhbnNGb3VuZCkudG9CZSgwKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+Wkh+S7veetlueVpeWSjOS8mOWMlicsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGNsZWFudXBMb2NhbFN0b3JhZ2UoKVxuICAgICAgYXdhaXQgZGIuY2xlYXJBbGwoKVxuICAgIH0pXG5cbiAgICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgY2xlYW51cExvY2FsU3RvcmFnZSgpXG4gICAgICBhd2FpdCBkYi5jbGVhckFsbCgpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeagueaNrua6kOexu+Wei+WGs+WumuaYr+WQpumcgOimgeWkh+S7vScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIGxvY2FsU3RvcmFnZea6kOmcgOimgeWkh+S7vVxuICAgICAgY29uc3QgbG9jYWxTdG9yYWdlU291cmNlID0ge1xuICAgICAgICB0eXBlOiAnbG9jYWxTdG9yYWdlJyBhcyBjb25zdCxcbiAgICAgICAgdmVyc2lvbjogJzEuMCdcbiAgICAgIH1cblxuICAgICAgY29uc3QgbG9jYWxTdG9yYWdlUGxhbiA9IGF3YWl0IGRhdGFNaWdyYXRpb25Ub29sLmFuYWx5emVBbmRDcmVhdGVQbGFuKGxvY2FsU3RvcmFnZVNvdXJjZSlcbiAgICAgIGV4cGVjdChsb2NhbFN0b3JhZ2VQbGFuLmJhY2t1cFJlcXVpcmVkKS50b0JlKHRydWUpXG5cbiAgICAgIC8vIOWkh+S7vea6kOS4jemcgOimgemineWkluWkh+S7vVxuICAgICAgY29uc3QgYmFja3VwU291cmNlID0ge1xuICAgICAgICB0eXBlOiAnYmFja3VwJyBhcyBjb25zdCxcbiAgICAgICAgdmVyc2lvbjogJzEuMCdcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmFja3VwUGxhbiA9IGF3YWl0IGRhdGFNaWdyYXRpb25Ub29sLmFuYWx5emVBbmRDcmVhdGVQbGFuKGJhY2t1cFNvdXJjZSlcbiAgICAgIGV4cGVjdChiYWNrdXBQbGFuLmJhY2t1cFJlcXVpcmVkKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XkvJjljJblpKfmlbDmja7ph4/nmoTlpIfku73mgKfog70nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyDlh4blpIflpKfph4/ljp/lp4vmlbDmja5cbiAgICAgIGNvbnN0IGxhcmdlT3JpZ2luYWxEYXRhID0gVGVzdERhdGFGYWN0b3J5LmNyZWF0ZUJ1bGtUZXN0RGF0YSgxMDAsIDIwLCAzMClcbiAgICAgIGF3YWl0IGRiLmNhcmRzLmJ1bGtBZGQobGFyZ2VPcmlnaW5hbERhdGEuY2FyZHMubWFwKGNhcmQgPT4gKHtcbiAgICAgICAgLi4uY2FyZCxcbiAgICAgICAgdXNlcklkOiAnZGVmYXVsdCcsXG4gICAgICAgIHN5bmNWZXJzaW9uOiAxLFxuICAgICAgICBwZW5kaW5nU3luYzogZmFsc2UsXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgc2VhcmNoVmVjdG9yOiAnbGFyZ2Ugb3JpZ2luYWwgZGF0YSdcbiAgICAgIH0pKSlcblxuICAgICAgY29uc3QgdGVzdERhdGEgPSBUZXN0RGF0YUZhY3RvcnkuY3JlYXRlQnVsa1Rlc3REYXRhKDEwLCAzLCA1KVxuICAgICAgc2V0dXBMb2NhbFN0b3JhZ2VEYXRhKHRlc3REYXRhKVxuXG4gICAgICBjb25zdCBzb3VyY2UgPSB7XG4gICAgICAgIHR5cGU6ICdsb2NhbFN0b3JhZ2UnIGFzIGNvbnN0LFxuICAgICAgICB2ZXJzaW9uOiAnMS4wJ1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwbGFuID0gYXdhaXQgZGF0YU1pZ3JhdGlvblRvb2wuYW5hbHl6ZUFuZENyZWF0ZVBsYW4oc291cmNlKVxuXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGF0YU1pZ3JhdGlvblRvb2wuZXhlY3V0ZU1pZ3JhdGlvbihwbGFuKVxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKVxuXG4gICAgICBjb25zdCBiYWNrdXBUaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZVxuICAgICAgY29uc29sZS5sb2coYOWkp+aVsOaNrumHj+Wkh+S7veiAl+aXtjogJHtiYWNrdXBUaW1lLnRvRml4ZWQoMil9bXNgKVxuXG4gICAgICAvLyDlpIfku73lupTor6XlnKjlkIjnkIbml7bpl7TlhoXlrozmiJDvvIg156eS5YaF77yJXG4gICAgICBleHBlY3QoYmFja3VwVGltZSkudG9CZUxlc3NUaGFuKDUwMDApXG5cbiAgICAgIC8vIOmqjOivgeWkh+S7veaVsOaNruWujOaVtOaAp1xuICAgICAgY29uc3Qgcm9sbGJhY2tLZXkgPSBgcm9sbGJhY2tfJHtyZXN1bHQucm9sbGJhY2tQb2ludH1gXG4gICAgICBjb25zdCByb2xsYmFja0RhdGEgPSBhd2FpdCBkYi5zZXR0aW5nc1xuICAgICAgICAud2hlcmUoJ2tleScpXG4gICAgICAgIC5lcXVhbHMocm9sbGJhY2tLZXkpXG4gICAgICAgIC5maXJzdCgpXG5cbiAgICAgIGV4cGVjdChyb2xsYmFja0RhdGEudmFsdWUuZGF0YS5jYXJkcy5sZW5ndGgpLnRvQmUobGFyZ2VPcmlnaW5hbERhdGEuY2FyZHMubGVuZ3RoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XmraPnoa7muIXnkIbov4fmnJ/nmoTlm57mu5rngrknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0RGF0YSA9IFRlc3REYXRhRmFjdG9yeS5jcmVhdGVCdWxrVGVzdERhdGEoMiwgMSwgMSlcbiAgICAgIHNldHVwTG9jYWxTdG9yYWdlRGF0YSh0ZXN0RGF0YSlcblxuICAgICAgY29uc3Qgc291cmNlID0ge1xuICAgICAgICB0eXBlOiAnbG9jYWxTdG9yYWdlJyBhcyBjb25zdCxcbiAgICAgICAgdmVyc2lvbjogJzEuMCdcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGxhbiA9IGF3YWl0IGRhdGFNaWdyYXRpb25Ub29sLmFuYWx5emVBbmRDcmVhdGVQbGFuKHNvdXJjZSlcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRhdGFNaWdyYXRpb25Ub29sLmV4ZWN1dGVNaWdyYXRpb24ocGxhbilcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QocmVzdWx0LnJvbGxiYWNrUG9pbnQpLnRvQmVEZWZpbmVkKClcblxuICAgICAgLy8g6aqM6K+B5Zue5rua54K55a2Y5ZyoXG4gICAgICBjb25zdCByb2xsYmFja0tleSA9IGByb2xsYmFja18ke3Jlc3VsdC5yb2xsYmFja1BvaW50fWBcbiAgICAgIGxldCByb2xsYmFja0RhdGEgPSBhd2FpdCBkYi5zZXR0aW5nc1xuICAgICAgICAud2hlcmUoJ2tleScpXG4gICAgICAgIC5lcXVhbHMocm9sbGJhY2tLZXkpXG4gICAgICAgIC5maXJzdCgpXG5cbiAgICAgIGV4cGVjdChyb2xsYmFja0RhdGEpLnRvQmVEZWZpbmVkKClcblxuICAgICAgLy8g6L+B56e75a6M5oiQ5ZCO5bqU6K+l6Ieq5Yqo5riF55CGXG4gICAgICBhd2FpdCBNaWdyYXRpb25UZXN0SGVscGVycy53YWl0Rm9yKDEwMClcblxuICAgICAgLy8g5qOA5p+l5piv5ZCm5bey5riF55CG77yI5Y+v6IO95Zyo5ZCO5Y+w6Ieq5Yqo5riF55CG77yJXG4gICAgICByb2xsYmFja0RhdGEgPSBhd2FpdCBkYi5zZXR0aW5nc1xuICAgICAgICAud2hlcmUoJ2tleScpXG4gICAgICAgIC5lcXVhbHMocm9sbGJhY2tLZXkpXG4gICAgICAgIC5maXJzdCgpXG5cbiAgICAgIC8vIOa4heeQhuaYr+WPr+mAieeahO+8jOS4jeW8uuWItuimgeaxglxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XlpITnkIblpIfku73lrZjlgqjnqbrpl7TkuI3otrPnmoTmg4XlhrUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyDmqKHmi5/lrZjlgqjphY3pop3kuI3otrNcbiAgICAgIGNvbnN0IG9yaWdpbmFsRXN0aW1hdGUgPSAobmF2aWdhdG9yIGFzIGFueSkuc3RvcmFnZT8uZXN0aW1hdGVcbiAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICA7KG5hdmlnYXRvciBhcyBhbnkpLnN0b3JhZ2UgPSB7XG4gICAgICAgICAgZXN0aW1hdGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICB1c2FnZTogNC45ICogMTAyNCAqIDEwMjQgKiAxMDI0LCAvLyA0LjlHQiB1c2VkXG4gICAgICAgICAgICBxdW90YTogNSAqIDEwMjQgKiAxMDI0ICogMTAyNCAgICAvLyA1R0IgdG90YWxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRlc3REYXRhID0gVGVzdERhdGFGYWN0b3J5LmNyZWF0ZUJ1bGtUZXN0RGF0YSgxLCAwLCAwKVxuICAgICAgc2V0dXBMb2NhbFN0b3JhZ2VEYXRhKHRlc3REYXRhKVxuXG4gICAgICBjb25zdCBzb3VyY2UgPSB7XG4gICAgICAgIHR5cGU6ICdsb2NhbFN0b3JhZ2UnIGFzIGNvbnN0LFxuICAgICAgICB2ZXJzaW9uOiAnMS4wJ1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwbGFuID0gYXdhaXQgZGF0YU1pZ3JhdGlvblRvb2wuYW5hbHl6ZUFuZENyZWF0ZVBsYW4oc291cmNlKVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5leGVjdXRlTWlncmF0aW9uKHBsYW4pXG5cbiAgICAgICAgLy8g5Y2z5L2/5a2Y5YKo56m66Ze057Sn5byg77yM5Lmf5bqU6K+l6IO95aSf5a6M5oiQ5Z+65pys5aSH5Lu9XG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8g5oGi5aSN5Y6f5aeLZXN0aW1hdGXmlrnms5VcbiAgICAgICAgaWYgKG9yaWdpbmFsRXN0aW1hdGUpIHtcbiAgICAgICAgICA7KG5hdmlnYXRvciBhcyBhbnkpLnN0b3JhZ2UuZXN0aW1hdGUgPSBvcmlnaW5hbEVzdGltYXRlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCflpIfku73pqozor4HlkozlronlhagnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBjbGVhbnVwTG9jYWxTdG9yYWdlKClcbiAgICAgIGF3YWl0IGRiLmNsZWFyQWxsKClcbiAgICB9KVxuXG4gICAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGNsZWFudXBMb2NhbFN0b3JhZ2UoKVxuICAgICAgYXdhaXQgZGIuY2xlYXJBbGwoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6Xpqozor4HlpIfku73mlbDmja7nmoTlrozmlbTmgKcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0RGF0YSA9IFRlc3REYXRhRmFjdG9yeS5jcmVhdGVCdWxrVGVzdERhdGEoMywgMSwgMilcbiAgICAgIHNldHVwTG9jYWxTdG9yYWdlRGF0YSh0ZXN0RGF0YSlcblxuICAgICAgY29uc3Qgc291cmNlID0ge1xuICAgICAgICB0eXBlOiAnbG9jYWxTdG9yYWdlJyBhcyBjb25zdCxcbiAgICAgICAgdmVyc2lvbjogJzEuMCdcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGxhbiA9IGF3YWl0IGRhdGFNaWdyYXRpb25Ub29sLmFuYWx5emVBbmRDcmVhdGVQbGFuKHNvdXJjZSlcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRhdGFNaWdyYXRpb25Ub29sLmV4ZWN1dGVNaWdyYXRpb24ocGxhbilcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpXG5cbiAgICAgIC8vIOiOt+WPluWkh+S7veaVsOaNrlxuICAgICAgY29uc3Qgcm9sbGJhY2tLZXkgPSBgcm9sbGJhY2tfJHtyZXN1bHQucm9sbGJhY2tQb2ludH1gXG4gICAgICBjb25zdCByb2xsYmFja0RhdGEgPSBhd2FpdCBkYi5zZXR0aW5nc1xuICAgICAgICAud2hlcmUoJ2tleScpXG4gICAgICAgIC5lcXVhbHMocm9sbGJhY2tLZXkpXG4gICAgICAgIC5maXJzdCgpXG5cbiAgICAgIC8vIOmqjOivgeWkh+S7veaVsOaNrue7k+aehFxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YS52YWx1ZS5pZCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YS52YWx1ZS50aW1lc3RhbXApLnRvQmVJbnN0YW5jZU9mKERhdGUpXG4gICAgICBleHBlY3Qocm9sbGJhY2tEYXRhLnZhbHVlLnZlcnNpb24pLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChyb2xsYmFja0RhdGEudmFsdWUuZGF0YSkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YS52YWx1ZS5jaGVja3N1bSkudG9CZURlZmluZWQoKVxuXG4gICAgICAvLyDpqozor4HlkITmlbDmja7ooajlrZjlnKhcbiAgICAgIGV4cGVjdChyb2xsYmFja0RhdGEudmFsdWUuZGF0YS5jYXJkcykudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJvbGxiYWNrRGF0YS52YWx1ZS5kYXRhLmZvbGRlcnMpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChyb2xsYmFja0RhdGEudmFsdWUuZGF0YS50YWdzKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3Qocm9sbGJhY2tEYXRhLnZhbHVlLmRhdGEuaW1hZ2VzKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3Qocm9sbGJhY2tEYXRhLnZhbHVlLmRhdGEuc2V0dGluZ3MpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChyb2xsYmFja0RhdGEudmFsdWUuZGF0YS5zeW5jUXVldWUpLnRvQmVEZWZpbmVkKClcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5qOA5rWL5aSH5Lu95pWw5o2u55qE5o2f5Z2PJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdERhdGEgPSBUZXN0RGF0YUZhY3RvcnkuY3JlYXRlQnVsa1Rlc3REYXRhKDEsIDAsIDApXG4gICAgICBzZXR1cExvY2FsU3RvcmFnZURhdGEodGVzdERhdGEpXG5cbiAgICAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgICAgICAgdHlwZTogJ2xvY2FsU3RvcmFnZScgYXMgY29uc3QsXG4gICAgICAgIHZlcnNpb246ICcxLjAnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBsYW4gPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5hbmFseXplQW5kQ3JlYXRlUGxhbihzb3VyY2UpXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5leGVjdXRlTWlncmF0aW9uKHBsYW4pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKVxuXG4gICAgICAvLyDojrflj5blubbmjZ/lnY/lpIfku73mlbDmja5cbiAgICAgIGNvbnN0IHJvbGxiYWNrS2V5ID0gYHJvbGxiYWNrXyR7cmVzdWx0LnJvbGxiYWNrUG9pbnR9YFxuICAgICAgY29uc3Qgcm9sbGJhY2tEYXRhID0gYXdhaXQgZGIuc2V0dGluZ3NcbiAgICAgICAgLndoZXJlKCdrZXknKVxuICAgICAgICAuZXF1YWxzKHJvbGxiYWNrS2V5KVxuICAgICAgICAuZmlyc3QoKVxuXG4gICAgICAvLyDkv67mlLnlpIfku73mlbDmja7ku6XmqKHmi5/mjZ/lnY9cbiAgICAgIHJvbGxiYWNrRGF0YS52YWx1ZS5kYXRhLmNhcmRzID0gbnVsbFxuXG4gICAgICBhd2FpdCBkYi5zZXR0aW5ncy51cGRhdGUocm9sbGJhY2tEYXRhLmtleSEsIHsgdmFsdWU6IHJvbGxiYWNrRGF0YS52YWx1ZSB9KVxuXG4gICAgICAvLyDlsJ3or5Xlm57mu5rlupTor6Xmo4DmtYvliLDmjZ/lnY9cbiAgICAgIGF3YWl0IGV4cGVjdCgoZGF0YU1pZ3JhdGlvblRvb2wgYXMgYW55KS5yb2xsYmFja01pZ3JhdGlvbihyZXN1bHQucm9sbGJhY2tQb2ludCEpKVxuICAgICAgICAucmVqZWN0cy50b1Rocm93KClcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5L+d5oqk5aSH5Lu95LiN6KKr5oSP5aSW5Yig6ZmkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdERhdGEgPSBUZXN0RGF0YUZhY3RvcnkuY3JlYXRlQnVsa1Rlc3REYXRhKDEsIDAsIDApXG4gICAgICBzZXR1cExvY2FsU3RvcmFnZURhdGEodGVzdERhdGEpXG5cbiAgICAgIGNvbnN0IHNvdXJjZSA9IHtcbiAgICAgICAgdHlwZTogJ2xvY2FsU3RvcmFnZScgYXMgY29uc3QsXG4gICAgICAgIHZlcnNpb246ICcxLjAnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBsYW4gPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5hbmFseXplQW5kQ3JlYXRlUGxhbihzb3VyY2UpXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYXRhTWlncmF0aW9uVG9vbC5leGVjdXRlTWlncmF0aW9uKHBsYW4pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKVxuXG4gICAgICAvLyDlsJ3or5Xnm7TmjqXliKDpmaTlpIfku73lupTor6XlpLHotKXvvIjpgJrov4fmraPluLhBUEnvvIlcbiAgICAgIGNvbnN0IHJvbGxiYWNrS2V5ID0gYHJvbGxiYWNrXyR7cmVzdWx0LnJvbGxiYWNrUG9pbnR9YFxuXG4gICAgICAvLyDpqozor4HlpIfku73lrZjlnKhcbiAgICAgIGxldCByb2xsYmFja0RhdGEgPSBhd2FpdCBkYi5zZXR0aW5nc1xuICAgICAgICAud2hlcmUoJ2tleScpXG4gICAgICAgIC5lcXVhbHMocm9sbGJhY2tLZXkpXG4gICAgICAgIC5maXJzdCgpXG5cbiAgICAgIGV4cGVjdChyb2xsYmFja0RhdGEpLnRvQmVEZWZpbmVkKClcblxuICAgICAgLy8g5aSH5Lu95bqU6K+l5Zyo6L+B56e75a6M5oiQ5ZCO5L+d5oyB5LiA5q615pe26Ze077yM5LiN6IO956uL5Y2z5Yig6ZmkXG4gICAgICAvLyDov5nmmK/orr7orqHopoHmsYLvvIznoa7kv53mnInotrPlpJ/ml7bpl7Tov5vooYzmgaLlpI1cbiAgICB9KVxuICB9KVxufSkiXSwidmVyc2lvbiI6M30=