0bdc273fc58442e85c1b882265446d5f
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// 模拟数据库
jest.mock('@/services/database', () => ({
    db: {
        open: jest.fn().mockResolvedValue(undefined),
        syncQueue: {
            add: jest.fn(),
            get: jest.fn(),
            getAll: jest.fn(),
            update: jest.fn(),
            delete: jest.fn(),
            clear: jest.fn(),
            where: jest.fn().mockReturnThis(),
            equals: jest.fn().mockReturnThis(),
            and: jest.fn().mockReturnThis(),
            below: jest.fn().mockReturnThis(),
            anyOf: jest.fn().mockReturnThis(),
            orderBy: jest.fn().mockReturnThis(),
            reverse: jest.fn().mockReturnThis(),
            sort: jest.fn().mockReturnThis(),
            filter: jest.fn().mockReturnThis(),
            limit: jest.fn().mockReturnThis(),
            offset: jest.fn().mockReturnThis(),
            toArray: jest.fn(),
            count: jest.fn(),
            bulkDelete: jest.fn(),
            first: jest.fn(),
        }
    }
}));
const local_operation_1 = require("@/services/local-operation");
const database_1 = require("@/services/database");
describe('LocalOperationService', () => {
    let service;
    let mockDb;
    beforeEach(() => {
        jest.clearAllMocks();
        mockDb = database_1.db.syncQueue;
        service = new local_operation_1.LocalOperationService();
        // 模拟 localStorage
        const localStorageMock = {
            getItem: jest.fn(),
            setItem: jest.fn(),
            removeItem: jest.fn(),
            clear: jest.fn(),
        };
        Object.defineProperty(window, 'localStorage', { value: localStorageMock });
    });
    describe('初始化', () => {
        it('应该正确初始化服务', async () => {
            await service.initialize();
            expect(service).toBeDefined();
        });
        it('应该从本地存储恢复队列', async () => {
            const mockQueue = [
                {
                    id: 'test-1',
                    type: 'create',
                    table: 'cards',
                    data: { frontContent: 'test' },
                    localId: 'card-1',
                    timestamp: new Date().toISOString(),
                    retryCount: 0,
                    status: 'pending',
                    localVersion: 1
                }
            ];
            localStorage.getItem = jest.fn().mockReturnValue(JSON.stringify(mockQueue));
            // 初始化时不模拟 toArray，让它实际反映恢复的操作
            let restoredOperations = [];
            // 模拟 add 方法来捕获恢复的操作
            mockDb.add = jest.fn().mockImplementation((operation) => {
                restoredOperations.push(operation);
                return Promise.resolve(operation.id);
            });
            // 模拟 toArray 返回恢复的操作
            mockDb.toArray = jest.fn().mockImplementation(() => {
                return Promise.resolve(restoredOperations);
            });
            await service.initialize();
            const stats = await service.getQueueStats();
            expect(stats.totalOperations).toBe(1);
        });
    });
    describe('添加操作', () => {
        it('应该成功添加操作到队列', async () => {
            mockDb.add = jest.fn().mockResolvedValue('test-id');
            mockDb.toArray = jest.fn().mockResolvedValue([]);
            const operationId = await service.addOperation({
                entityType: 'card',
                operationType: 'create',
                entityId: 'card-1',
                data: { frontContent: 'test', backContent: 'answer' },
                priority: 'normal',
                dependsOn: []
            });
            expect(operationId).toBeDefined();
            expect(mockDb.add).toHaveBeenCalled();
        });
        it('应该处理重复操作', async () => {
            const mockOperation = {
                id: 'existing-op',
                entityType: 'card',
                operationType: 'update',
                entityId: 'card-1',
                data: { frontContent: 'updated' },
                timestamp: new Date().toISOString(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal',
                dependsOn: []
            };
            // 模拟 first 方法返回现有操作
            mockDb.first = jest.fn().mockResolvedValue(mockOperation);
            mockDb.update = jest.fn().mockResolvedValue(1);
            await service.addOperation({
                entityType: 'card',
                operationType: 'update',
                entityId: 'card-1',
                data: { frontContent: 'new update' }
            });
            expect(mockDb.update).toHaveBeenCalled();
        });
        it('应该验证必需字段', async () => {
            await expect(service.addOperation({
                entityType: 'card',
                operationType: 'create',
                entityId: '',
                data: { frontContent: 'test' }
            })).rejects.toThrow('Local ID is required');
        });
    });
    describe('队列统计', () => {
        it('应该返回正确的队列统计信息', async () => {
            const mockOperations = [
                {
                    id: 'op-1',
                    entityType: 'card',
                    operationType: 'create',
                    entityId: 'card-1',
                    data: {},
                    timestamp: new Date(),
                    retryCount: 0,
                    status: 'pending',
                    localVersion: 1,
                    priority: 'high'
                },
                {
                    id: 'op-2',
                    entityType: 'folder',
                    operationType: 'update',
                    entityId: 'folder-1',
                    data: {},
                    timestamp: new Date(),
                    retryCount: 2,
                    status: 'failed',
                    localVersion: 1,
                    priority: 'normal'
                },
                {
                    id: 'op-3',
                    entityType: 'tag',
                    operationType: 'delete',
                    entityId: 'tag-1',
                    data: {},
                    timestamp: new Date(),
                    retryCount: 4,
                    status: 'failed',
                    localVersion: 1,
                    priority: 'low'
                }
            ];
            mockDb.toArray = jest.fn().mockResolvedValue(mockOperations);
            const stats = await service.getQueueStats();
            expect(stats.totalOperations).toBe(3);
            expect(stats.byType.card).toBe(1);
            expect(stats.byType.folder).toBe(1);
            expect(stats.byType.tag).toBe(1);
            expect(stats.byType.image).toBe(0);
            expect(stats.byStatus.pending).toBe(1);
            expect(stats.byStatus.failed).toBe(2);
            expect(stats.byPriority.high).toBe(1);
            expect(stats.byPriority.normal).toBe(1);
            expect(stats.byPriority.low).toBe(1);
            expect(stats.averageRetryCount).toBe(2);
        });
        it('应该处理空队列', async () => {
            mockDb.toArray = jest.fn().mockResolvedValue([]);
            const stats = await service.getQueueStats();
            expect(stats.totalOperations).toBe(0);
            expect(stats.byType).toEqual({
                card: 0,
                folder: 0,
                tag: 0,
                image: 0
            });
            expect(stats.byStatus).toEqual({
                pending: 0,
                processing: 0,
                completed: 0,
                failed: 0,
                cancelled: 0
            });
            expect(stats.averageRetryCount).toBe(0);
        });
    });
    describe('操作处理', () => {
        it('应该获取待处理操作', async () => {
            const mockOperations = [
                {
                    id: 'high-priority',
                    entityType: 'card',
                    operationType: 'create',
                    entityId: 'card-1',
                    data: {},
                    timestamp: new Date(),
                    retryCount: 0,
                    status: 'pending',
                    localVersion: 1,
                    priority: 'high'
                }
            ];
            mockDb.toArray = jest.fn().mockResolvedValue(mockOperations);
            const pendingOps = await service.getPendingOperations();
            expect(pendingOps).toHaveLength(1);
            expect(pendingOps[0].id).toBe('high-priority');
        });
        it('应该按优先级过滤操作', async () => {
            const mockOperations = [
                {
                    id: 'high-priority',
                    entityType: 'card',
                    operationType: 'create',
                    entityId: 'card-1',
                    data: {},
                    timestamp: new Date(),
                    retryCount: 0,
                    status: 'pending',
                    localVersion: 1,
                    priority: 'high'
                },
                {
                    id: 'low-priority',
                    entityType: 'card',
                    operationType: 'create',
                    entityId: 'card-2',
                    data: {},
                    timestamp: new Date(),
                    retryCount: 0,
                    status: 'pending',
                    localVersion: 1,
                    priority: 'low'
                }
            ];
            // 模拟过滤逻辑
            mockDb.filter = jest.fn().mockImplementation((filterFn) => ({
                ...mockDb,
                toArray: () => Promise.resolve(mockOperations.filter(filterFn))
            }));
            mockDb.toArray = jest.fn().mockResolvedValue(mockOperations);
            const highPriorityOps = await service.getPendingOperations(10, ['high']);
            expect(highPriorityOps).toHaveLength(1);
            expect(highPriorityOps[0].priority).toBe('high');
        });
    });
    describe('队列管理', () => {
        it('应该能够清空队列', async () => {
            mockDb.clear = jest.fn().mockResolvedValue(1);
            await service.clearQueue();
            expect(mockDb.clear).toHaveBeenCalled();
        });
        it('应该能够删除指定操作', async () => {
            mockDb.delete = jest.fn().mockResolvedValue(1);
            await service.removeOperation('test-op-id');
            expect(mockDb.delete).toHaveBeenCalledWith('test-op-id');
        });
        it('应该能够获取操作详情', async () => {
            const mockOperation = {
                id: 'test-op',
                entityType: 'card',
                operationType: 'create',
                entityId: 'card-1',
                data: {},
                timestamp: new Date(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1
            };
            mockDb.get = jest.fn().mockResolvedValue(mockOperation);
            const operation = await service.getOperation('test-op');
            expect(operation).toBeDefined();
            expect(operation?.id).toBe('test-op');
        });
    });
    describe('事件监听', () => {
        it('应该能够添加和移除事件监听器', () => {
            const mockListener = jest.fn();
            service.addEventListener('queueStatsChanged', mockListener);
            // 移除监听器
            service.removeEventListener('queueStatsChanged');
        });
        it('应该正确添加事件监听器', () => {
            const mockListener = jest.fn();
            service.addEventListener('operationAdded', mockListener);
            service.addEventListener('operationCompleted', mockListener);
            // 验证监听器已添加（通过私有属性）
            expect(service.listeners.operationAdded).toBe(mockListener);
            expect(service.listeners.operationCompleted).toBe(mockListener);
        });
    });
    describe('错误处理', () => {
        it('应该处理数据库操作失败', async () => {
            mockDb.add = jest.fn().mockRejectedValue(new Error('Database error'));
            mockDb.first = jest.fn().mockResolvedValue(null);
            await expect(service.addOperation({
                entityType: 'card',
                operationType: 'create',
                entityId: 'card-1',
                data: { frontContent: 'test' }
            })).rejects.toThrow('Database error');
        });
        it('应该处理本地存储操作失败', async () => {
            mockDb.add = jest.fn().mockResolvedValue('test-id');
            mockDb.toArray = jest.fn().mockResolvedValue([]);
            mockDb.first = jest.fn().mockResolvedValue(null);
            // 模拟 localStorage 失败
            localStorage.setItem = jest.fn().mockImplementation(() => {
                throw new Error('Storage error');
            });
            // 操作应该仍然成功，但会记录错误
            const operationId = await service.addOperation({
                entityType: 'card',
                operationType: 'create',
                entityId: 'card-1',
                data: { frontContent: 'test' }
            });
            expect(operationId).toBeDefined();
        });
    });
    describe('操作状态管理', () => {
        it('应该能够标记操作为处理中', async () => {
            const mockOperation = {
                id: 'test-op',
                entityType: 'card',
                operationType: 'create',
                entityId: 'card-1',
                data: { frontContent: 'test' },
                timestamp: new Date(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal',
                dependsOn: []
            };
            mockDb.get = jest.fn().mockResolvedValue(mockOperation);
            mockDb.update = jest.fn().mockResolvedValue(1);
            await service.markOperationProcessing('test-op');
            expect(mockDb.update).toHaveBeenCalledWith('test-op', {
                status: 'processing',
                processingStartedAt: expect.any(Date)
            });
        });
        it('应该能够标记操作为已完成', async () => {
            const mockOperation = {
                id: 'test-op',
                entityType: 'card',
                operationType: 'create',
                entityId: 'card-1',
                data: { frontContent: 'test' },
                timestamp: new Date(),
                retryCount: 0,
                status: 'processing',
                localVersion: 1,
                priority: 'normal',
                dependsOn: [],
                processingStartedAt: new Date()
            };
            mockDb.get = jest.fn().mockResolvedValue(mockOperation);
            mockDb.update = jest.fn().mockResolvedValue(1);
            await service.markOperationCompleted('test-op');
            expect(mockDb.update).toHaveBeenCalledWith('test-op', {
                status: 'completed',
                processingEndedAt: expect.any(Date)
            });
        });
        it('应该能够标记操作为失败', async () => {
            const mockOperation = {
                id: 'test-op',
                entityType: 'card',
                operationType: 'create',
                entityId: 'card-1',
                data: { frontContent: 'test' },
                timestamp: new Date(),
                retryCount: 0,
                status: 'processing',
                localVersion: 1,
                priority: 'normal',
                dependsOn: []
            };
            mockDb.get = jest.fn().mockResolvedValue(mockOperation);
            mockDb.update = jest.fn().mockResolvedValue(1);
            const error = new Error('Test error');
            await service.markOperationFailed('test-op', error);
            expect(mockDb.update).toHaveBeenCalledWith('test-op', {
                status: 'failed',
                retryCount: 1,
                lastError: error.message,
                processingEndedAt: expect.any(Date)
            });
        });
        it('应该能够取消操作', async () => {
            const mockOperation = {
                id: 'test-op',
                entityType: 'card',
                operationType: 'create',
                entityId: 'card-1',
                data: { frontContent: 'test' },
                timestamp: new Date(),
                retryCount: 0,
                status: 'pending',
                localVersion: 1,
                priority: 'normal',
                dependsOn: []
            };
            mockDb.get = jest.fn().mockResolvedValue(mockOperation);
            mockDb.update = jest.fn().mockResolvedValue(1);
            await service.cancelOperation('test-op', 'User cancelled');
            expect(mockDb.update).toHaveBeenCalledWith('test-op', {
                status: 'cancelled',
                cancelReason: 'User cancelled',
                processingEndedAt: expect.any(Date)
            });
        });
    });
    describe('队列清理', () => {
        it('应该能够重试失败的操作', async () => {
            const mockOperations = [
                {
                    id: 'failed-op-1',
                    entityType: 'card',
                    operationType: 'create',
                    entityId: 'card-1',
                    data: { frontContent: 'test' },
                    timestamp: new Date(),
                    retryCount: 1,
                    status: 'failed',
                    localVersion: 1,
                    priority: 'normal',
                    dependsOn: []
                },
                {
                    id: 'failed-op-2',
                    entityType: 'card',
                    operationType: 'update',
                    entityId: 'card-2',
                    data: { frontContent: 'test2' },
                    timestamp: new Date(),
                    retryCount: 3,
                    status: 'failed',
                    localVersion: 1,
                    priority: 'normal',
                    dependsOn: []
                }
            ];
            mockDb.toArray = jest.fn().mockResolvedValue(mockOperations);
            mockDb.update = jest.fn().mockResolvedValue(1);
            const retriedCount = await service.retryFailedOperations();
            expect(retriedCount).toBe(2);
            expect(mockDb.update).toHaveBeenCalledTimes(2);
        });
        it('应该能够清理已完成的操作', async () => {
            const mockOperations = [
                {
                    id: 'completed-op-1',
                    entityType: 'card',
                    operationType: 'create',
                    entityId: 'card-1',
                    data: { frontContent: 'test' },
                    timestamp: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000), // 2天前
                    retryCount: 0,
                    status: 'completed',
                    localVersion: 1,
                    priority: 'normal',
                    dependsOn: []
                },
                {
                    id: 'completed-op-2',
                    entityType: 'card',
                    operationType: 'update',
                    entityId: 'card-2',
                    data: { frontContent: 'test2' },
                    timestamp: new Date(),
                    retryCount: 0,
                    status: 'completed',
                    localVersion: 1,
                    priority: 'normal',
                    dependsOn: []
                }
            ];
            mockDb.toArray = jest.fn().mockResolvedValue(mockOperations);
            mockDb.bulkDelete = jest.fn().mockResolvedValue(1);
            const clearedCount = await service.clearCompletedOperations();
            expect(clearedCount).toBe(1); // 只清理2天前的操作
        });
    });
    describe('网络信息处理', () => {
        it('应该能够获取网络信息', async () => {
            // 模拟网络连接信息
            const mockConnection = {
                effectiveType: '4g',
                downlink: 10,
                rtt: 100,
                saveData: false
            };
            Object.defineProperty(navigator, 'connection', {
                value: mockConnection,
                configurable: true
            });
            const networkInfo = await service.getNetworkInfo();
            expect(networkInfo).toEqual({
                online: true,
                connectionType: 'wifi',
                effectiveType: '4g',
                downlink: 10,
                rtt: 100,
                saveData: false
            });
        });
        it('应该处理离线状态', async () => {
            Object.defineProperty(navigator, 'onLine', {
                value: false,
                configurable: true
            });
            const networkInfo = await service.getNetworkInfo();
            expect(networkInfo.online).toBe(false);
            expect(networkInfo.connectionType).toBe('none');
        });
    });
    describe('配置管理', () => {
        it('应该能够更新配置', () => {
            const newConfig = {
                maxRetries: 10,
                initialRetryDelay: 500,
                maxRetryDelay: 600000,
                retryBackoffMultiplier: 3,
                batchSize: 20,
                batchTimeout: 10000,
                maxConcurrentBatches: 5,
                processingTimeout: 60000,
                idleCheckInterval: 20000,
                cleanupInterval: 600000,
                networkAware: false,
                offlineMode: true,
                requireWifiForLargeFiles: false,
                maxQueueSize: 20000,
                maxAge: 14 * 24 * 60 * 60 * 1000
            };
            service.updateConfig(newConfig);
            // 验证配置已更新（通过检查私有属性）
            expect(service.config).toMatchObject(newConfig);
        });
        it('应该验证配置参数', () => {
            const invalidConfig = {
                maxRetries: -1,
                batchSize: 0
            };
            expect(() => service.updateConfig(invalidConfig)).toThrow();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHRlc3RzXFx1bml0XFxzZXJ2aWNlc1xcbG9jYWwtb3BlcmF0aW9uLnRlc3QudHMiLCJtYXBwaW5ncyI6Ijs7QUFHQSxRQUFRO0FBQ1IsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ3RDLEVBQUUsRUFBRTtRQUNGLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDO1FBQzVDLFNBQVMsRUFBRTtZQUNULEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ2QsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDZCxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNqQixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNqQixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNqQixLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNoQixLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGNBQWMsRUFBRTtZQUNqQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGNBQWMsRUFBRTtZQUNsQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGNBQWMsRUFBRTtZQUMvQixLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGNBQWMsRUFBRTtZQUNqQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGNBQWMsRUFBRTtZQUNqQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGNBQWMsRUFBRTtZQUNuQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGNBQWMsRUFBRTtZQUNuQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGNBQWMsRUFB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RUFBRSxNQUFNO2dCQUNyQixzQkFBc0IsRUFBRSxDQUFDO2dCQUN6QixTQUFTLEVBQUUsRUFBRTtnQkFDYixZQUFZLEVBQUUsS0FBSztnQkFDbkIsb0JBQW9CLEVBQUUsQ0FBQztnQkFDdkIsaUJBQWlCLEVBQUUsS0FBSztnQkFDeEIsaUJBQWlCLEVBQUUsS0FBSztnQkFDeEIsZUFBZSxFQUFFLE1BQU07Z0JBQ3ZCLFlBQVksRUFBRSxLQUFLO2dCQUNuQixXQUFXLEVBQUUsSUFBSTtnQkFDakIsd0JBQXdCLEVBQUUsS0FBSztnQkFDL0IsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLE1BQU0sRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSTthQUNqQyxDQUFBO1lBRUQsT0FBTyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUUvQixvQkFBb0I7WUFDcEIsTUFBTSxDQUFFLE9BQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDMUQsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRTtZQUNsQixNQUFNLGFBQWEsR0FBRztnQkFDcEIsVUFBVSxFQUFFLENBQUMsQ0FBQztnQkFDZCxTQUFTLEVBQUUsQ0FBQzthQUNiLENBQUE7WUFFRCxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxhQUFvQixDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUNwRSxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHRlc3RzXFx1bml0XFxzZXJ2aWNlc1xcbG9jYWwtb3BlcmF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9jYWxPcGVyYXRpb25TZXJ2aWNlLCB0eXBlIExvY2FsU3luY09wZXJhdGlvbiwgdHlwZSBRdWV1ZVN0YXRzLCB0eXBlIFF1ZXVlQ29uZmlnLCBERUZBVUxUX1FVRVVFX0NPTkZJRyB9IGZyb20gJ0Avc2VydmljZXMvbG9jYWwtb3BlcmF0aW9uJ1xuaW1wb3J0IHsgZGIgfSBmcm9tICdAL3NlcnZpY2VzL2RhdGFiYXNlJ1xuXG4vLyDmqKHmi5/mlbDmja7lupNcbmplc3QubW9jaygnQC9zZXJ2aWNlcy9kYXRhYmFzZScsICgpID0+ICh7XG4gIGRiOiB7XG4gICAgb3BlbjogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgc3luY1F1ZXVlOiB7XG4gICAgICBhZGQ6IGplc3QuZm4oKSxcbiAgICAgIGdldDogamVzdC5mbigpLFxuICAgICAgZ2V0QWxsOiBqZXN0LmZuKCksXG4gICAgICB1cGRhdGU6IGplc3QuZm4oKSxcbiAgICAgIGRlbGV0ZTogamVzdC5mbigpLFxuICAgICAgY2xlYXI6IGplc3QuZm4oKSxcbiAgICAgIHdoZXJlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIGVxdWFsczogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBhbmQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgYmVsb3c6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgYW55T2Y6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgb3JkZXJCeTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICByZXZlcnNlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIHNvcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgZmlsdGVyOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIGxpbWl0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIG9mZnNldDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICB0b0FycmF5OiBqZXN0LmZuKCksXG4gICAgICBjb3VudDogamVzdC5mbigpLFxuICAgICAgYnVsa0RlbGV0ZTogamVzdC5mbigpLFxuICAgICAgZmlyc3Q6IGplc3QuZm4oKSxcbiAgICB9XG4gIH1cbn0pKVxuXG5kZXNjcmliZSgnTG9jYWxPcGVyYXRpb25TZXJ2aWNlJywgKCkgPT4ge1xuICBsZXQgc2VydmljZTogTG9jYWxPcGVyYXRpb25TZXJ2aWNlXG4gIGxldCBtb2NrRGI6IGFueVxuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gICAgbW9ja0RiID0gZGIuc3luY1F1ZXVlXG4gICAgc2VydmljZSA9IG5ldyBMb2NhbE9wZXJhdGlvblNlcnZpY2UoKVxuICAgIFxuICAgIC8vIOaooeaLnyBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCBsb2NhbFN0b3JhZ2VNb2NrID0ge1xuICAgICAgZ2V0SXRlbTogamVzdC5mbigpLFxuICAgICAgc2V0SXRlbTogamVzdC5mbigpLFxuICAgICAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICAgICAgY2xlYXI6IGplc3QuZm4oKSxcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2xvY2FsU3RvcmFnZScsIHsgdmFsdWU6IGxvY2FsU3RvcmFnZU1vY2sgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5Yid5aeL5YyWJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmraPnoa7liJ3lp4vljJbmnI3liqEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKVxuICAgICAgZXhwZWN0KHNlcnZpY2UpLnRvQmVEZWZpbmVkKClcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeS7juacrOWcsOWtmOWCqOaBouWkjemYn+WIlycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tRdWV1ZSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndGVzdC0xJyxcbiAgICAgICAgICB0eXBlOiAnY3JlYXRlJyxcbiAgICAgICAgICB0YWJsZTogJ2NhcmRzJyxcbiAgICAgICAgICBkYXRhOiB7IGZyb250Q29udGVudDogJ3Rlc3QnIH0sXG4gICAgICAgICAgbG9jYWxJZDogJ2NhcmQtMScsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgcmV0cnlDb3VudDogMCxcbiAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICBsb2NhbFZlcnNpb246IDFcbiAgICAgICAgfVxuICAgICAgXVxuICAgICAgXG4gICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSA9IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoSlNPTi5zdHJpbmdpZnkobW9ja1F1ZXVlKSlcbiAgICAgIFxuICAgICAgLy8g5Yid5aeL5YyW5pe25LiN5qih5oufIHRvQXJyYXnvvIzorqnlroPlrp7pmYXlj43mmKDmgaLlpI3nmoTmk43kvZxcbiAgICAgIGxldCByZXN0b3JlZE9wZXJhdGlvbnM6IGFueVtdID0gW11cbiAgICAgIFxuICAgICAgLy8g5qih5oufIGFkZCDmlrnms5XmnaXmjZXojrfmgaLlpI3nmoTmk43kvZxcbiAgICAgIG1vY2tEYi5hZGQgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChvcGVyYXRpb24pID0+IHtcbiAgICAgICAgcmVzdG9yZWRPcGVyYXRpb25zLnB1c2gob3BlcmF0aW9uKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG9wZXJhdGlvbi5pZClcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIOaooeaLnyB0b0FycmF5IOi/lOWbnuaBouWkjeeahOaTjeS9nFxuICAgICAgbW9ja0RiLnRvQXJyYXkgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN0b3JlZE9wZXJhdGlvbnMpXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKVxuICAgICAgXG4gICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IHNlcnZpY2UuZ2V0UXVldWVTdGF0cygpXG4gICAgICBleHBlY3Qoc3RhdHMudG90YWxPcGVyYXRpb25zKS50b0JlKDEpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5re75Yqg5pON5L2cJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmiJDlip/mt7vliqDmk43kvZzliLDpmJ/liJcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGIuYWRkID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCd0ZXN0LWlkJylcbiAgICAgIG1vY2tEYi50b0FycmF5ID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKFtdKVxuXG4gICAgICBjb25zdCBvcGVyYXRpb25JZCA9IGF3YWl0IHNlcnZpY2UuYWRkT3BlcmF0aW9uKHtcbiAgICAgICAgZW50aXR5VHlwZTogJ2NhcmQnLFxuICAgICAgICBvcGVyYXRpb25UeXBlOiAnY3JlYXRlJyxcbiAgICAgICAgZW50aXR5SWQ6ICdjYXJkLTEnLFxuICAgICAgICBkYXRhOiB7IGZyb250Q29udGVudDogJ3Rlc3QnLCBiYWNrQ29udGVudDogJ2Fuc3dlcicgfSxcbiAgICAgICAgcHJpb3JpdHk6ICdub3JtYWwnLFxuICAgICAgICBkZXBlbmRzT246IFtdXG4gICAgICB9KVxuXG4gICAgICBleHBlY3Qob3BlcmF0aW9uSWQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChtb2NrRGIuYWRkKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeWkhOeQhumHjeWkjeaTjeS9nCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPcGVyYXRpb24gPSB7XG4gICAgICAgIGlkOiAnZXhpc3Rpbmctb3AnLFxuICAgICAgICBlbnRpdHlUeXBlOiAnY2FyZCcgYXMgY29uc3QsXG4gICAgICAgIG9wZXJhdGlvblR5cGU6ICd1cGRhdGUnIGFzIGNvbnN0LFxuICAgICAgICBlbnRpdHlJZDogJ2NhcmQtMScsXG4gICAgICAgIGRhdGE6IHsgZnJvbnRDb250ZW50OiAndXBkYXRlZCcgfSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgICBsb2NhbFZlcnNpb246IDEsXG4gICAgICAgIHByaW9yaXR5OiAnbm9ybWFsJyBhcyBjb25zdCxcbiAgICAgICAgZGVwZW5kc09uOiBbXVxuICAgICAgfVxuXG4gICAgICAvLyDmqKHmi58gZmlyc3Qg5pa55rOV6L+U5Zue546w5pyJ5pON5L2cXG4gICAgICBtb2NrRGIuZmlyc3QgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUobW9ja09wZXJhdGlvbilcbiAgICAgIG1vY2tEYi51cGRhdGUgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoMSlcblxuICAgICAgYXdhaXQgc2VydmljZS5hZGRPcGVyYXRpb24oe1xuICAgICAgICBlbnRpdHlUeXBlOiAnY2FyZCcsXG4gICAgICAgIG9wZXJhdGlvblR5cGU6ICd1cGRhdGUnLFxuICAgICAgICBlbnRpdHlJZDogJ2NhcmQtMScsXG4gICAgICAgIGRhdGE6IHsgZnJvbnRDb250ZW50OiAnbmV3IHVwZGF0ZScgfVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KG1vY2tEYi51cGRhdGUpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l6aqM6K+B5b+F6ZyA5a2X5q61JywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgZXhwZWN0KHNlcnZpY2UuYWRkT3BlcmF0aW9uKHtcbiAgICAgICAgZW50aXR5VHlwZTogJ2NhcmQnLFxuICAgICAgICBvcGVyYXRpb25UeXBlOiAnY3JlYXRlJyxcbiAgICAgICAgZW50aXR5SWQ6ICcnLFxuICAgICAgICBkYXRhOiB7IGZyb250Q29udGVudDogJ3Rlc3QnIH1cbiAgICAgIH0pKS5yZWplY3RzLnRvVGhyb3coJ0xvY2FsIElEIGlzIHJlcXVpcmVkJylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfpmJ/liJfnu5/orqEnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpei/lOWbnuato+ehrueahOmYn+WIl+e7n+iuoeS/oeaBrycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPcGVyYXRpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdvcC0xJyxcbiAgICAgICAgICBlbnRpdHlUeXBlOiAnY2FyZCcgYXMgY29uc3QsXG4gICAgICAgICAgb3BlcmF0aW9uVHlwZTogJ2NyZWF0ZScgYXMgY29uc3QsXG4gICAgICAgICAgZW50aXR5SWQ6ICdjYXJkLTEnLFxuICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgICAgIGxvY2FsVmVyc2lvbjogMSxcbiAgICAgICAgICBwcmlvcml0eTogJ2hpZ2gnIGFzIGNvbnN0XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ29wLTInLFxuICAgICAgICAgIGVudGl0eVR5cGU6ICdmb2xkZXInIGFzIGNvbnN0LFxuICAgICAgICAgIG9wZXJhdGlvblR5cGU6ICd1cGRhdGUnIGFzIGNvbnN0LFxuICAgICAgICAgIGVudGl0eUlkOiAnZm9sZGVyLTEnLFxuICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICByZXRyeUNvdW50OiAyLFxuICAgICAgICAgIHN0YXR1czogJ2ZhaWxlZCcgYXMgY29uc3QsXG4gICAgICAgICAgbG9jYWxWZXJzaW9uOiAxLFxuICAgICAgICAgIHByaW9yaXR5OiAnbm9ybWFsJyBhcyBjb25zdFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdvcC0zJyxcbiAgICAgICAgICBlbnRpdHlUeXBlOiAndGFnJyBhcyBjb25zdCxcbiAgICAgICAgICBvcGVyYXRpb25UeXBlOiAnZGVsZXRlJyBhcyBjb25zdCxcbiAgICAgICAgICBlbnRpdHlJZDogJ3RhZy0xJyxcbiAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgcmV0cnlDb3VudDogNCxcbiAgICAgICAgICBzdGF0dXM6ICdmYWlsZWQnIGFzIGNvbnN0LFxuICAgICAgICAgIGxvY2FsVmVyc2lvbjogMSxcbiAgICAgICAgICBwcmlvcml0eTogJ2xvdycgYXMgY29uc3RcbiAgICAgICAgfVxuICAgICAgXVxuXG4gICAgICBtb2NrRGIudG9BcnJheSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrT3BlcmF0aW9ucylcblxuICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBzZXJ2aWNlLmdldFF1ZXVlU3RhdHMoKVxuXG4gICAgICBleHBlY3Qoc3RhdHMudG90YWxPcGVyYXRpb25zKS50b0JlKDMpXG4gICAgICBleHBlY3Qoc3RhdHMuYnlUeXBlLmNhcmQpLnRvQmUoMSlcbiAgICAgIGV4cGVjdChzdGF0cy5ieVR5cGUuZm9sZGVyKS50b0JlKDEpXG4gICAgICBleHBlY3Qoc3RhdHMuYnlUeXBlLnRhZykudG9CZSgxKVxuICAgICAgZXhwZWN0KHN0YXRzLmJ5VHlwZS5pbWFnZSkudG9CZSgwKVxuICAgICAgZXhwZWN0KHN0YXRzLmJ5U3RhdHVzLnBlbmRpbmcpLnRvQmUoMSlcbiAgICAgIGV4cGVjdChzdGF0cy5ieVN0YXR1cy5mYWlsZWQpLnRvQmUoMilcbiAgICAgIGV4cGVjdChzdGF0cy5ieVByaW9yaXR5LmhpZ2gpLnRvQmUoMSlcbiAgICAgIGV4cGVjdChzdGF0cy5ieVByaW9yaXR5Lm5vcm1hbCkudG9CZSgxKVxuICAgICAgZXhwZWN0KHN0YXRzLmJ5UHJpb3JpdHkubG93KS50b0JlKDEpXG4gICAgICBleHBlY3Qoc3RhdHMuYXZlcmFnZVJldHJ5Q291bnQpLnRvQmUoMilcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeWkhOeQhuepuumYn+WIlycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tEYi50b0FycmF5ID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKFtdKVxuXG4gICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IHNlcnZpY2UuZ2V0UXVldWVTdGF0cygpXG5cbiAgICAgIGV4cGVjdChzdGF0cy50b3RhbE9wZXJhdGlvbnMpLnRvQmUoMClcbiAgICAgIGV4cGVjdChzdGF0cy5ieVR5cGUpLnRvRXF1YWwoe1xuICAgICAgICBjYXJkOiAwLFxuICAgICAgICBmb2xkZXI6IDAsXG4gICAgICAgIHRhZzogMCxcbiAgICAgICAgaW1hZ2U6IDBcbiAgICAgIH0pXG4gICAgICBleHBlY3Qoc3RhdHMuYnlTdGF0dXMpLnRvRXF1YWwoe1xuICAgICAgICBwZW5kaW5nOiAwLFxuICAgICAgICBwcm9jZXNzaW5nOiAwLFxuICAgICAgICBjb21wbGV0ZWQ6IDAsXG4gICAgICAgIGZhaWxlZDogMCxcbiAgICAgICAgY2FuY2VsbGVkOiAwXG4gICAgICB9KVxuICAgICAgZXhwZWN0KHN0YXRzLmF2ZXJhZ2VSZXRyeUNvdW50KS50b0JlKDApXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5pON5L2c5aSE55CGJywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xojrflj5blvoXlpITnkIbmk43kvZwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT3BlcmF0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnaGlnaC1wcmlvcml0eScsXG4gICAgICAgICAgZW50aXR5VHlwZTogJ2NhcmQnIGFzIGNvbnN0LFxuICAgICAgICAgIG9wZXJhdGlvblR5cGU6ICdjcmVhdGUnIGFzIGNvbnN0LFxuICAgICAgICAgIGVudGl0eUlkOiAnY2FyZC0xJyxcbiAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgcmV0cnlDb3VudDogMCxcbiAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICBsb2NhbFZlcnNpb246IDEsXG4gICAgICAgICAgcHJpb3JpdHk6ICdoaWdoJyBhcyBjb25zdFxuICAgICAgICB9XG4gICAgICBdXG5cbiAgICAgIG1vY2tEYi50b0FycmF5ID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tPcGVyYXRpb25zKVxuXG4gICAgICBjb25zdCBwZW5kaW5nT3BzID0gYXdhaXQgc2VydmljZS5nZXRQZW5kaW5nT3BlcmF0aW9ucygpXG5cbiAgICAgIGV4cGVjdChwZW5kaW5nT3BzKS50b0hhdmVMZW5ndGgoMSlcbiAgICAgIGV4cGVjdChwZW5kaW5nT3BzWzBdLmlkKS50b0JlKCdoaWdoLXByaW9yaXR5JylcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeaMieS8mOWFiOe6p+i/h+a7pOaTjeS9nCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPcGVyYXRpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdoaWdoLXByaW9yaXR5JyxcbiAgICAgICAgICBlbnRpdHlUeXBlOiAnY2FyZCcgYXMgY29uc3QsXG4gICAgICAgICAgb3BlcmF0aW9uVHlwZTogJ2NyZWF0ZScgYXMgY29uc3QsXG4gICAgICAgICAgZW50aXR5SWQ6ICdjYXJkLTEnLFxuICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgICAgIGxvY2FsVmVyc2lvbjogMSxcbiAgICAgICAgICBwcmlvcml0eTogJ2hpZ2gnIGFzIGNvbnN0XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2xvdy1wcmlvcml0eScsXG4gICAgICAgICAgZW50aXR5VHlwZTogJ2NhcmQnIGFzIGNvbnN0LFxuICAgICAgICAgIG9wZXJhdGlvblR5cGU6ICdjcmVhdGUnIGFzIGNvbnN0LFxuICAgICAgICAgIGVudGl0eUlkOiAnY2FyZC0yJyxcbiAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgcmV0cnlDb3VudDogMCxcbiAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICBsb2NhbFZlcnNpb246IDEsXG4gICAgICAgICAgcHJpb3JpdHk6ICdsb3cnIGFzIGNvbnN0XG4gICAgICAgIH1cbiAgICAgIF1cblxuICAgICAgLy8g5qih5ouf6L+H5ruk6YC76L6RXG4gICAgICBtb2NrRGIuZmlsdGVyID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoZmlsdGVyRm4pID0+ICh7XG4gICAgICAgIC4uLm1vY2tEYixcbiAgICAgICAgdG9BcnJheTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG1vY2tPcGVyYXRpb25zLmZpbHRlcihmaWx0ZXJGbikpXG4gICAgICB9KSlcbiAgICAgIFxuICAgICAgbW9ja0RiLnRvQXJyYXkgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUobW9ja09wZXJhdGlvbnMpXG5cbiAgICAgIGNvbnN0IGhpZ2hQcmlvcml0eU9wcyA9IGF3YWl0IHNlcnZpY2UuZ2V0UGVuZGluZ09wZXJhdGlvbnMoMTAsIFsnaGlnaCddKVxuXG4gICAgICBleHBlY3QoaGlnaFByaW9yaXR5T3BzKS50b0hhdmVMZW5ndGgoMSlcbiAgICAgIGV4cGVjdChoaWdoUHJpb3JpdHlPcHNbMF0ucHJpb3JpdHkpLnRvQmUoJ2hpZ2gnKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+mYn+WIl+euoeeQhicsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l6IO95aSf5riF56m66Zif5YiXJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0RiLmNsZWFyID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKDEpXG5cbiAgICAgIGF3YWl0IHNlcnZpY2UuY2xlYXJRdWV1ZSgpXG5cbiAgICAgIGV4cGVjdChtb2NrRGIuY2xlYXIpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l6IO95aSf5Yig6Zmk5oyH5a6a5pON5L2cJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0RiLmRlbGV0ZSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgxKVxuXG4gICAgICBhd2FpdCBzZXJ2aWNlLnJlbW92ZU9wZXJhdGlvbigndGVzdC1vcC1pZCcpXG5cbiAgICAgIGV4cGVjdChtb2NrRGIuZGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndGVzdC1vcC1pZCcpXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xog73lpJ/ojrflj5bmk43kvZzor6bmg4UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT3BlcmF0aW9uID0ge1xuICAgICAgICBpZDogJ3Rlc3Qtb3AnLFxuICAgICAgICBlbnRpdHlUeXBlOiAnY2FyZCcgYXMgY29uc3QsXG4gICAgICAgIG9wZXJhdGlvblR5cGU6ICdjcmVhdGUnIGFzIGNvbnN0LFxuICAgICAgICBlbnRpdHlJZDogJ2NhcmQtMScsXG4gICAgICAgIGRhdGE6IHt9LFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgICBsb2NhbFZlcnNpb246IDFcbiAgICAgIH1cblxuICAgICAgbW9ja0RiLmdldCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrT3BlcmF0aW9uKVxuXG4gICAgICBjb25zdCBvcGVyYXRpb24gPSBhd2FpdCBzZXJ2aWNlLmdldE9wZXJhdGlvbigndGVzdC1vcCcpXG5cbiAgICAgIGV4cGVjdChvcGVyYXRpb24pLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChvcGVyYXRpb24/LmlkKS50b0JlKCd0ZXN0LW9wJylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfkuovku7bnm5HlkKwnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeiDveWkn+a3u+WKoOWSjOenu+mZpOS6i+S7tuebkeWQrOWZqCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tMaXN0ZW5lciA9IGplc3QuZm4oKVxuXG4gICAgICBzZXJ2aWNlLmFkZEV2ZW50TGlzdGVuZXIoJ3F1ZXVlU3RhdHNDaGFuZ2VkJywgbW9ja0xpc3RlbmVyKVxuICAgICAgXG4gICAgICAvLyDnp7vpmaTnm5HlkKzlmahcbiAgICAgIHNlcnZpY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigncXVldWVTdGF0c0NoYW5nZWQnKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l5q2j56Gu5re75Yqg5LqL5Lu255uR5ZCs5ZmoJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0xpc3RlbmVyID0gamVzdC5mbigpXG5cbiAgICAgIHNlcnZpY2UuYWRkRXZlbnRMaXN0ZW5lcignb3BlcmF0aW9uQWRkZWQnLCBtb2NrTGlzdGVuZXIpXG4gICAgICBzZXJ2aWNlLmFkZEV2ZW50TGlzdGVuZXIoJ29wZXJhdGlvbkNvbXBsZXRlZCcsIG1vY2tMaXN0ZW5lcilcbiAgICAgIFxuICAgICAgLy8g6aqM6K+B55uR5ZCs5Zmo5bey5re75Yqg77yI6YCa6L+H56eB5pyJ5bGe5oCn77yJXG4gICAgICBleHBlY3QoKHNlcnZpY2UgYXMgYW55KS5saXN0ZW5lcnMub3BlcmF0aW9uQWRkZWQpLnRvQmUobW9ja0xpc3RlbmVyKVxuICAgICAgZXhwZWN0KChzZXJ2aWNlIGFzIGFueSkubGlzdGVuZXJzLm9wZXJhdGlvbkNvbXBsZXRlZCkudG9CZShtb2NrTGlzdGVuZXIpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn6ZSZ6K+v5aSE55CGJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XlpITnkIbmlbDmja7lupPmk43kvZzlpLHotKUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGIuYWRkID0gamVzdC5mbigpLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRGF0YWJhc2UgZXJyb3InKSlcbiAgICAgIG1vY2tEYi5maXJzdCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKVxuXG4gICAgICBhd2FpdCBleHBlY3Qoc2VydmljZS5hZGRPcGVyYXRpb24oe1xuICAgICAgICBlbnRpdHlUeXBlOiAnY2FyZCcsXG4gICAgICAgIG9wZXJhdGlvblR5cGU6ICdjcmVhdGUnLFxuICAgICAgICBlbnRpdHlJZDogJ2NhcmQtMScsXG4gICAgICAgIGRhdGE6IHsgZnJvbnRDb250ZW50OiAndGVzdCcgfVxuICAgICAgfSkpLnJlamVjdHMudG9UaHJvdygnRGF0YWJhc2UgZXJyb3InKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l5aSE55CG5pys5Zyw5a2Y5YKo5pON5L2c5aSx6LSlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0RiLmFkZCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgndGVzdC1pZCcpXG4gICAgICBtb2NrRGIudG9BcnJheSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXSlcbiAgICAgIG1vY2tEYi5maXJzdCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKVxuICAgICAgXG4gICAgICAvLyDmqKHmi58gbG9jYWxTdG9yYWdlIOWksei0pVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0gPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdG9yYWdlIGVycm9yJylcbiAgICAgIH0pXG5cbiAgICAgIC8vIOaTjeS9nOW6lOivpeS7jeeEtuaIkOWKn++8jOS9huS8muiusOW9lemUmeivr1xuICAgICAgY29uc3Qgb3BlcmF0aW9uSWQgPSBhd2FpdCBzZXJ2aWNlLmFkZE9wZXJhdGlvbih7XG4gICAgICAgIGVudGl0eVR5cGU6ICdjYXJkJyxcbiAgICAgICAgb3BlcmF0aW9uVHlwZTogJ2NyZWF0ZScsXG4gICAgICAgIGVudGl0eUlkOiAnY2FyZC0xJyxcbiAgICAgICAgZGF0YTogeyBmcm9udENvbnRlbnQ6ICd0ZXN0JyB9XG4gICAgICB9KVxuXG4gICAgICBleHBlY3Qob3BlcmF0aW9uSWQpLnRvQmVEZWZpbmVkKClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfmk43kvZznirbmgIHnrqHnkIYnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeiDveWkn+agh+iusOaTjeS9nOS4uuWkhOeQhuS4rScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPcGVyYXRpb24gPSB7XG4gICAgICAgIGlkOiAndGVzdC1vcCcsXG4gICAgICAgIGVudGl0eVR5cGU6ICdjYXJkJyBhcyBjb25zdCxcbiAgICAgICAgb3BlcmF0aW9uVHlwZTogJ2NyZWF0ZScgYXMgY29uc3QsXG4gICAgICAgIGVudGl0eUlkOiAnY2FyZC0xJyxcbiAgICAgICAgZGF0YTogeyBmcm9udENvbnRlbnQ6ICd0ZXN0JyB9LFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgICBsb2NhbFZlcnNpb246IDEsXG4gICAgICAgIHByaW9yaXR5OiAnbm9ybWFsJyBhcyBjb25zdCxcbiAgICAgICAgZGVwZW5kc09uOiBbXVxuICAgICAgfVxuXG4gICAgICBtb2NrRGIuZ2V0ID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tPcGVyYXRpb24pXG4gICAgICBtb2NrRGIudXBkYXRlID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKDEpXG5cbiAgICAgIGF3YWl0IHNlcnZpY2UubWFya09wZXJhdGlvblByb2Nlc3NpbmcoJ3Rlc3Qtb3AnKVxuXG4gICAgICBleHBlY3QobW9ja0RiLnVwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Rlc3Qtb3AnLCB7XG4gICAgICAgIHN0YXR1czogJ3Byb2Nlc3NpbmcnLFxuICAgICAgICBwcm9jZXNzaW5nU3RhcnRlZEF0OiBleHBlY3QuYW55KERhdGUpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l6IO95aSf5qCH6K6w5pON5L2c5Li65bey5a6M5oiQJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja09wZXJhdGlvbiA9IHtcbiAgICAgICAgaWQ6ICd0ZXN0LW9wJyxcbiAgICAgICAgZW50aXR5VHlwZTogJ2NhcmQnIGFzIGNvbnN0LFxuICAgICAgICBvcGVyYXRpb25UeXBlOiAnY3JlYXRlJyBhcyBjb25zdCxcbiAgICAgICAgZW50aXR5SWQ6ICdjYXJkLTEnLFxuICAgICAgICBkYXRhOiB7IGZyb250Q29udGVudDogJ3Rlc3QnIH0sXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgcmV0cnlDb3VudDogMCxcbiAgICAgICAgc3RhdHVzOiAncHJvY2Vzc2luZycgYXMgY29uc3QsXG4gICAgICAgIGxvY2FsVmVyc2lvbjogMSxcbiAgICAgICAgcHJpb3JpdHk6ICdub3JtYWwnIGFzIGNvbnN0LFxuICAgICAgICBkZXBlbmRzT246IFtdLFxuICAgICAgICBwcm9jZXNzaW5nU3RhcnRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICB9XG5cbiAgICAgIG1vY2tEYi5nZXQgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUobW9ja09wZXJhdGlvbilcbiAgICAgIG1vY2tEYi51cGRhdGUgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoMSlcblxuICAgICAgYXdhaXQgc2VydmljZS5tYXJrT3BlcmF0aW9uQ29tcGxldGVkKCd0ZXN0LW9wJylcblxuICAgICAgZXhwZWN0KG1vY2tEYi51cGRhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0ZXN0LW9wJywge1xuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICBwcm9jZXNzaW5nRW5kZWRBdDogZXhwZWN0LmFueShEYXRlKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeiDveWkn+agh+iusOaTjeS9nOS4uuWksei0pScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPcGVyYXRpb24gPSB7XG4gICAgICAgIGlkOiAndGVzdC1vcCcsXG4gICAgICAgIGVudGl0eVR5cGU6ICdjYXJkJyBhcyBjb25zdCxcbiAgICAgICAgb3BlcmF0aW9uVHlwZTogJ2NyZWF0ZScgYXMgY29uc3QsXG4gICAgICAgIGVudGl0eUlkOiAnY2FyZC0xJyxcbiAgICAgICAgZGF0YTogeyBmcm9udENvbnRlbnQ6ICd0ZXN0JyB9LFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgIHN0YXR1czogJ3Byb2Nlc3NpbmcnIGFzIGNvbnN0LFxuICAgICAgICBsb2NhbFZlcnNpb246IDEsXG4gICAgICAgIHByaW9yaXR5OiAnbm9ybWFsJyBhcyBjb25zdCxcbiAgICAgICAgZGVwZW5kc09uOiBbXVxuICAgICAgfVxuXG4gICAgICBtb2NrRGIuZ2V0ID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tPcGVyYXRpb24pXG4gICAgICBtb2NrRGIudXBkYXRlID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKDEpXG5cbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdUZXN0IGVycm9yJylcbiAgICAgIGF3YWl0IHNlcnZpY2UubWFya09wZXJhdGlvbkZhaWxlZCgndGVzdC1vcCcsIGVycm9yKVxuXG4gICAgICBleHBlY3QobW9ja0RiLnVwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Rlc3Qtb3AnLCB7XG4gICAgICAgIHN0YXR1czogJ2ZhaWxlZCcsXG4gICAgICAgIHJldHJ5Q291bnQ6IDEsXG4gICAgICAgIGxhc3RFcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgcHJvY2Vzc2luZ0VuZGVkQXQ6IGV4cGVjdC5hbnkoRGF0ZSlcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xog73lpJ/lj5bmtojmk43kvZwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrT3BlcmF0aW9uID0ge1xuICAgICAgICBpZDogJ3Rlc3Qtb3AnLFxuICAgICAgICBlbnRpdHlUeXBlOiAnY2FyZCcgYXMgY29uc3QsXG4gICAgICAgIG9wZXJhdGlvblR5cGU6ICdjcmVhdGUnIGFzIGNvbnN0LFxuICAgICAgICBlbnRpdHlJZDogJ2NhcmQtMScsXG4gICAgICAgIGRhdGE6IHsgZnJvbnRDb250ZW50OiAndGVzdCcgfSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyBhcyBjb25zdCxcbiAgICAgICAgbG9jYWxWZXJzaW9uOiAxLFxuICAgICAgICBwcmlvcml0eTogJ25vcm1hbCcgYXMgY29uc3QsXG4gICAgICAgIGRlcGVuZHNPbjogW11cbiAgICAgIH1cblxuICAgICAgbW9ja0RiLmdldCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrT3BlcmF0aW9uKVxuICAgICAgbW9ja0RiLnVwZGF0ZSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgxKVxuXG4gICAgICBhd2FpdCBzZXJ2aWNlLmNhbmNlbE9wZXJhdGlvbigndGVzdC1vcCcsICdVc2VyIGNhbmNlbGxlZCcpXG5cbiAgICAgIGV4cGVjdChtb2NrRGIudXBkYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndGVzdC1vcCcsIHtcbiAgICAgICAgc3RhdHVzOiAnY2FuY2VsbGVkJyxcbiAgICAgICAgY2FuY2VsUmVhc29uOiAnVXNlciBjYW5jZWxsZWQnLFxuICAgICAgICBwcm9jZXNzaW5nRW5kZWRBdDogZXhwZWN0LmFueShEYXRlKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfpmJ/liJfmuIXnkIYnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeiDveWkn+mHjeivleWksei0peeahOaTjeS9nCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPcGVyYXRpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdmYWlsZWQtb3AtMScsXG4gICAgICAgICAgZW50aXR5VHlwZTogJ2NhcmQnIGFzIGNvbnN0LFxuICAgICAgICAgIG9wZXJhdGlvblR5cGU6ICdjcmVhdGUnIGFzIGNvbnN0LFxuICAgICAgICAgIGVudGl0eUlkOiAnY2FyZC0xJyxcbiAgICAgICAgICBkYXRhOiB7IGZyb250Q29udGVudDogJ3Rlc3QnIH0sXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHJldHJ5Q291bnQ6IDEsXG4gICAgICAgICAgc3RhdHVzOiAnZmFpbGVkJyBhcyBjb25zdCxcbiAgICAgICAgICBsb2NhbFZlcnNpb246IDEsXG4gICAgICAgICAgcHJpb3JpdHk6ICdub3JtYWwnIGFzIGNvbnN0LFxuICAgICAgICAgIGRlcGVuZHNPbjogW11cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnZmFpbGVkLW9wLTInLFxuICAgICAgICAgIGVudGl0eVR5cGU6ICdjYXJkJyBhcyBjb25zdCxcbiAgICAgICAgICBvcGVyYXRpb25UeXBlOiAndXBkYXRlJyBhcyBjb25zdCxcbiAgICAgICAgICBlbnRpdHlJZDogJ2NhcmQtMicsXG4gICAgICAgICAgZGF0YTogeyBmcm9udENvbnRlbnQ6ICd0ZXN0MicgfSxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgcmV0cnlDb3VudDogMyxcbiAgICAgICAgICBzdGF0dXM6ICdmYWlsZWQnIGFzIGNvbnN0LFxuICAgICAgICAgIGxvY2FsVmVyc2lvbjogMSxcbiAgICAgICAgICBwcmlvcml0eTogJ25vcm1hbCcgYXMgY29uc3QsXG4gICAgICAgICAgZGVwZW5kc09uOiBbXVxuICAgICAgICB9XG4gICAgICBdXG5cbiAgICAgIG1vY2tEYi50b0FycmF5ID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tPcGVyYXRpb25zKVxuICAgICAgbW9ja0RiLnVwZGF0ZSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgxKVxuXG4gICAgICBjb25zdCByZXRyaWVkQ291bnQgPSBhd2FpdCBzZXJ2aWNlLnJldHJ5RmFpbGVkT3BlcmF0aW9ucygpXG5cbiAgICAgIGV4cGVjdChyZXRyaWVkQ291bnQpLnRvQmUoMilcbiAgICAgIGV4cGVjdChtb2NrRGIudXBkYXRlKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMilcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeiDveWkn+a4heeQhuW3suWujOaIkOeahOaTjeS9nCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPcGVyYXRpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdjb21wbGV0ZWQtb3AtMScsXG4gICAgICAgICAgZW50aXR5VHlwZTogJ2NhcmQnIGFzIGNvbnN0LFxuICAgICAgICAgIG9wZXJhdGlvblR5cGU6ICdjcmVhdGUnIGFzIGNvbnN0LFxuICAgICAgICAgIGVudGl0eUlkOiAnY2FyZC0xJyxcbiAgICAgICAgICBkYXRhOiB7IGZyb250Q29udGVudDogJ3Rlc3QnIH0sXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMiAqIDI0ICogNjAgKiA2MCAqIDEwMDApLCAvLyAy5aSp5YmNXG4gICAgICAgICAgcmV0cnlDb3VudDogMCxcbiAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnIGFzIGNvbnN0LFxuICAgICAgICAgIGxvY2FsVmVyc2lvbjogMSxcbiAgICAgICAgICBwcmlvcml0eTogJ25vcm1hbCcgYXMgY29uc3QsXG4gICAgICAgICAgZGVwZW5kc09uOiBbXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdjb21wbGV0ZWQtb3AtMicsXG4gICAgICAgICAgZW50aXR5VHlwZTogJ2NhcmQnIGFzIGNvbnN0LFxuICAgICAgICAgIG9wZXJhdGlvblR5cGU6ICd1cGRhdGUnIGFzIGNvbnN0LFxuICAgICAgICAgIGVudGl0eUlkOiAnY2FyZC0yJyxcbiAgICAgICAgICBkYXRhOiB7IGZyb250Q29udGVudDogJ3Rlc3QyJyB9LFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcgYXMgY29uc3QsXG4gICAgICAgICAgbG9jYWxWZXJzaW9uOiAxLFxuICAgICAgICAgIHByaW9yaXR5OiAnbm9ybWFsJyBhcyBjb25zdCxcbiAgICAgICAgICBkZXBlbmRzT246IFtdXG4gICAgICAgIH1cbiAgICAgIF1cblxuICAgICAgbW9ja0RiLnRvQXJyYXkgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUobW9ja09wZXJhdGlvbnMpXG4gICAgICBtb2NrRGIuYnVsa0RlbGV0ZSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgxKVxuXG4gICAgICBjb25zdCBjbGVhcmVkQ291bnQgPSBhd2FpdCBzZXJ2aWNlLmNsZWFyQ29tcGxldGVkT3BlcmF0aW9ucygpXG5cbiAgICAgIGV4cGVjdChjbGVhcmVkQ291bnQpLnRvQmUoMSkgLy8g5Y+q5riF55CGMuWkqeWJjeeahOaTjeS9nFxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+e9kee7nOS/oeaBr+WkhOeQhicsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l6IO95aSf6I635Y+W572R57uc5L+h5oGvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8g5qih5ouf572R57uc6L+e5o6l5L+h5oGvXG4gICAgICBjb25zdCBtb2NrQ29ubmVjdGlvbiA9IHtcbiAgICAgICAgZWZmZWN0aXZlVHlwZTogJzRnJyxcbiAgICAgICAgZG93bmxpbms6IDEwLFxuICAgICAgICBydHQ6IDEwMCxcbiAgICAgICAgc2F2ZURhdGE6IGZhbHNlXG4gICAgICB9XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXZpZ2F0b3IsICdjb25uZWN0aW9uJywge1xuICAgICAgICB2YWx1ZTogbW9ja0Nvbm5lY3Rpb24sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSlcblxuICAgICAgY29uc3QgbmV0d29ya0luZm8gPSBhd2FpdCAoc2VydmljZSBhcyBhbnkpLmdldE5ldHdvcmtJbmZvKClcblxuICAgICAgZXhwZWN0KG5ldHdvcmtJbmZvKS50b0VxdWFsKHtcbiAgICAgICAgb25saW5lOiB0cnVlLFxuICAgICAgICBjb25uZWN0aW9uVHlwZTogJ3dpZmknLFxuICAgICAgICBlZmZlY3RpdmVUeXBlOiAnNGcnLFxuICAgICAgICBkb3dubGluazogMTAsXG4gICAgICAgIHJ0dDogMTAwLFxuICAgICAgICBzYXZlRGF0YTogZmFsc2VcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlpITnkIbnprvnur/nirbmgIEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmF2aWdhdG9yLCAnb25MaW5lJywge1xuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSlcblxuICAgICAgY29uc3QgbmV0d29ya0luZm8gPSBhd2FpdCAoc2VydmljZSBhcyBhbnkpLmdldE5ldHdvcmtJbmZvKClcblxuICAgICAgZXhwZWN0KG5ldHdvcmtJbmZvLm9ubGluZSkudG9CZShmYWxzZSlcbiAgICAgIGV4cGVjdChuZXR3b3JrSW5mby5jb25uZWN0aW9uVHlwZSkudG9CZSgnbm9uZScpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn6YWN572u566h55CGJywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xog73lpJ/mm7TmlrDphY3nva4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXdDb25maWcgPSB7XG4gICAgICAgIG1heFJldHJpZXM6IDEwLFxuICAgICAgICBpbml0aWFsUmV0cnlEZWxheTogNTAwLFxuICAgICAgICBtYXhSZXRyeURlbGF5OiA2MDAwMDAsXG4gICAgICAgIHJldHJ5QmFja29mZk11bHRpcGxpZXI6IDMsXG4gICAgICAgIGJhdGNoU2l6ZTogMjAsXG4gICAgICAgIGJhdGNoVGltZW91dDogMTAwMDAsXG4gICAgICAgIG1heENvbmN1cnJlbnRCYXRjaGVzOiA1LFxuICAgICAgICBwcm9jZXNzaW5nVGltZW91dDogNjAwMDAsXG4gICAgICAgIGlkbGVDaGVja0ludGVydmFsOiAyMDAwMCxcbiAgICAgICAgY2xlYW51cEludGVydmFsOiA2MDAwMDAsXG4gICAgICAgIG5ldHdvcmtBd2FyZTogZmFsc2UsXG4gICAgICAgIG9mZmxpbmVNb2RlOiB0cnVlLFxuICAgICAgICByZXF1aXJlV2lmaUZvckxhcmdlRmlsZXM6IGZhbHNlLFxuICAgICAgICBtYXhRdWV1ZVNpemU6IDIwMDAwLFxuICAgICAgICBtYXhBZ2U6IDE0ICogMjQgKiA2MCAqIDYwICogMTAwMFxuICAgICAgfVxuXG4gICAgICBzZXJ2aWNlLnVwZGF0ZUNvbmZpZyhuZXdDb25maWcpXG5cbiAgICAgIC8vIOmqjOivgemFjee9ruW3suabtOaWsO+8iOmAmui/h+ajgOafpeengeacieWxnuaAp++8iVxuICAgICAgZXhwZWN0KChzZXJ2aWNlIGFzIGFueSkuY29uZmlnKS50b01hdGNoT2JqZWN0KG5ld0NvbmZpZylcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpemqjOivgemFjee9ruWPguaVsCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRDb25maWcgPSB7XG4gICAgICAgIG1heFJldHJpZXM6IC0xLFxuICAgICAgICBiYXRjaFNpemU6IDBcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KCgpID0+IHNlcnZpY2UudXBkYXRlQ29uZmlnKGludmFsaWRDb25maWcgYXMgYW55KSkudG9UaHJvdygpXG4gICAgfSlcbiAgfSlcbn0pIl0sInZlcnNpb24iOjN9