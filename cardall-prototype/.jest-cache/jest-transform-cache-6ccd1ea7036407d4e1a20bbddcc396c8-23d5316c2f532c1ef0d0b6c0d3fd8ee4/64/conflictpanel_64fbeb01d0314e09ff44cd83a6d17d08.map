{"file":"D:\\Projects\\CardEverything\\cardall-prototype\\src\\components\\conflict\\conflict-panel.tsx","mappings":"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","names":[],"sources":["D:\\Projects\\CardEverything\\cardall-prototype\\src\\components\\conflict\\conflict-panel.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { ScrollArea } from '@/components/ui/scroll-area'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { SyncStatusDisplay } from '@/components/sync/sync-status-display'\r\nimport { \r\n  AlertTriangle, \r\n  CheckCircle, \r\n  XCircle, \r\n  Clock,\r\n  Filter,\r\n  RefreshCw,\r\n  Search,\r\n  ChevronDown,\r\n  ChevronRight\r\n} from 'lucide-react'\r\nimport { useConflicts } from '@/hooks/use-conflicts'\r\nimport { EnhancedConflictDetail } from './enhanced-conflict-detail'\r\nimport { cn } from '@/lib/utils'\r\nimport type { ConflictBase, ConflictSeverity, ConflictStatus, ConflictResolution } from '@/types/conflict'\r\n\r\ninterface ConflictPanelProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  className?: string\r\n}\r\n\r\nexport function ConflictPanel({ isOpen, onClose, className }: ConflictPanelProps) {\r\n  const {\r\n    conflicts,\r\n    selectedConflict,\r\n    setSelectedConflict,\r\n    getStats,\r\n    getPendingConflicts,\r\n    getHighPriorityConflicts,\r\n    resolveConflict,\r\n    ignoreConflict,\r\n    batchResolveConflicts,\r\n    detectConflicts,\r\n    refreshConflicts,\r\n    isResolving,\r\n    isLoading,\r\n    error,\r\n    syncStatus\r\n  } = useConflicts()\r\n\r\n  const [filterType, setFilterType] = useState<'all' | 'pending' | 'high' | 'resolved'>('all')\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [expandedConflicts, setExpandedConflicts] = useState<Set<string>>(new Set())\r\n  const [selectedConflicts, setSelectedConflicts] = useState<Set<string>>(new Set())\r\n  const [showDetail, setShowDetail] = useState(false)\r\n  const [detailConflictId, setDetailConflictId] = useState<string | null>(null)\r\n\r\n  const stats = getStats()\r\n  const pendingConflicts = getPendingConflicts()\r\n  const highPriorityConflicts = getHighPriorityConflicts()\r\n\r\n  const filteredConflicts = React.useMemo(() => {\r\n    let filtered = conflicts\r\n\r\n    // 按状态过滤\r\n    switch (filterType) {\r\n      case 'pending':\r\n        filtered = pendingConflicts\r\n        break\r\n      case 'high':\r\n        filtered = highPriorityConflicts\r\n        break\r\n      case 'resolved':\r\n        filtered = conflicts.filter(c => c.status === 'resolved')\r\n        break\r\n    }\r\n\r\n    // 按搜索词过滤\r\n    if (searchTerm) {\r\n      const term = searchTerm.toLowerCase()\r\n      filtered = filtered.filter(conflict => {\r\n        switch (conflict.entityType) {\r\n          case 'card':\r\n            return conflict.localVersion.content.frontContent.title.toLowerCase().includes(term)\r\n          case 'folder':\r\n            return conflict.localVersion.name.toLowerCase().includes(term)\r\n          case 'tag':\r\n            return conflict.localVersion.name.toLowerCase().includes(term)\r\n          default:\r\n            return false\r\n        }\r\n      })\r\n    }\r\n\r\n    return filtered.sort((a, b) => {\r\n      // 高优先级在前\r\n      const severityOrder = { critical: 4, high: 3, medium: 2, low: 1 }\r\n      const severityDiff = severityOrder[b.severity] - severityOrder[a.severity]\r\n      if (severityDiff !== 0) return -severityDiff\r\n\r\n      // 时间排序（最新的在前）\r\n      return b.timestamp.getTime() - a.timestamp.getTime()\r\n    })\r\n  }, [conflicts, filterType, searchTerm, pendingConflicts, highPriorityConflicts])\r\n\r\n  const handleToggleExpand = (conflictId: string) => {\r\n    setExpandedConflicts(prev => {\r\n      const newSet = new Set(prev)\r\n      if (newSet.has(conflictId)) {\r\n        newSet.delete(conflictId)\r\n      } else {\r\n        newSet.add(conflictId)\r\n      }\r\n      return newSet\r\n    })\r\n  }\r\n\r\n  const handleToggleSelect = (conflictId: string) => {\r\n    setSelectedConflicts(prev => {\r\n      const newSet = new Set(prev)\r\n      if (newSet.has(conflictId)) {\r\n        newSet.delete(conflictId)\r\n      } else {\r\n        newSet.add(conflictId)\r\n      }\r\n      return newSet\r\n    })\r\n  }\r\n\r\n  const handleViewDetail = (conflictId: string) => {\r\n    setDetailConflictId(conflictId)\r\n    setShowDetail(true)\r\n  }\r\n\r\n  const handleDetailResolve = async (conflictId: string, resolution: ConflictResolution) => {\r\n    await resolveConflict(conflictId, resolution)\r\n    setShowDetail(false)\r\n    setDetailConflictId(null)\r\n  }\r\n\r\n  const handleDetailClose = () => {\r\n    setShowDetail(false)\r\n    setDetailConflictId(null)\r\n  }\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedConflicts.size === filteredConflicts.length) {\r\n      setSelectedConflicts(new Set())\r\n    } else {\r\n      setSelectedConflicts(new Set(filteredConflicts.map(c => c.id)))\r\n    }\r\n  }\r\n\r\n  const handleBatchResolve = async (resolutionType: 'keep_local' | 'keep_remote') => {\r\n    if (selectedConflicts.size === 0) return\r\n\r\n    const conflictIds = Array.from(selectedConflicts)\r\n    await batchResolveConflicts(conflictIds, {\r\n      type: resolutionType,\r\n      reason: `批量选择${resolutionType === 'keep_local' ? '本地' : '远程'}版本`\r\n    })\r\n    \r\n    setSelectedConflicts(new Set())\r\n  }\r\n\r\n  const getSeverityColor = (severity: ConflictSeverity) => {\r\n    switch (severity) {\r\n      case 'critical':\r\n        return 'text-red-600 bg-red-50 border-red-200'\r\n      case 'high':\r\n        return 'text-orange-600 bg-orange-50 border-orange-200'\r\n      case 'medium':\r\n        return 'text-yellow-600 bg-yellow-50 border-yellow-200'\r\n      case 'low':\r\n        return 'text-blue-600 bg-blue-50 border-blue-200'\r\n      default:\r\n        return 'text-gray-600 bg-gray-50 border-gray-200'\r\n    }\r\n  }\r\n\r\n  const getStatusIcon = (status: ConflictStatus) => {\r\n    switch (status) {\r\n      case 'resolved':\r\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n      case 'ignored':\r\n        return <XCircle className=\"h-4 w-4 text-gray-500\" />\r\n      default:\r\n        return <Clock className=\"h-4 w-4 text-yellow-500\" />\r\n    }\r\n  }\r\n\r\n  if (!isOpen) return null\r\n\r\n  return (\r\n    <div className={cn(\"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4\", className)}>\r\n      <Card className=\"w-full max-w-4xl max-h-[90vh] flex flex-col\">\r\n        <CardHeader className=\"pb-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <AlertTriangle className=\"h-5 w-5 text-orange-500\" />\r\n              <CardTitle className=\"text-xl\">冲突管理中心</CardTitle>\r\n              <Badge variant=\"outline\" className=\"ml-2\">\r\n                {stats.pendingConflicts} 待解决\r\n              </Badge>\r\n            </div>\r\n            <Button variant=\"ghost\" size=\"sm\" onClick={onClose}>\r\n              ×\r\n            </Button>\r\n          </div>\r\n          \r\n          {/* 统计信息 */}\r\n          <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\r\n            <span>总计: {stats.totalConflicts}</span>\r\n            <span>已解决: {stats.resolvedConflicts}</span>\r\n            <span>待处理: {stats.pendingConflicts}</span>\r\n            <span>高优先级: {highPriorityConflicts.length}</span>\r\n\r\n            {/* 同步状态 */}\r\n            {syncStatus && (\r\n              <>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className={`w-2 h-2 rounded-full ${\r\n                    syncStatus.isSyncing ? 'bg-yellow-500 animate-pulse' :\r\n                    syncStatus.networkStatus?.online ? 'bg-green-500' : 'bg-red-500'\r\n                  }`} />\r\n                  <span>\r\n                    {syncStatus.isSyncing ? '同步中...' :\r\n                     syncStatus.networkStatus?.online ? '在线' : '离线'}\r\n                  </span>\r\n                </div>\r\n                {syncStatus.pendingOperations > 0 && (\r\n                  <span>待同步: {syncStatus.pendingOperations}</span>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* 同步状态显示 */}\r\n          <SyncStatusDisplay\r\n            showDetails={true}\r\n            compact={false}\r\n            className=\"mb-4\"\r\n          />\r\n\r\n          {/* 错误显示 */}\r\n          {error && (\r\n            <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm text-red-600\">{error}</span>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={() => window.location.reload()}\r\n                >\r\n                  重试\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"flex-1 flex flex-col space-y-4\">\r\n          {/* 搜索和过滤 */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"搜索冲突...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                variant={filterType === 'all' ? 'default' : 'outline'}\r\n                size=\"sm\"\r\n                onClick={() => setFilterType('all')}\r\n              >\r\n                全部\r\n              </Button>\r\n              <Button\r\n                variant={filterType === 'pending' ? 'default' : 'outline'}\r\n                size=\"sm\"\r\n                onClick={() => setFilterType('pending')}\r\n              >\r\n                待解决\r\n              </Button>\r\n              <Button\r\n                variant={filterType === 'high' ? 'default' : 'outline'}\r\n                size=\"sm\"\r\n                onClick={() => setFilterType('high')}\r\n              >\r\n                高优先级\r\n              </Button>\r\n              <Button\r\n                variant={filterType === 'resolved' ? 'default' : 'outline'}\r\n                size=\"sm\"\r\n                onClick={() => setFilterType('resolved')}\r\n              >\r\n                已解决\r\n              </Button>\r\n            </div>\r\n            \r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={refreshConflicts}\r\n              disabled={isLoading}\r\n            >\r\n              <RefreshCw className={`h-4 w-4 mr-2 ${isLoading ? 'animate-spin' : ''}`} />\r\n              刷新\r\n            </Button>\r\n          </div>\r\n\r\n          {/* 批量操作 */}\r\n          {selectedConflicts.size > 0 && (\r\n            <div className=\"flex items-center justify-between p-3 bg-blue-50 rounded-lg\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-sm font-medium\">\r\n                  已选择 {selectedConflicts.size} 个冲突\r\n                </span>\r\n                <Button variant=\"ghost\" size=\"sm\" onClick={handleSelectAll}>\r\n                  {selectedConflicts.size === filteredConflicts.length ? '取消全选' : '全选'}\r\n                </Button>\r\n              </div>\r\n              \r\n              <div className=\"flex gap-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => handleBatchResolve('keep_local')}\r\n                  disabled={isResolving}\r\n                >\r\n                  批量保留本地\r\n                </Button>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => handleBatchResolve('keep_remote')}\r\n                  disabled={isResolving}\r\n                >\r\n                  批量保留远程\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* 冲突列表 */}\r\n          <ScrollArea className=\"flex-1\">\r\n            <div className=\"space-y-3\">\r\n              {isLoading ? (\r\n                <div className=\"text-center py-8\">\r\n                  <RefreshCw className=\"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground\" />\r\n                  <p className=\"text-muted-foreground\">加载冲突信息...</p>\r\n                </div>\r\n              ) : filteredConflicts.length === 0 ? (\r\n                <div className=\"text-center py-8 text-muted-foreground\">\r\n                  {searchTerm ? '没有找到匹配的冲突' : '暂无冲突'}\r\n                </div>\r\n              ) : (\r\n                filteredConflicts.map((conflict) => (\r\n                  <ConflictItem\r\n                    key={conflict.id}\r\n                    conflict={conflict}\r\n                    isExpanded={expandedConflicts.has(conflict.id)}\r\n                    isSelected={selectedConflicts.has(conflict.id)}\r\n                    onToggleExpand={() => handleToggleExpand(conflict.id)}\r\n                    onToggleSelect={() => handleToggleSelect(conflict.id)}\r\n                    onSelect={() => setSelectedConflict(conflict.id)}\r\n                    onViewDetail={() => handleViewDetail(conflict.id)}\r\n                    onResolve={(resolution) => resolveConflict(conflict.id, resolution)}\r\n                    onIgnore={() => ignoreConflict(conflict.id)}\r\n                    getSeverityColor={getSeverityColor}\r\n                    getStatusIcon={getStatusIcon}\r\n                    isResolving={isResolving}\r\n                  />\r\n                ))\r\n              )}\r\n            </div>\r\n          </ScrollArea>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\n// 冲突项组件\r\ninterface ConflictItemProps {\r\n  conflict: ConflictBase\r\n  isExpanded: boolean\r\n  isSelected: boolean\r\n  onToggleExpand: () => void\r\n  onToggleSelect: () => void\r\n  onSelect: () => void\r\n  onViewDetail: () => void\r\n  onResolve: (resolution: any) => Promise<void>\r\n  onIgnore: () => void\r\n  getSeverityColor: (severity: ConflictSeverity) => string\r\n  getStatusIcon: (status: ConflictStatus) => React.ReactNode\r\n  isResolving: boolean\r\n}\r\n\r\nfunction ConflictItem({\r\n  conflict,\r\n  isExpanded,\r\n  isSelected,\r\n  onToggleExpand,\r\n  onToggleSelect,\r\n  onSelect,\r\n  onViewDetail,\r\n  onResolve,\r\n  onIgnore,\r\n  getSeverityColor,\r\n  getStatusIcon,\r\n  isResolving\r\n}: ConflictItemProps) {\r\n  return (\r\n    <Card \r\n      className={cn(\r\n        \"transition-all duration-200 cursor-pointer hover:shadow-md\",\r\n        getSeverityColor(conflict.severity),\r\n        isSelected && \"ring-2 ring-blue-500\"\r\n      )}\r\n      onClick={onSelect}\r\n    >\r\n      <CardContent className=\"p-4\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"flex items-start gap-3 flex-1\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={isSelected}\r\n              onChange={onToggleSelect}\r\n              onClick={(e) => e.stopPropagation()}\r\n              className=\"mt-1\"\r\n            />\r\n            \r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                {getStatusIcon(conflict.status)}\r\n                <Badge variant=\"outline\" className=\"text-xs\">\r\n                  {conflict.severity}\r\n                </Badge>\r\n                <Badge variant=\"secondary\" className=\"text-xs\">\r\n                  {getConflictTypeLabel(conflict.type)}\r\n                </Badge>\r\n                <span className=\"text-xs text-muted-foreground\">\r\n                  {formatTime(conflict.timestamp)}\r\n                </span>\r\n              </div>\r\n              \r\n              <h4 className=\"font-medium mb-1\">\r\n                {getConflictTitle(conflict)}\r\n              </h4>\r\n              <p className=\"text-sm text-muted-foreground mb-2\">\r\n                {getConflictDescription(conflict)}\r\n              </p>\r\n              \r\n              {isExpanded && (\r\n                <div className=\"mt-3 pt-3 border-t space-y-2\">\r\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"font-medium\">来源设备:</span>\r\n                      <span className=\"ml-2\">{conflict.sourceDevice}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">冲突时间:</span>\r\n                      <span className=\"ml-2\">{formatTime(conflict.timestamp)}</span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex gap-2 pt-2\">\r\n                    <Button\r\n                      variant=\"default\"\r\n                      size=\"sm\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        onViewDetail()\r\n                      }}\r\n                    >\r\n                      查看详情\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        onResolve({ type: 'keep_local', reason: '保留本地版本' })\r\n                      }}\r\n                      disabled={isResolving}\r\n                    >\r\n                      保留本地\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        onResolve({ type: 'keep_remote', reason: '保留远程版本' })\r\n                      }}\r\n                      disabled={isResolving}\r\n                    >\r\n                      保留远程\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        onIgnore()\r\n                      }}\r\n                    >\r\n                      忽略\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={(e) => {\r\n              e.stopPropagation()\r\n              onToggleExpand()\r\n            }}\r\n            className=\"ml-2\"\r\n          >\r\n            {isExpanded ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\r\n          </Button>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\n// 辅助函数\r\nfunction getConflictTypeLabel(type: string): string {\r\n  const labels: Record<string, string> = {\r\n    'card_content': '卡片内容',\r\n    'card_style': '卡片样式',\r\n    'card_tags': '卡片标签',\r\n    'card_folder': '卡片文件夹',\r\n    'folder_name': '文件夹名称',\r\n    'folder_structure': '文件夹结构',\r\n    'tag_rename': '标签重命名',\r\n    'tag_delete': '标签删除',\r\n    'tag_color': '标签颜色'\r\n  }\r\n  return labels[type] || type\r\n}\r\n\r\nfunction getConflictTitle(conflict: any): string {\r\n  switch (conflict.entityType) {\r\n    case 'card':\r\n      return conflict.localVersion.content.frontContent.title\r\n    case 'folder':\r\n      return conflict.localVersion.name\r\n    case 'tag':\r\n      return conflict.localVersion.name\r\n    default:\r\n      return '未知冲突'\r\n  }\r\n}\r\n\r\nfunction getConflictDescription(conflict: any): string {\r\n  switch (conflict.type) {\r\n    case 'card_content':\r\n      return '卡片内容在多设备上被同时编辑'\r\n    case 'folder_name':\r\n      return '文件夹名称与远程版本不一致'\r\n    case 'tag_rename':\r\n      return '标签重命名冲突'\r\n    default:\r\n      return '数据版本不一致'\r\n  }\r\n}\r\n\r\nfunction formatTime(date: Date): string {\r\n  const now = new Date()\r\n  const diff = now.getTime() - date.getTime()\r\n  const minutes = Math.floor(diff / 60000)\r\n  \r\n  if (minutes < 1) return '刚刚'\r\n  if (minutes < 60) return `${minutes}分钟前`\r\n  if (minutes < 1440) return `${Math.floor(minutes / 60)}小时前`\r\n  return `${Math.floor(minutes / 1440)}天前`\r\n}"],"version":3}