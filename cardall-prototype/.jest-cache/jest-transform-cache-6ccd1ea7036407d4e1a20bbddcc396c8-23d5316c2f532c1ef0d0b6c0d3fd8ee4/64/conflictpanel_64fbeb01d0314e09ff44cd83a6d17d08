91c16a63e537a5a1b7c16cd57f3c346c
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.ConflictPanel = ConflictPanel;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importStar(require("react"));
const button_1 = require("@/components/ui/button");
const badge_1 = require("@/components/ui/badge");
const card_1 = require("@/components/ui/card");
const scroll_area_1 = require("@/components/ui/scroll-area");
const sync_status_display_1 = require("@/components/sync/sync-status-display");
const lucide_react_1 = require("lucide-react");
const use_conflicts_1 = require("@/hooks/use-conflicts");
const utils_1 = require("@/lib/utils");
function ConflictPanel({ isOpen, onClose, className }) {
    const { conflicts, selectedConflict, setSelectedConflict, getStats, getPendingConflicts, getHighPriorityConflicts, resolveConflict, ignoreConflict, batchResolveConflicts, detectConflicts, refreshConflicts, isResolving, isLoading, error, syncStatus } = (0, use_conflicts_1.useConflicts)();
    const [filterType, setFilterType] = (0, react_1.useState)('all');
    const [searchTerm, setSearchTerm] = (0, react_1.useState)('');
    const [expandedConflicts, setExpandedConflicts] = (0, react_1.useState)(new Set());
    const [selectedConflicts, setSelectedConflicts] = (0, react_1.useState)(new Set());
    const [showDetail, setShowDetail] = (0, react_1.useState)(false);
    const [detailConflictId, setDetailConflictId] = (0, react_1.useState)(null);
    const stats = getStats();
    const pendingConflicts = getPendingConflicts();
    const highPriorityConflicts = getHighPriorityConflicts();
    const filteredConflicts = react_1.default.useMemo(() => {
        let filtered = conflicts;
        // 按状态过滤
        switch (filterType) {
            case 'pending':
                filtered = pendingConflicts;
                break;
            case 'high':
                filtered = highPriorityConflicts;
                break;
            case 'resolved':
                filtered = conflicts.filter(c => c.status === 'resolved');
                break;
        }
        // 按搜索词过滤
        if (searchTerm) {
            const term = searchTerm.toLowerCase();
            filtered = filtered.filter(conflict => {
                switch (conflict.entityType) {
                    case 'card':
                        return conflict.localVersion.content.frontContent.title.toLowerCase().includes(term);
                    case 'folder':
                        return conflict.localVersion.name.toLowerCase().includes(term);
                    case 'tag':
                        return conflict.localVersion.name.toLowerCase().includes(term);
                    default:
                        return false;
                }
            });
        }
        return filtered.sort((a, b) => {
            // 高优先级在前
            const severityOrder = { critical: 4, high: 3, medium: 2, low: 1 };
            const severityDiff = severityOrder[b.severity] - severityOrder[a.severity];
            if (severityDiff !== 0)
                return -severityDiff;
            // 时间排序（最新的在前）
            return b.timestamp.getTime() - a.timestamp.getTime();
        });
    }, [conflicts, filterType, searchTerm, pendingConflicts, highPriorityConflicts]);
    const handleToggleExpand = (conflictId) => {
        setExpandedConflicts(prev => {
            const newSet = new Set(prev);
            if (newSet.has(conflictId)) {
                newSet.delete(conflictId);
            }
            else {
                newSet.add(conflictId);
            }
            return newSet;
        });
    };
    const handleToggleSelect = (conflictId) => {
        setSelectedConflicts(prev => {
            const newSet = new Set(prev);
            if (newSet.has(conflictId)) {
                newSet.delete(conflictId);
            }
            else {
                newSet.add(conflictId);
            }
            return newSet;
        });
    };
    const handleViewDetail = (conflictId) => {
        setDetailConflictId(conflictId);
        setShowDetail(true);
    };
    const handleDetailResolve = async (conflictId, resolution) => {
        await resolveConflict(conflictId, resolution);
        setShowDetail(false);
        setDetailConflictId(null);
    };
    const handleDetailClose = () => {
        setShowDetail(false);
        setDetailConflictId(null);
    };
    const handleSelectAll = () => {
        if (selectedConflicts.size === filteredConflicts.length) {
            setSelectedConflicts(new Set());
        }
        else {
            setSelectedConflicts(new Set(filteredConflicts.map(c => c.id)));
        }
    };
    const handleBatchResolve = async (resolutionType) => {
        if (selectedConflicts.size === 0)
            return;
        const conflictIds = Array.from(selectedConflicts);
        await batchResolveConflicts(conflictIds, {
            type: resolutionType,
            reason: `批量选择${resolutionType === 'keep_local' ? '本地' : '远程'}版本`
        });
        setSelectedConflicts(new Set());
    };
    const getSeverityColor = (severity) => {
        switch (severity) {
            case 'critical':
                return 'text-red-600 bg-red-50 border-red-200';
            case 'high':
                return 'text-orange-600 bg-orange-50 border-orange-200';
            case 'medium':
                return 'text-yellow-600 bg-yellow-50 border-yellow-200';
            case 'low':
                return 'text-blue-600 bg-blue-50 border-blue-200';
            default:
                return 'text-gray-600 bg-gray-50 border-gray-200';
        }
    };
    const getStatusIcon = (status) => {
        switch (status) {
            case 'resolved':
                return (0, jsx_runtime_1.jsx)(lucide_react_1.CheckCircle, { className: "h-4 w-4 text-green-500" });
            case 'ignored':
                return (0, jsx_runtime_1.jsx)(lucide_react_1.XCircle, { className: "h-4 w-4 text-gray-500" });
            default:
                return (0, jsx_runtime_1.jsx)(lucide_react_1.Clock, { className: "h-4 w-4 text-yellow-500" });
        }
    };
    if (!isOpen)
        return null;
    return ((0, jsx_runtime_1.jsx)("div", { className: (0, utils_1.cn)("fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4", className), children: (0, jsx_runtime_1.jsxs)(card_1.Card, { className: "w-full max-w-4xl max-h-[90vh] flex flex-col", children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: "pb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.AlertTriangle, { className: "h-5 w-5 text-orange-500" }), (0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-xl", children: "\u51B2\u7A81\u7BA1\u7406\u4E2D\u5FC3" }), (0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: "outline", className: "ml-2", children: [stats.pendingConflicts, " \u5F85\u89E3\u51B3"] })] }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "ghost", size: "sm", onClick: onClose, children: "\u00D7" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4 text-sm text-muted-foreground", children: [(0, jsx_runtime_1.jsxs)("span", { children: ["\u603B\u8BA1: ", stats.totalConflicts] }), (0, jsx_runtime_1.jsxs)("span", { children: ["\u5DF2\u89E3\u51B3: ", stats.resolvedConflicts] }), (0, jsx_runtime_1.jsxs)("span", { children: ["\u5F85\u5904\u7406: ", stats.pendingConflicts] }), (0, jsx_runtime_1.jsxs)("span", { children: ["\u9AD8\u4F18\u5148\u7EA7: ", highPriorityConflicts.length] }), syncStatus && ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: `w-2 h-2 rounded-full ${syncStatus.isSyncing ? 'bg-yellow-500 animate-pulse' :
                                                        syncStatus.networkStatus?.online ? 'bg-green-500' : 'bg-red-500'}` }), (0, jsx_runtime_1.jsx)("span", { children: syncStatus.isSyncing ? '同步中...' :
                                                        syncStatus.networkStatus?.online ? '在线' : '离线' })] }), syncStatus.pendingOperations > 0 && ((0, jsx_runtime_1.jsxs)("span", { children: ["\u5F85\u540C\u6B65: ", syncStatus.pendingOperations] }))] }))] }), (0, jsx_runtime_1.jsx)(sync_status_display_1.SyncStatusDisplay, { showDetails: true, compact: false, className: "mb-4" }), error && ((0, jsx_runtime_1.jsx)("div", { className: "p-3 bg-red-50 border border-red-200 rounded-lg", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm text-red-600", children: error }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "ghost", size: "sm", onClick: () => window.location.reload(), children: "\u91CD\u8BD5" })] }) }))] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: "flex-1 flex flex-col space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsxs)("div", { className: "relative flex-1", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground" }), (0, jsx_runtime_1.jsx)("input", { type: "text", placeholder: "\u641C\u7D22\u51B2\u7A81...", value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: "w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: filterType === 'all' ? 'default' : 'outline', size: "sm", onClick: () => setFilterType('all'), children: "\u5168\u90E8" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: filterType === 'pending' ? 'default' : 'outline', size: "sm", onClick: () => setFilterType('pending'), children: "\u5F85\u89E3\u51B3" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: filterType === 'high' ? 'default' : 'outline', size: "sm", onClick: () => setFilterType('high'), children: "\u9AD8\u4F18\u5148\u7EA7" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: filterType === 'resolved' ? 'default' : 'outline', size: "sm", onClick: () => setFilterType('resolved'), children: "\u5DF2\u89E3\u51B3" })] }), (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "outline", size: "sm", onClick: refreshConflicts, disabled: isLoading, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.RefreshCw, { className: `h-4 w-4 mr-2 ${isLoading ? 'animate-spin' : ''}` }), "\u5237\u65B0"] })] }), selectedConflicts.size > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between p-3 bg-blue-50 rounded-lg", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsxs)("span", { className: "text-sm font-medium", children: ["\u5DF2\u9009\u62E9 ", selectedConflicts.size, " \u4E2A\u51B2\u7A81"] }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "ghost", size: "sm", onClick: handleSelectAll, children: selectedConflicts.size === filteredConflicts.length ? '取消全选' : '全选' })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", size: "sm", onClick: () => handleBatchResolve('keep_local'), disabled: isResolving, children: "\u6279\u91CF\u4FDD\u7559\u672C\u5730" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", size: "sm", onClick: () => handleBatchResolve('keep_remote'), disabled: isResolving, children: "\u6279\u91CF\u4FDD\u7559\u8FDC\u7A0B" })] })] })), (0, jsx_runtime_1.jsx)(scroll_area_1.ScrollArea, { className: "flex-1", children: (0, jsx_runtime_1.jsx)("div", { className: "space-y-3", children: isLoading ? ((0, jsx_runtime_1.jsxs)("div", { className: "text-center py-8", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.RefreshCw, { className: "h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground" }), (0, jsx_runtime_1.jsx)("p", { className: "text-muted-foreground", children: "\u52A0\u8F7D\u51B2\u7A81\u4FE1\u606F..." })] })) : filteredConflicts.length === 0 ? ((0, jsx_runtime_1.jsx)("div", { className: "text-center py-8 text-muted-foreground", children: searchTerm ? '没有找到匹配的冲突' : '暂无冲突' })) : (filteredConflicts.map((conflict) => ((0, jsx_runtime_1.jsx)(ConflictItem, { conflict: conflict, isExpanded: expandedConflicts.has(conflict.id), isSelected: selectedConflicts.has(conflict.id), onToggleExpand: () => handleToggleExpand(conflict.id), onToggleSelect: () => handleToggleSelect(conflict.id), onSelect: () => setSelectedConflict(conflict.id), onViewDetail: () => handleViewDetail(conflict.id), onResolve: (resolution) => resolveConflict(conflict.id, resolution), onIgnore: () => ignoreConflict(conflict.id), getSeverityColor: getSeverityColor, getStatusIcon: getStatusIcon, isResolving: isResolving }, conflict.id)))) }) })] })] }) }));
}
function ConflictItem({ conflict, isExpanded, isSelected, onToggleExpand, onToggleSelect, onSelect, onViewDetail, onResolve, onIgnore, getSeverityColor, getStatusIcon, isResolving }) {
    return ((0, jsx_runtime_1.jsx)(card_1.Card, { className: (0, utils_1.cn)("transition-all duration-200 cursor-pointer hover:shadow-md", getSeverityColor(conflict.severity), isSelected && "ring-2 ring-blue-500"), onClick: onSelect, children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: "p-4", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-start justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-3 flex-1", children: [(0, jsx_runtime_1.jsx)("input", { type: "checkbox", checked: isSelected, onChange: onToggleSelect, onClick: (e) => e.stopPropagation(), className: "mt-1" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-2", children: [getStatusIcon(conflict.status), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: "outline", className: "text-xs", children: conflict.severity }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: "secondary", className: "text-xs", children: getConflictTypeLabel(conflict.type) }), (0, jsx_runtime_1.jsx)("span", { className: "text-xs text-muted-foreground", children: formatTime(conflict.timestamp) })] }), (0, jsx_runtime_1.jsx)("h4", { className: "font-medium mb-1", children: getConflictTitle(conflict) }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-muted-foreground mb-2", children: getConflictDescription(conflict) }), isExpanded && ((0, jsx_runtime_1.jsxs)("div", { className: "mt-3 pt-3 border-t space-y-2", children: [(0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-2 gap-4 text-sm", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-medium", children: "\u6765\u6E90\u8BBE\u5907:" }), (0, jsx_runtime_1.jsx)("span", { className: "ml-2", children: conflict.sourceDevice })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "font-medium", children: "\u51B2\u7A81\u65F6\u95F4:" }), (0, jsx_runtime_1.jsx)("span", { className: "ml-2", children: formatTime(conflict.timestamp) })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2 pt-2", children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: "default", size: "sm", onClick: (e) => {
                                                            e.stopPropagation();
                                                            onViewDetail();
                                                        }, children: "\u67E5\u770B\u8BE6\u60C5" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", size: "sm", onClick: (e) => {
                                                            e.stopPropagation();
                                                            onResolve({ type: 'keep_local', reason: '保留本地版本' });
                                                        }, disabled: isResolving, children: "\u4FDD\u7559\u672C\u5730" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", size: "sm", onClick: (e) => {
                                                            e.stopPropagation();
                                                            onResolve({ type: 'keep_remote', reason: '保留远程版本' });
                                                        }, disabled: isResolving, children: "\u4FDD\u7559\u8FDC\u7A0B" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "ghost", size: "sm", onClick: (e) => {
                                                            e.stopPropagation();
                                                            onIgnore();
                                                        }, children: "\u5FFD\u7565" })] })] }))] })] }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "ghost", size: "sm", onClick: (e) => {
                            e.stopPropagation();
                            onToggleExpand();
                        }, className: "ml-2", children: isExpanded ? (0, jsx_runtime_1.jsx)(lucide_react_1.ChevronDown, { className: "h-4 w-4" }) : (0, jsx_runtime_1.jsx)(lucide_react_1.ChevronRight, { className: "h-4 w-4" }) })] }) }) }));
}
// 辅助函数
function getConflictTypeLabel(type) {
    const labels = {
        'card_content': '卡片内容',
        'card_style': '卡片样式',
        'card_tags': '卡片标签',
        'card_folder': '卡片文件夹',
        'folder_name': '文件夹名称',
        'folder_structure': '文件夹结构',
        'tag_rename': '标签重命名',
        'tag_delete': '标签删除',
        'tag_color': '标签颜色'
    };
    return labels[type] || type;
}
function getConflictTitle(conflict) {
    switch (conflict.entityType) {
        case 'card':
            return conflict.localVersion.content.frontContent.title;
        case 'folder':
            return conflict.localVersion.name;
        case 'tag':
            return conflict.localVersion.name;
        default:
            return '未知冲突';
    }
}
function getConflictDescription(conflict) {
    switch (conflict.type) {
        case 'card_content':
            return '卡片内容在多设备上被同时编辑';
        case 'folder_name':
            return '文件夹名称与远程版本不一致';
        case 'tag_rename':
            return '标签重命名冲突';
        default:
            return '数据版本不一致';
    }
}
function formatTime(date) {
    const now = new Date();
    const diff = now.getTime() - date.getTime();
    const minutes = Math.floor(diff / 60000);
    if (minutes < 1)
        return '刚刚';
    if (minutes < 60)
        return `${minutes}分钟前`;
    if (minutes < 1440)
        return `${Math.floor(minutes / 60)}小时前`;
    return `${Math.floor(minutes / 1440)}天前`;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHNyY1xcY29tcG9uZW50c1xcY29uZmxpY3RcXGNvbmZsaWN0LXBhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTZCQSxzQ0FvV0M7O0FBallELCtDQUF1QztBQUN2QyxtREFBK0M7QUFDL0MsaURBQTZDO0FBQzdDLCtDQUErRTtBQUMvRSw2REFBd0Q7QUFFeEQsK0VBQXlFO0FBQ3pFLCtDQVVxQjtBQUNyQix5REFBb0Q7QUFFcEQsdUNBQWdDO0FBU2hDLFNBQWdCLGFBQWEsQ0FBQyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFzQjtJQUM5RSxNQUFNLEVBQ0osU0FBUyxFQUNULGdCQUFnQixFQUNoQixtQkFBbUIsRUFDbkIsUUFBUSxFQUNSLG1CQUFtQixFQUNuQix3QkFBd0IsRUFDeEIsZUFBZSxFQUNmLGNBQWMsRUFDZCxxQkFBcUIsRUFDckIsZUFBZSxFQUNmLGdCQUFnQixFQUNoQixXQUFXLEVBQ1gsU0FBUyxFQUNULEtBQUssRUFDTCxVQUFVLEVBQ1gsR0FBRyxJQUFBLDRCQUFZLEdBQUUsQ0FBQTtJQUVsQixNQUFNLENBQUMsVUFBVSxFQUFFLGFBQWEsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBMEMsS0FBSyxDQUFDLENBQUE7SUFDNUYsTUFBTSxDQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsRUFBRSxDQUFDLENBQUE7SUFDaEQsTUFBTSxDQUFDLGlCQUFpQixFQUFFLG9CQUFvQixDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFjLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQTtJQUNsRixNQUFNLENBQUMsaUJBQWlCLEVBQUUsb0JBQW9CLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQWMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFBO0lBQ2xGLE1BQU0sQ0FBQyxVQUFVLEVBQUUsYUFBYSxD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Q3hCLEtBQUssWUFBWTtZQUNmLE9BQU8sU0FBUyxDQUFBO1FBQ2xCO1lBQ0UsT0FBTyxTQUFTLENBQUE7SUFDcEIsQ0FBQztBQUNILENBQUM7QUFFRCxTQUFTLFVBQVUsQ0FBQyxJQUFVO0lBQzVCLE1BQU0sR0FBRyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUE7SUFDdEIsTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUMzQyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQTtJQUV4QyxJQUFJLE9BQU8sR0FBRyxDQUFDO1FBQUUsT0FBTyxJQUFJLENBQUE7SUFDNUIsSUFBSSxPQUFPLEdBQUcsRUFBRTtRQUFFLE9BQU8sR0FBRyxPQUFPLEtBQUssQ0FBQTtJQUN4QyxJQUFJLE9BQU8sR0FBRyxJQUFJO1FBQUUsT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUE7SUFDM0QsT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUE7QUFDMUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJEOlxcUHJvamVjdHNcXENhcmRFdmVyeXRoaW5nXFxjYXJkYWxsLXByb3RvdHlwZVxcc3JjXFxjb21wb25lbnRzXFxjb25mbGljdFxcY29uZmxpY3QtcGFuZWwudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJ1xyXG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9iYWRnZSdcclxuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJ1xyXG5pbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhJ1xyXG5pbXBvcnQgeyBTZXBhcmF0b3IgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2VwYXJhdG9yJ1xyXG5pbXBvcnQgeyBTeW5jU3RhdHVzRGlzcGxheSB9IGZyb20gJ0AvY29tcG9uZW50cy9zeW5jL3N5bmMtc3RhdHVzLWRpc3BsYXknXHJcbmltcG9ydCB7IFxyXG4gIEFsZXJ0VHJpYW5nbGUsIFxyXG4gIENoZWNrQ2lyY2xlLCBcclxuICBYQ2lyY2xlLCBcclxuICBDbG9jayxcclxuICBGaWx0ZXIsXHJcbiAgUmVmcmVzaEN3LFxyXG4gIFNlYXJjaCxcclxuICBDaGV2cm9uRG93bixcclxuICBDaGV2cm9uUmlnaHRcclxufSBmcm9tICdsdWNpZGUtcmVhY3QnXHJcbmltcG9ydCB7IHVzZUNvbmZsaWN0cyB9IGZyb20gJ0AvaG9va3MvdXNlLWNvbmZsaWN0cydcclxuaW1wb3J0IHsgRW5oYW5jZWRDb25mbGljdERldGFpbCB9IGZyb20gJy4vZW5oYW5jZWQtY29uZmxpY3QtZGV0YWlsJ1xyXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJ1xyXG5pbXBvcnQgdHlwZSB7IENvbmZsaWN0QmFzZSwgQ29uZmxpY3RTZXZlcml0eSwgQ29uZmxpY3RTdGF0dXMsIENvbmZsaWN0UmVzb2x1dGlvbiB9IGZyb20gJ0AvdHlwZXMvY29uZmxpY3QnXHJcblxyXG5pbnRlcmZhY2UgQ29uZmxpY3RQYW5lbFByb3BzIHtcclxuICBpc09wZW46IGJvb2xlYW5cclxuICBvbkNsb3NlOiAoKSA9PiB2b2lkXHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDb25mbGljdFBhbmVsKHsgaXNPcGVuLCBvbkNsb3NlLCBjbGFzc05hbWUgfTogQ29uZmxpY3RQYW5lbFByb3BzKSB7XHJcbiAgY29uc3Qge1xyXG4gICAgY29uZmxpY3RzLFxyXG4gICAgc2VsZWN0ZWRDb25mbGljdCxcclxuICAgIHNldFNlbGVjdGVkQ29uZmxpY3QsXHJcbiAgICBnZXRTdGF0cyxcclxuICAgIGdldFBlbmRpbmdDb25mbGljdHMsXHJcbiAgICBnZXRIaWdoUHJpb3JpdHlDb25mbGljdHMsXHJcbiAgICByZXNvbHZlQ29uZmxpY3QsXHJcbiAgICBpZ25vcmVDb25mbGljdCxcclxuICAgIGJhdGNoUmVzb2x2ZUNvbmZsaWN0cyxcclxuICAgIGRldGVjdENvbmZsaWN0cyxcclxuICAgIHJlZnJlc2hDb25mbGljdHMsXHJcbiAgICBpc1Jlc29sdmluZyxcclxuICAgIGlzTG9hZGluZyxcclxuICAgIGVycm9yLFxyXG4gICAgc3luY1N0YXR1c1xyXG4gIH0gPSB1c2VDb25mbGljdHMoKVxyXG5cclxuICBjb25zdCBbZmlsdGVyVHlwZSwgc2V0RmlsdGVyVHlwZV0gPSB1c2VTdGF0ZTwnYWxsJyB8ICdwZW5kaW5nJyB8ICdoaWdoJyB8ICdyZXNvbHZlZCc+KCdhbGwnKVxyXG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKVxyXG4gIGNvbnN0IFtleHBhbmRlZENvbmZsaWN0cywgc2V0RXhwYW5kZWRDb25mbGljdHNdID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSlcclxuICBjb25zdCBbc2VsZWN0ZWRDb25mbGljdHMsIHNldFNlbGVjdGVkQ29uZmxpY3RzXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpXHJcbiAgY29uc3QgW3Nob3dEZXRhaWwsIHNldFNob3dEZXRhaWxdID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgY29uc3QgW2RldGFpbENvbmZsaWN0SWQsIHNldERldGFpbENvbmZsaWN0SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcclxuXHJcbiAgY29uc3Qgc3RhdHMgPSBnZXRTdGF0cygpXHJcbiAgY29uc3QgcGVuZGluZ0NvbmZsaWN0cyA9IGdldFBlbmRpbmdDb25mbGljdHMoKVxyXG4gIGNvbnN0IGhpZ2hQcmlvcml0eUNvbmZsaWN0cyA9IGdldEhpZ2hQcmlvcml0eUNvbmZsaWN0cygpXHJcblxyXG4gIGNvbnN0IGZpbHRlcmVkQ29uZmxpY3RzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XHJcbiAgICBsZXQgZmlsdGVyZWQgPSBjb25mbGljdHNcclxuXHJcbiAgICAvLyDmjInnirbmgIHov4fmu6RcclxuICAgIHN3aXRjaCAoZmlsdGVyVHlwZSkge1xyXG4gICAgICBjYXNlICdwZW5kaW5nJzpcclxuICAgICAgICBmaWx0ZXJlZCA9IHBlbmRpbmdDb25mbGljdHNcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdoaWdoJzpcclxuICAgICAgICBmaWx0ZXJlZCA9IGhpZ2hQcmlvcml0eUNvbmZsaWN0c1xyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ3Jlc29sdmVkJzpcclxuICAgICAgICBmaWx0ZXJlZCA9IGNvbmZsaWN0cy5maWx0ZXIoYyA9PiBjLnN0YXR1cyA9PT0gJ3Jlc29sdmVkJylcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOaMieaQnOe0ouivjei/h+a7pFxyXG4gICAgaWYgKHNlYXJjaFRlcm0pIHtcclxuICAgICAgY29uc3QgdGVybSA9IHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKVxyXG4gICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihjb25mbGljdCA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChjb25mbGljdC5lbnRpdHlUeXBlKSB7XHJcbiAgICAgICAgICBjYXNlICdjYXJkJzpcclxuICAgICAgICAgICAgcmV0dXJuIGNvbmZsaWN0LmxvY2FsVmVyc2lvbi5jb250ZW50LmZyb250Q29udGVudC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRlcm0pXHJcbiAgICAgICAgICBjYXNlICdmb2xkZXInOlxyXG4gICAgICAgICAgICByZXR1cm4gY29uZmxpY3QubG9jYWxWZXJzaW9uLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0ZXJtKVxyXG4gICAgICAgICAgY2FzZSAndGFnJzpcclxuICAgICAgICAgICAgcmV0dXJuIGNvbmZsaWN0LmxvY2FsVmVyc2lvbi5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGVybSlcclxuICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmlsdGVyZWQuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAvLyDpq5jkvJjlhYjnuqflnKjliY1cclxuICAgICAgY29uc3Qgc2V2ZXJpdHlPcmRlciA9IHsgY3JpdGljYWw6IDQsIGhpZ2g6IDMsIG1lZGl1bTogMiwgbG93OiAxIH1cclxuICAgICAgY29uc3Qgc2V2ZXJpdHlEaWZmID0gc2V2ZXJpdHlPcmRlcltiLnNldmVyaXR5XSAtIHNldmVyaXR5T3JkZXJbYS5zZXZlcml0eV1cclxuICAgICAgaWYgKHNldmVyaXR5RGlmZiAhPT0gMCkgcmV0dXJuIC1zZXZlcml0eURpZmZcclxuXHJcbiAgICAgIC8vIOaXtumXtOaOkuW6j++8iOacgOaWsOeahOWcqOWJje+8iVxyXG4gICAgICByZXR1cm4gYi50aW1lc3RhbXAuZ2V0VGltZSgpIC0gYS50aW1lc3RhbXAuZ2V0VGltZSgpXHJcbiAgICB9KVxyXG4gIH0sIFtjb25mbGljdHMsIGZpbHRlclR5cGUsIHNlYXJjaFRlcm0sIHBlbmRpbmdDb25mbGljdHMsIGhpZ2hQcmlvcml0eUNvbmZsaWN0c10pXHJcblxyXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUV4cGFuZCA9IChjb25mbGljdElkOiBzdHJpbmcpID0+IHtcclxuICAgIHNldEV4cGFuZGVkQ29uZmxpY3RzKHByZXYgPT4ge1xyXG4gICAgICBjb25zdCBuZXdTZXQgPSBuZXcgU2V0KHByZXYpXHJcbiAgICAgIGlmIChuZXdTZXQuaGFzKGNvbmZsaWN0SWQpKSB7XHJcbiAgICAgICAgbmV3U2V0LmRlbGV0ZShjb25mbGljdElkKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5ld1NldC5hZGQoY29uZmxpY3RJZClcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbmV3U2V0XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaGFuZGxlVG9nZ2xlU2VsZWN0ID0gKGNvbmZsaWN0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgc2V0U2VsZWN0ZWRDb25mbGljdHMocHJldiA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1NldCA9IG5ldyBTZXQocHJldilcclxuICAgICAgaWYgKG5ld1NldC5oYXMoY29uZmxpY3RJZCkpIHtcclxuICAgICAgICBuZXdTZXQuZGVsZXRlKGNvbmZsaWN0SWQpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmV3U2V0LmFkZChjb25mbGljdElkKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXdTZXRcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjb25zdCBoYW5kbGVWaWV3RGV0YWlsID0gKGNvbmZsaWN0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgc2V0RGV0YWlsQ29uZmxpY3RJZChjb25mbGljdElkKVxyXG4gICAgc2V0U2hvd0RldGFpbCh0cnVlKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaGFuZGxlRGV0YWlsUmVzb2x2ZSA9IGFzeW5jIChjb25mbGljdElkOiBzdHJpbmcsIHJlc29sdXRpb246IENvbmZsaWN0UmVzb2x1dGlvbikgPT4ge1xyXG4gICAgYXdhaXQgcmVzb2x2ZUNvbmZsaWN0KGNvbmZsaWN0SWQsIHJlc29sdXRpb24pXHJcbiAgICBzZXRTaG93RGV0YWlsKGZhbHNlKVxyXG4gICAgc2V0RGV0YWlsQ29uZmxpY3RJZChudWxsKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaGFuZGxlRGV0YWlsQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICBzZXRTaG93RGV0YWlsKGZhbHNlKVxyXG4gICAgc2V0RGV0YWlsQ29uZmxpY3RJZChudWxsKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaGFuZGxlU2VsZWN0QWxsID0gKCkgPT4ge1xyXG4gICAgaWYgKHNlbGVjdGVkQ29uZmxpY3RzLnNpemUgPT09IGZpbHRlcmVkQ29uZmxpY3RzLmxlbmd0aCkge1xyXG4gICAgICBzZXRTZWxlY3RlZENvbmZsaWN0cyhuZXcgU2V0KCkpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRTZWxlY3RlZENvbmZsaWN0cyhuZXcgU2V0KGZpbHRlcmVkQ29uZmxpY3RzLm1hcChjID0+IGMuaWQpKSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGhhbmRsZUJhdGNoUmVzb2x2ZSA9IGFzeW5jIChyZXNvbHV0aW9uVHlwZTogJ2tlZXBfbG9jYWwnIHwgJ2tlZXBfcmVtb3RlJykgPT4ge1xyXG4gICAgaWYgKHNlbGVjdGVkQ29uZmxpY3RzLnNpemUgPT09IDApIHJldHVyblxyXG5cclxuICAgIGNvbnN0IGNvbmZsaWN0SWRzID0gQXJyYXkuZnJvbShzZWxlY3RlZENvbmZsaWN0cylcclxuICAgIGF3YWl0IGJhdGNoUmVzb2x2ZUNvbmZsaWN0cyhjb25mbGljdElkcywge1xyXG4gICAgICB0eXBlOiByZXNvbHV0aW9uVHlwZSxcclxuICAgICAgcmVhc29uOiBg5om56YeP6YCJ5oupJHtyZXNvbHV0aW9uVHlwZSA9PT0gJ2tlZXBfbG9jYWwnID8gJ+acrOWcsCcgOiAn6L+c56iLJ33niYjmnKxgXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICBzZXRTZWxlY3RlZENvbmZsaWN0cyhuZXcgU2V0KCkpXHJcbiAgfVxyXG5cclxuICBjb25zdCBnZXRTZXZlcml0eUNvbG9yID0gKHNldmVyaXR5OiBDb25mbGljdFNldmVyaXR5KSA9PiB7XHJcbiAgICBzd2l0Y2ggKHNldmVyaXR5KSB7XHJcbiAgICAgIGNhc2UgJ2NyaXRpY2FsJzpcclxuICAgICAgICByZXR1cm4gJ3RleHQtcmVkLTYwMCBiZy1yZWQtNTAgYm9yZGVyLXJlZC0yMDAnXHJcbiAgICAgIGNhc2UgJ2hpZ2gnOlxyXG4gICAgICAgIHJldHVybiAndGV4dC1vcmFuZ2UtNjAwIGJnLW9yYW5nZS01MCBib3JkZXItb3JhbmdlLTIwMCdcclxuICAgICAgY2FzZSAnbWVkaXVtJzpcclxuICAgICAgICByZXR1cm4gJ3RleHQteWVsbG93LTYwMCBiZy15ZWxsb3ctNTAgYm9yZGVyLXllbGxvdy0yMDAnXHJcbiAgICAgIGNhc2UgJ2xvdyc6XHJcbiAgICAgICAgcmV0dXJuICd0ZXh0LWJsdWUtNjAwIGJnLWJsdWUtNTAgYm9yZGVyLWJsdWUtMjAwJ1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiAndGV4dC1ncmF5LTYwMCBiZy1ncmF5LTUwIGJvcmRlci1ncmF5LTIwMCdcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGdldFN0YXR1c0ljb24gPSAoc3RhdHVzOiBDb25mbGljdFN0YXR1cykgPT4ge1xyXG4gICAgc3dpdGNoIChzdGF0dXMpIHtcclxuICAgICAgY2FzZSAncmVzb2x2ZWQnOlxyXG4gICAgICAgIHJldHVybiA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LWdyZWVuLTUwMFwiIC8+XHJcbiAgICAgIGNhc2UgJ2lnbm9yZWQnOlxyXG4gICAgICAgIHJldHVybiA8WENpcmNsZSBjbGFzc05hbWU9XCJoLTQgdy00IHRleHQtZ3JheS01MDBcIiAvPlxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiA8Q2xvY2sgY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LXllbGxvdy01MDBcIiAvPlxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y24oXCJmaXhlZCBpbnNldC0wIHotNTAgYmctYmxhY2svNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCIsIGNsYXNzTmFtZSl9PlxyXG4gICAgICA8Q2FyZCBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctNHhsIG1heC1oLVs5MHZoXSBmbGV4IGZsZXgtY29sXCI+XHJcbiAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPVwicGItNFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC1vcmFuZ2UtNTAwXCIgLz5cclxuICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cInRleHQteGxcIj7lhrLnqoHnrqHnkIbkuK3lv4M8L0NhcmRUaXRsZT5cclxuICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD1cIm91dGxpbmVcIiBjbGFzc05hbWU9XCJtbC0yXCI+XHJcbiAgICAgICAgICAgICAgICB7c3RhdHMucGVuZGluZ0NvbmZsaWN0c30g5b6F6Kej5YazXHJcbiAgICAgICAgICAgICAgPC9CYWRnZT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgb25DbGljaz17b25DbG9zZX0+XHJcbiAgICAgICAgICAgICAgw5dcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgey8qIOe7n+iuoeS/oeaBryAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgdGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cclxuICAgICAgICAgICAgPHNwYW4+5oC76K6hOiB7c3RhdHMudG90YWxDb25mbGljdHN9PC9zcGFuPlxyXG4gICAgICAgICAgICA8c3Bhbj7lt7Lop6PlhrM6IHtzdGF0cy5yZXNvbHZlZENvbmZsaWN0c308L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuPuW+heWkhOeQhjoge3N0YXRzLnBlbmRpbmdDb25mbGljdHN9PC9zcGFuPlxyXG4gICAgICAgICAgICA8c3Bhbj7pq5jkvJjlhYjnuqc6IHtoaWdoUHJpb3JpdHlDb25mbGljdHMubGVuZ3RofTwvc3Bhbj5cclxuXHJcbiAgICAgICAgICAgIHsvKiDlkIzmraXnirbmgIEgKi99XHJcbiAgICAgICAgICAgIHtzeW5jU3RhdHVzICYmIChcclxuICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctMiBoLTIgcm91bmRlZC1mdWxsICR7XHJcbiAgICAgICAgICAgICAgICAgICAgc3luY1N0YXR1cy5pc1N5bmNpbmcgPyAnYmcteWVsbG93LTUwMCBhbmltYXRlLXB1bHNlJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgc3luY1N0YXR1cy5uZXR3b3JrU3RhdHVzPy5vbmxpbmUgPyAnYmctZ3JlZW4tNTAwJyA6ICdiZy1yZWQtNTAwJ1xyXG4gICAgICAgICAgICAgICAgICB9YH0gLz5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAge3N5bmNTdGF0dXMuaXNTeW5jaW5nID8gJ+WQjOatpeS4rS4uLicgOlxyXG4gICAgICAgICAgICAgICAgICAgICBzeW5jU3RhdHVzLm5ldHdvcmtTdGF0dXM/Lm9ubGluZSA/ICflnKjnur8nIDogJ+emu+e6vyd9XHJcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAge3N5bmNTdGF0dXMucGVuZGluZ09wZXJhdGlvbnMgPiAwICYmIChcclxuICAgICAgICAgICAgICAgICAgPHNwYW4+5b6F5ZCM5q2lOiB7c3luY1N0YXR1cy5wZW5kaW5nT3BlcmF0aW9uc308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIOWQjOatpeeKtuaAgeaYvuekuiAqL31cclxuICAgICAgICAgIDxTeW5jU3RhdHVzRGlzcGxheVxyXG4gICAgICAgICAgICBzaG93RGV0YWlscz17dHJ1ZX1cclxuICAgICAgICAgICAgY29tcGFjdD17ZmFsc2V9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTRcIlxyXG4gICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICB7Lyog6ZSZ6K+v5pi+56S6ICovfVxyXG4gICAgICAgICAge2Vycm9yICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYmctcmVkLTUwIGJvcmRlciBib3JkZXItcmVkLTIwMCByb3VuZGVkLWxnXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNjAwXCI+e2Vycm9yfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcclxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICDph43or5VcclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9DYXJkSGVhZGVyPlxyXG5cclxuICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgc3BhY2UteS00XCI+XHJcbiAgICAgICAgICB7Lyog5pCc57Si5ZKM6L+H5rukICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXgtMVwiPlxyXG4gICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgaC00IHctNCB0ZXh0LW11dGVkLWZvcmVncm91bmRcIiAvPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLmkJzntKLlhrLnqoEuLi5cIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRlcm19XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFRlcm0oZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHBsLTEwIHByLTQgcHktMiBib3JkZXIgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdmFyaWFudD17ZmlsdGVyVHlwZSA9PT0gJ2FsbCcgPyAnZGVmYXVsdCcgOiAnb3V0bGluZSd9XHJcbiAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RmlsdGVyVHlwZSgnYWxsJyl9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAg5YWo6YOoXHJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdmFyaWFudD17ZmlsdGVyVHlwZSA9PT0gJ3BlbmRpbmcnID8gJ2RlZmF1bHQnIDogJ291dGxpbmUnfVxyXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEZpbHRlclR5cGUoJ3BlbmRpbmcnKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICDlvoXop6PlhrNcclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICB2YXJpYW50PXtmaWx0ZXJUeXBlID09PSAnaGlnaCcgPyAnZGVmYXVsdCcgOiAnb3V0bGluZSd9XHJcbiAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RmlsdGVyVHlwZSgnaGlnaCcpfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIOmrmOS8mOWFiOe6p1xyXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9e2ZpbHRlclR5cGUgPT09ICdyZXNvbHZlZCcgPyAnZGVmYXVsdCcgOiAnb3V0bGluZSd9XHJcbiAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RmlsdGVyVHlwZSgncmVzb2x2ZWQnKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICDlt7Lop6PlhrNcclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxyXG4gICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgb25DbGljaz17cmVmcmVzaENvbmZsaWN0c31cclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPFJlZnJlc2hDdyBjbGFzc05hbWU9e2BoLTQgdy00IG1yLTIgJHtpc0xvYWRpbmcgPyAnYW5pbWF0ZS1zcGluJyA6ICcnfWB9IC8+XHJcbiAgICAgICAgICAgICAg5Yi35pawXHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIOaJuemHj+aTjeS9nCAqL31cclxuICAgICAgICAgIHtzZWxlY3RlZENvbmZsaWN0cy5zaXplID4gMCAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMyBiZy1ibHVlLTUwIHJvdW5kZWQtbGdcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+XHJcbiAgICAgICAgICAgICAgICAgIOW3sumAieaLqSB7c2VsZWN0ZWRDb25mbGljdHMuc2l6ZX0g5Liq5Yay56qBXHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJzbVwiIG9uQ2xpY2s9e2hhbmRsZVNlbGVjdEFsbH0+XHJcbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZENvbmZsaWN0cy5zaXplID09PSBmaWx0ZXJlZENvbmZsaWN0cy5sZW5ndGggPyAn5Y+W5raI5YWo6YCJJyA6ICflhajpgIknfVxyXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQmF0Y2hSZXNvbHZlKCdrZWVwX2xvY2FsJyl9XHJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1Jlc29sdmluZ31cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAg5om56YeP5L+d55WZ5pys5ZywXHJcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxyXG4gICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVCYXRjaFJlc29sdmUoJ2tlZXBfcmVtb3RlJyl9XHJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1Jlc29sdmluZ31cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAg5om56YeP5L+d55WZ6L+c56iLXHJcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgIHsvKiDlhrLnqoHliJfooaggKi99XHJcbiAgICAgICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cclxuICAgICAgICAgICAgICB7aXNMb2FkaW5nID8gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS04XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwiaC04IHctOCBhbmltYXRlLXNwaW4gbXgtYXV0byBtYi00IHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPuWKoOi9veWGsueqgeS/oeaBry4uLjwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICkgOiBmaWx0ZXJlZENvbmZsaWN0cy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTggdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtzZWFyY2hUZXJtID8gJ+ayoeacieaJvuWIsOWMuemFjeeahOWGsueqgScgOiAn5pqC5peg5Yay56qBJ31cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZENvbmZsaWN0cy5tYXAoKGNvbmZsaWN0KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgIDxDb25mbGljdEl0ZW1cclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbmZsaWN0LmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZsaWN0PXtjb25mbGljdH1cclxuICAgICAgICAgICAgICAgICAgICBpc0V4cGFuZGVkPXtleHBhbmRlZENvbmZsaWN0cy5oYXMoY29uZmxpY3QuaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3NlbGVjdGVkQ29uZmxpY3RzLmhhcyhjb25mbGljdC5pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Ub2dnbGVFeHBhbmQ9eygpID0+IGhhbmRsZVRvZ2dsZUV4cGFuZChjb25mbGljdC5pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Ub2dnbGVTZWxlY3Q9eygpID0+IGhhbmRsZVRvZ2dsZVNlbGVjdChjb25mbGljdC5pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9eygpID0+IHNldFNlbGVjdGVkQ29uZmxpY3QoY29uZmxpY3QuaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uVmlld0RldGFpbD17KCkgPT4gaGFuZGxlVmlld0RldGFpbChjb25mbGljdC5pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25SZXNvbHZlPXsocmVzb2x1dGlvbikgPT4gcmVzb2x2ZUNvbmZsaWN0KGNvbmZsaWN0LmlkLCByZXNvbHV0aW9uKX1cclxuICAgICAgICAgICAgICAgICAgICBvbklnbm9yZT17KCkgPT4gaWdub3JlQ29uZmxpY3QoY29uZmxpY3QuaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgIGdldFNldmVyaXR5Q29sb3I9e2dldFNldmVyaXR5Q29sb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0U3RhdHVzSWNvbj17Z2V0U3RhdHVzSWNvbn1cclxuICAgICAgICAgICAgICAgICAgICBpc1Jlc29sdmluZz17aXNSZXNvbHZpbmd9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9TY3JvbGxBcmVhPlxyXG4gICAgICAgIDwvQ2FyZENvbnRlbnQ+XHJcbiAgICAgIDwvQ2FyZD5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuLy8g5Yay56qB6aG557uE5Lu2XHJcbmludGVyZmFjZSBDb25mbGljdEl0ZW1Qcm9wcyB7XHJcbiAgY29uZmxpY3Q6IENvbmZsaWN0QmFzZVxyXG4gIGlzRXhwYW5kZWQ6IGJvb2xlYW5cclxuICBpc1NlbGVjdGVkOiBib29sZWFuXHJcbiAgb25Ub2dnbGVFeHBhbmQ6ICgpID0+IHZvaWRcclxuICBvblRvZ2dsZVNlbGVjdDogKCkgPT4gdm9pZFxyXG4gIG9uU2VsZWN0OiAoKSA9PiB2b2lkXHJcbiAgb25WaWV3RGV0YWlsOiAoKSA9PiB2b2lkXHJcbiAgb25SZXNvbHZlOiAocmVzb2x1dGlvbjogYW55KSA9PiBQcm9taXNlPHZvaWQ+XHJcbiAgb25JZ25vcmU6ICgpID0+IHZvaWRcclxuICBnZXRTZXZlcml0eUNvbG9yOiAoc2V2ZXJpdHk6IENvbmZsaWN0U2V2ZXJpdHkpID0+IHN0cmluZ1xyXG4gIGdldFN0YXR1c0ljb246IChzdGF0dXM6IENvbmZsaWN0U3RhdHVzKSA9PiBSZWFjdC5SZWFjdE5vZGVcclxuICBpc1Jlc29sdmluZzogYm9vbGVhblxyXG59XHJcblxyXG5mdW5jdGlvbiBDb25mbGljdEl0ZW0oe1xyXG4gIGNvbmZsaWN0LFxyXG4gIGlzRXhwYW5kZWQsXHJcbiAgaXNTZWxlY3RlZCxcclxuICBvblRvZ2dsZUV4cGFuZCxcclxuICBvblRvZ2dsZVNlbGVjdCxcclxuICBvblNlbGVjdCxcclxuICBvblZpZXdEZXRhaWwsXHJcbiAgb25SZXNvbHZlLFxyXG4gIG9uSWdub3JlLFxyXG4gIGdldFNldmVyaXR5Q29sb3IsXHJcbiAgZ2V0U3RhdHVzSWNvbixcclxuICBpc1Jlc29sdmluZ1xyXG59OiBDb25mbGljdEl0ZW1Qcm9wcykge1xyXG4gIHJldHVybiAoXHJcbiAgICA8Q2FyZCBcclxuICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICBcInRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBjdXJzb3ItcG9pbnRlciBob3ZlcjpzaGFkb3ctbWRcIixcclxuICAgICAgICBnZXRTZXZlcml0eUNvbG9yKGNvbmZsaWN0LnNldmVyaXR5KSxcclxuICAgICAgICBpc1NlbGVjdGVkICYmIFwicmluZy0yIHJpbmctYmx1ZS01MDBcIlxyXG4gICAgICApfVxyXG4gICAgICBvbkNsaWNrPXtvblNlbGVjdH1cclxuICAgID5cclxuICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInAtNFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtMyBmbGV4LTFcIj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICBjaGVja2VkPXtpc1NlbGVjdGVkfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtvblRvZ2dsZVNlbGVjdH1cclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xXCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICB7Z2V0U3RhdHVzSWNvbihjb25mbGljdC5zdGF0dXMpfVxyXG4gICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJvdXRsaW5lXCIgY2xhc3NOYW1lPVwidGV4dC14c1wiPlxyXG4gICAgICAgICAgICAgICAgICB7Y29uZmxpY3Quc2V2ZXJpdHl9XHJcbiAgICAgICAgICAgICAgICA8L0JhZGdlPlxyXG4gICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtnZXRDb25mbGljdFR5cGVMYWJlbChjb25mbGljdC50eXBlKX1cclxuICAgICAgICAgICAgICAgIDwvQmFkZ2U+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxyXG4gICAgICAgICAgICAgICAgICB7Zm9ybWF0VGltZShjb25mbGljdC50aW1lc3RhbXApfVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSBtYi0xXCI+XHJcbiAgICAgICAgICAgICAgICB7Z2V0Q29uZmxpY3RUaXRsZShjb25mbGljdCl9XHJcbiAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICB7Z2V0Q29uZmxpY3REZXNjcmlwdGlvbihjb25mbGljdCl9XHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIHtpc0V4cGFuZGVkICYmIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBwdC0zIGJvcmRlci10IHNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTQgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPuadpea6kOiuvuWkhzo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yXCI+e2NvbmZsaWN0LnNvdXJjZURldmljZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+5Yay56qB5pe26Ze0Ojwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTJcIj57Zm9ybWF0VGltZShjb25mbGljdC50aW1lc3RhbXApfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgcHQtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJkZWZhdWx0XCJcclxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVmlld0RldGFpbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIOafpeeci+ivpuaDhVxyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVzb2x2ZSh7IHR5cGU6ICdrZWVwX2xvY2FsJywgcmVhc29uOiAn5L+d55WZ5pys5Zyw54mI5pysJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1Jlc29sdmluZ31cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICDkv53nlZnmnKzlnLBcclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblJlc29sdmUoeyB0eXBlOiAna2VlcF9yZW1vdGUnLCByZWFzb246ICfkv53nlZnov5znqIvniYjmnKwnIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUmVzb2x2aW5nfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIOS/neeVmei/nOeoi1xyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbklnbm9yZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIOW/veeVpVxyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcclxuICAgICAgICAgICAgc2l6ZT1cInNtXCJcclxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgICAgICAgb25Ub2dnbGVFeHBhbmQoKVxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtbC0yXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAge2lzRXhwYW5kZWQgPyA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+IDogPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz59XHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9DYXJkQ29udGVudD5cclxuICAgIDwvQ2FyZD5cclxuICApXHJcbn1cclxuXHJcbi8vIOi+heWKqeWHveaVsFxyXG5mdW5jdGlvbiBnZXRDb25mbGljdFR5cGVMYWJlbCh0eXBlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGNvbnN0IGxhYmVsczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAgICdjYXJkX2NvbnRlbnQnOiAn5Y2h54mH5YaF5a65JyxcclxuICAgICdjYXJkX3N0eWxlJzogJ+WNoeeJh+agt+W8jycsXHJcbiAgICAnY2FyZF90YWdzJzogJ+WNoeeJh+agh+etvicsXHJcbiAgICAnY2FyZF9mb2xkZXInOiAn5Y2h54mH5paH5Lu25aS5JyxcclxuICAgICdmb2xkZXJfbmFtZSc6ICfmlofku7blpLnlkI3np7AnLFxyXG4gICAgJ2ZvbGRlcl9zdHJ1Y3R1cmUnOiAn5paH5Lu25aS557uT5p6EJyxcclxuICAgICd0YWdfcmVuYW1lJzogJ+agh+etvumHjeWRveWQjScsXHJcbiAgICAndGFnX2RlbGV0ZSc6ICfmoIfnrb7liKDpmaQnLFxyXG4gICAgJ3RhZ19jb2xvcic6ICfmoIfnrb7popzoibInXHJcbiAgfVxyXG4gIHJldHVybiBsYWJlbHNbdHlwZV0gfHwgdHlwZVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb25mbGljdFRpdGxlKGNvbmZsaWN0OiBhbnkpOiBzdHJpbmcge1xyXG4gIHN3aXRjaCAoY29uZmxpY3QuZW50aXR5VHlwZSkge1xyXG4gICAgY2FzZSAnY2FyZCc6XHJcbiAgICAgIHJldHVybiBjb25mbGljdC5sb2NhbFZlcnNpb24uY29udGVudC5mcm9udENvbnRlbnQudGl0bGVcclxuICAgIGNhc2UgJ2ZvbGRlcic6XHJcbiAgICAgIHJldHVybiBjb25mbGljdC5sb2NhbFZlcnNpb24ubmFtZVxyXG4gICAgY2FzZSAndGFnJzpcclxuICAgICAgcmV0dXJuIGNvbmZsaWN0LmxvY2FsVmVyc2lvbi5uYW1lXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gJ+acquefpeWGsueqgSdcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENvbmZsaWN0RGVzY3JpcHRpb24oY29uZmxpY3Q6IGFueSk6IHN0cmluZyB7XHJcbiAgc3dpdGNoIChjb25mbGljdC50eXBlKSB7XHJcbiAgICBjYXNlICdjYXJkX2NvbnRlbnQnOlxyXG4gICAgICByZXR1cm4gJ+WNoeeJh+WGheWuueWcqOWkmuiuvuWkh+S4iuiiq+WQjOaXtue8lui+kSdcclxuICAgIGNhc2UgJ2ZvbGRlcl9uYW1lJzpcclxuICAgICAgcmV0dXJuICfmlofku7blpLnlkI3np7DkuI7ov5znqIvniYjmnKzkuI3kuIDoh7QnXHJcbiAgICBjYXNlICd0YWdfcmVuYW1lJzpcclxuICAgICAgcmV0dXJuICfmoIfnrb7ph43lkb3lkI3lhrLnqoEnXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gJ+aVsOaNrueJiOacrOS4jeS4gOiHtCdcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdFRpbWUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XHJcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxyXG4gIGNvbnN0IGRpZmYgPSBub3cuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lKClcclxuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihkaWZmIC8gNjAwMDApXHJcbiAgXHJcbiAgaWYgKG1pbnV0ZXMgPCAxKSByZXR1cm4gJ+WImuWImidcclxuICBpZiAobWludXRlcyA8IDYwKSByZXR1cm4gYCR7bWludXRlc33liIbpkp/liY1gXHJcbiAgaWYgKG1pbnV0ZXMgPCAxNDQwKSByZXR1cm4gYCR7TWF0aC5mbG9vcihtaW51dGVzIC8gNjApfeWwj+aXtuWJjWBcclxuICByZXR1cm4gYCR7TWF0aC5mbG9vcihtaW51dGVzIC8gMTQ0MCl95aSp5YmNYFxyXG59Il0sInZlcnNpb24iOjN9