b9d10a89166611db9becc8430aa8d3e2
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// 模拟数据库
jest.mock('@/services/database', () => ({
    db: {
        cards: {
            get: jest.fn(),
            add: jest.fn(),
            update: jest.fn(),
            delete: jest.fn(),
            where: jest.fn().mockReturnThis(),
            equals: jest.fn().mockReturnThis(),
            toArray: jest.fn(),
        },
        folders: {
            get: jest.fn(),
            add: jest.fn(),
            update: jest.fn(),
            delete: jest.fn(),
        },
        tags: {
            get: jest.fn(),
            add: jest.fn(),
            update: jest.fn(),
            delete: jest.fn(),
        },
        syncHistory: {
            add: jest.fn(),
            where: jest.fn().mockReturnThis(),
            equals: jest.fn().mockReturnThis(),
            sort: jest.fn().mockReturnThis(),
            toArray: jest.fn(),
        }
    }
}));
// 模拟 Supabase
jest.mock('@/services/supabase', () => ({
    supabase: {
        from: jest.fn().mockReturnThis(),
        select: jest.fn().mockReturnThis(),
        eq: jest.fn().mockReturnThis(),
        gte: jest.fn().mockReturnThis(),
        order: jest.fn().mockReturnThis(),
        limit: jest.fn().mockReturnThis(),
    }
}));
const sync_strategy_1 = require("@/services/sync-strategy");
const database_1 = require("@/services/database");
describe('SyncStrategyService', () => {
    let service;
    let mockDb;
    let mockSupabase;
    beforeEach(() => {
        jest.clearAllMocks();
        mockDb = database_1.db;
        mockSupabase = require('@/services/supabase').supabase;
        service = new sync_strategy_1.SyncStrategyService();
    });
    describe('初始化', () => {
        it('应该正确初始化服务', async () => {
            await service.initialize();
            expect(service).toBeDefined();
            // 验证冲突解决器已设置
            const hasConflictResolvers = service.conflictResolvers.size > 0;
            expect(hasConflictResolvers).toBe(true);
        });
    });
    describe('增量同步', () => {
        it('应该执行增量同步', async () => {
            const userId = 'user-123';
            const lastSyncTime = new Date(Date.now() - 86400000); // 1天前
            // 模拟云端数据
            mockSupabase.from.mockReturnThis();
            mockSupabase.select.mockReturnThis();
            mockSupabase.eq.mockReturnThis();
            mockSupabase.gte.mockReturnThis();
            mockSupabase.order.mockReturnThis();
            mockSupabase.limit.mockReturnThis();
            // 模拟卡片数据
            const mockCards = [
                {
                    id: 'card-1',
                    user_id: userId,
                    front_content: 'Front 1',
                    back_content: 'Back 1',
                    style: 'basic',
                    folder_id: null,
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString(),
                    sync_version: 2
                }
            ];
            mockSupabase.mockResolvedValueOnce({ data: mockCards, error: null });
            mockSupabase.mockResolvedValueOnce({ data: [], error: null }); // folders
            mockSupabase.mockResolvedValueOnce({ data: [], error: null }); // tags
            // 模拟本地数据
            mockDb.cards.get.mockResolvedValueOnce(null);
            mockDb.cards.add.mockResolvedValue('card-1');
            const progress = await service.performIncrementalSync(userId, lastSyncTime);
            expect(progress).toBeDefined();
            expect(progress.downloaded).toBe(1);
            expect(progress.uploaded).toBe(0);
            expect(progress.conflicts).toBe(0);
            expect(progress.isSuccessful).toBe(true);
        });
        it('应该处理增量同步中的冲突', async () => {
            const userId = 'user-123';
            const lastSyncTime = new Date(Date.now() - 86400000);
            // 模拟云端数据
            mockSupabase.from.mockReturnThis();
            mockSupabase.select.mockReturnThis();
            mockSupabase.eq.mockReturnThis();
            mockSupabase.gte.mockReturnThis();
            const cloudCard = {
                id: 'card-1',
                user_id: userId,
                front_content: 'Cloud Front',
                back_content: 'Cloud Back',
                style: 'basic',
                folder_id: null,
                created_at: new Date(Date.now() - 3600000).toISOString(),
                updated_at: new Date().toISOString(),
                sync_version: 2
            };
            mockSupabase.mockResolvedValueOnce({ data: [cloudCard], error: null });
            mockSupabase.mockResolvedValueOnce({ data: [], error: null });
            mockSupabase.mockResolvedValueOnce({ data: [], error: null });
            // 模拟本地数据（已修改）
            const localCard = {
                id: 'card-1',
                frontContent: 'Local Front',
                backContent: 'Local Back',
                style: 'basic',
                folderId: null,
                isFlipped: false,
                createdAt: new Date(Date.now() - 7200000),
                updatedAt: new Date(Date.now() - 1800000), // 本地更新时间在云端之前
                syncVersion: 1,
                pendingSync: true
            };
            mockDb.cards.get.mockResolvedValueOnce(localCard);
            const progress = await service.performIncrementalSync(userId, lastSyncTime);
            expect(progress.conflicts).toBe(1);
            expect(progress.isSuccessful).toBe(true);
        });
        it('应该处理网络错误', async () => {
            const userId = 'user-123';
            const lastSyncTime = new Date(Date.now() - 86400000);
            mockSupabase.from.mockReturnThis();
            mockSupabase.select.mockReturnThis();
            mockSupabase.eq.mockReturnThis();
            mockSupabase.gte.mockReturnThis();
            mockSupabase.mockRejectedValueOnce(new Error('Network error'));
            const progress = await service.performIncrementalSync(userId, lastSyncTime);
            expect(progress.isSuccessful).toBe(false);
            expect(progress.error).toBe('Network error');
        });
    });
    describe('冲突检测', () => {
        it('应该检测到数据冲突', async () => {
            const localData = {
                id: 'card-1',
                frontContent: 'Local Content',
                updatedAt: new Date(Date.now() - 3600000),
                syncVersion: 1
            };
            const cloudData = {
                id: 'card-1',
                front_content: 'Cloud Content',
                updated_at: new Date(Date.now() - 1800000),
                sync_version: 2
            };
            const conflict = await service.detectConflict('cards', localData, cloudData);
            expect(conflict).toBeDefined();
            expect(conflict?.id).toBeDefined();
            expect(conflict?.table).toBe('cards');
            expect(conflict?.localData).toBe(localData);
            expect(conflict?.cloudData).toBe(cloudData);
            expect(conflict?.conflictType).toBe('concurrent_modification');
        });
        it('应该检测到删除冲突', async () => {
            const localData = {
                id: 'card-1',
                frontContent: 'Local Content',
                isDeleted: false,
                updatedAt: new Date(Date.now() - 3600000),
                syncVersion: 1
            };
            const cloudData = {
                id: 'card-1',
                front_content: 'Cloud Content',
                is_deleted: true,
                updated_at: new Date(Date.now() - 1800000),
                sync_version: 2
            };
            const conflict = await service.detectConflict('cards', localData, cloudData);
            expect(conflict).toBeDefined();
            expect(conflict?.conflictType).toBe('delete_conflict');
        });
        it('应该识别无冲突的情况', async () => {
            const localData = {
                id: 'card-1',
                frontContent: 'Same Content',
                updatedAt: new Date(Date.now() - 3600000),
                syncVersion: 1
            };
            const cloudData = {
                id: 'card-1',
                front_content: 'Same Content',
                updated_at: new Date(Date.now() - 1800000),
                sync_version: 2
            };
            const conflict = await service.detectConflict('cards', localData, cloudData);
            expect(conflict).toBeNull();
        });
    });
    describe('冲突解决', () => {
        it('应该使用"本地优先"策略解决冲突', async () => {
            const conflict = {
                id: 'conflict-1',
                table: 'cards',
                localData: {
                    id: 'card-1',
                    frontContent: 'Local Content',
                    updatedAt: new Date()
                },
                cloudData: {
                    id: 'card-1',
                    front_content: 'Cloud Content',
                    updated_at: new Date()
                },
                conflictType: 'concurrent_modification',
                detectedAt: new Date()
            };
            const resolved = await service.resolveConflict(conflict, 'local');
            expect(resolved).toBeDefined();
            expect(resolved.frontContent).toBe('Local Content');
        });
        it('应该使用"云端优先"策略解决冲突', async () => {
            const conflict = {
                id: 'conflict-1',
                table: 'cards',
                localData: {
                    id: 'card-1',
                    frontContent: 'Local Content',
                    updatedAt: new Date()
                },
                cloudData: {
                    id: 'card-1',
                    front_content: 'Cloud Content',
                    updated_at: new Date()
                },
                conflictType: 'concurrent_modification',
                detectedAt: new Date()
            };
            const resolved = await service.resolveConflict(conflict, 'cloud');
            expect(resolved).toBeDefined();
            expect(resolved.frontContent).toBe('Cloud Content');
        });
        it('应该使用"合并"策略解决冲突', async () => {
            const conflict = {
                id: 'conflict-1',
                table: 'cards',
                localData: {
                    id: 'card-1',
                    frontContent: 'Local Front',
                    backContent: 'Local Back',
                    style: 'basic',
                    updatedAt: new Date()
                },
                cloudData: {
                    id: 'card-1',
                    front_content: 'Cloud Front',
                    back_content: 'Cloud Back',
                    style: 'advanced',
                    updated_at: new Date()
                },
                conflictType: 'concurrent_modification',
                detectedAt: new Date()
            };
            const resolved = await service.resolveConflict(conflict, 'merge');
            expect(resolved).toBeDefined();
            // 合并策略应该包含两个版本的数据特征
            expect(resolved.frontContent).toBeDefined();
            expect(resolved.backContent).toBeDefined();
        });
        it('应该记录冲突解决历史', async () => {
            const conflict = {
                id: 'conflict-1',
                table: 'cards',
                localData: {
                    id: 'card-1',
                    frontContent: 'Local Content',
                    updatedAt: new Date()
                },
                cloudData: {
                    id: 'card-1',
                    front_content: 'Cloud Content',
                    updated_at: new Date()
                },
                conflictType: 'concurrent_modification',
                detectedAt: new Date()
            };
            mockDb.syncHistory.add.mockResolvedValue('history-id');
            await service.resolveConflict(conflict, 'local');
            expect(mockDb.syncHistory.add).toHaveBeenCalledWith(expect.objectContaining({
                operation_type: 'conflict_resolution',
                table_name: 'cards',
                record_id: 'card-1',
                status: 'success'
            }));
        });
    });
    describe('三向合并', () => {
        it('应该执行三向合并', async () => {
            const baseData = {
                id: 'card-1',
                frontContent: 'Base Content',
                backContent: 'Base Back',
                style: 'basic',
                syncVersion: 1
            };
            const localData = {
                id: 'card-1',
                frontContent: 'Local Front',
                backContent: 'Base Back', // 未修改
                style: 'advanced', // 修改
                syncVersion: 2
            };
            const cloudData = {
                id: 'card-1',
                front_content: 'Base Content', // 未修改
                back_content: 'Cloud Back', // 修改
                style: 'basic', // 未修改
                sync_version: 2
            };
            const merged = await service.performThreeWayMerge('cards', baseData, localData, cloudData);
            expect(merged).toBeDefined();
            expect(merged.frontContent).toBe('Local Front'); // 来自本地
            expect(merged.backContent).toBe('Cloud Back'); // 来自云端
            expect(merged.style).toBe('advanced'); // 来自本地
            expect(merged.syncVersion).toBe(3); // 版本递增
        });
        it('应该处理三向合并中的冲突', async () => {
            const baseData = {
                id: 'card-1',
                frontContent: 'Base Content',
                syncVersion: 1
            };
            const localData = {
                id: 'card-1',
                frontContent: 'Local Content',
                syncVersion: 2
            };
            const cloudData = {
                id: 'card-1',
                front_content: 'Cloud Content',
                sync_version: 2
            };
            const merged = await service.performThreeWayMerge('cards', baseData, localData, cloudData);
            // 当同一字段被双方修改时，应该标记为需要手动解决
            expect(merged).toBeDefined();
            expect(merged.syncVersion).toBe(2); // 版本不递增，因为有冲突
        });
    });
    describe('数据验证', () => {
        it('应该验证本地数据完整性', async () => {
            const validData = {
                id: 'card-1',
                frontContent: 'Front',
                backContent: 'Back',
                createdAt: new Date(),
                updatedAt: new Date()
            };
            const isValid = await service.validateLocalData('cards', validData);
            expect(isValid).toBe(true);
        });
        it('应该检测本地数据损坏', async () => {
            const invalidData = {
                id: 'card-1',
                frontContent: '', // 空内容
                backContent: 'Back',
                createdAt: new Date(),
                updatedAt: new Date()
            };
            const isValid = await service.validateLocalData('cards', invalidData);
            expect(isValid).toBe(false);
        });
        it('应该验证云端数据完整性', async () => {
            const validData = {
                id: 'card-1',
                front_content: 'Front',
                back_content: 'Back',
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            const isValid = await service.validateCloudData('cards', validData);
            expect(isValid).toBe(true);
        });
    });
    describe('同步历史', () => {
        it('应该记录同步操作', async () => {
            const syncRecord = {
                operation_type: 'incremental_sync',
                table_name: 'cards',
                record_id: 'card-1',
                status: 'success',
                details: { downloaded: 5, uploaded: 3 }
            };
            mockDb.syncHistory.add.mockResolvedValue('history-id');
            const recordId = await service.recordSyncOperation(syncRecord);
            expect(recordId).toBe('history-id');
            expect(mockDb.syncHistory.add).toHaveBeenCalledWith(expect.objectContaining({
                ...syncRecord,
                timestamp: expect.any(Date)
            }));
        });
        it('应该获取同步历史', async () => {
            const mockHistory = [
                {
                    id: 'history-1',
                    operation_type: 'incremental_sync',
                    table_name: 'cards',
                    status: 'success',
                    timestamp: new Date()
                },
                {
                    id: 'history-2',
                    operation_type: 'conflict_resolution',
                    table_name: 'folders',
                    status: 'success',
                    timestamp: new Date()
                }
            ];
            mockDb.syncHistory.toArray.mockResolvedValue(mockHistory);
            const history = await service.getSyncHistory();
            expect(history).toHaveLength(2);
            expect(history[0].operation_type).toBe('incremental_sync');
        });
        it('应该能够获取同步统计', async () => {
            const mockHistory = [
                {
                    operation_type: 'incremental_sync',
                    status: 'success',
                    timestamp: new Date(),
                    details: { downloaded: 10, uploaded: 5 }
                },
                {
                    operation_type: 'incremental_sync',
                    status: 'failed',
                    timestamp: new Date(),
                    details: { downloaded: 0, uploaded: 0 }
                }
            ];
            mockDb.syncHistory.toArray.mockResolvedValue(mockHistory);
            const stats = await service.getSyncStats();
            expect(stats.totalSyncs).toBe(2);
            expect(stats.successfulSyncs).toBe(1);
            expect(stats.failedSyncs).toBe(1);
            expect(stats.totalDownloaded).toBe(10);
            expect(stats.totalUploaded).toBe(5);
        });
    });
    describe('配置管理', () => {
        it('应该能够更新同步策略配置', () => {
            const newConfig = {
                defaultResolutionStrategy: 'cloud',
                enableAutoMerge: true,
                enableConflictDetection: true,
                enableDataValidation: true,
                syncBatchSize: 50,
                maxRetries: 5,
                retryDelay: 2000
            };
            service.updateConfig(newConfig);
            // 验证配置已更新
            expect(service.config).toMatchObject(newConfig);
        });
        it('应该验证配置参数', () => {
            const invalidConfig = {
                syncBatchSize: -1,
                maxRetries: -1
            };
            expect(() => service.updateConfig(invalidConfig)).toThrow();
        });
    });
    describe('事件处理', () => {
        it('应该能够添加和移除事件监听器', () => {
            const mockListener = jest.fn();
            const unsubscribe = service.onSyncProgress(mockListener);
            expect(typeof unsubscribe).toBe('function');
            // 触发事件
            service['notifyProgress']({
                total: 10,
                processed: 5,
                downloaded: 3,
                uploaded: 2,
                conflicts: 0,
                isComplete: false
            });
            expect(mockListener).toHaveBeenCalled();
            // 移除监听器
            unsubscribe();
            service['notifyProgress']({
                total: 10,
                processed: 6,
                downloaded: 3,
                uploaded: 3,
                conflicts: 0,
                isComplete: false
            });
            expect(mockListener).toHaveBeenCalledTimes(1);
        });
    });
    describe('错误处理', () => {
        it('应该处理同步过程中的异常', async () => {
            const userId = 'user-123';
            const lastSyncTime = new Date(Date.now() - 86400000);
            // 模拟数据库错误
            mockDb.cards.get.mockRejectedValue(new Error('Database error'));
            const progress = await service.performIncrementalSync(userId, lastSyncTime);
            expect(progress.isSuccessful).toBe(false);
            expect(progress.error).toBeDefined();
        });
        it('应该处理冲突解决中的异常', async () => {
            const conflict = {
                id: 'conflict-1',
                table: 'cards',
                localData: { id: 'card-1', frontContent: 'Local' },
                cloudData: { id: 'card-1', front_content: 'Cloud' },
                conflictType: 'concurrent_modification',
                detectedAt: new Date()
            };
            // 模拟解决器失败
            jest.spyOn(service, 'applyResolutionStrategy').mockRejectedValue(new Error('Resolution failed'));
            await expect(service.resolveConflict(conflict, 'local')).rejects.toThrow('Resolution failed');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHRlc3RzXFx1bml0XFxzZXJ2aWNlc1xcc3luYy1zdHJhdGVneS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBR0EsUUFBUTtBQUNSLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN0QyxFQUFFLEVBQUU7UUFDRixLQUFLLEVBQUU7WUFDTCxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNkLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ2QsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDakIsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDakIsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7WUFDakMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7WUFDbEMsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7U0FDbkI7UUFDRCxPQUFPLEVBQUU7WUFDUCxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNkLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ2QsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDakIsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7U0FDbEI7UUFDRCxJQUFJLEVBQUU7WUFDSixHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNkLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ2QsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDakIsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7U0FDbEI7UUFDRCxXQUFXLEVBQUU7WUFDWCxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNkLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQ2pDLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQ2xDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQ2hDLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1NBQ25CO0tBQ0Y7Q0FDRixDQUFDLENBQUMsQ0FBQTtBQUVILGNBQWM7QUFDZCxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDdEMsUUFBUSxFQUFFO1FBQ1IsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7UUFDaEMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7UUFDbEMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7UUFDOUIsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7UUFDL0IsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7UUFDakMsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUU7S0FDbEM7Q0FDRixDQUFDLENBQUMsQ0FBQTtBQS9DSCw0REFBNkg7QUFDN0gsa0RBQXdDO0FBZ0R4QyxRQUFRLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFO0lBQ25DLElBQUksT0FBNEIsQ0FBQTtJQUNoQyxJQUFJLE1BQVcsQ0FBQTtJQUNmLElBQUksWUFBaUIsQ0FBQTtJQUVyQixVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFBO1FBQ3BCLE1BQU0sR0FBRyxhQUFFLENBQUE7UUFDWCxZQUFZLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUMsUUFBUSxDQUFBO1FBQ3RELE9BQU8sR0FBRyxJQUFJLG1DQUFtQixFQUFFLENBQUE7SUFDckMsQ0FBQyxDQUFDLENBQUE7SUFFRixRQUFRLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRTtRQUNuQixFQUFFLENBQUMsV0FBVyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3pCLE1BQU0sT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFBO1lBQzFCLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUU3QixhQUFhO1lBQ2IsTUFBTSxvQkFBb0IsR0FBSSxPQUFlLENBQUMsaUJBQWlCLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQTtZQUN4RSxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDekMsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO1FBQ3BCLEVBQUUsQ0FBQyxVQUFVLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDeEIsTUFBTSxNQUFNLEdBQUcsVUFBVSxDQUFBO1lBQ3pCLE1BQU0sWUFBWSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxRQUFRLENBQUMsQ0FBQSxDQUFDLE1BQU07WUFFM0QsU0FBUztZQUNULFlBQVksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUE7WUFDbEMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsQ0FBQTtZQUNwQyxZQUFZLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRSxDQUFBO1lBQ2hDLFlBQVksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUE7WUFDakMsWUFBWSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQTtZQUNuQyxZQUFZLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFBO1lBRW5DLFNBQVM7WUFDVCxNQUFNLFNBQVMsR0FBRztnQkFDaEI7b0JBQ0UsRUFBRSxFQUFFLFFBQVE7b0JBQ1osT0FBTyxFQUFFLE1BQU07b0JBQ2YsYUFBYSxFQUFFLFNBQVM7b0JBQ3hCLFlBQVksRUFBRSxRQUFRO29CQUN0QixLQUFLLEVBQUUsT0FBTztvQkFDZCxTQUFTLEVBQUUsSUFBSTtvQkFDZixVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUU7b0JBQ3BDLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRTtvQkFDcEMsWUFBWSxFQUFFLENBQUM7aUJBQ2hCO2FBQ0YsQ0FBQTtZQUVELFlBQVksQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUE7WUFDcEUsWUFBWSxDQUFDLHFCQUFxQixDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQSxDQUFDLFVBQVU7WUFDeEUsWUFBWSxDQUFDLHFCQUFxQixDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQSxDQUFDLE9BQU87WUFFckUsU0FBUztZQUNULE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxDQUFBO1lBQzVDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBRTVDLE1BQU0sUUFBUSxHQUFHLE1BQU0sT0FBTyxDQUFDLHNCQUFzQixDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FBQTtZQUUzRSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDOUIsTUFBTSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDbkMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDakMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDbEMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDMUMsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMsY0FBYyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzVCLE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQTtZQUN6QixNQUFNLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsUUFBUSxDQUFDLENBQUE7WUFFcEQsU0FBUztZQUNULFlBQVksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUE7WUFDbEMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsQ0FBQTtZQUNwQyxZQUFZLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRSxDQUFBO1lBQ2hDLFlBQVksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUE7WUFFakMsTUFBTSxTQUFTLEdBQUc7Z0JBQ2hCLEVBQUUsRUFBRSxRQUFRO2dCQUNaLE9BQU8sRUFBRSxNQUFNO2dCQUNmLGFBQWEsRUFBRSxhQUFhO2dCQUM1QixZQUFZLEVBQUUsWUFBWTtnQkFDMUIsS0FBSyxFQUFFLE9BQU87Z0JBQ2QsU0FBUyxFQUFFLElBQUk7Z0JBQ2YsVUFBVSxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUU7Z0JBQ3hELFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRTtnQkFDcEMsWUFBWSxFQUFFLENBQUM7YUFDaEIsQ0FBQTtZQUVELFlBQVksQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFBO1lBQ3RFLFlBQVksQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUE7WUFDN0QsWUFBWSxDQUFDLHFCQUFxQixDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtZQUU3RCxjQUFjO1lBQ2QsTUFBTSxTQUFTLEdBQUc7Z0JBQ2hCLEVBQUUsRUFBRSxRQUFRO2dCQUNaLFlBQVksRUFBRSxhQUFhO2dCQUMzQixXQUFXLEVBQUUsWUFBWTtnQkFDekIsS0FBSyxFQUFFLE9BQU87Z0JBQ2QsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsU0FBUyxFQUFFLEtBQUs7Z0JBQ2hCLFNBQVMsRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsT0FBTyxDQUFDO2dCQUN6QyxTQUFTLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLGNBQWM7Z0JBQ3pELFdBQVcsRUFBRSxDQUFDO2dCQUNkLFdBQVcsRUFBRSxJQUFJO2FBQ2xCLENBQUE7WUFFRCxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUVqRCxNQUFNLFFBQVEsR0FBRyxNQUFNLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDLENBQUE7WUFFM0UsTUFBTSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDbEMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDMUMsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMsVUFBVSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3hCLE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQTtZQUN6QixNQUFNLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsUUFBUSxDQUFDLENBQUE7WUFFcEQsWUFBWSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQTtZQUNsQyxZQUFZLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxDQUFBO1lBQ3BDLFlBQVksQ0FBQyxFQUFFLENBQUMsY0FBYyxFQUFFLENBQUE7WUFDaEMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQTtZQUNqQyxZQUFZLENBQUMscUJBQXFCLENBQUMsSUFBSSxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQTtZQUU5RCxNQUFNLFFBQVEsR0FBRyxNQUFNLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDLENBQUE7WUFFM0UsTUFBTSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUE7WUFDekMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUE7UUFDOUMsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO1FBQ3BCLEVBQUUsQ0FBQyxXQUFXLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDekIsTUFBTSxTQUFTLEdBQUc7Z0JBQ2hCLEVBQUUsRUFBRSxRQUFRO2dCQUNaLFlBQVksRUFBRSxlQUFlO2dCQUM3QixTQUFTLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLE9BQU8sQ0FBQztnQkFDekMsV0FBVyxFQUFFLENBQUM7YUFDZixDQUFBO1lBRUQsTUFBTSxTQUFTLEdBQUc7Z0JBQ2hCLEVBQUUsRUFBRSxRQUFRO2dCQUNaLGFBQWEsRUFBRSxlQUFlO2dCQUM5QixVQUFVLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLE9BQU8sQ0FBQztnQkFDMUMsWUFBWSxFQUFFLENBQUM7YUFDaEIsQ0FBQTtZQUVELE1BQU0sUUFBUSxHQUFHLE1BQU0sT0FBTyxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFBO1lBRTVFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUM5QixNQUFNLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQ2xDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQ3JDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBQzNDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBQzNDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUE7UUFDaEUsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMsV0FBVyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3pCLE1BQU0sU0FBUyxHQUFHO2dCQUNoQixFQUFFLEVBQUUsUUFBUTtnQkFDWixZQUFZLEVBQUUsZUFBZTtnQkFDN0IsU0FBUyxFQUFFLEtBQUs7Z0JBQ2hCLFNBQVMsRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsT0FBTyxDQUFDO2dCQUN6QyxXQUFXLEVBQUUsQ0FBQzthQUNmLENBQUE7WUFFRCxNQUFNLFNBQVMsR0FBRztnQkFDaEIsRUFBRSxFQUFFLFFBQVE7Z0JBQ1osYUFBYSxFQUFFLGVBQWU7Z0JBQzlCLFVBQVUsRUFBRSxJQUFJO2dCQUNoQixVQUFVLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLE9BQU8sQ0FBQztnQkFDMUMsWUFBWSxFQUFFLENBQUM7YUFDaEIsQ0FBQTtZQUVELE1BQU0sUUFBUSxHQUFHLE1BQU0sT0FBTyxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFBO1lBRTVFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUM5QixNQUFNLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO1FBQ3hELENBQUMsQ0FBQyxDQUFBO1FBRUYsRUFBRSxDQUFDLFlBQVksRUFBRSxLQUFLLElBQUksRUFBRTtZQUMxQixNQUFNLFNBQVMsR0FBRztnQkFDaEIsRUFBRSxFQUFFLFFBQVE7Z0JBQ1osWUFBWSxFQUFFLGNBQWM7Z0JBQzVCLFNBQVMsRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsT0FBTyxDQUFDO2dCQUN6QyxXQUFXLEVBQUUsQ0FBQzthQUNmLENBQUE7WUFFRCxNQUFNLFNBQVMsR0FBRztnQkFDaEIsRUFBRSxFQUFFLFFBQVE7Z0JBQ1osYUFBYSxFQUFFLGNBQWM7Z0JBQzdCLFVBQVUsRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsT0FBTyxDQUFDO2dCQUMxQyxZQUFZLEVBQUUsQ0FBQzthQUNoQixDQUFBO1lBRUQsTUFBTSxRQUFRLEdBQUcsTUFBTSxPQUFPLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUE7WUFFNUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFBO1FBQzdCLENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFDLENBQUE7SUFFRixRQUFRLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtRQUNwQixFQUFFLENBQUMsa0JBQWtCLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDaEMsTUFBTSxRQUFRLEdBQWlCO2dCQUM3QixFQUFFLEVBQUUsWUFBWTtnQkFDaEIsS0FBSyxFQUFFLE9BQU87Z0JBQ2QsU0FBUyxFQUFFO29CQUNULEVBQUUsRUFBRSxRQUFRO29CQUNaLFlBQVksRUFBRSxlQUFlO29CQUM3QixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7aUJBQ3RCO2dCQUNELFNBQVMsRUFBRTtvQkFDVCxFQUFFLEVBQUUsUUFBUTtvQkFDWixhQUFhLEVBQUUsZUFBZTtvQkFDOUIsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2lCQUN2QjtnQkFDRCxZQUFZLEVBQUUseUJBQXlCO2dCQUN2QyxVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUU7YUFDdkIsQ0FBQTtZQUVELE1BQU0sUUFBUSxHQUFHLE1BQU0sT0FBTyxDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUE7WUFFakUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQzlCLE1BQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFBO1FBQ3JELENBQUMsQ0FBQyxDQUFBO1FBRUYsRUFBRSxDQUFDLGtCQUFrQixFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2hDLE1BQU0sUUFBUSxHQUFpQjtnQkFDN0IsRUFBRSxFQUFFLFlBQVk7Z0JBQ2hCLEtBQUssRUFBRSxPQUFPO2dCQUNkLFNBQVMsRUFBRTtvQkFDVCxFQUFFLEVBQUUsUUFBUTtvQkFDWixZQUFZLEVBQUUsZUFBZTtvQkFDN0IsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFO2lCQUN0QjtnQkFDRCxTQUFTLEVBQUU7b0JBQ1QsRUFBRSxFQUFFLFFBQVE7b0JBQ1osYUFBYSxFQUFFLGVBQWU7b0JBQzlCLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtpQkFDdkI7Z0JBQ0QsWUFBWSxFQUFFLHlCQUF5QjtnQkFDdkMsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2FBQ3ZCLENBQUE7WUFFRCxNQUFNLFFBQVEsR0FBRyxNQUFNLE9BQU8sQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFBO1lBRWpFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtZQUM5QixNQUFNLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQTtRQUNyRCxDQUFDLENBQUMsQ0FBQTtRQUVGLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLElBQUksRUFBRTtZQUM5QixNQUFNLFFBQVEsR0FBaUI7Z0JBQzdCLEVBQUUsRUFBRSxZQUFZO2dCQUNoQixLQUFLLEVBQUUsT0FBTztnQkFDZCxTQUFTLEVBQUU7b0JBQ1QsRUFBRSxFQUFFLFFBQVE7b0JBQ1osWUFBWSxFQUFFLGFBQWE7b0JBQzNCLFdBQVcsRUFBRSxZQUFZO29CQUN6QixLQUFLLEVBQUUsT0FBTztvQkFDZCxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7aUJBQ3RCO2dCQUNELFNBQVMsRUFBRTtvQkFDVCxFQUFFLEVBQUUsUUFBUTtvQkFDWixhQUFhLEVBQUUsYUFBYTtvQkFDNUIsWUFBWSxFQUFFLFlBQVk7b0JBQzFCLEtBQUssRUFBRSxVQUFVO29CQUNqQixVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUU7aUJBQ3ZCO2dCQUNELFlBQVksRUFBRSx5QkFBeUI7Z0JBQ3ZDLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTthQUN2QixDQUFBO1lBRUQsTUFBTSxRQUFRLEdBQUcsTUFBTSxPQUFPLENBQUMsZUFBZSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQTtZQUVqRSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDOUIsb0JBQW9CO1lBQ3BCLE1BQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDM0MsTUFBTSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtRQUM1QyxDQUFDLENBQUMsQ0FBQTtRQUVGLEVBQUUsQ0FBQyxZQUFZLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDMUIsTUFBTSxRQUFRLEdBQWlCO2dCQUM3QixFQUFFLEVBQUUsWUFBWTtnQkFDaEIsS0FBSyxFQUFFLE9BQU87Z0JBQ2QsU0FBUyxFQUFFO29CQUNULEVBQUUsRUFBRSxRQUFRO29CQUNaLFlBQVksRUFBRSxlQUFlO29CQUM3QixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7aUJBQ3RCO2dCQUNELFNBQVMsRUFBRTtvQkFDVCxFQUFFLEVBQUUsUUFBUTtvQkFDWixhQUFhLEVBQUUsZUFBZTtvQkFDOUIsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2lCQUN2QjtnQkFDRCxZQUFZLEVBQUUseUJBQXlCO2dCQUN2QyxVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUU7YUFDdkIsQ0FBQTtZQUVELE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLFlBQVksQ0FBQyxDQUFBO1lBRXRELE1BQU0sT0FBTyxDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUE7WUFFaEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsb0JBQW9CLENBQ2pELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztnQkFDdEIsY0FBYyxFQUFFLHFCQUFxQjtnQkFDckMsVUFBVSxFQUFFLE9BQU87Z0JBQ25CLFNBQVMsRUFBRSxRQUFRO2dCQUNuQixNQUFNLEVBQUUsU0FBUzthQUNsQixDQUFDLENBQ0gsQ0FBQTtRQUNILENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFDLENBQUE7SUFFRixRQUFRLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtRQUNwQixFQUFFLENBQUMsVUFBVSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3hCLE1BQU0sUUFBUSxHQUFHO2dCQUNmLEVBQUUsRUFBRSxRQUFRO2dCQUNaLFlBQVksRUFBRSxjQUFjO2dCQUM1QixXQUFXLEVBQUUsV0FBVztnQkFDeEIsS0FBSyxFQUFFLE9BQU87Z0JBQ2QsV0FBVyxFQUFFLENBQUM7YUFDZixDQUFBO1lBRUQsTUFBTSxTQUFTLEdBQUc7Z0JBQ2hCLEVBQUUsRUFBRSxRQUFRO2dCQUNaLFlBQVksRUFBRSxhQUFhO2dCQUMzQixXQUFXLEVBQUUsV0FBVyxFQUFFLE1BQU07Z0JBQ2hDLEtBQUssRUFBRSxVQUFVLEVBQUUsS0FBSztnQkFDeEIsV0FBVyxFQUFFLENBQUM7YUFDZixDQUFBO1lBRUQsTUFBTSxTQUFTLEdBQUc7Z0JBQ2hCLEVBQUUsRUFBRSxRQUFRO2dCQUNaLGFBQWEsRUFBRSxjQUFjLEVBQUUsTUFBTTtnQkFDckMsWUFBWSxFQUFFLFlBQVksRUFBRSxLQUFLO2dCQUNqQyxLQUFLLEVBQUUsT0FBTyxFQUFFLE1BQU07Z0JBQ3RCLFlBQVksRUFBRSxDQUFDO2FBQ2hCLENBQUE7WUFFRCxNQUFNLE1BQU0sR0FBRyxNQUFNLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQTtZQUUxRixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDNUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUEsQ0FBQyxPQUFPO1lBQ3ZELE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFBLENBQUMsT0FBTztZQUNyRCxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQSxDQUFDLE9BQU87WUFDN0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQyxPQUFPO1FBQzVDLENBQUMsQ0FBQyxDQUFBO1FBRUYsRUFBRSxDQUFDLGNBQWMsRUFBRSxLQUFLLElBQUksRUFBRTtZQUM1QixNQUFNLFFBQVEsR0FBRztnQkFDZixFQUFFLEVBQUUsUUFBUTtnQkFDWixZQUFZLEVBQUUsY0FBYztnQkFDNUIsV0FBVyxFQUFFLENBQUM7YUFDZixDQUFBO1lBRUQsTUFBTSxTQUFTLEdBQUc7Z0JBQ2hCLEVBQUUsRUFBRSxRQUFRO2dCQUNaLFlBQVksRUFBRSxlQUFlO2dCQUM3QixXQUFXLEVBQUUsQ0FBQzthQUNmLENBQUE7WUFFRCxNQUFNLFNBQVMsR0FBRztnQkFDaEIsRUFBRSxFQUFFLFFBQVE7Z0JBQ1osYUFBYSxFQUFFLGVBQWU7Z0JBQzlCLFlBQVksRUFBRSxDQUFDO2FBQ2hCLENBQUE7WUFFRCxNQUFNLE1BQU0sR0FBRyxNQUFNLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQTtZQUUxRiwwQkFBMEI7WUFDMUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQzVCLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUMsY0FBYztRQUNuRCxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7UUFDcEIsRUFBRSxDQUFDLGFBQWEsRUFBRSxLQUFLLElBQUksRUFBRTtZQUMzQixNQUFNLFNBQVMsR0FBRztnQkFDaEIsRUFBRSxFQUFFLFFBQVE7Z0JBQ1osWUFBWSxFQUFFLE9BQU87Z0JBQ3JCLFdBQVcsRUFBRSxNQUFNO2dCQUNuQixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3JCLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTthQUN0QixDQUFBO1lBRUQsTUFBTSxPQUFPLEdBQUcsTUFBTSxPQUFPLENBQUMsaUJBQWlCLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFBO1lBQ25FLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDNUIsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMsWUFBWSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzFCLE1BQU0sV0FBVyxHQUFHO2dCQUNsQixFQUFFLEVBQUUsUUFBUTtnQkFDWixZQUFZLEVBQUUsRUFBRSxFQUFFLE1BQU07Z0JBQ3hCLFdBQVcsRUFBRSxNQUFNO2dCQUNuQixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3JCLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTthQUN0QixDQUFBO1lBRUQsTUFBTSxPQUFPLEdBQUcsTUFBTSxPQUFPLENBQUMsaUJBQWlCLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFBO1lBQ3JFLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDN0IsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMsYUFBYSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzNCLE1BQU0sU0FBUyxHQUFHO2dCQUNoQixFQUFFLEVBQUUsUUFBUTtnQkFDWixhQUFhLEVBQUUsT0FBTztnQkFDdEIsWUFBWSxFQUFFLE1BQU07Z0JBQ3BCLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRTtnQkFDcEMsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFO2FBQ3JDLENBQUE7WUFFRCxNQUFNLE9BQU8sR0FBRyxNQUFNLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUE7WUFDbkUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUM1QixDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7UUFDcEIsRUFBRSxDQUFDLFVBQVUsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN4QixNQUFNLFVBQVUsR0FBRztnQkFDakIsY0FBYyxFQUFFLGtCQUFrQjtnQkFDbEMsVUFBVSxFQUFFLE9BQU87Z0JBQ25CLFNBQVMsRUFBRSxRQUFRO2dCQUNuQixNQUFNLEVBQUUsU0FBUztnQkFDakIsT0FBTyxFQUFFLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFO2FBQ3hDLENBQUE7WUFFRCxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsQ0FBQTtZQUV0RCxNQUFNLFFBQVEsR0FBRyxNQUFNLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxVQUFVLENBQUMsQ0FBQTtZQUU5RCxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFBO1lBQ25DLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLG9CQUFvQixDQUNqRCxNQUFNLENBQUMsZ0JBQWdCLENBQUM7Z0JBQ3RCLEdBQUcsVUFBVTtnQkFDYixTQUFTLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7YUFDNUIsQ0FBQyxDQUNILENBQUE7UUFDSCxDQUFDLENBQUMsQ0FBQTtRQUVGLEVBQUUsQ0FBQyxVQUFVLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDeEIsTUFBTSxXQUFXLEdBQUc7Z0JBQ2xCO29CQUNFLEVBQUUsRUFBRSxXQUFXO29CQUNmLGNBQWMsRUFBRSxrQkFBa0I7b0JBQ2xDLFVBQVUsRUFBRSxPQUFPO29CQUNuQixNQUFNLEVBQUUsU0FBUztvQkFDakIsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFO2lCQUN0QjtnQkFDRDtvQkFDRSxFQUFFLEVBQUUsV0FBVztvQkFDZixjQUFjLEVBQUUscUJBQXFCO29CQUNyQyxVQUFVLEVBQUUsU0FBUztvQkFDckIsTUFBTSxFQUFFLFNBQVM7b0JBQ2pCLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtpQkFDdEI7YUFDRixDQUFBO1lBRUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDLENBQUE7WUFFekQsTUFBTSxPQUFPLEdBQUcsTUFBTSxPQUFPLENBQUMsY0FBYyxFQUFFLENBQUE7WUFFOUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUMvQixNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO1FBQzVELENBQUMsQ0FBQyxDQUFBO1FBRUYsRUFBRSxDQUFDLFlBQVksRUFBRSxLQUFLLElBQUksRUFBRTtZQUMxQixNQUFNLFdBQVcsR0FBRztnQkFDbEI7b0JBQ0UsY0FBYyxFQUFFLGtCQUFrQjtvQkFDbEMsTUFBTSxFQUFFLFNBQVM7b0JBQ2pCLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtvQkFDckIsT0FBTyxFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFO2lCQUN6QztnQkFDRDtvQkFDRSxjQUFjLEVBQUUsa0JBQWtCO29CQUNsQyxNQUFNLEVBQUUsUUFBUTtvQkFDaEIsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFO29CQUNyQixPQUFPLEVBQUUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUU7aUJBQ3hDO2FBQ0YsQ0FBQTtZQUVELE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFBO1lBRXpELE1BQU0sS0FBSyxHQUFHLE1BQU0sT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFBO1lBRTFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ2hDLE1BQU0sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ3JDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ2pDLE1BQU0sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1lBQ3RDLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ3JDLENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFDLENBQUE7SUFFRixRQUFRLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtRQUNwQixFQUFFLENBQUMsY0FBYyxFQUFFLEdBQUcsRUFBRTtZQUN0QixNQUFNLFNBQVMsR0FBRztnQkFDaEIseUJBQXlCLEVBQUUsT0FBNkI7Z0JBQ3hELGVBQWUsRUFBRSxJQUFJO2dCQUNyQix1QkFBdUIsRUFBRSxJQUFJO2dCQUM3QixvQkFBb0IsRUFBRSxJQUFJO2dCQUMxQixhQUFhLEVBQUUsRUFBRTtnQkFDakIsVUFBVSxFQUFFLENBQUM7Z0JBQ2IsVUFBVSxFQUFFLElBQUk7YUFDakIsQ0FBQTtZQUVELE9BQU8sQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUE7WUFFL0IsVUFBVTtZQUNWLE1BQU0sQ0FBRSxPQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQzFELENBQUMsQ0FBQyxDQUFBO1FBRUYsRUFBRSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7WUFDbEIsTUFBTSxhQUFhLEdBQUc7Z0JBQ3BCLGFBQWEsRUFBRSxDQUFDLENBQUM7Z0JBQ2pCLFVBQVUsRUFBRSxDQUFDLENBQUM7YUFDZixDQUFBO1lBRUQsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsYUFBb0IsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEUsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO1FBQ3BCLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7WUFDeEIsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFBO1lBQzlCLE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUE7WUFFeEQsTUFBTSxDQUFDLE9BQU8sV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1lBRTNDLE9BQU87WUFDUCxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztnQkFDeEIsS0FBSyxFQUFFLEVBQUU7Z0JBQ1QsU0FBUyxFQUFFLENBQUM7Z0JBQ1osVUFBVSxFQUFFLENBQUM7Z0JBQ2IsUUFBUSxFQUFFLENBQUM7Z0JBQ1gsU0FBUyxFQUFFLENBQUM7Z0JBQ1osVUFBVSxFQUFFLEtBQUs7YUFDbEIsQ0FBQyxDQUFBO1lBRUYsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLGdCQUFnQixFQUFFLENBQUE7WUFFdkMsUUFBUTtZQUNSLFdBQVcsRUFBRSxDQUFBO1lBQ2IsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7Z0JBQ3hCLEtBQUssRUFBRSxFQUFFO2dCQUNULFNBQVMsRUFBRSxDQUFDO2dCQUNaLFVBQVUsRUFBRSxDQUFDO2dCQUNiLFFBQVEsRUFBRSxDQUFDO2dCQUNYLFNBQVMsRUFBRSxDQUFDO2dCQUNaLFVBQVUsRUFBRSxLQUFLO2FBQ2xCLENBQUMsQ0FBQTtZQUVGLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUMvQyxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7UUFDcEIsRUFBRSxDQUFDLGNBQWMsRUFBRSxLQUFLLElBQUksRUFBRTtZQUM1QixNQUFNLE1BQU0sR0FBRyxVQUFVLENBQUE7WUFDekIsTUFBTSxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLFFBQVEsQ0FBQyxDQUFBO1lBRXBELFVBQVU7WUFDVixNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUE7WUFFL0QsTUFBTSxRQUFRLEdBQUcsTUFBTSxPQUFPLENBQUMsc0JBQXNCLENBQUMsTUFBTSxFQUFFLFlBQVksQ0FBQyxDQUFBO1lBRTNFLE1BQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ3pDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7UUFDdEMsQ0FBQyxDQUFDLENBQUE7UUFFRixFQUFFLENBQUMsY0FBYyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzVCLE1BQU0sUUFBUSxHQUFpQjtnQkFDN0IsRUFBRSxFQUFFLFlBQVk7Z0JBQ2hCLEtBQUssRUFBRSxPQUFPO2dCQUNkLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRTtnQkFDbEQsU0FBUyxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFO2dCQUNuRCxZQUFZLEVBQUUseUJBQXlCO2dCQUN2QyxVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUU7YUFDdkIsQ0FBQTtZQUVELFVBQVU7WUFDVixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQWMsRUFBRSx5QkFBeUIsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQTtZQUV2RyxNQUFNLE1BQU0sQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQTtRQUMvRixDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHRlc3RzXFx1bml0XFxzZXJ2aWNlc1xcc3luYy1zdHJhdGVneS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN5bmNTdHJhdGVneVNlcnZpY2UsIHR5cGUgU3luY0NvbmZsaWN0LCB0eXBlIFJlc29sdXRpb25TdHJhdGVneSwgdHlwZSBTeW5jUHJvZ3Jlc3MgfSBmcm9tICdAL3NlcnZpY2VzL3N5bmMtc3RyYXRlZ3knXG5pbXBvcnQgeyBkYiB9IGZyb20gJ0Avc2VydmljZXMvZGF0YWJhc2UnXG5cbi8vIOaooeaLn+aVsOaNruW6k1xuamVzdC5tb2NrKCdAL3NlcnZpY2VzL2RhdGFiYXNlJywgKCkgPT4gKHtcbiAgZGI6IHtcbiAgICBjYXJkczoge1xuICAgICAgZ2V0OiBqZXN0LmZuKCksXG4gICAgICBhZGQ6IGplc3QuZm4oKSxcbiAgICAgIHVwZGF0ZTogamVzdC5mbigpLFxuICAgICAgZGVsZXRlOiBqZXN0LmZuKCksXG4gICAgICB3aGVyZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBlcXVhbHM6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgdG9BcnJheTogamVzdC5mbigpLFxuICAgIH0sXG4gICAgZm9sZGVyczoge1xuICAgICAgZ2V0OiBqZXN0LmZuKCksXG4gICAgICBhZGQ6IGplc3QuZm4oKSxcbiAgICAgIHVwZGF0ZTogamVzdC5mbigpLFxuICAgICAgZGVsZXRlOiBqZXN0LmZuKCksXG4gICAgfSxcbiAgICB0YWdzOiB7XG4gICAgICBnZXQ6IGplc3QuZm4oKSxcbiAgICAgIGFkZDogamVzdC5mbigpLFxuICAgICAgdXBkYXRlOiBqZXN0LmZuKCksXG4gICAgICBkZWxldGU6IGplc3QuZm4oKSxcbiAgICB9LFxuICAgIHN5bmNIaXN0b3J5OiB7XG4gICAgICBhZGQ6IGplc3QuZm4oKSxcbiAgICAgIHdoZXJlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIGVxdWFsczogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBzb3J0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIHRvQXJyYXk6IGplc3QuZm4oKSxcbiAgICB9XG4gIH1cbn0pKVxuXG4vLyDmqKHmi58gU3VwYWJhc2Vcbmplc3QubW9jaygnQC9zZXJ2aWNlcy9zdXBhYmFzZScsICgpID0+ICh7XG4gIHN1cGFiYXNlOiB7XG4gICAgZnJvbTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgZ3RlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICBvcmRlcjogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgbGltaXQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICB9XG59KSlcblxuZGVzY3JpYmUoJ1N5bmNTdHJhdGVneVNlcnZpY2UnLCAoKSA9PiB7XG4gIGxldCBzZXJ2aWNlOiBTeW5jU3RyYXRlZ3lTZXJ2aWNlXG4gIGxldCBtb2NrRGI6IGFueVxuICBsZXQgbW9ja1N1cGFiYXNlOiBhbnlcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICAgIG1vY2tEYiA9IGRiXG4gICAgbW9ja1N1cGFiYXNlID0gcmVxdWlyZSgnQC9zZXJ2aWNlcy9zdXBhYmFzZScpLnN1cGFiYXNlXG4gICAgc2VydmljZSA9IG5ldyBTeW5jU3RyYXRlZ3lTZXJ2aWNlKClcbiAgfSlcblxuICBkZXNjcmliZSgn5Yid5aeL5YyWJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmraPnoa7liJ3lp4vljJbmnI3liqEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKVxuICAgICAgZXhwZWN0KHNlcnZpY2UpLnRvQmVEZWZpbmVkKClcbiAgICAgIFxuICAgICAgLy8g6aqM6K+B5Yay56qB6Kej5Yaz5Zmo5bey6K6+572uXG4gICAgICBjb25zdCBoYXNDb25mbGljdFJlc29sdmVycyA9IChzZXJ2aWNlIGFzIGFueSkuY29uZmxpY3RSZXNvbHZlcnMuc2l6ZSA+IDBcbiAgICAgIGV4cGVjdChoYXNDb25mbGljdFJlc29sdmVycykudG9CZSh0cnVlKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+WinumHj+WQjOatpScsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5omn6KGM5aKe6YeP5ZCM5q2lJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlcklkID0gJ3VzZXItMTIzJ1xuICAgICAgY29uc3QgbGFzdFN5bmNUaW1lID0gbmV3IERhdGUoRGF0ZS5ub3coKSAtIDg2NDAwMDAwKSAvLyAx5aSp5YmNXG4gICAgICBcbiAgICAgIC8vIOaooeaLn+S6keerr+aVsOaNrlxuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblRoaXMoKVxuICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmV0dXJuVGhpcygpXG4gICAgICBtb2NrU3VwYWJhc2UuZXEubW9ja1JldHVyblRoaXMoKVxuICAgICAgbW9ja1N1cGFiYXNlLmd0ZS5tb2NrUmV0dXJuVGhpcygpXG4gICAgICBtb2NrU3VwYWJhc2Uub3JkZXIubW9ja1JldHVyblRoaXMoKVxuICAgICAgbW9ja1N1cGFiYXNlLmxpbWl0Lm1vY2tSZXR1cm5UaGlzKClcbiAgICAgIFxuICAgICAgLy8g5qih5ouf5Y2h54mH5pWw5o2uXG4gICAgICBjb25zdCBtb2NrQ2FyZHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2NhcmQtMScsXG4gICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgIGZyb250X2NvbnRlbnQ6ICdGcm9udCAxJyxcbiAgICAgICAgICBiYWNrX2NvbnRlbnQ6ICdCYWNrIDEnLFxuICAgICAgICAgIHN0eWxlOiAnYmFzaWMnLFxuICAgICAgICAgIGZvbGRlcl9pZDogbnVsbCxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHN5bmNfdmVyc2lvbjogMlxuICAgICAgICB9XG4gICAgICBdXG4gICAgICBcbiAgICAgIG1vY2tTdXBhYmFzZS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyBkYXRhOiBtb2NrQ2FyZHMsIGVycm9yOiBudWxsIH0pXG4gICAgICBtb2NrU3VwYWJhc2UubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgZGF0YTogW10sIGVycm9yOiBudWxsIH0pIC8vIGZvbGRlcnNcbiAgICAgIG1vY2tTdXBhYmFzZS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyBkYXRhOiBbXSwgZXJyb3I6IG51bGwgfSkgLy8gdGFnc1xuICAgICAgXG4gICAgICAvLyDmqKHmi5/mnKzlnLDmlbDmja5cbiAgICAgIG1vY2tEYi5jYXJkcy5nZXQubW9ja1Jlc29sdmVkVmFsdWVPbmNlKG51bGwpXG4gICAgICBtb2NrRGIuY2FyZHMuYWRkLm1vY2tSZXNvbHZlZFZhbHVlKCdjYXJkLTEnKVxuICAgICAgXG4gICAgICBjb25zdCBwcm9ncmVzcyA9IGF3YWl0IHNlcnZpY2UucGVyZm9ybUluY3JlbWVudGFsU3luYyh1c2VySWQsIGxhc3RTeW5jVGltZSlcbiAgICAgIFxuICAgICAgZXhwZWN0KHByb2dyZXNzKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QocHJvZ3Jlc3MuZG93bmxvYWRlZCkudG9CZSgxKVxuICAgICAgZXhwZWN0KHByb2dyZXNzLnVwbG9hZGVkKS50b0JlKDApXG4gICAgICBleHBlY3QocHJvZ3Jlc3MuY29uZmxpY3RzKS50b0JlKDApXG4gICAgICBleHBlY3QocHJvZ3Jlc3MuaXNTdWNjZXNzZnVsKS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlpITnkIblop7ph4/lkIzmraXkuK3nmoTlhrLnqoEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VySWQgPSAndXNlci0xMjMnXG4gICAgICBjb25zdCBsYXN0U3luY1RpbWUgPSBuZXcgRGF0ZShEYXRlLm5vdygpIC0gODY0MDAwMDApXG4gICAgICBcbiAgICAgIC8vIOaooeaLn+S6keerr+aVsOaNrlxuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblRoaXMoKVxuICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmV0dXJuVGhpcygpXG4gICAgICBtb2NrU3VwYWJhc2UuZXEubW9ja1JldHVyblRoaXMoKVxuICAgICAgbW9ja1N1cGFiYXNlLmd0ZS5tb2NrUmV0dXJuVGhpcygpXG4gICAgICBcbiAgICAgIGNvbnN0IGNsb3VkQ2FyZCA9IHtcbiAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgIGZyb250X2NvbnRlbnQ6ICdDbG91ZCBGcm9udCcsXG4gICAgICAgIGJhY2tfY29udGVudDogJ0Nsb3VkIEJhY2snLFxuICAgICAgICBzdHlsZTogJ2Jhc2ljJyxcbiAgICAgICAgZm9sZGVyX2lkOiBudWxsLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMzYwMDAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBzeW5jX3ZlcnNpb246IDJcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbW9ja1N1cGFiYXNlLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IFtjbG91ZENhcmRdLCBlcnJvcjogbnVsbCB9KVxuICAgICAgbW9ja1N1cGFiYXNlLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IFtdLCBlcnJvcjogbnVsbCB9KVxuICAgICAgbW9ja1N1cGFiYXNlLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IFtdLCBlcnJvcjogbnVsbCB9KVxuICAgICAgXG4gICAgICAvLyDmqKHmi5/mnKzlnLDmlbDmja7vvIjlt7Lkv67mlLnvvIlcbiAgICAgIGNvbnN0IGxvY2FsQ2FyZCA9IHtcbiAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICBmcm9udENvbnRlbnQ6ICdMb2NhbCBGcm9udCcsXG4gICAgICAgIGJhY2tDb250ZW50OiAnTG9jYWwgQmFjaycsXG4gICAgICAgIHN0eWxlOiAnYmFzaWMnLFxuICAgICAgICBmb2xkZXJJZDogbnVsbCxcbiAgICAgICAgaXNGbGlwcGVkOiBmYWxzZSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNzIwMDAwMCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDE4MDAwMDApLCAvLyDmnKzlnLDmm7TmlrDml7bpl7TlnKjkupHnq6/kuYvliY1cbiAgICAgICAgc3luY1ZlcnNpb246IDEsXG4gICAgICAgIHBlbmRpbmdTeW5jOiB0cnVlXG4gICAgICB9XG4gICAgICBcbiAgICAgIG1vY2tEYi5jYXJkcy5nZXQubW9ja1Jlc29sdmVkVmFsdWVPbmNlKGxvY2FsQ2FyZClcbiAgICAgIFxuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBhd2FpdCBzZXJ2aWNlLnBlcmZvcm1JbmNyZW1lbnRhbFN5bmModXNlcklkLCBsYXN0U3luY1RpbWUpXG4gICAgICBcbiAgICAgIGV4cGVjdChwcm9ncmVzcy5jb25mbGljdHMpLnRvQmUoMSlcbiAgICAgIGV4cGVjdChwcm9ncmVzcy5pc1N1Y2Nlc3NmdWwpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeWkhOeQhue9kee7nOmUmeivrycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJJZCA9ICd1c2VyLTEyMydcbiAgICAgIGNvbnN0IGxhc3RTeW5jVGltZSA9IG5ldyBEYXRlKERhdGUubm93KCkgLSA4NjQwMDAwMClcbiAgICAgIFxuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblRoaXMoKVxuICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmV0dXJuVGhpcygpXG4gICAgICBtb2NrU3VwYWJhc2UuZXEubW9ja1JldHVyblRoaXMoKVxuICAgICAgbW9ja1N1cGFiYXNlLmd0ZS5tb2NrUmV0dXJuVGhpcygpXG4gICAgICBtb2NrU3VwYWJhc2UubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignTmV0d29yayBlcnJvcicpKVxuICAgICAgXG4gICAgICBjb25zdCBwcm9ncmVzcyA9IGF3YWl0IHNlcnZpY2UucGVyZm9ybUluY3JlbWVudGFsU3luYyh1c2VySWQsIGxhc3RTeW5jVGltZSlcbiAgICAgIFxuICAgICAgZXhwZWN0KHByb2dyZXNzLmlzU3VjY2Vzc2Z1bCkudG9CZShmYWxzZSlcbiAgICAgIGV4cGVjdChwcm9ncmVzcy5lcnJvcikudG9CZSgnTmV0d29yayBlcnJvcicpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5Yay56qB5qOA5rWLJywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xmo4DmtYvliLDmlbDmja7lhrLnqoEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsb2NhbERhdGEgPSB7XG4gICAgICAgIGlkOiAnY2FyZC0xJyxcbiAgICAgICAgZnJvbnRDb250ZW50OiAnTG9jYWwgQ29udGVudCcsXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDM2MDAwMDApLFxuICAgICAgICBzeW5jVmVyc2lvbjogMVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBjbG91ZERhdGEgPSB7XG4gICAgICAgIGlkOiAnY2FyZC0xJyxcbiAgICAgICAgZnJvbnRfY29udGVudDogJ0Nsb3VkIENvbnRlbnQnLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTgwMDAwMCksXG4gICAgICAgIHN5bmNfdmVyc2lvbjogMlxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBjb25mbGljdCA9IGF3YWl0IHNlcnZpY2UuZGV0ZWN0Q29uZmxpY3QoJ2NhcmRzJywgbG9jYWxEYXRhLCBjbG91ZERhdGEpXG4gICAgICBcbiAgICAgIGV4cGVjdChjb25mbGljdCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KGNvbmZsaWN0Py5pZCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KGNvbmZsaWN0Py50YWJsZSkudG9CZSgnY2FyZHMnKVxuICAgICAgZXhwZWN0KGNvbmZsaWN0Py5sb2NhbERhdGEpLnRvQmUobG9jYWxEYXRhKVxuICAgICAgZXhwZWN0KGNvbmZsaWN0Py5jbG91ZERhdGEpLnRvQmUoY2xvdWREYXRhKVxuICAgICAgZXhwZWN0KGNvbmZsaWN0Py5jb25mbGljdFR5cGUpLnRvQmUoJ2NvbmN1cnJlbnRfbW9kaWZpY2F0aW9uJylcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeajgOa1i+WIsOWIoOmZpOWGsueqgScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxvY2FsRGF0YSA9IHtcbiAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICBmcm9udENvbnRlbnQ6ICdMb2NhbCBDb250ZW50JyxcbiAgICAgICAgaXNEZWxldGVkOiBmYWxzZSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMzYwMDAwMCksXG4gICAgICAgIHN5bmNWZXJzaW9uOiAxXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGNsb3VkRGF0YSA9IHtcbiAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICBmcm9udF9jb250ZW50OiAnQ2xvdWQgQ29udGVudCcsXG4gICAgICAgIGlzX2RlbGV0ZWQ6IHRydWUsXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxODAwMDAwKSxcbiAgICAgICAgc3luY192ZXJzaW9uOiAyXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGNvbmZsaWN0ID0gYXdhaXQgc2VydmljZS5kZXRlY3RDb25mbGljdCgnY2FyZHMnLCBsb2NhbERhdGEsIGNsb3VkRGF0YSlcbiAgICAgIFxuICAgICAgZXhwZWN0KGNvbmZsaWN0KS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QoY29uZmxpY3Q/LmNvbmZsaWN0VHlwZSkudG9CZSgnZGVsZXRlX2NvbmZsaWN0JylcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeivhuWIq+aXoOWGsueqgeeahOaDheWGtScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxvY2FsRGF0YSA9IHtcbiAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICBmcm9udENvbnRlbnQ6ICdTYW1lIENvbnRlbnQnLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAzNjAwMDAwKSxcbiAgICAgICAgc3luY1ZlcnNpb246IDFcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgY2xvdWREYXRhID0ge1xuICAgICAgICBpZDogJ2NhcmQtMScsXG4gICAgICAgIGZyb250X2NvbnRlbnQ6ICdTYW1lIENvbnRlbnQnLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTgwMDAwMCksXG4gICAgICAgIHN5bmNfdmVyc2lvbjogMlxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBjb25mbGljdCA9IGF3YWl0IHNlcnZpY2UuZGV0ZWN0Q29uZmxpY3QoJ2NhcmRzJywgbG9jYWxEYXRhLCBjbG91ZERhdGEpXG4gICAgICBcbiAgICAgIGV4cGVjdChjb25mbGljdCkudG9CZU51bGwoKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+WGsueqgeino+WGsycsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5L2/55SoXCLmnKzlnLDkvJjlhYhcIuetlueVpeino+WGs+WGsueqgScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZsaWN0OiBTeW5jQ29uZmxpY3QgPSB7XG4gICAgICAgIGlkOiAnY29uZmxpY3QtMScsXG4gICAgICAgIHRhYmxlOiAnY2FyZHMnLFxuICAgICAgICBsb2NhbERhdGE6IHtcbiAgICAgICAgICBpZDogJ2NhcmQtMScsXG4gICAgICAgICAgZnJvbnRDb250ZW50OiAnTG9jYWwgQ29udGVudCcsXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICAgIH0sXG4gICAgICAgIGNsb3VkRGF0YToge1xuICAgICAgICAgIGlkOiAnY2FyZC0xJyxcbiAgICAgICAgICBmcm9udF9jb250ZW50OiAnQ2xvdWQgQ29udGVudCcsXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKVxuICAgICAgICB9LFxuICAgICAgICBjb25mbGljdFR5cGU6ICdjb25jdXJyZW50X21vZGlmaWNhdGlvbicsXG4gICAgICAgIGRldGVjdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzb2x2ZWQgPSBhd2FpdCBzZXJ2aWNlLnJlc29sdmVDb25mbGljdChjb25mbGljdCwgJ2xvY2FsJylcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc29sdmVkKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QocmVzb2x2ZWQuZnJvbnRDb250ZW50KS50b0JlKCdMb2NhbCBDb250ZW50JylcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeS9v+eUqFwi5LqR56uv5LyY5YWIXCLnrZbnlaXop6PlhrPlhrLnqoEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb25mbGljdDogU3luY0NvbmZsaWN0ID0ge1xuICAgICAgICBpZDogJ2NvbmZsaWN0LTEnLFxuICAgICAgICB0YWJsZTogJ2NhcmRzJyxcbiAgICAgICAgbG9jYWxEYXRhOiB7XG4gICAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICAgIGZyb250Q29udGVudDogJ0xvY2FsIENvbnRlbnQnLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgICB9LFxuICAgICAgICBjbG91ZERhdGE6IHtcbiAgICAgICAgICBpZDogJ2NhcmQtMScsXG4gICAgICAgICAgZnJvbnRfY29udGVudDogJ0Nsb3VkIENvbnRlbnQnLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmxpY3RUeXBlOiAnY29uY3VycmVudF9tb2RpZmljYXRpb24nLFxuICAgICAgICBkZXRlY3RlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc29sdmVkID0gYXdhaXQgc2VydmljZS5yZXNvbHZlQ29uZmxpY3QoY29uZmxpY3QsICdjbG91ZCcpXG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNvbHZlZCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJlc29sdmVkLmZyb250Q29udGVudCkudG9CZSgnQ2xvdWQgQ29udGVudCcpXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xkvb/nlKhcIuWQiOW5tlwi562W55Wl6Kej5Yaz5Yay56qBJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmxpY3Q6IFN5bmNDb25mbGljdCA9IHtcbiAgICAgICAgaWQ6ICdjb25mbGljdC0xJyxcbiAgICAgICAgdGFibGU6ICdjYXJkcycsXG4gICAgICAgIGxvY2FsRGF0YToge1xuICAgICAgICAgIGlkOiAnY2FyZC0xJyxcbiAgICAgICAgICBmcm9udENvbnRlbnQ6ICdMb2NhbCBGcm9udCcsXG4gICAgICAgICAgYmFja0NvbnRlbnQ6ICdMb2NhbCBCYWNrJyxcbiAgICAgICAgICBzdHlsZTogJ2Jhc2ljJyxcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSxcbiAgICAgICAgY2xvdWREYXRhOiB7XG4gICAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICAgIGZyb250X2NvbnRlbnQ6ICdDbG91ZCBGcm9udCcsXG4gICAgICAgICAgYmFja19jb250ZW50OiAnQ2xvdWQgQmFjaycsXG4gICAgICAgICAgc3R5bGU6ICdhZHZhbmNlZCcsXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKVxuICAgICAgICB9LFxuICAgICAgICBjb25mbGljdFR5cGU6ICdjb25jdXJyZW50X21vZGlmaWNhdGlvbicsXG4gICAgICAgIGRldGVjdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzb2x2ZWQgPSBhd2FpdCBzZXJ2aWNlLnJlc29sdmVDb25mbGljdChjb25mbGljdCwgJ21lcmdlJylcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc29sdmVkKS50b0JlRGVmaW5lZCgpXG4gICAgICAvLyDlkIjlubbnrZbnlaXlupTor6XljIXlkKvkuKTkuKrniYjmnKznmoTmlbDmja7nibnlvoFcbiAgICAgIGV4cGVjdChyZXNvbHZlZC5mcm9udENvbnRlbnQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChyZXNvbHZlZC5iYWNrQ29udGVudCkudG9CZURlZmluZWQoKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l6K6w5b2V5Yay56qB6Kej5Yaz5Y6G5Y+yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmxpY3Q6IFN5bmNDb25mbGljdCA9IHtcbiAgICAgICAgaWQ6ICdjb25mbGljdC0xJyxcbiAgICAgICAgdGFibGU6ICdjYXJkcycsXG4gICAgICAgIGxvY2FsRGF0YToge1xuICAgICAgICAgIGlkOiAnY2FyZC0xJyxcbiAgICAgICAgICBmcm9udENvbnRlbnQ6ICdMb2NhbCBDb250ZW50JyxcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSxcbiAgICAgICAgY2xvdWREYXRhOiB7XG4gICAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICAgIGZyb250X2NvbnRlbnQ6ICdDbG91ZCBDb250ZW50JyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZsaWN0VHlwZTogJ2NvbmN1cnJlbnRfbW9kaWZpY2F0aW9uJyxcbiAgICAgICAgZGV0ZWN0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgfVxuICAgICAgXG4gICAgICBtb2NrRGIuc3luY0hpc3RvcnkuYWRkLm1vY2tSZXNvbHZlZFZhbHVlKCdoaXN0b3J5LWlkJylcbiAgICAgIFxuICAgICAgYXdhaXQgc2VydmljZS5yZXNvbHZlQ29uZmxpY3QoY29uZmxpY3QsICdsb2NhbCcpXG4gICAgICBcbiAgICAgIGV4cGVjdChtb2NrRGIuc3luY0hpc3RvcnkuYWRkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG9wZXJhdGlvbl90eXBlOiAnY29uZmxpY3RfcmVzb2x1dGlvbicsXG4gICAgICAgICAgdGFibGVfbmFtZTogJ2NhcmRzJyxcbiAgICAgICAgICByZWNvcmRfaWQ6ICdjYXJkLTEnLFxuICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5LiJ5ZCR5ZCI5bm2JywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmiafooYzkuInlkJHlkIjlubYnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBiYXNlRGF0YSA9IHtcbiAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICBmcm9udENvbnRlbnQ6ICdCYXNlIENvbnRlbnQnLFxuICAgICAgICBiYWNrQ29udGVudDogJ0Jhc2UgQmFjaycsXG4gICAgICAgIHN0eWxlOiAnYmFzaWMnLFxuICAgICAgICBzeW5jVmVyc2lvbjogMVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBsb2NhbERhdGEgPSB7XG4gICAgICAgIGlkOiAnY2FyZC0xJyxcbiAgICAgICAgZnJvbnRDb250ZW50OiAnTG9jYWwgRnJvbnQnLFxuICAgICAgICBiYWNrQ29udGVudDogJ0Jhc2UgQmFjaycsIC8vIOacquS/ruaUuVxuICAgICAgICBzdHlsZTogJ2FkdmFuY2VkJywgLy8g5L+u5pS5XG4gICAgICAgIHN5bmNWZXJzaW9uOiAyXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGNsb3VkRGF0YSA9IHtcbiAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICBmcm9udF9jb250ZW50OiAnQmFzZSBDb250ZW50JywgLy8g5pyq5L+u5pS5XG4gICAgICAgIGJhY2tfY29udGVudDogJ0Nsb3VkIEJhY2snLCAvLyDkv67mlLlcbiAgICAgICAgc3R5bGU6ICdiYXNpYycsIC8vIOacquS/ruaUuVxuICAgICAgICBzeW5jX3ZlcnNpb246IDJcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgbWVyZ2VkID0gYXdhaXQgc2VydmljZS5wZXJmb3JtVGhyZWVXYXlNZXJnZSgnY2FyZHMnLCBiYXNlRGF0YSwgbG9jYWxEYXRhLCBjbG91ZERhdGEpXG4gICAgICBcbiAgICAgIGV4cGVjdChtZXJnZWQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChtZXJnZWQuZnJvbnRDb250ZW50KS50b0JlKCdMb2NhbCBGcm9udCcpIC8vIOadpeiHquacrOWcsFxuICAgICAgZXhwZWN0KG1lcmdlZC5iYWNrQ29udGVudCkudG9CZSgnQ2xvdWQgQmFjaycpIC8vIOadpeiHquS6keerr1xuICAgICAgZXhwZWN0KG1lcmdlZC5zdHlsZSkudG9CZSgnYWR2YW5jZWQnKSAvLyDmnaXoh6rmnKzlnLBcbiAgICAgIGV4cGVjdChtZXJnZWQuc3luY1ZlcnNpb24pLnRvQmUoMykgLy8g54mI5pys6YCS5aKeXG4gICAgfSlcblxuICAgIGl0KCflupTor6XlpITnkIbkuInlkJHlkIjlubbkuK3nmoTlhrLnqoEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBiYXNlRGF0YSA9IHtcbiAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICBmcm9udENvbnRlbnQ6ICdCYXNlIENvbnRlbnQnLFxuICAgICAgICBzeW5jVmVyc2lvbjogMVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBsb2NhbERhdGEgPSB7XG4gICAgICAgIGlkOiAnY2FyZC0xJyxcbiAgICAgICAgZnJvbnRDb250ZW50OiAnTG9jYWwgQ29udGVudCcsXG4gICAgICAgIHN5bmNWZXJzaW9uOiAyXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGNsb3VkRGF0YSA9IHtcbiAgICAgICAgaWQ6ICdjYXJkLTEnLFxuICAgICAgICBmcm9udF9jb250ZW50OiAnQ2xvdWQgQ29udGVudCcsXG4gICAgICAgIHN5bmNfdmVyc2lvbjogMlxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBtZXJnZWQgPSBhd2FpdCBzZXJ2aWNlLnBlcmZvcm1UaHJlZVdheU1lcmdlKCdjYXJkcycsIGJhc2VEYXRhLCBsb2NhbERhdGEsIGNsb3VkRGF0YSlcbiAgICAgIFxuICAgICAgLy8g5b2T5ZCM5LiA5a2X5q616KKr5Y+M5pa55L+u5pS55pe277yM5bqU6K+l5qCH6K6w5Li66ZyA6KaB5omL5Yqo6Kej5YazXG4gICAgICBleHBlY3QobWVyZ2VkKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QobWVyZ2VkLnN5bmNWZXJzaW9uKS50b0JlKDIpIC8vIOeJiOacrOS4jemAkuWinu+8jOWboOS4uuacieWGsueqgVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+aVsOaNrumqjOivgScsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l6aqM6K+B5pys5Zyw5pWw5o2u5a6M5pW05oCnJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWREYXRhID0ge1xuICAgICAgICBpZDogJ2NhcmQtMScsXG4gICAgICAgIGZyb250Q29udGVudDogJ0Zyb250JyxcbiAgICAgICAgYmFja0NvbnRlbnQ6ICdCYWNrJyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IHNlcnZpY2UudmFsaWRhdGVMb2NhbERhdGEoJ2NhcmRzJywgdmFsaWREYXRhKVxuICAgICAgZXhwZWN0KGlzVmFsaWQpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeajgOa1i+acrOWcsOaVsOaNruaNn+WdjycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWREYXRhID0ge1xuICAgICAgICBpZDogJ2NhcmQtMScsXG4gICAgICAgIGZyb250Q29udGVudDogJycsIC8vIOepuuWGheWuuVxuICAgICAgICBiYWNrQ29udGVudDogJ0JhY2snLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgc2VydmljZS52YWxpZGF0ZUxvY2FsRGF0YSgnY2FyZHMnLCBpbnZhbGlkRGF0YSlcbiAgICAgIGV4cGVjdChpc1ZhbGlkKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l6aqM6K+B5LqR56uv5pWw5o2u5a6M5pW05oCnJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWREYXRhID0ge1xuICAgICAgICBpZDogJ2NhcmQtMScsXG4gICAgICAgIGZyb250X2NvbnRlbnQ6ICdGcm9udCcsXG4gICAgICAgIGJhY2tfY29udGVudDogJ0JhY2snLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgc2VydmljZS52YWxpZGF0ZUNsb3VkRGF0YSgnY2FyZHMnLCB2YWxpZERhdGEpXG4gICAgICBleHBlY3QoaXNWYWxpZCkudG9CZSh0cnVlKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+WQjOatpeWOhuWPsicsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l6K6w5b2V5ZCM5q2l5pON5L2cJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3luY1JlY29yZCA9IHtcbiAgICAgICAgb3BlcmF0aW9uX3R5cGU6ICdpbmNyZW1lbnRhbF9zeW5jJyxcbiAgICAgICAgdGFibGVfbmFtZTogJ2NhcmRzJyxcbiAgICAgICAgcmVjb3JkX2lkOiAnY2FyZC0xJyxcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIGRldGFpbHM6IHsgZG93bmxvYWRlZDogNSwgdXBsb2FkZWQ6IDMgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBtb2NrRGIuc3luY0hpc3RvcnkuYWRkLm1vY2tSZXNvbHZlZFZhbHVlKCdoaXN0b3J5LWlkJylcbiAgICAgIFxuICAgICAgY29uc3QgcmVjb3JkSWQgPSBhd2FpdCBzZXJ2aWNlLnJlY29yZFN5bmNPcGVyYXRpb24oc3luY1JlY29yZClcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlY29yZElkKS50b0JlKCdoaXN0b3J5LWlkJylcbiAgICAgIGV4cGVjdChtb2NrRGIuc3luY0hpc3RvcnkuYWRkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIC4uLnN5bmNSZWNvcmQsXG4gICAgICAgICAgdGltZXN0YW1wOiBleHBlY3QuYW55KERhdGUpXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xojrflj5blkIzmraXljoblj7InLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrSGlzdG9yeSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnaGlzdG9yeS0xJyxcbiAgICAgICAgICBvcGVyYXRpb25fdHlwZTogJ2luY3JlbWVudGFsX3N5bmMnLFxuICAgICAgICAgIHRhYmxlX25hbWU6ICdjYXJkcycsXG4gICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2hpc3RvcnktMicsXG4gICAgICAgICAgb3BlcmF0aW9uX3R5cGU6ICdjb25mbGljdF9yZXNvbHV0aW9uJyxcbiAgICAgICAgICB0YWJsZV9uYW1lOiAnZm9sZGVycycsXG4gICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICAgIFxuICAgICAgbW9ja0RiLnN5bmNIaXN0b3J5LnRvQXJyYXkubW9ja1Jlc29sdmVkVmFsdWUobW9ja0hpc3RvcnkpXG4gICAgICBcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSBhd2FpdCBzZXJ2aWNlLmdldFN5bmNIaXN0b3J5KClcbiAgICAgIFxuICAgICAgZXhwZWN0KGhpc3RvcnkpLnRvSGF2ZUxlbmd0aCgyKVxuICAgICAgZXhwZWN0KGhpc3RvcnlbMF0ub3BlcmF0aW9uX3R5cGUpLnRvQmUoJ2luY3JlbWVudGFsX3N5bmMnKVxuICAgIH0pXG5cbiAgICBpdCgn5bqU6K+l6IO95aSf6I635Y+W5ZCM5q2l57uf6K6hJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0hpc3RvcnkgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcGVyYXRpb25fdHlwZTogJ2luY3JlbWVudGFsX3N5bmMnLFxuICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICBkZXRhaWxzOiB7IGRvd25sb2FkZWQ6IDEwLCB1cGxvYWRlZDogNSB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBvcGVyYXRpb25fdHlwZTogJ2luY3JlbWVudGFsX3N5bmMnLFxuICAgICAgICAgIHN0YXR1czogJ2ZhaWxlZCcsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGRldGFpbHM6IHsgZG93bmxvYWRlZDogMCwgdXBsb2FkZWQ6IDAgfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgICBcbiAgICAgIG1vY2tEYi5zeW5jSGlzdG9yeS50b0FycmF5Lm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tIaXN0b3J5KVxuICAgICAgXG4gICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IHNlcnZpY2UuZ2V0U3luY1N0YXRzKClcbiAgICAgIFxuICAgICAgZXhwZWN0KHN0YXRzLnRvdGFsU3luY3MpLnRvQmUoMilcbiAgICAgIGV4cGVjdChzdGF0cy5zdWNjZXNzZnVsU3luY3MpLnRvQmUoMSlcbiAgICAgIGV4cGVjdChzdGF0cy5mYWlsZWRTeW5jcykudG9CZSgxKVxuICAgICAgZXhwZWN0KHN0YXRzLnRvdGFsRG93bmxvYWRlZCkudG9CZSgxMClcbiAgICAgIGV4cGVjdChzdGF0cy50b3RhbFVwbG9hZGVkKS50b0JlKDUpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn6YWN572u566h55CGJywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xog73lpJ/mm7TmlrDlkIzmraXnrZbnlaXphY3nva4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXdDb25maWcgPSB7XG4gICAgICAgIGRlZmF1bHRSZXNvbHV0aW9uU3RyYXRlZ3k6ICdjbG91ZCcgYXMgUmVzb2x1dGlvblN0cmF0ZWd5LFxuICAgICAgICBlbmFibGVBdXRvTWVyZ2U6IHRydWUsXG4gICAgICAgIGVuYWJsZUNvbmZsaWN0RGV0ZWN0aW9uOiB0cnVlLFxuICAgICAgICBlbmFibGVEYXRhVmFsaWRhdGlvbjogdHJ1ZSxcbiAgICAgICAgc3luY0JhdGNoU2l6ZTogNTAsXG4gICAgICAgIG1heFJldHJpZXM6IDUsXG4gICAgICAgIHJldHJ5RGVsYXk6IDIwMDBcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2VydmljZS51cGRhdGVDb25maWcobmV3Q29uZmlnKVxuICAgICAgXG4gICAgICAvLyDpqozor4HphY3nva7lt7Lmm7TmlrBcbiAgICAgIGV4cGVjdCgoc2VydmljZSBhcyBhbnkpLmNvbmZpZykudG9NYXRjaE9iamVjdChuZXdDb25maWcpXG4gICAgfSlcblxuICAgIGl0KCflupTor6Xpqozor4HphY3nva7lj4LmlbAnLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkQ29uZmlnID0ge1xuICAgICAgICBzeW5jQmF0Y2hTaXplOiAtMSxcbiAgICAgICAgbWF4UmV0cmllczogLTFcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZXhwZWN0KCgpID0+IHNlcnZpY2UudXBkYXRlQ29uZmlnKGludmFsaWRDb25maWcgYXMgYW55KSkudG9UaHJvdygpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5LqL5Lu25aSE55CGJywgKCkgPT4ge1xuICAgIGl0KCflupTor6Xog73lpJ/mt7vliqDlkoznp7vpmaTkuovku7bnm5HlkKzlmagnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrTGlzdGVuZXIgPSBqZXN0LmZuKClcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gc2VydmljZS5vblN5bmNQcm9ncmVzcyhtb2NrTGlzdGVuZXIpXG4gICAgICBcbiAgICAgIGV4cGVjdCh0eXBlb2YgdW5zdWJzY3JpYmUpLnRvQmUoJ2Z1bmN0aW9uJylcbiAgICAgIFxuICAgICAgLy8g6Kem5Y+R5LqL5Lu2XG4gICAgICBzZXJ2aWNlWydub3RpZnlQcm9ncmVzcyddKHtcbiAgICAgICAgdG90YWw6IDEwLFxuICAgICAgICBwcm9jZXNzZWQ6IDUsXG4gICAgICAgIGRvd25sb2FkZWQ6IDMsXG4gICAgICAgIHVwbG9hZGVkOiAyLFxuICAgICAgICBjb25mbGljdHM6IDAsXG4gICAgICAgIGlzQ29tcGxldGU6IGZhbHNlXG4gICAgICB9KVxuICAgICAgXG4gICAgICBleHBlY3QobW9ja0xpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICAgIFxuICAgICAgLy8g56e76Zmk55uR5ZCs5ZmoXG4gICAgICB1bnN1YnNjcmliZSgpXG4gICAgICBzZXJ2aWNlWydub3RpZnlQcm9ncmVzcyddKHtcbiAgICAgICAgdG90YWw6IDEwLFxuICAgICAgICBwcm9jZXNzZWQ6IDYsXG4gICAgICAgIGRvd25sb2FkZWQ6IDMsXG4gICAgICAgIHVwbG9hZGVkOiAzLFxuICAgICAgICBjb25mbGljdHM6IDAsXG4gICAgICAgIGlzQ29tcGxldGU6IGZhbHNlXG4gICAgICB9KVxuICAgICAgXG4gICAgICBleHBlY3QobW9ja0xpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfplJnor6/lpITnkIYnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeWkhOeQhuWQjOatpei/h+eoi+S4reeahOW8guW4uCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJJZCA9ICd1c2VyLTEyMydcbiAgICAgIGNvbnN0IGxhc3RTeW5jVGltZSA9IG5ldyBEYXRlKERhdGUubm93KCkgLSA4NjQwMDAwMClcbiAgICAgIFxuICAgICAgLy8g5qih5ouf5pWw5o2u5bqT6ZSZ6K+vXG4gICAgICBtb2NrRGIuY2FyZHMuZ2V0Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRGF0YWJhc2UgZXJyb3InKSlcbiAgICAgIFxuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBhd2FpdCBzZXJ2aWNlLnBlcmZvcm1JbmNyZW1lbnRhbFN5bmModXNlcklkLCBsYXN0U3luY1RpbWUpXG4gICAgICBcbiAgICAgIGV4cGVjdChwcm9ncmVzcy5pc1N1Y2Nlc3NmdWwpLnRvQmUoZmFsc2UpXG4gICAgICBleHBlY3QocHJvZ3Jlc3MuZXJyb3IpLnRvQmVEZWZpbmVkKClcbiAgICB9KVxuXG4gICAgaXQoJ+W6lOivpeWkhOeQhuWGsueqgeino+WGs+S4reeahOW8guW4uCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZsaWN0OiBTeW5jQ29uZmxpY3QgPSB7XG4gICAgICAgIGlkOiAnY29uZmxpY3QtMScsXG4gICAgICAgIHRhYmxlOiAnY2FyZHMnLFxuICAgICAgICBsb2NhbERhdGE6IHsgaWQ6ICdjYXJkLTEnLCBmcm9udENvbnRlbnQ6ICdMb2NhbCcgfSxcbiAgICAgICAgY2xvdWREYXRhOiB7IGlkOiAnY2FyZC0xJywgZnJvbnRfY29udGVudDogJ0Nsb3VkJyB9LFxuICAgICAgICBjb25mbGljdFR5cGU6ICdjb25jdXJyZW50X21vZGlmaWNhdGlvbicsXG4gICAgICAgIGRldGVjdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g5qih5ouf6Kej5Yaz5Zmo5aSx6LSlXG4gICAgICBqZXN0LnNweU9uKHNlcnZpY2UgYXMgYW55LCAnYXBwbHlSZXNvbHV0aW9uU3RyYXRlZ3knKS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1Jlc29sdXRpb24gZmFpbGVkJykpXG4gICAgICBcbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLnJlc29sdmVDb25mbGljdChjb25mbGljdCwgJ2xvY2FsJykpLnJlamVjdHMudG9UaHJvdygnUmVzb2x1dGlvbiBmYWlsZWQnKVxuICAgIH0pXG4gIH0pXG59KSJdLCJ2ZXJzaW9uIjozfQ==