{"file":"D:\\Projects\\CardEverything\\cardall-prototype\\src\\components\\sync\\sync-status-display.tsx","mappings":"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","names":[],"sources":["D:\\Projects\\CardEverything\\cardall-prototype\\src\\components\\sync\\sync-status-display.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Progress } from '@/components/ui/progress'\r\nimport { ScrollArea } from '@/components/ui/scroll-area'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n  Wifi,\r\n  WifiOff,\r\n  RefreshCw,\r\n  CheckCircle,\r\n  XCircle,\r\n  Clock,\r\n  AlertTriangle,\r\n  Server,\r\n  Database,\r\n  Cloud,\r\n  Pause,\r\n  Play\r\n} from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\nimport { unifiedSyncService } from '@/services/core/sync/unified-sync.service'\r\nimport { performanceMonitor } from '@/services/ui/performance-monitor'\r\n\r\ninterface SyncStatusDisplayProps {\r\n  className?: string\r\n  showDetails?: boolean\r\n  compact?: boolean\r\n}\r\n\r\ninterface SyncOperation {\r\n  id: string\r\n  type: 'upload' | 'download' | 'conflict_resolution' | 'merge'\r\n  entity: string\r\n  status: 'pending' | 'in_progress' | 'completed' | 'failed'\r\n  progress: number\r\n  startTime: Date\r\n  endTime?: Date\r\n  error?: string\r\n  details?: string\r\n}\r\n\r\ninterface SyncMetrics {\r\n  lastSyncTime: Date | null\r\n  totalOperations: number\r\n  successfulOperations: number\r\n  failedOperations: number\r\n  averageSyncTime: number\r\n  networkLatency: number\r\n  serverResponseTime: number\r\n  dataTransferRate: number\r\n}\r\n\r\nexport function SyncStatusDisplay({\r\n  className,\r\n  showDetails = false,\r\n  compact = false\r\n}: SyncStatusDisplayProps) {\r\n  const [isOnline, setIsOnline] = useState(true)\r\n  const [isSyncing, setIsSyncing] = useState(false)\r\n  const [syncStatus, setSyncStatus] = useState<any>(null)\r\n  const [operations, setOperations] = useState<SyncOperation[]>([])\r\n  const [metrics, setMetrics] = useState<SyncMetrics>({\r\n    lastSyncTime: null,\r\n    totalOperations: 0,\r\n    successfulOperations: 0,\r\n    failedOperations: 0,\r\n    averageSyncTime: 0,\r\n    networkLatency: 0,\r\n    serverResponseTime: 0,\r\n    dataTransferRate: 0\r\n  })\r\n  const [expanded, setExpanded] = useState(false)\r\n\r\n  // 监听网络状态\r\n  useEffect(() => {\r\n    const handleOnline = () => setIsOnline(true)\r\n    const handleOffline = () => setIsOnline(false)\r\n\r\n    window.addEventListener('online', handleOnline)\r\n    window.addEventListener('offline', handleOffline)\r\n\r\n    // 初始化网络状态\r\n    setIsOnline(navigator.onLine)\r\n\r\n    return () => {\r\n      window.removeEventListener('online', handleOnline)\r\n      window.removeEventListener('offline', handleOffline)\r\n    }\r\n  }, [])\r\n\r\n  // 监听同步状态\r\n  useEffect(() => {\r\n    const updateSyncStatus = async () => {\r\n      try {\r\n        const status = unifiedSyncService.getStatus()\r\n        setSyncStatus(status)\r\n        setIsSyncing(status.isSyncing)\r\n\r\n        // 更新指标\r\n        if (status.lastSyncTime) {\r\n          setMetrics(prev => ({\r\n            ...prev,\r\n            lastSyncTime: new Date(status.lastSyncTime),\r\n            totalOperations: status.totalSyncs || 0,\r\n            successfulOperations: status.successfulSyncs || 0,\r\n            failedOperations: status.failedSyncs || 0\r\n          }))\r\n        }\r\n\r\n        // 更新性能指标\r\n        const perfMetrics = performanceMonitor.getRealtimeMetrics()\r\n        setMetrics(prev => ({\r\n          ...prev,\r\n          networkLatency: perfMetrics.networkLatency || 0\r\n        }))\r\n      } catch (error) {\r\n        console.error('Failed to update sync status:', error)\r\n      }\r\n    }\r\n\r\n    // 立即更新一次\r\n    updateSyncStatus()\r\n\r\n    // 每2秒更新一次状态\r\n    const interval = setInterval(updateSyncStatus, 2000)\r\n\r\n    // 监听同步服务事件\r\n    const handleSyncStart = () => {\r\n      setIsSyncing(true)\r\n      addOperation({\r\n        type: 'upload',\r\n        entity: '批量同步',\r\n        status: 'in_progress',\r\n        progress: 0,\r\n        startTime: new Date()\r\n      })\r\n    }\r\n\r\n    const handleSyncComplete = () => {\r\n      setIsSyncing(false)\r\n      updateOperationStatus('completed')\r\n      updateSyncStatus()\r\n    }\r\n\r\n    const handleSyncError = (error: any) => {\r\n      setIsSyncing(false)\r\n      updateOperationStatus('failed', error.message)\r\n    }\r\n\r\n    // 注册事件监听器\r\n    unifiedSyncService.on('sync:start', handleSyncStart)\r\n    unifiedSyncService.on('sync:complete', handleSyncComplete)\r\n    unifiedSyncService.on('sync:error', handleSyncError)\r\n\r\n    return () => {\r\n      clearInterval(interval)\r\n      unifiedSyncService.off('sync:start', handleSyncStart)\r\n      unifiedSyncService.off('sync:complete', handleSyncComplete)\r\n      unifiedSyncService.off('sync:error', handleSyncError)\r\n    }\r\n  }, [])\r\n\r\n  // 添加同步操作\r\n  const addOperation = (operation: Omit<SyncOperation, 'id'>) => {\r\n    const newOperation: SyncOperation = {\r\n      ...operation,\r\n      id: `op_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\r\n    }\r\n\r\n    setOperations(prev => [newOperation, ...prev.slice(0, 9)]) // 保留最近10个操作\r\n\r\n    // 更新指标\r\n    setMetrics(prev => ({\r\n      ...prev,\r\n      totalOperations: prev.totalOperations + 1\r\n    }))\r\n  }\r\n\r\n  // 更新操作状态\r\n  const updateOperationStatus = (status: SyncOperation['status'], error?: string) => {\r\n    setOperations(prev =>\r\n      prev.map(op =>\r\n        op.status === 'in_progress'\r\n          ? {\r\n              ...op,\r\n              status,\r\n              endTime: new Date(),\r\n              error,\r\n              progress: status === 'completed' ? 100 : op.progress\r\n            }\r\n          : op\r\n      )\r\n    )\r\n\r\n    // 更新成功/失败计数\r\n    if (status === 'completed') {\r\n      setMetrics(prev => ({\r\n        ...prev,\r\n        successfulOperations: prev.successfulOperations + 1\r\n      }))\r\n    } else if (status === 'failed') {\r\n      setMetrics(prev => ({\r\n        ...prev,\r\n        failedOperations: prev.failedOperations + 1\r\n      }))\r\n    }\r\n  }\r\n\r\n  // 手动触发同步\r\n  const handleManualSync = async () => {\r\n    try {\r\n      setIsSyncing(true)\r\n      await unifiedSyncService.sync({\r\n        type: 'incremental',\r\n        direction: 'bidirectional'\r\n      })\r\n    } catch (error) {\r\n      console.error('Manual sync failed:', error)\r\n    } finally {\r\n      setIsSyncing(false)\r\n    }\r\n  }\r\n\r\n  // 获取状态颜色\r\n  const getStatusColor = () => {\r\n    if (!isOnline) return 'text-red-500'\r\n    if (isSyncing) return 'text-yellow-500 animate-pulse'\r\n    if (syncStatus?.hasConflicts) return 'text-orange-500'\r\n    return 'text-green-500'\r\n  }\r\n\r\n  // 获取状态图标\r\n  const getStatusIcon = () => {\r\n    if (!isOnline) return <WifiOff className=\"h-4 w-4\" />\r\n    if (isSyncing) return <RefreshCw className=\"h-4 w-4 animate-spin\" />\r\n    if (syncStatus?.hasConflicts) return <AlertTriangle className=\"h-4 w-4\" />\r\n    return <Wifi className=\"h-4 w-4\" />\r\n  }\r\n\r\n  // 获取状态文本\r\n  const getStatusText = () => {\r\n    if (!isOnline) return '离线'\r\n    if (isSyncing) return '同步中...'\r\n    if (syncStatus?.hasConflicts) return '需要解决冲突'\r\n    return '已同步'\r\n  }\r\n\r\n  // 格式化时间\r\n  const formatTime = (date: Date | null) => {\r\n    if (!date) return '从未'\r\n    const now = new Date()\r\n    const diff = now.getTime() - date.getTime()\r\n    const minutes = Math.floor(diff / 60000)\r\n\r\n    if (minutes < 1) return '刚刚'\r\n    if (minutes < 60) return `${minutes}分钟前`\r\n    if (minutes < 1440) return `${Math.floor(minutes / 60)}小时前`\r\n    return `${Math.floor(minutes / 1440)}天前`\r\n  }\r\n\r\n  // 计算成功率\r\n  const successRate = metrics.totalOperations > 0\r\n    ? (metrics.successfulOperations / metrics.totalOperations * 100).toFixed(1)\r\n    : '0.0'\r\n\r\n  if (compact) {\r\n    return (\r\n      <div className={cn(\"flex items-center gap-2 text-sm\", className)}>\r\n        <div className={cn(\"flex items-center gap-1\", getStatusColor())}>\r\n          {getStatusIcon()}\r\n          <span>{getStatusText()}</span>\r\n        </div>\r\n        {syncStatus?.pendingOperations > 0 && (\r\n          <Badge variant=\"secondary\" className=\"text-xs\">\r\n            {syncStatus.pendingOperations} 待同步\r\n          </Badge>\r\n        )}\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={handleManualSync}\r\n          disabled={isSyncing || !isOnline}\r\n        >\r\n          <RefreshCw className={cn(\"h-3 w-3\", isSyncing && \"animate-spin\")} />\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Card className={cn(\"w-full\", className)}>\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <CardTitle className=\"text-lg\">同步状态</CardTitle>\r\n            <div className={cn(\"flex items-center gap-1 text-sm\", getStatusColor())}>\r\n              {getStatusIcon()}\r\n              <span>{getStatusText()}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            {syncStatus?.pendingOperations > 0 && (\r\n              <Badge variant=\"outline\">\r\n                {syncStatus.pendingOperations} 待同步\r\n              </Badge>\r\n            )}\r\n\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={handleManualSync}\r\n              disabled={isSyncing || !isOnline}\r\n            >\r\n              <RefreshCw className={cn(\"h-4 w-4 mr-2\", isSyncing && \"animate-spin\")} />\r\n              立即同步\r\n            </Button>\r\n\r\n            {showDetails && (\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => setExpanded(!expanded)}\r\n              >\r\n                {expanded ? '收起' : '详情'}\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 基本状态信息 */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n          <div>\r\n            <span className=\"text-muted-foreground\">网络状态:</span>\r\n            <span className=\"ml-2 font-medium\">{isOnline ? '在线' : '离线'}</span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-muted-foreground\">最后同步:</span>\r\n            <span className=\"ml-2 font-medium\">{formatTime(metrics.lastSyncTime)}</span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-muted-foreground\">成功率:</span>\r\n            <span className=\"ml-2 font-medium\">{successRate}%</span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-muted-foreground\">延迟:</span>\r\n            <span className=\"ml-2 font-medium\">{metrics.networkLatency}ms</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 同步进度 */}\r\n        {isSyncing && operations.length > 0 && (\r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex items-center justify-between text-sm\">\r\n              <span>同步进度</span>\r\n              <span>{operations.find(op => op.status === 'in_progress')?.progress || 0}%</span>\r\n            </div>\r\n            <Progress\r\n              value={operations.find(op => op.status === 'in_progress')?.progress || 0}\r\n              className=\"h-2\"\r\n            />\r\n          </div>\r\n        )}\r\n      </CardHeader>\r\n\r\n      {expanded && showDetails && (\r\n        <CardContent className=\"space-y-4\">\r\n          <Separator />\r\n\r\n          {/* 详细指标 */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            <Card>\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <Database className=\"h-4 w-4 text-blue-500\" />\r\n                  <span className=\"font-medium\">操作统计</span>\r\n                </div>\r\n                <div className=\"space-y-1 text-sm\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>总操作数:</span>\r\n                    <span>{metrics.totalOperations}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>成功:</span>\r\n                    <span className=\"text-green-600\">{metrics.successfulOperations}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>失败:</span>\r\n                    <span className=\"text-red-600\">{metrics.failedOperations}</span>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <Server className=\"h-4 w-4 text-green-500\" />\r\n                  <span className=\"font-medium\">性能指标</span>\r\n                </div>\r\n                <div className=\"space-y-1 text-sm\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>平均同步时间:</span>\r\n                    <span>{metrics.averageSyncTime}ms</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>服务器响应:</span>\r\n                    <span>{metrics.serverResponseTime}ms</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>传输速率:</span>\r\n                    <span>{metrics.dataTransferRate}KB/s</span>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <Cloud className=\"h-4 w-4 text-purple-500\" />\r\n                  <span className=\"font-medium\">同步状态</span>\r\n                </div>\r\n                <div className=\"space-y-1 text-sm\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>待同步操作:</span>\r\n                    <span>{syncStatus?.pendingOperations || 0}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>冲突数量:</span>\r\n                    <span>{syncStatus?.conflicts?.length || 0}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>同步模式:</span>\r\n                    <span>自动</span>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* 最近操作记录 */}\r\n          <div>\r\n            <h4 className=\"font-medium mb-2\">最近操作</h4>\r\n            <ScrollArea className=\"h-48 border rounded-md p-2\">\r\n              <div className=\"space-y-2\">\r\n                {operations.length === 0 ? (\r\n                  <p className=\"text-sm text-muted-foreground text-center py-4\">\r\n                    暂无操作记录\r\n                  </p>\r\n                ) : (\r\n                  operations.map((operation) => (\r\n                    <div key={operation.id} className=\"flex items-center justify-between text-sm p-2 rounded border\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        {operation.status === 'completed' && <CheckCircle className=\"h-3 w-3 text-green-500\" />}\r\n                        {operation.status === 'failed' && <XCircle className=\"h-3 w-3 text-red-500\" />}\r\n                        {operation.status === 'in_progress' && <Clock className=\"h-3 w-3 text-yellow-500 animate-spin\" />}\r\n                        {operation.status === 'pending' && <Clock className=\"h-3 w-3 text-gray-500\" />}\r\n                        <span>{operation.entity}</span>\r\n                        <Badge variant=\"outline\" className=\"text-xs\">\r\n                          {operation.type === 'upload' ? '上传' :\r\n                           operation.type === 'download' ? '下载' :\r\n                           operation.type === 'conflict_resolution' ? '冲突解决' : '合并'}\r\n                        </Badge>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        {operation.status === 'in_progress' && (\r\n                          <Progress value={operation.progress} className=\"w-16 h-1\" />\r\n                        )}\r\n                        <span className=\"text-xs text-muted-foreground\">\r\n                          {formatTime(operation.startTime)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            </ScrollArea>\r\n          </div>\r\n        </CardContent>\r\n      )}\r\n    </Card>\r\n  )\r\n}\r\n\r\n// 导出子组件供其他地方使用\r\nexport { SyncOperation, SyncMetrics }"],"version":3}