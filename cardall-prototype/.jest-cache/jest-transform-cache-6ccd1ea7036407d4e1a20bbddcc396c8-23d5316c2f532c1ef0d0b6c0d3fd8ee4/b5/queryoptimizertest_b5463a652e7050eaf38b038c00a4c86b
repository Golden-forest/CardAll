34bf36bb93a6b878f763f536ee919e5d
"use strict";
/**
 * 查询优化器测试
 * 测试QueryOptimizer类的所有功能
 */
Object.defineProperty(exports, "__esModule", { value: true });
const vitest_1 = require("vitest");
const query_optimizer_1 = require("../../utils/query-optimizer");
const database_unified_1 = require("../../services/database-unified");
// Mock database
vitest_1.vi.mock('../../services/database-unified', () => ({
    db: {
        cards: {
            where: vitest_1.vi.fn().mockReturnThis(),
            and: vitest_1.vi.fn().mockReturnThis(),
            filter: vitest_1.vi.fn().mockReturnThis(),
            sortBy: vitest_1.vi.fn().mockReturnThis(),
            reverse: vitest_1.vi.fn().mockReturnThis(),
            orderBy: vitest_1.vi.fn().mockReturnThis(),
            limit: vitest_1.vi.fn().mockReturnThis(),
            offset: vitest_1.vi.fn().mockReturnThis(),
            count: vitest_1.vi.fn()
        }
    }
}));
(0, vitest_1.describe)('QueryOptimizer', () => {
    let optimizer;
    (0, vitest_1.beforeEach)(() => {
        optimizer = new query_optimizer_1.QueryOptimizer();
        vitest_1.vi.clearAllMocks();
    });
    (0, vitest_1.afterEach)(() => {
        vitest_1.vi.restoreAllMocks();
    });
    (0, vitest_1.describe)('构造函数和初始化', () => {
        (0, vitest_1.test)('应该正确初始化查询优化器', () => {
            (0, vitest_1.expect)(optimizer).toBeInstanceOf(query_optimizer_1.QueryOptimizer);
            // 检查初始状态
            const stats = optimizer.getIndexStats();
            (0, vitest_1.expect)(stats).toEqual([]);
            const report = optimizer.getPerformanceReport();
            (0, vitest_1.expect)(report.totalQueries).toBe(0);
            (0, vitest_1.expect)(report.avgOptimizationTime).toBe(0);
            (0, vitest_1.expect)(report.mostUsedIndexes).toEqual([]);
        });
    });
    (0, vitest_1.describe)('卡片查询优化', () => {
        (0, vitest_1.test)('应该优化简单查询', async () => {
            const query = {
                userId: 'user123',
                limit: 10
            };
            database_unified_1.db.cards.count.mockResolvedValue(100);
            const result = await optimizer.optimizeCardsQuery(query);
            (0, vitest_1.expect)(result).toHaveProperty('query');
            (0, vitest_1.expect)(result).toHaveProperty('plan');
            (0, vitest_1.expect)(result).toHaveProperty('estimatedRows');
            (0, vitest_1.expect)(result.plan).toHaveProperty('estimatedCost');
            (0, vitest_1.expect)(result.plan).toHaveProperty('indexes');
            (0, vitest_1.expect)(result.plan).toHaveProperty('filterOrder');
            (0, vitest_1.expect)(result.plan).toHaveProperty('cacheKey');
            (0, vitest_1.expect)(result.plan).toHaveProperty('cacheTTL');
            (0, vitest_1.expect)(Array.isArray(result.plan.indexes)).toBe(true);
            (0, vitest_1.expect)(Array.isArray(result.plan.filterOrder)).toBe(true);
            (0, vitest_1.expect)(typeof result.plan.cacheKey).toBe('string');
            (0, vitest_1.expect)(typeof result.plan.cacheTTL).toBe('number');
        });
        (0, vitest_1.test)('应该优化复杂查询', async () => {
            const query = {
                userId: 'user123',
                folderId: 'folder456',
                search: 'test search',
                tags: ['tag1', 'tag2'],
                sortBy: 'updated',
                sortOrder: 'desc',
                limit: 20,
                offset: 10
            };
            database_unified_1.db.cards.count.mockResolvedValue(1000);
            const result = await optimizer.optimizeCardsQuery(query);
            // 复杂查询应该有更高的成本估算
            (0, vitest_1.expect)(result.plan.estimatedCost).toBeGreaterThan(0);
            // 应该选择合适的索引
            (0, vitest_1.expect)(result.plan.indexes.length).toBeGreaterThan(0);
            // 应该有合理的过滤顺序
            (0, vitest_1.expect)(result.plan.filterOrder.length).toBeGreaterThan(0);
        });
        (0, vitest_1.test)('应该处理无参数查询', async () => {
            const query = {};
            database_unified_1.db.cards.count.mockResolvedValue(500);
            const result = await optimizer.optimizeCardsQuery(query);
            (0, vitest_1.expect)(result.plan.estimatedCost).toBe(0);
            (0, vitest_1.expect)(result.plan.indexes.length).toBe(0);
            (0, vitest_1.expect)(result.plan.filterOrder.length).toBe(0);
        });
        (0, vitest_1.test)('应该估算结果数量', async () => {
            const query = {
                userId: 'user123',
                limit: 10
            };
            database_unified_1.db.cards.count.mockResolvedValue(100);
            const result = await optimizer.optimizeCardsQuery(query);
            // 基于用户ID的选择性估算
            (0, vitest_1.expect)(result.estimatedRows).toBe(10); // 100 * 0.1 = 10
        });
        (0, vitest_1.test)('应该在数据库错误时使用保守估算', async () => {
            const query = {
                userId: 'user123',
                limit: 20
            };
            database_unified_1.db.cards.count.mockRejectedValue(new Error('Database error'));
            const result = await optimizer.optimizeCardsQuery(query);
            // 使用查询limit作为保守估算
            (0, vitest_1.expect)(result.estimatedRows).toBe(20);
        });
    });
    (0, vitest_1.describe)('查询模式分析', () => {
        (0, vitest_1.test)('应该分析查询选择性', () => {
            // 通过私有方法测试
            const selectivity = optimizer.calculateSelectivity({
                userId: 'user123',
                folderId: 'folder456',
                search: 'test',
                tags: ['tag1']
            });
            // 预期：0.1 * 0.3 * 0.7 * 0.5 = 0.0105，但最小为0.01
            (0, vitest_1.expect)(selectivity).toBeCloseTo(0.0105, 3);
        });
        (0, vitest_1.test)('应该计算查询复杂度', () => {
            const complexity = optimizer.calculateComplexity({
                userId: 'user123',
                folderId: 'folder456',
                search: 'test search',
                tags: ['tag1', 'tag2', 'tag3'],
                sortBy: 'updated',
                limit: 10
            });
            // 预期：1 + 1 + 3 + 1.5 + 1 + 0.5 = 8
            (0, vitest_1.expect)(complexity).toBeCloseTo(8, 1);
        });
        (0, vitest_1.test)('应该分析查询模式特征', () => {
            const analysis = optimizer.analyzeQueryPattern({
                userId: 'user123',
                search: 'test',
                limit: 10
            });
            (0, vitest_1.expect)(analysis).toHaveProperty('hasUserId', true);
            (0, vitest_1.expect)(analysis).toHaveProperty('hasFolderId', false);
            (0, vitest_1.expect)(analysis).toHaveProperty('hasSearch', true);
            (0, vitest_1.expect)(analysis).toHaveProperty('hasTags', false);
            (0, vitest_1.expect)(analysis).toHaveProperty('hasSort', false);
            (0, vitest_1.expect)(analysis).toHaveProperty('hasPagination', true);
            (0, vitest_1.expect)(analysis).toHaveProperty('selectivity');
            (0, vitest_1.expect)(analysis).toHaveProperty('complexity');
        });
    });
    (0, vitest_1.describe)('查询计划生成', () => {
        (0, vitest_1.test)('应该生成优化的查询计划', () => {
            const analysis = {
                hasUserId: true,
                hasFolderId: true,
                hasSearch: false,
                hasTags: false,
                hasSort: true,
                hasPagination: true,
                selectivity: 0.03,
                complexity: 3.5
            };
            const plan = optimizer.generateQueryPlan(analysis);
            (0, vitest_1.expect)(plan).toHaveProperty('estimatedCost');
            (0, vitest_1.expect)(plan).toHaveProperty('indexes');
            (0, vitest_1.expect)(plan).toHaveProperty('filterOrder');
            (0, vitest_1.expect)(plan).toHaveProperty('limitStrategy');
            (0, vitest_1.expect)(plan).toHaveProperty('cacheKey');
            (0, vitest_1.expect)(plan).toHaveProperty('cacheTTL');
            // 应该选择复合索引
            (0, vitest_1.expect)(plan.indexes).toContain('[userId+folderId+updatedAt]');
            // 应该确定过滤顺序
            (0, vitest_1.expect)(plan.filterOrder).toEqual(['userId', 'folderId']);
            // 高选择性查询应该使用游标分页
            (0, vitest_1.expect)(plan.limitStrategy).toBe('cursor');
        });
        (0, vitest_1.test)('应该选择最佳索引', () => {
            const analysis = {
                hasUserId: true,
                hasFolderId: false,
                hasSearch: true,
                hasTags: true,
                hasSort: false
            };
            const indexes = optimizer.selectBestIndexes(analysis);
            (0, vitest_1.expect)(indexes).toContain('[userId+createdAt]');
            (0, vitest_1.expect)(indexes).toContain('[searchVector+userId]');
            (0, vitest_1.expect)(indexes).toContain('userId');
        });
        (0, vitest_1.test)('应该确定过滤顺序', () => {
            const analysis = {
                hasUserId: true,
                hasFolderId: true,
                hasSearch: true,
                hasTags: true
            };
            const order = optimizer.determineFilterOrder(analysis);
            (0, vitest_1.expect)(order).toEqual(['userId', 'folderId', 'tags', 'search']);
        });
        (0, vitest_1.test)('应该选择合适的分页策略', () => {
            // 高选择性查询使用游标
            const strategy1 = optimizer.selectPaginationStrategy({
                selectivity: 0.05
            });
            (0, vitest_1.expect)(strategy1).toBe('cursor');
            // 低选择性查询使用偏移
            const strategy2 = optimizer.selectPaginationStrategy({
                selectivity: 0.5
            });
            (0, vitest_1.expect)(strategy2).toBe('offset');
        });
        (0, vitest_1.test)('应该生成缓存键', () => {
            const analysis = {
                hasUserId: true,
                hasFolderId: false,
                hasSearch: true,
                hasTags: false,
                hasSort: true
            };
            const cacheKey = optimizer.generateCacheKey(analysis);
            (0, vitest_1.expect)(cacheKey).toBe('user-no-folder-search-no-tags-sort');
        });
        (0, vitest_1.test)('应该计算缓存TTL', () => {
            const analysis1 = {
                selectivity: 0.05, // 高选择性
                complexity: 2, // 简单
                hasSearch: false
            };
            const ttl1 = optimizer.calculateCacheTTL(analysis1);
            (0, vitest_1.expect)(ttl1).toBe(90000); // 30000 * 2 * 1.5 = 90000
            const analysis2 = {
                selectivity: 0.5, // 低选择性
                complexity: 5, // 复杂
                hasSearch: true // 搜索
            };
            const ttl2 = optimizer.calculateCacheTTL(analysis2);
            (0, vitest_1.expect)(ttl2).toBe(15000); // 30000 * 0.5 = 15000
        });
    });
    (0, vitest_1.describe)('优化查询构建', () => {
        (0, vitest_1.test)('应该构建优化的查询', () => {
            const plan = {
                estimatedCost: 50,
                indexes: ['[userId+createdAt]'],
                filterOrder: ['userId'],
                limitStrategy: 'offset',
                cacheKey: 'user-no-folder',
                cacheTTL: 30000
            };
            const originalQuery = {
                userId: 'user123',
                limit: 10,
                offset: 5
            };
            const optimizedQuery = optimizer.buildOptimizedQuery(plan, originalQuery);
            // 应该返回一个查询对象
            (0, vitest_1.expect)(optimizedQuery).toBeDefined();
            // 验证方法链调用
            (0, vitest_1.expect)(database_unified_1.db.cards.where).toHaveBeenCalledWith('userId');
            (0, vitest_1.expect)(database_unified_1.db.cards.where().equals).toHaveBeenCalledWith('user123');
            (0, vitest_1.expect)(database_unified_1.db.cards.where().equals().limit).toHaveBeenCalledWith(10);
            (0, vitest_1.expect)(database_unified_1.db.cards.where().equals().limit().offset).toHaveBeenCalledWith(5);
        });
        (0, vitest_1.test)('应该应用搜索过滤', () => {
            const plan = {
                estimatedCost: 100,
                indexes: ['[searchVector+userId]'],
                filterOrder: ['search'],
                limitStrategy: 'offset',
                cacheKey: 'search',
                cacheTTL: 15000
            };
            const originalQuery = {
                search: 'test search',
                limit: 20
            };
            const optimizedQuery = optimizer.buildOptimizedQuery(plan, originalQuery);
            (0, vitest_1.expect)(database_unified_1.db.cards.filter).toHaveBeenCalled();
            // 验证过滤函数
            const filterCall = database_unified_1.db.cards.filter.mock.calls[0][0];
            const testCard = {
                searchVector: 'test search content',
                frontContent: { tags: [] },
                backContent: { tags: [] }
            };
            (0, vitest_1.expect)(filterCall(testCard)).toBe(true);
        });
        (0, vitest_1.test)('应该应用标签过滤', () => {
            const plan = {
                estimatedCost: 75,
                indexes: ['userId'],
                filterOrder: ['tags'],
                limitStrategy: 'offset',
                cacheKey: 'tags',
                cacheTTL: 30000
            };
            const originalQuery = {
                tags: ['important', 'work'],
                limit: 15
            };
            const optimizedQuery = optimizer.buildOptimizedQuery(plan, originalQuery);
            (0, vitest_1.expect)(database_unified_1.db.cards.filter).toHaveBeenCalled();
            // 验证标签过滤函数
            const filterCall = database_unified_1.db.cards.filter.mock.calls[0][0];
            const testCard = {
                frontContent: { tags: ['important', 'personal'] },
                backContent: { tags: ['work'] }
            };
            (0, vitest_1.expect)(filterCall(testCard)).toBe(true);
        });
        (0, vitest_1.test)('应该应用排序', () => {
            const plan = {
                estimatedCost: 25,
                indexes: ['updatedAt'],
                filterOrder: [],
                limitStrategy: 'offset',
                cacheKey: 'sort',
                cacheTTL: 30000
            };
            const originalQuery = {
                sortBy: 'updated',
                sortOrder: 'desc',
                limit: 10
            };
            const optimizedQuery = optimizer.buildOptimizedQuery(plan, originalQuery);
            (0, vitest_1.expect)(database_unified_1.db.cards.orderBy).toHaveBeenCalledWith('updatedAt');
            (0, vitest_1.expect)(database_unified_1.db.cards.orderBy().reverse).toHaveBeenCalled();
        });
        (0, vitest_1.test)('应该使用默认排序', () => {
            const plan = {
                estimatedCost: 10,
                indexes: [],
                filterOrder: [],
                limitStrategy: 'offset',
                cacheKey: 'no-sort',
                cacheTTL: 30000
            };
            const originalQuery = {
                limit: 10
            };
            const optimizedQuery = optimizer.buildOptimizedQuery(plan, originalQuery);
            (0, vitest_1.expect)(database_unified_1.db.cards.orderBy).toHaveBeenCalledWith('updatedAt');
        });
    });
    (0, vitest_1.describe)('性能统计和分析', () => {
        (0, vitest_1.test)('应该记录查询分析', () => {
            const plan = {
                estimatedCost: 50,
                indexes: ['[userId+createdAt]', 'updatedAt'],
                filterOrder: ['userId'],
                limitStrategy: 'offset',
                cacheKey: 'user',
                cacheTTL: 30000
            };
            const analysis = {
                hasUserId: true,
                hasFolderId: false,
                hasSearch: false,
                hasTags: false,
                hasSort: false,
                hasPagination: false,
                selectivity: 0.1,
                complexity: 1
            }(optimizer).recordQueryAnalysis(analysis, plan, 5.2);
            // 检查索引统计
            const stats = optimizer.getIndexStats();
            (0, vitest_1.expect)(stats.length).toBe(2);
            (0, vitest_1.expect)(stats[0].hits).toBe(1);
            (0, vitest_1.expect)(stats[1].hits).toBe(1);
            // 检查性能报告
            const report = optimizer.getPerformanceReport();
            (0, vitest_1.expect)(report.totalQueries).toBe(1);
            (0, vitest_1.expect)(report.avgOptimizationTime).toBe(5.2);
            (0, vitest_1.expect)(report.mostUsedIndexes).toEqual(['[userId+createdAt]', 'updatedAt']);
        });
        (0, vitest_1.test)('应该跟踪最常用的索引', () => {
            // 模拟多次查询
            for (let i = 0; i < 5; i++) {
                const plan = {
                    estimatedCost: 30,
                    indexes: ['index1'],
                    filterOrder: [],
                    limitStrategy: 'offset',
                    cacheKey: 'test',
                    cacheTTL: 30000
                };
                const analysis = { hasUserId: false, hasFolderId: false, hasSearch: false, hasTags: false, hasSort: false, hasPagination: false, selectivity: 1, complexity: 0 }(optimizer).recordQueryAnalysis(analysis, plan, 1);
            }
            for (let i = 0; i < 3; i++) {
                const plan = {
                    estimatedCost: 40,
                    indexes: ['index2'],
                    filterOrder: [],
                    limitStrategy: 'offset',
                    cacheKey: 'test',
                    cacheTTL: 30000
                };
                const analysis = { hasUserId: false, hasFolderId: false, hasSearch: false, hasTags: false, hasSort: false, hasPagination: false, selectivity: 1, complexity: 0 }(optimizer).recordQueryAnalysis(analysis, plan, 1);
            }
            const report = optimizer.getPerformanceReport();
            (0, vitest_1.expect)(report.mostUsedIndexes[0]).toBe('index1');
            (0, vitest_1.expect)(report.mostUsedIndexes[1]).toBe('index2');
        });
        (0, vitest_1.test)('应该生成优化建议', () => {
            // 添加一些低使用率的索引
            for (let i = 0; i < 5; i++) {
                const plan = {
                    estimatedCost: 50,
                    indexes: ['underused-index'],
                    filterOrder: [],
                    limitStrategy: 'offset',
                    cacheKey: 'test',
                    cacheTTL: 30000
                };
                const analysis = { hasUserId: false, hasFolderId: false, hasSearch: false, hasTags: false, hasSort: false, hasPagination: false, selectivity: 1, complexity: 0 }(optimizer).recordQueryAnalysis(analysis, plan, 1);
            }
            // 添加一些慢查询
            for (let i = 0; i < 3; i++) {
                const plan = {
                    estimatedCost: 100,
                    indexes: ['slow-index'],
                    filterOrder: [],
                    limitStrategy: 'offset',
                    cacheKey: 'slow',
                    cacheTTL: 30000
                };
                const analysis = { hasUserId: false, hasFolderId: false, hasSearch: false, hasTags: false, hasSort: false, hasPagination: false, selectivity: 1, complexity: 0 }(optimizer).recordQueryAnalysis(analysis, plan, 100); // 100ms 慢查询
            }
            const report = optimizer.getPerformanceReport();
            (0, vitest_1.expect)(report.recommendations.length).toBeGreaterThan(0);
            (0, vitest_1.expect)(report.recommendations[0]).toContain('考虑删除低使用率索引');
            (0, vitest_1.expect)(report.recommendations[1]).toContain('发现 1 个慢查询模式');
        });
    });
    (0, vitest_1.describe)('清理功能', () => {
        (0, vitest_1.test)('应该清理旧统计数据', () => {
            // 添加一些查询指标
            const oldDate = new Date(Date.now() - 10 * 24 * 60 * 60 * 1000); // 10天前
            const recentDate = new Date();
            // 模拟旧查询
            const oldPlan = {
                estimatedCost: 50,
                indexes: ['old-index'],
                filterOrder: [],
                limitStrategy: 'offset',
                cacheKey: 'old',
                cacheTTL: 30000
            };
            const oldAnalysis = { hasUserId: false, hasFolderId: false, hasSearch: false, hasTags: false, hasSort: false, hasPagination: false, selectivity: 1, complexity: 0 };
            optimizer.recordQueryAnalysis(oldAnalysis, oldPlan, oldDate.getTime());
            // 模拟新查询
            const newPlan = {
                estimatedCost: 30,
                indexes: ['new-index'],
                filterOrder: [],
                limitStrategy: 'offset',
                cacheKey: 'new',
                cacheTTL: 30000
            };
            const newAnalysis = { hasUserId: false, hasFolderId: false, hasSearch: false, hasTags: false, hasSort: false, hasPagination: false, selectivity: 1, complexity: 0 };
            optimizer.recordQueryAnalysis(newAnalysis, newPlan, recentDate.getTime());
            // 清理7天前的数据
            optimizer.cleanup();
            // 旧数据应该被清理
            const report = optimizer.getPerformanceReport();
            (0, vitest_1.expect)(report.totalQueries).toBe(1); // 只剩下新查询
        });
        (0, vitest_1.test)('应该处理清理时的边界情况', () => {
            // 空状态清理
            (0, vitest_1.expect)(() => optimizer.cleanup()).not.toThrow();
        });
    });
    (0, vitest_1.describe)('边界情况和错误处理', () => {
        (0, vitest_1.test)('应该处理无效的查询参数', async () => {
            const invalidQuery = {
                userId: null,
                folderId: undefined,
                tags: null,
                sortBy: 'invalid_field'
            };
            database_unified_1.db.cards.count.mockResolvedValue(100);
            const result = await optimizer.optimizeCardsQuery(invalidQuery);
            // 应该优雅处理无效参数
            (0, vitest_1.expect)(result).toBeDefined();
            (0, vitest_1.expect)(result.plan).toBeDefined();
        });
        (0, vitest_1.test)('应该处理空字符串搜索', async () => {
            const query = {
                search: '',
                userId: 'user123'
            };
            database_unified_1.db.cards.count.mockResolvedValue(100);
            const result = await optimizer.optimizeCardsQuery(query);
            // 空搜索不应该影响分析
            (0, vitest_1.expect)(result.plan.cacheKey).toContain('no-search');
        });
        (0, vitest_1.test)('应该处理数据库连接错误', async () => {
            const query = {
                userId: 'user123',
                limit: 10
            };
            database_unified_1.db.cards.count.mockRejectedValue(new Error('Connection failed'));
            const result = await optimizer.optimizeCardsQuery(query);
            // 应该使用保守估算
            (0, vitest_1.expect)(result.estimatedRows).toBe(10);
        });
    });
    (0, vitest_1.describe)('性能测试', () => {
        (0, vitest_1.test)('应该保持良好的查询优化性能', async () => {
            const query = {
                userId: 'user123',
                folderId: 'folder456',
                search: 'performance test',
                tags: ['perf', 'test'],
                sortBy: 'updated',
                sortOrder: 'desc',
                limit: 50
            };
            database_unified_1.db.cards.count.mockResolvedValue(1000);
            const start = performance.now();
            // 执行多次优化操作
            for (let i = 0; i < 100; i++) {
                await optimizer.optimizeCardsQuery(query);
            }
            const end = performance.now();
            const duration = end - start;
            // 100次优化操作应该在合理时间内完成
            (0, vitest_1.expect)(duration).toBeLessThan(1000); // 1秒
        });
        (0, vitest_1.test)('应该避免内存泄漏', () => {
            // 创建多个优化器实例
            const instances = [];
            for (let i = 0; i < 100; i++) {
                instances.push(new query_optimizer_1.QueryOptimizer());
            }
            // 清理
            instances.length = 0;
            // 如果没有内存泄漏，这个测试应该通过
            (0, vitest_1.expect)(true).toBe(true);
        });
    });
    (0, vitest_1.describe)('TypeScript类型检查', () => {
        (0, vitest_1.test)('应该符合TypeScript接口', () => {
            const stats = optimizer.getIndexStats();
            (0, vitest_1.expect)(Array.isArray(stats)).toBe(true);
            const report = optimizer.getPerformanceReport();
            (0, vitest_1.expect)(report).toHaveProperty('totalQueries');
            (0, vitest_1.expect)(report).toHaveProperty('avgOptimizationTime');
            (0, vitest_1.expect)(report).toHaveProperty('mostUsedIndexes');
            (0, vitest_1.expect)(report).toHaveProperty('recommendations');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHNyY1xcX190ZXN0c19fXFx1dGlsc1xccXVlcnktb3B0aW1pemVyLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7R0FHRzs7QUFFSCxtQ0FBMEU7QUFDMUUsaUVBQW1GO0FBQ25GLHNFQUFvRDtBQUVwRCxnQkFBZ0I7QUFDaEIsV0FBRSxDQUFDLElBQUksQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ2hELEVBQUUsRUFBRTtRQUNGLEtBQUssRUFBRTtZQUNMLEtBQUssRUFBRSxXQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQy9CLEdBQUcsRUFBRSxXQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQzdCLE1BQU0sRUFBRSxXQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQ2hDLE1BQU0sRUFBRSxXQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQ2hDLE9BQU8sRUFBRSxXQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQ2pDLE9BQU8sRUFBRSxXQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQ2pDLEtBQUssRUFBRSxXQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQy9CLE1BQU0sRUFBRSxXQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFO1lBQ2hDLEtBQUssRUFBRSxXQUFFLENBQUMsRUFBRSxFQUFFO1NBQ2Y7S0FDRjtDQUNGLENBQUMsQ0FBQyxDQUFBO0FBRUgsSUFBQSxpQkFBUSxFQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRTtJQUM5QixJQUFJLFNBQXlCLENBQUE7SUFFN0IsSUFBQSxtQkFBVSxFQUFDLEdBQUcsRUFBRTtRQUNkLFNBQVMsR0FBRyxJQUFJLGdDQUFjLEVBQUUsQ0FBQTtRQUNoQyxXQUFFLENBQUMsYUFBYSxF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RUFBRTtRQUM5QixJQUFBLGFBQUksRUFBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7WUFDNUIsTUFBTSxLQUFLLEdBQWlCLFNBQVMsQ0FBQyxhQUFhLEVBQUUsQ0FBQTtZQUNyRCxJQUFBLGVBQU0sRUFBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBRXZDLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQyxvQkFBb0IsRUFBRSxDQUFBO1lBQy9DLElBQUEsZUFBTSxFQUFDLE1BQU0sQ0FBQyxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQTtZQUM3QyxJQUFBLGVBQU0sRUFBQyxNQUFNLENBQUMsQ0FBQyxjQUFjLENBQUMscUJBQXFCLENBQUMsQ0FBQTtZQUNwRCxJQUFBLGVBQU0sRUFBQyxNQUFNLENBQUMsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtZQUNoRCxJQUFBLGVBQU0sRUFBQyxNQUFNLENBQUMsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtRQUNsRCxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHNyY1xcX190ZXN0c19fXFx1dGlsc1xccXVlcnktb3B0aW1pemVyLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDmn6Xor6LkvJjljJblmajmtYvor5VcbiAqIOa1i+ivlVF1ZXJ5T3B0aW1pemVy57G755qE5omA5pyJ5Yqf6IO9XG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIHRlc3QsIGV4cGVjdCwgdmksIGJlZm9yZUVhY2gsIGFmdGVyRWFjaCB9IGZyb20gJ3ZpdGVzdCdcbmltcG9ydCB7IFF1ZXJ5T3B0aW1pemVyLCBRdWVyeVBsYW4sIEluZGV4U3RhdHMgfSBmcm9tICcuLi8uLi91dGlscy9xdWVyeS1vcHRpbWl6ZXInXG5pbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2RhdGFiYXNlLXVuaWZpZWQnXG5cbi8vIE1vY2sgZGF0YWJhc2VcbnZpLm1vY2soJy4uLy4uL3NlcnZpY2VzL2RhdGFiYXNlLXVuaWZpZWQnLCAoKSA9PiAoe1xuICBkYjoge1xuICAgIGNhcmRzOiB7XG4gICAgICB3aGVyZTogdmkuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgYW5kOiB2aS5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBmaWx0ZXI6IHZpLmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIHNvcnRCeTogdmkuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgcmV2ZXJzZTogdmkuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgb3JkZXJCeTogdmkuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgbGltaXQ6IHZpLmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIG9mZnNldDogdmkuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgY291bnQ6IHZpLmZuKClcbiAgICB9XG4gIH1cbn0pKVxuXG5kZXNjcmliZSgnUXVlcnlPcHRpbWl6ZXInLCAoKSA9PiB7XG4gIGxldCBvcHRpbWl6ZXI6IFF1ZXJ5T3B0aW1pemVyXG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgb3B0aW1pemVyID0gbmV3IFF1ZXJ5T3B0aW1pemVyKClcbiAgICB2aS5jbGVhckFsbE1vY2tzKClcbiAgfSlcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIHZpLnJlc3RvcmVBbGxNb2NrcygpXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+aehOmAoOWHveaVsOWSjOWIneWni+WMlicsICgpID0+IHtcbiAgICB0ZXN0KCflupTor6XmraPnoa7liJ3lp4vljJbmn6Xor6LkvJjljJblmagnLCAoKSA9PiB7XG4gICAgICBleHBlY3Qob3B0aW1pemVyKS50b0JlSW5zdGFuY2VPZihRdWVyeU9wdGltaXplcilcblxuICAgICAgLy8g5qOA5p+l5Yid5aeL54q25oCBXG4gICAgICBjb25zdCBzdGF0cyA9IG9wdGltaXplci5nZXRJbmRleFN0YXRzKClcbiAgICAgIGV4cGVjdChzdGF0cykudG9FcXVhbChbXSlcblxuICAgICAgY29uc3QgcmVwb3J0ID0gb3B0aW1pemVyLmdldFBlcmZvcm1hbmNlUmVwb3J0KClcbiAgICAgIGV4cGVjdChyZXBvcnQudG90YWxRdWVyaWVzKS50b0JlKDApXG4gICAgICBleHBlY3QocmVwb3J0LmF2Z09wdGltaXphdGlvblRpbWUpLnRvQmUoMClcbiAgICAgIGV4cGVjdChyZXBvcnQubW9zdFVzZWRJbmRleGVzKS50b0VxdWFsKFtdKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+WNoeeJh+afpeivouS8mOWMlicsICgpID0+IHtcbiAgICB0ZXN0KCflupTor6XkvJjljJbnroDljZXmn6Xor6InLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgICAgdXNlcklkOiAndXNlcjEyMycsXG4gICAgICAgIGxpbWl0OiAxMFxuICAgICAgfVxuXG4gICAgICBkYi5jYXJkcy5jb3VudC5tb2NrUmVzb2x2ZWRWYWx1ZSgxMDApXG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wdGltaXplci5vcHRpbWl6ZUNhcmRzUXVlcnkocXVlcnkpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdxdWVyeScpXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncGxhbicpXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnZXN0aW1hdGVkUm93cycpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQucGxhbikudG9IYXZlUHJvcGVydHkoJ2VzdGltYXRlZENvc3QnKVxuICAgICAgZXhwZWN0KHJlc3VsdC5wbGFuKS50b0hhdmVQcm9wZXJ0eSgnaW5kZXhlcycpXG4gICAgICBleHBlY3QocmVzdWx0LnBsYW4pLnRvSGF2ZVByb3BlcnR5KCdmaWx0ZXJPcmRlcicpXG4gICAgICBleHBlY3QocmVzdWx0LnBsYW4pLnRvSGF2ZVByb3BlcnR5KCdjYWNoZUtleScpXG4gICAgICBleHBlY3QocmVzdWx0LnBsYW4pLnRvSGF2ZVByb3BlcnR5KCdjYWNoZVRUTCcpXG5cbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5wbGFuLmluZGV4ZXMpKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQucGxhbi5maWx0ZXJPcmRlcikpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnBsYW4uY2FjaGVLZXkpLnRvQmUoJ3N0cmluZycpXG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5wbGFuLmNhY2hlVFRMKS50b0JlKCdudW1iZXInKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XkvJjljJblpI3mnYLmn6Xor6InLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgICAgdXNlcklkOiAndXNlcjEyMycsXG4gICAgICAgIGZvbGRlcklkOiAnZm9sZGVyNDU2JyxcbiAgICAgICAgc2VhcmNoOiAndGVzdCBzZWFyY2gnLFxuICAgICAgICB0YWdzOiBbJ3RhZzEnLCAndGFnMiddLFxuICAgICAgICBzb3J0Qnk6ICd1cGRhdGVkJyxcbiAgICAgICAgc29ydE9yZGVyOiAnZGVzYycsXG4gICAgICAgIGxpbWl0OiAyMCxcbiAgICAgICAgb2Zmc2V0OiAxMFxuICAgICAgfVxuXG4gICAgICBkYi5jYXJkcy5jb3VudC5tb2NrUmVzb2x2ZWRWYWx1ZSgxMDAwKVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcHRpbWl6ZXIub3B0aW1pemVDYXJkc1F1ZXJ5KHF1ZXJ5KVxuXG4gICAgICAvLyDlpI3mnYLmn6Xor6LlupTor6XmnInmm7Tpq5jnmoTmiJDmnKzkvLDnrpdcbiAgICAgIGV4cGVjdChyZXN1bHQucGxhbi5lc3RpbWF0ZWRDb3N0KS50b0JlR3JlYXRlclRoYW4oMClcblxuICAgICAgLy8g5bqU6K+l6YCJ5oup5ZCI6YCC55qE57Si5byVXG4gICAgICBleHBlY3QocmVzdWx0LnBsYW4uaW5kZXhlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxuXG4gICAgICAvLyDlupTor6XmnInlkIjnkIbnmoTov4fmu6Tpobrluo9cbiAgICAgIGV4cGVjdChyZXN1bHQucGxhbi5maWx0ZXJPcmRlci5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XlpITnkIbml6Dlj4LmlbDmn6Xor6InLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBxdWVyeSA9IHt9XG5cbiAgICAgIGRiLmNhcmRzLmNvdW50Lm1vY2tSZXNvbHZlZFZhbHVlKDUwMClcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3B0aW1pemVyLm9wdGltaXplQ2FyZHNRdWVyeShxdWVyeSlcblxuICAgICAgZXhwZWN0KHJlc3VsdC5wbGFuLmVzdGltYXRlZENvc3QpLnRvQmUoMClcbiAgICAgIGV4cGVjdChyZXN1bHQucGxhbi5pbmRleGVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgZXhwZWN0KHJlc3VsdC5wbGFuLmZpbHRlck9yZGVyLmxlbmd0aCkudG9CZSgwKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XkvLDnrpfnu5PmnpzmlbDph48nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgICAgdXNlcklkOiAndXNlcjEyMycsXG4gICAgICAgIGxpbWl0OiAxMFxuICAgICAgfVxuXG4gICAgICBkYi5jYXJkcy5jb3VudC5tb2NrUmVzb2x2ZWRWYWx1ZSgxMDApXG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wdGltaXplci5vcHRpbWl6ZUNhcmRzUXVlcnkocXVlcnkpXG5cbiAgICAgIC8vIOWfuuS6jueUqOaIt0lE55qE6YCJ5oup5oCn5Lyw566XXG4gICAgICBleHBlY3QocmVzdWx0LmVzdGltYXRlZFJvd3MpLnRvQmUoMTApIC8vIDEwMCAqIDAuMSA9IDEwXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeWcqOaVsOaNruW6k+mUmeivr+aXtuS9v+eUqOS/neWuiOS8sOeulycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0ge1xuICAgICAgICB1c2VySWQ6ICd1c2VyMTIzJyxcbiAgICAgICAgbGltaXQ6IDIwXG4gICAgICB9XG5cbiAgICAgIGRiLmNhcmRzLmNvdW50Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRGF0YWJhc2UgZXJyb3InKSlcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3B0aW1pemVyLm9wdGltaXplQ2FyZHNRdWVyeShxdWVyeSlcblxuICAgICAgLy8g5L2/55So5p+l6K+ibGltaXTkvZzkuLrkv53lrojkvLDnrpdcbiAgICAgIGV4cGVjdChyZXN1bHQuZXN0aW1hdGVkUm93cykudG9CZSgyMClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfmn6Xor6LmqKHlvI/liIbmnpAnLCAoKSA9PiB7XG4gICAgdGVzdCgn5bqU6K+l5YiG5p6Q5p+l6K+i6YCJ5oup5oCnJywgKCkgPT4ge1xuICAgICAgLy8g6YCa6L+H56eB5pyJ5pa55rOV5rWL6K+VXG4gICAgICBjb25zdCBzZWxlY3Rpdml0eSA9IChvcHRpbWl6ZXIgYXMgYW55KS5jYWxjdWxhdGVTZWxlY3Rpdml0eSh7XG4gICAgICAgIHVzZXJJZDogJ3VzZXIxMjMnLFxuICAgICAgICBmb2xkZXJJZDogJ2ZvbGRlcjQ1NicsXG4gICAgICAgIHNlYXJjaDogJ3Rlc3QnLFxuICAgICAgICB0YWdzOiBbJ3RhZzEnXVxuICAgICAgfSlcblxuICAgICAgLy8g6aKE5pyf77yaMC4xICogMC4zICogMC43ICogMC41ID0gMC4wMTA177yM5L2G5pyA5bCP5Li6MC4wMVxuICAgICAgZXhwZWN0KHNlbGVjdGl2aXR5KS50b0JlQ2xvc2VUbygwLjAxMDUsIDMpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeiuoeeul+afpeivouWkjeadguW6picsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXBsZXhpdHkgPSAob3B0aW1pemVyIGFzIGFueSkuY2FsY3VsYXRlQ29tcGxleGl0eSh7XG4gICAgICAgIHVzZXJJZDogJ3VzZXIxMjMnLFxuICAgICAgICBmb2xkZXJJZDogJ2ZvbGRlcjQ1NicsXG4gICAgICAgIHNlYXJjaDogJ3Rlc3Qgc2VhcmNoJyxcbiAgICAgICAgdGFnczogWyd0YWcxJywgJ3RhZzInLCAndGFnMyddLFxuICAgICAgICBzb3J0Qnk6ICd1cGRhdGVkJyxcbiAgICAgICAgbGltaXQ6IDEwXG4gICAgICB9KVxuXG4gICAgICAvLyDpooTmnJ/vvJoxICsgMSArIDMgKyAxLjUgKyAxICsgMC41ID0gOFxuICAgICAgZXhwZWN0KGNvbXBsZXhpdHkpLnRvQmVDbG9zZVRvKDgsIDEpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeWIhuaekOafpeivouaooeW8j+eJueW+gScsICgpID0+IHtcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0gKG9wdGltaXplciBhcyBhbnkpLmFuYWx5emVRdWVyeVBhdHRlcm4oe1xuICAgICAgICB1c2VySWQ6ICd1c2VyMTIzJyxcbiAgICAgICAgc2VhcmNoOiAndGVzdCcsXG4gICAgICAgIGxpbWl0OiAxMFxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KGFuYWx5c2lzKS50b0hhdmVQcm9wZXJ0eSgnaGFzVXNlcklkJywgdHJ1ZSlcbiAgICAgIGV4cGVjdChhbmFseXNpcykudG9IYXZlUHJvcGVydHkoJ2hhc0ZvbGRlcklkJywgZmFsc2UpXG4gICAgICBleHBlY3QoYW5hbHlzaXMpLnRvSGF2ZVByb3BlcnR5KCdoYXNTZWFyY2gnLCB0cnVlKVxuICAgICAgZXhwZWN0KGFuYWx5c2lzKS50b0hhdmVQcm9wZXJ0eSgnaGFzVGFncycsIGZhbHNlKVxuICAgICAgZXhwZWN0KGFuYWx5c2lzKS50b0hhdmVQcm9wZXJ0eSgnaGFzU29ydCcsIGZhbHNlKVxuICAgICAgZXhwZWN0KGFuYWx5c2lzKS50b0hhdmVQcm9wZXJ0eSgnaGFzUGFnaW5hdGlvbicsIHRydWUpXG4gICAgICBleHBlY3QoYW5hbHlzaXMpLnRvSGF2ZVByb3BlcnR5KCdzZWxlY3Rpdml0eScpXG4gICAgICBleHBlY3QoYW5hbHlzaXMpLnRvSGF2ZVByb3BlcnR5KCdjb21wbGV4aXR5JylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfmn6Xor6LorqHliJLnlJ/miJAnLCAoKSA9PiB7XG4gICAgdGVzdCgn5bqU6K+l55Sf5oiQ5LyY5YyW55qE5p+l6K+i6K6h5YiSJywgKCkgPT4ge1xuICAgICAgY29uc3QgYW5hbHlzaXMgPSB7XG4gICAgICAgIGhhc1VzZXJJZDogdHJ1ZSxcbiAgICAgICAgaGFzRm9sZGVySWQ6IHRydWUsXG4gICAgICAgIGhhc1NlYXJjaDogZmFsc2UsXG4gICAgICAgIGhhc1RhZ3M6IGZhbHNlLFxuICAgICAgICBoYXNTb3J0OiB0cnVlLFxuICAgICAgICBoYXNQYWdpbmF0aW9uOiB0cnVlLFxuICAgICAgICBzZWxlY3Rpdml0eTogMC4wMyxcbiAgICAgICAgY29tcGxleGl0eTogMy41XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBsYW4gPSAob3B0aW1pemVyIGFzIGFueSkuZ2VuZXJhdGVRdWVyeVBsYW4oYW5hbHlzaXMpXG5cbiAgICAgIGV4cGVjdChwbGFuKS50b0hhdmVQcm9wZXJ0eSgnZXN0aW1hdGVkQ29zdCcpXG4gICAgICBleHBlY3QocGxhbikudG9IYXZlUHJvcGVydHkoJ2luZGV4ZXMnKVxuICAgICAgZXhwZWN0KHBsYW4pLnRvSGF2ZVByb3BlcnR5KCdmaWx0ZXJPcmRlcicpXG4gICAgICBleHBlY3QocGxhbikudG9IYXZlUHJvcGVydHkoJ2xpbWl0U3RyYXRlZ3knKVxuICAgICAgZXhwZWN0KHBsYW4pLnRvSGF2ZVByb3BlcnR5KCdjYWNoZUtleScpXG4gICAgICBleHBlY3QocGxhbikudG9IYXZlUHJvcGVydHkoJ2NhY2hlVFRMJylcblxuICAgICAgLy8g5bqU6K+l6YCJ5oup5aSN5ZCI57Si5byVXG4gICAgICBleHBlY3QocGxhbi5pbmRleGVzKS50b0NvbnRhaW4oJ1t1c2VySWQrZm9sZGVySWQrdXBkYXRlZEF0XScpXG5cbiAgICAgIC8vIOW6lOivpeehruWumui/h+a7pOmhuuW6j1xuICAgICAgZXhwZWN0KHBsYW4uZmlsdGVyT3JkZXIpLnRvRXF1YWwoWyd1c2VySWQnLCAnZm9sZGVySWQnXSlcblxuICAgICAgLy8g6auY6YCJ5oup5oCn5p+l6K+i5bqU6K+l5L2/55So5ri45qCH5YiG6aG1XG4gICAgICBleHBlY3QocGxhbi5saW1pdFN0cmF0ZWd5KS50b0JlKCdjdXJzb3InKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XpgInmi6nmnIDkvbPntKLlvJUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbmFseXNpcyA9IHtcbiAgICAgICAgaGFzVXNlcklkOiB0cnVlLFxuICAgICAgICBoYXNGb2xkZXJJZDogZmFsc2UsXG4gICAgICAgIGhhc1NlYXJjaDogdHJ1ZSxcbiAgICAgICAgaGFzVGFnczogdHJ1ZSxcbiAgICAgICAgaGFzU29ydDogZmFsc2VcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5kZXhlcyA9IChvcHRpbWl6ZXIgYXMgYW55KS5zZWxlY3RCZXN0SW5kZXhlcyhhbmFseXNpcylcblxuICAgICAgZXhwZWN0KGluZGV4ZXMpLnRvQ29udGFpbignW3VzZXJJZCtjcmVhdGVkQXRdJylcbiAgICAgIGV4cGVjdChpbmRleGVzKS50b0NvbnRhaW4oJ1tzZWFyY2hWZWN0b3IrdXNlcklkXScpXG4gICAgICBleHBlY3QoaW5kZXhlcykudG9Db250YWluKCd1c2VySWQnKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6Xnoa7lrprov4fmu6Tpobrluo8nLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbmFseXNpcyA9IHtcbiAgICAgICAgaGFzVXNlcklkOiB0cnVlLFxuICAgICAgICBoYXNGb2xkZXJJZDogdHJ1ZSxcbiAgICAgICAgaGFzU2VhcmNoOiB0cnVlLFxuICAgICAgICBoYXNUYWdzOiB0cnVlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9yZGVyID0gKG9wdGltaXplciBhcyBhbnkpLmRldGVybWluZUZpbHRlck9yZGVyKGFuYWx5c2lzKVxuXG4gICAgICBleHBlY3Qob3JkZXIpLnRvRXF1YWwoWyd1c2VySWQnLCAnZm9sZGVySWQnLCAndGFncycsICdzZWFyY2gnXSlcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l6YCJ5oup5ZCI6YCC55qE5YiG6aG1562W55WlJywgKCkgPT4ge1xuICAgICAgLy8g6auY6YCJ5oup5oCn5p+l6K+i5L2/55So5ri45qCHXG4gICAgICBjb25zdCBzdHJhdGVneTEgPSAob3B0aW1pemVyIGFzIGFueSkuc2VsZWN0UGFnaW5hdGlvblN0cmF0ZWd5KHtcbiAgICAgICAgc2VsZWN0aXZpdHk6IDAuMDVcbiAgICAgIH0pXG4gICAgICBleHBlY3Qoc3RyYXRlZ3kxKS50b0JlKCdjdXJzb3InKVxuXG4gICAgICAvLyDkvY7pgInmi6nmgKfmn6Xor6Lkvb/nlKjlgY/np7tcbiAgICAgIGNvbnN0IHN0cmF0ZWd5MiA9IChvcHRpbWl6ZXIgYXMgYW55KS5zZWxlY3RQYWdpbmF0aW9uU3RyYXRlZ3koe1xuICAgICAgICBzZWxlY3Rpdml0eTogMC41XG4gICAgICB9KVxuICAgICAgZXhwZWN0KHN0cmF0ZWd5MikudG9CZSgnb2Zmc2V0JylcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l55Sf5oiQ57yT5a2Y6ZSuJywgKCkgPT4ge1xuICAgICAgY29uc3QgYW5hbHlzaXMgPSB7XG4gICAgICAgIGhhc1VzZXJJZDogdHJ1ZSxcbiAgICAgICAgaGFzRm9sZGVySWQ6IGZhbHNlLFxuICAgICAgICBoYXNTZWFyY2g6IHRydWUsXG4gICAgICAgIGhhc1RhZ3M6IGZhbHNlLFxuICAgICAgICBoYXNTb3J0OiB0cnVlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNhY2hlS2V5ID0gKG9wdGltaXplciBhcyBhbnkpLmdlbmVyYXRlQ2FjaGVLZXkoYW5hbHlzaXMpXG5cbiAgICAgIGV4cGVjdChjYWNoZUtleSkudG9CZSgndXNlci1uby1mb2xkZXItc2VhcmNoLW5vLXRhZ3Mtc29ydCcpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeiuoeeul+e8k+WtmFRUTCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGFuYWx5c2lzMSA9IHtcbiAgICAgICAgc2VsZWN0aXZpdHk6IDAuMDUsIC8vIOmrmOmAieaLqeaAp1xuICAgICAgICBjb21wbGV4aXR5OiAyLCAgICAgLy8g566A5Y2VXG4gICAgICAgIGhhc1NlYXJjaDogZmFsc2VcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHRsMSA9IChvcHRpbWl6ZXIgYXMgYW55KS5jYWxjdWxhdGVDYWNoZVRUTChhbmFseXNpczEpXG4gICAgICBleHBlY3QodHRsMSkudG9CZSg5MDAwMCkgLy8gMzAwMDAgKiAyICogMS41ID0gOTAwMDBcblxuICAgICAgY29uc3QgYW5hbHlzaXMyID0ge1xuICAgICAgICBzZWxlY3Rpdml0eTogMC41LCAgLy8g5L2O6YCJ5oup5oCnXG4gICAgICAgIGNvbXBsZXhpdHk6IDUsICAgICAvLyDlpI3mnYJcbiAgICAgICAgaGFzU2VhcmNoOiB0cnVlICAgIC8vIOaQnOe0olxuICAgICAgfVxuXG4gICAgICBjb25zdCB0dGwyID0gKG9wdGltaXplciBhcyBhbnkpLmNhbGN1bGF0ZUNhY2hlVFRMKGFuYWx5c2lzMilcbiAgICAgIGV4cGVjdCh0dGwyKS50b0JlKDE1MDAwKSAvLyAzMDAwMCAqIDAuNSA9IDE1MDAwXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5LyY5YyW5p+l6K+i5p6E5bu6JywgKCkgPT4ge1xuICAgIHRlc3QoJ+W6lOivpeaehOW7uuS8mOWMlueahOafpeivoicsICgpID0+IHtcbiAgICAgIGNvbnN0IHBsYW46IFF1ZXJ5UGxhbiA9IHtcbiAgICAgICAgZXN0aW1hdGVkQ29zdDogNTAsXG4gICAgICAgIGluZGV4ZXM6IFsnW3VzZXJJZCtjcmVhdGVkQXRdJ10sXG4gICAgICAgIGZpbHRlck9yZGVyOiBbJ3VzZXJJZCddLFxuICAgICAgICBsaW1pdFN0cmF0ZWd5OiAnb2Zmc2V0JyxcbiAgICAgICAgY2FjaGVLZXk6ICd1c2VyLW5vLWZvbGRlcicsXG4gICAgICAgIGNhY2hlVFRMOiAzMDAwMFxuICAgICAgfVxuXG4gICAgICBjb25zdCBvcmlnaW5hbFF1ZXJ5ID0ge1xuICAgICAgICB1c2VySWQ6ICd1c2VyMTIzJyxcbiAgICAgICAgbGltaXQ6IDEwLFxuICAgICAgICBvZmZzZXQ6IDVcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb3B0aW1pemVkUXVlcnkgPSAob3B0aW1pemVyIGFzIGFueSkuYnVpbGRPcHRpbWl6ZWRRdWVyeShwbGFuLCBvcmlnaW5hbFF1ZXJ5KVxuXG4gICAgICAvLyDlupTor6Xov5Tlm57kuIDkuKrmn6Xor6Llr7nosaFcbiAgICAgIGV4cGVjdChvcHRpbWl6ZWRRdWVyeSkudG9CZURlZmluZWQoKVxuXG4gICAgICAvLyDpqozor4Hmlrnms5Xpk77osIPnlKhcbiAgICAgIGV4cGVjdChkYi5jYXJkcy53aGVyZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3VzZXJJZCcpXG4gICAgICBleHBlY3QoZGIuY2FyZHMud2hlcmUoKS5lcXVhbHMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd1c2VyMTIzJylcbiAgICAgIGV4cGVjdChkYi5jYXJkcy53aGVyZSgpLmVxdWFscygpLmxpbWl0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgxMClcbiAgICAgIGV4cGVjdChkYi5jYXJkcy53aGVyZSgpLmVxdWFscygpLmxpbWl0KCkub2Zmc2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCg1KVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XlupTnlKjmkJzntKLov4fmu6QnLCAoKSA9PiB7XG4gICAgICBjb25zdCBwbGFuOiBRdWVyeVBsYW4gPSB7XG4gICAgICAgIGVzdGltYXRlZENvc3Q6IDEwMCxcbiAgICAgICAgaW5kZXhlczogWydbc2VhcmNoVmVjdG9yK3VzZXJJZF0nXSxcbiAgICAgICAgZmlsdGVyT3JkZXI6IFsnc2VhcmNoJ10sXG4gICAgICAgIGxpbWl0U3RyYXRlZ3k6ICdvZmZzZXQnLFxuICAgICAgICBjYWNoZUtleTogJ3NlYXJjaCcsXG4gICAgICAgIGNhY2hlVFRMOiAxNTAwMFxuICAgICAgfVxuXG4gICAgICBjb25zdCBvcmlnaW5hbFF1ZXJ5ID0ge1xuICAgICAgICBzZWFyY2g6ICd0ZXN0IHNlYXJjaCcsXG4gICAgICAgIGxpbWl0OiAyMFxuICAgICAgfVxuXG4gICAgICBjb25zdCBvcHRpbWl6ZWRRdWVyeSA9IChvcHRpbWl6ZXIgYXMgYW55KS5idWlsZE9wdGltaXplZFF1ZXJ5KHBsYW4sIG9yaWdpbmFsUXVlcnkpXG5cbiAgICAgIGV4cGVjdChkYi5jYXJkcy5maWx0ZXIpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuXG4gICAgICAvLyDpqozor4Hov4fmu6Tlh73mlbBcbiAgICAgIGNvbnN0IGZpbHRlckNhbGwgPSBkYi5jYXJkcy5maWx0ZXIubW9jay5jYWxsc1swXVswXVxuICAgICAgY29uc3QgdGVzdENhcmQgPSB7XG4gICAgICAgIHNlYXJjaFZlY3RvcjogJ3Rlc3Qgc2VhcmNoIGNvbnRlbnQnLFxuICAgICAgICBmcm9udENvbnRlbnQ6IHsgdGFnczogW10gfSxcbiAgICAgICAgYmFja0NvbnRlbnQ6IHsgdGFnczogW10gfVxuICAgICAgfVxuICAgICAgZXhwZWN0KGZpbHRlckNhbGwodGVzdENhcmQpKS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeW6lOeUqOagh+etvui/h+a7pCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHBsYW46IFF1ZXJ5UGxhbiA9IHtcbiAgICAgICAgZXN0aW1hdGVkQ29zdDogNzUsXG4gICAgICAgIGluZGV4ZXM6IFsndXNlcklkJ10sXG4gICAgICAgIGZpbHRlck9yZGVyOiBbJ3RhZ3MnXSxcbiAgICAgICAgbGltaXRTdHJhdGVneTogJ29mZnNldCcsXG4gICAgICAgIGNhY2hlS2V5OiAndGFncycsXG4gICAgICAgIGNhY2hlVFRMOiAzMDAwMFxuICAgICAgfVxuXG4gICAgICBjb25zdCBvcmlnaW5hbFF1ZXJ5ID0ge1xuICAgICAgICB0YWdzOiBbJ2ltcG9ydGFudCcsICd3b3JrJ10sXG4gICAgICAgIGxpbWl0OiAxNVxuICAgICAgfVxuXG4gICAgICBjb25zdCBvcHRpbWl6ZWRRdWVyeSA9IChvcHRpbWl6ZXIgYXMgYW55KS5idWlsZE9wdGltaXplZFF1ZXJ5KHBsYW4sIG9yaWdpbmFsUXVlcnkpXG5cbiAgICAgIGV4cGVjdChkYi5jYXJkcy5maWx0ZXIpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuXG4gICAgICAvLyDpqozor4HmoIfnrb7ov4fmu6Tlh73mlbBcbiAgICAgIGNvbnN0IGZpbHRlckNhbGwgPSBkYi5jYXJkcy5maWx0ZXIubW9jay5jYWxsc1swXVswXVxuICAgICAgY29uc3QgdGVzdENhcmQgPSB7XG4gICAgICAgIGZyb250Q29udGVudDogeyB0YWdzOiBbJ2ltcG9ydGFudCcsICdwZXJzb25hbCddIH0sXG4gICAgICAgIGJhY2tDb250ZW50OiB7IHRhZ3M6IFsnd29yayddIH1cbiAgICAgIH1cbiAgICAgIGV4cGVjdChmaWx0ZXJDYWxsKHRlc3RDYXJkKSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XlupTnlKjmjpLluo8nLCAoKSA9PiB7XG4gICAgICBjb25zdCBwbGFuOiBRdWVyeVBsYW4gPSB7XG4gICAgICAgIGVzdGltYXRlZENvc3Q6IDI1LFxuICAgICAgICBpbmRleGVzOiBbJ3VwZGF0ZWRBdCddLFxuICAgICAgICBmaWx0ZXJPcmRlcjogW10sXG4gICAgICAgIGxpbWl0U3RyYXRlZ3k6ICdvZmZzZXQnLFxuICAgICAgICBjYWNoZUtleTogJ3NvcnQnLFxuICAgICAgICBjYWNoZVRUTDogMzAwMDBcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb3JpZ2luYWxRdWVyeSA9IHtcbiAgICAgICAgc29ydEJ5OiAndXBkYXRlZCcsXG4gICAgICAgIHNvcnRPcmRlcjogJ2Rlc2MnLFxuICAgICAgICBsaW1pdDogMTBcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb3B0aW1pemVkUXVlcnkgPSAob3B0aW1pemVyIGFzIGFueSkuYnVpbGRPcHRpbWl6ZWRRdWVyeShwbGFuLCBvcmlnaW5hbFF1ZXJ5KVxuXG4gICAgICBleHBlY3QoZGIuY2FyZHMub3JkZXJCeSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3VwZGF0ZWRBdCcpXG4gICAgICBleHBlY3QoZGIuY2FyZHMub3JkZXJCeSgpLnJldmVyc2UpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6Xkvb/nlKjpu5jorqTmjpLluo8nLCAoKSA9PiB7XG4gICAgICBjb25zdCBwbGFuOiBRdWVyeVBsYW4gPSB7XG4gICAgICAgIGVzdGltYXRlZENvc3Q6IDEwLFxuICAgICAgICBpbmRleGVzOiBbXSxcbiAgICAgICAgZmlsdGVyT3JkZXI6IFtdLFxuICAgICAgICBsaW1pdFN0cmF0ZWd5OiAnb2Zmc2V0JyxcbiAgICAgICAgY2FjaGVLZXk6ICduby1zb3J0JyxcbiAgICAgICAgY2FjaGVUVEw6IDMwMDAwXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9yaWdpbmFsUXVlcnkgPSB7XG4gICAgICAgIGxpbWl0OiAxMFxuICAgICAgfVxuXG4gICAgICBjb25zdCBvcHRpbWl6ZWRRdWVyeSA9IChvcHRpbWl6ZXIgYXMgYW55KS5idWlsZE9wdGltaXplZFF1ZXJ5KHBsYW4sIG9yaWdpbmFsUXVlcnkpXG5cbiAgICAgIGV4cGVjdChkYi5jYXJkcy5vcmRlckJ5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndXBkYXRlZEF0JylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfmgKfog73nu5/orqHlkozliIbmnpAnLCAoKSA9PiB7XG4gICAgdGVzdCgn5bqU6K+l6K6w5b2V5p+l6K+i5YiG5p6QJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGxhbjogUXVlcnlQbGFuID0ge1xuICAgICAgICBlc3RpbWF0ZWRDb3N0OiA1MCxcbiAgICAgICAgaW5kZXhlczogWydbdXNlcklkK2NyZWF0ZWRBdF0nLCAndXBkYXRlZEF0J10sXG4gICAgICAgIGZpbHRlck9yZGVyOiBbJ3VzZXJJZCddLFxuICAgICAgICBsaW1pdFN0cmF0ZWd5OiAnb2Zmc2V0JyxcbiAgICAgICAgY2FjaGVLZXk6ICd1c2VyJyxcbiAgICAgICAgY2FjaGVUVEw6IDMwMDAwXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFuYWx5c2lzID0ge1xuICAgICAgICBoYXNVc2VySWQ6IHRydWUsXG4gICAgICAgIGhhc0ZvbGRlcklkOiBmYWxzZSxcbiAgICAgICAgaGFzU2VhcmNoOiBmYWxzZSxcbiAgICAgICAgaGFzVGFnczogZmFsc2UsXG4gICAgICAgIGhhc1NvcnQ6IGZhbHNlLFxuICAgICAgICBoYXNQYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgICAgc2VsZWN0aXZpdHk6IDAuMSxcbiAgICAgICAgY29tcGxleGl0eTogMVxuICAgICAgfVxuXG4gICAgICAvLyDorrDlvZXliIbmnpBcbiAgICAgIChvcHRpbWl6ZXIgYXMgYW55KS5yZWNvcmRRdWVyeUFuYWx5c2lzKGFuYWx5c2lzLCBwbGFuLCA1LjIpXG5cbiAgICAgIC8vIOajgOafpee0ouW8lee7n+iuoVxuICAgICAgY29uc3Qgc3RhdHMgPSBvcHRpbWl6ZXIuZ2V0SW5kZXhTdGF0cygpXG4gICAgICBleHBlY3Qoc3RhdHMubGVuZ3RoKS50b0JlKDIpXG4gICAgICBleHBlY3Qoc3RhdHNbMF0uaGl0cykudG9CZSgxKVxuICAgICAgZXhwZWN0KHN0YXRzWzFdLmhpdHMpLnRvQmUoMSlcblxuICAgICAgLy8g5qOA5p+l5oCn6IO95oql5ZGKXG4gICAgICBjb25zdCByZXBvcnQgPSBvcHRpbWl6ZXIuZ2V0UGVyZm9ybWFuY2VSZXBvcnQoKVxuICAgICAgZXhwZWN0KHJlcG9ydC50b3RhbFF1ZXJpZXMpLnRvQmUoMSlcbiAgICAgIGV4cGVjdChyZXBvcnQuYXZnT3B0aW1pemF0aW9uVGltZSkudG9CZSg1LjIpXG4gICAgICBleHBlY3QocmVwb3J0Lm1vc3RVc2VkSW5kZXhlcykudG9FcXVhbChbJ1t1c2VySWQrY3JlYXRlZEF0XScsICd1cGRhdGVkQXQnXSlcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l6Lef6Liq5pyA5bi455So55qE57Si5byVJywgKCkgPT4ge1xuICAgICAgLy8g5qih5ouf5aSa5qyh5p+l6K+iXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICBjb25zdCBwbGFuOiBRdWVyeVBsYW4gPSB7XG4gICAgICAgICAgZXN0aW1hdGVkQ29zdDogMzAsXG4gICAgICAgICAgaW5kZXhlczogWydpbmRleDEnXSxcbiAgICAgICAgICBmaWx0ZXJPcmRlcjogW10sXG4gICAgICAgICAgbGltaXRTdHJhdGVneTogJ29mZnNldCcsXG4gICAgICAgICAgY2FjaGVLZXk6ICd0ZXN0JyxcbiAgICAgICAgICBjYWNoZVRUTDogMzAwMDBcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFuYWx5c2lzID0geyBoYXNVc2VySWQ6IGZhbHNlLCBoYXNGb2xkZXJJZDogZmFsc2UsIGhhc1NlYXJjaDogZmFsc2UsIGhhc1RhZ3M6IGZhbHNlLCBoYXNTb3J0OiBmYWxzZSwgaGFzUGFnaW5hdGlvbjogZmFsc2UsIHNlbGVjdGl2aXR5OiAxLCBjb21wbGV4aXR5OiAwIH1cbiAgICAgICAgKG9wdGltaXplciBhcyBhbnkpLnJlY29yZFF1ZXJ5QW5hbHlzaXMoYW5hbHlzaXMsIHBsYW4sIDEpXG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBsYW46IFF1ZXJ5UGxhbiA9IHtcbiAgICAgICAgICBlc3RpbWF0ZWRDb3N0OiA0MCxcbiAgICAgICAgICBpbmRleGVzOiBbJ2luZGV4MiddLFxuICAgICAgICAgIGZpbHRlck9yZGVyOiBbXSxcbiAgICAgICAgICBsaW1pdFN0cmF0ZWd5OiAnb2Zmc2V0JyxcbiAgICAgICAgICBjYWNoZUtleTogJ3Rlc3QnLFxuICAgICAgICAgIGNhY2hlVFRMOiAzMDAwMFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYW5hbHlzaXMgPSB7IGhhc1VzZXJJZDogZmFsc2UsIGhhc0ZvbGRlcklkOiBmYWxzZSwgaGFzU2VhcmNoOiBmYWxzZSwgaGFzVGFnczogZmFsc2UsIGhhc1NvcnQ6IGZhbHNlLCBoYXNQYWdpbmF0aW9uOiBmYWxzZSwgc2VsZWN0aXZpdHk6IDEsIGNvbXBsZXhpdHk6IDAgfVxuICAgICAgICAob3B0aW1pemVyIGFzIGFueSkucmVjb3JkUXVlcnlBbmFseXNpcyhhbmFseXNpcywgcGxhbiwgMSlcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVwb3J0ID0gb3B0aW1pemVyLmdldFBlcmZvcm1hbmNlUmVwb3J0KClcbiAgICAgIGV4cGVjdChyZXBvcnQubW9zdFVzZWRJbmRleGVzWzBdKS50b0JlKCdpbmRleDEnKVxuICAgICAgZXhwZWN0KHJlcG9ydC5tb3N0VXNlZEluZGV4ZXNbMV0pLnRvQmUoJ2luZGV4MicpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeeUn+aIkOS8mOWMluW7uuiuricsICgpID0+IHtcbiAgICAgIC8vIOa3u+WKoOS4gOS6m+S9juS9v+eUqOeOh+eahOe0ouW8lVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgY29uc3QgcGxhbjogUXVlcnlQbGFuID0ge1xuICAgICAgICAgIGVzdGltYXRlZENvc3Q6IDUwLFxuICAgICAgICAgIGluZGV4ZXM6IFsndW5kZXJ1c2VkLWluZGV4J10sXG4gICAgICAgICAgZmlsdGVyT3JkZXI6IFtdLFxuICAgICAgICAgIGxpbWl0U3RyYXRlZ3k6ICdvZmZzZXQnLFxuICAgICAgICAgIGNhY2hlS2V5OiAndGVzdCcsXG4gICAgICAgICAgY2FjaGVUVEw6IDMwMDAwXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhbmFseXNpcyA9IHsgaGFzVXNlcklkOiBmYWxzZSwgaGFzRm9sZGVySWQ6IGZhbHNlLCBoYXNTZWFyY2g6IGZhbHNlLCBoYXNUYWdzOiBmYWxzZSwgaGFzU29ydDogZmFsc2UsIGhhc1BhZ2luYXRpb246IGZhbHNlLCBzZWxlY3Rpdml0eTogMSwgY29tcGxleGl0eTogMCB9XG4gICAgICAgIChvcHRpbWl6ZXIgYXMgYW55KS5yZWNvcmRRdWVyeUFuYWx5c2lzKGFuYWx5c2lzLCBwbGFuLCAxKVxuICAgICAgfVxuXG4gICAgICAvLyDmt7vliqDkuIDkupvmhaLmn6Xor6JcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBsYW46IFF1ZXJ5UGxhbiA9IHtcbiAgICAgICAgICBlc3RpbWF0ZWRDb3N0OiAxMDAsXG4gICAgICAgICAgaW5kZXhlczogWydzbG93LWluZGV4J10sXG4gICAgICAgICAgZmlsdGVyT3JkZXI6IFtdLFxuICAgICAgICAgIGxpbWl0U3RyYXRlZ3k6ICdvZmZzZXQnLFxuICAgICAgICAgIGNhY2hlS2V5OiAnc2xvdycsXG4gICAgICAgICAgY2FjaGVUVEw6IDMwMDAwXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhbmFseXNpcyA9IHsgaGFzVXNlcklkOiBmYWxzZSwgaGFzRm9sZGVySWQ6IGZhbHNlLCBoYXNTZWFyY2g6IGZhbHNlLCBoYXNUYWdzOiBmYWxzZSwgaGFzU29ydDogZmFsc2UsIGhhc1BhZ2luYXRpb246IGZhbHNlLCBzZWxlY3Rpdml0eTogMSwgY29tcGxleGl0eTogMCB9XG4gICAgICAgIChvcHRpbWl6ZXIgYXMgYW55KS5yZWNvcmRRdWVyeUFuYWx5c2lzKGFuYWx5c2lzLCBwbGFuLCAxMDApIC8vIDEwMG1zIOaFouafpeivolxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXBvcnQgPSBvcHRpbWl6ZXIuZ2V0UGVyZm9ybWFuY2VSZXBvcnQoKVxuICAgICAgZXhwZWN0KHJlcG9ydC5yZWNvbW1lbmRhdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcbiAgICAgIGV4cGVjdChyZXBvcnQucmVjb21tZW5kYXRpb25zWzBdKS50b0NvbnRhaW4oJ+iAg+iZkeWIoOmZpOS9juS9v+eUqOeOh+e0ouW8lScpXG4gICAgICBleHBlY3QocmVwb3J0LnJlY29tbWVuZGF0aW9uc1sxXSkudG9Db250YWluKCflj5HnjrAgMSDkuKrmhaLmn6Xor6LmqKHlvI8nKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+a4heeQhuWKn+iDvScsICgpID0+IHtcbiAgICB0ZXN0KCflupTor6XmuIXnkIbml6fnu5/orqHmlbDmja4nLCAoKSA9PiB7XG4gICAgICAvLyDmt7vliqDkuIDkupvmn6Xor6LmjIfmoIdcbiAgICAgIGNvbnN0IG9sZERhdGUgPSBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyAxMOWkqeWJjVxuICAgICAgY29uc3QgcmVjZW50RGF0ZSA9IG5ldyBEYXRlKClcblxuICAgICAgLy8g5qih5ouf5pen5p+l6K+iXG4gICAgICBjb25zdCBvbGRQbGFuOiBRdWVyeVBsYW4gPSB7XG4gICAgICAgIGVzdGltYXRlZENvc3Q6IDUwLFxuICAgICAgICBpbmRleGVzOiBbJ29sZC1pbmRleCddLFxuICAgICAgICBmaWx0ZXJPcmRlcjogW10sXG4gICAgICAgIGxpbWl0U3RyYXRlZ3k6ICdvZmZzZXQnLFxuICAgICAgICBjYWNoZUtleTogJ29sZCcsXG4gICAgICAgIGNhY2hlVFRMOiAzMDAwMFxuICAgICAgfVxuXG4gICAgICBjb25zdCBvbGRBbmFseXNpcyA9IHsgaGFzVXNlcklkOiBmYWxzZSwgaGFzRm9sZGVySWQ6IGZhbHNlLCBoYXNTZWFyY2g6IGZhbHNlLCBoYXNUYWdzOiBmYWxzZSwgaGFzU29ydDogZmFsc2UsIGhhc1BhZ2luYXRpb246IGZhbHNlLCBzZWxlY3Rpdml0eTogMSwgY29tcGxleGl0eTogMCB9XG4gICAgICA7KG9wdGltaXplciBhcyBhbnkpLnJlY29yZFF1ZXJ5QW5hbHlzaXMob2xkQW5hbHlzaXMsIG9sZFBsYW4sIG9sZERhdGUuZ2V0VGltZSgpKVxuXG4gICAgICAvLyDmqKHmi5/mlrDmn6Xor6JcbiAgICAgIGNvbnN0IG5ld1BsYW46IFF1ZXJ5UGxhbiA9IHtcbiAgICAgICAgZXN0aW1hdGVkQ29zdDogMzAsXG4gICAgICAgIGluZGV4ZXM6IFsnbmV3LWluZGV4J10sXG4gICAgICAgIGZpbHRlck9yZGVyOiBbXSxcbiAgICAgICAgbGltaXRTdHJhdGVneTogJ29mZnNldCcsXG4gICAgICAgIGNhY2hlS2V5OiAnbmV3JyxcbiAgICAgICAgY2FjaGVUVEw6IDMwMDAwXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld0FuYWx5c2lzID0geyBoYXNVc2VySWQ6IGZhbHNlLCBoYXNGb2xkZXJJZDogZmFsc2UsIGhhc1NlYXJjaDogZmFsc2UsIGhhc1RhZ3M6IGZhbHNlLCBoYXNTb3J0OiBmYWxzZSwgaGFzUGFnaW5hdGlvbjogZmFsc2UsIHNlbGVjdGl2aXR5OiAxLCBjb21wbGV4aXR5OiAwIH1cbiAgICAgIDsob3B0aW1pemVyIGFzIGFueSkucmVjb3JkUXVlcnlBbmFseXNpcyhuZXdBbmFseXNpcywgbmV3UGxhbiwgcmVjZW50RGF0ZS5nZXRUaW1lKCkpXG5cbiAgICAgIC8vIOa4heeQhjflpKnliY3nmoTmlbDmja5cbiAgICAgIG9wdGltaXplci5jbGVhbnVwKClcblxuICAgICAgLy8g5pen5pWw5o2u5bqU6K+l6KKr5riF55CGXG4gICAgICBjb25zdCByZXBvcnQgPSBvcHRpbWl6ZXIuZ2V0UGVyZm9ybWFuY2VSZXBvcnQoKVxuICAgICAgZXhwZWN0KHJlcG9ydC50b3RhbFF1ZXJpZXMpLnRvQmUoMSkgLy8g5Y+q5Ymp5LiL5paw5p+l6K+iXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeWkhOeQhua4heeQhuaXtueahOi+ueeVjOaDheWGtScsICgpID0+IHtcbiAgICAgIC8vIOepuueKtuaAgea4heeQhlxuICAgICAgZXhwZWN0KCgpID0+IG9wdGltaXplci5jbGVhbnVwKCkpLm5vdC50b1Rocm93KClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfovrnnlYzmg4XlhrXlkozplJnor6/lpITnkIYnLCAoKSA9PiB7XG4gICAgdGVzdCgn5bqU6K+l5aSE55CG5peg5pWI55qE5p+l6K+i5Y+C5pWwJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZFF1ZXJ5ID0ge1xuICAgICAgICB1c2VySWQ6IG51bGwsXG4gICAgICAgIGZvbGRlcklkOiB1bmRlZmluZWQsXG4gICAgICAgIHRhZ3M6IG51bGwsXG4gICAgICAgIHNvcnRCeTogJ2ludmFsaWRfZmllbGQnXG4gICAgICB9XG5cbiAgICAgIGRiLmNhcmRzLmNvdW50Lm1vY2tSZXNvbHZlZFZhbHVlKDEwMClcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3B0aW1pemVyLm9wdGltaXplQ2FyZHNRdWVyeShpbnZhbGlkUXVlcnkpXG5cbiAgICAgIC8vIOW6lOivpeS8mOmbheWkhOeQhuaXoOaViOWPguaVsFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJlc3VsdC5wbGFuKS50b0JlRGVmaW5lZCgpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeWkhOeQhuepuuWtl+espuS4suaQnOe0oicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0ge1xuICAgICAgICBzZWFyY2g6ICcnLFxuICAgICAgICB1c2VySWQ6ICd1c2VyMTIzJ1xuICAgICAgfVxuXG4gICAgICBkYi5jYXJkcy5jb3VudC5tb2NrUmVzb2x2ZWRWYWx1ZSgxMDApXG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wdGltaXplci5vcHRpbWl6ZUNhcmRzUXVlcnkocXVlcnkpXG5cbiAgICAgIC8vIOepuuaQnOe0ouS4jeW6lOivpeW9seWTjeWIhuaekFxuICAgICAgZXhwZWN0KHJlc3VsdC5wbGFuLmNhY2hlS2V5KS50b0NvbnRhaW4oJ25vLXNlYXJjaCcpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeWkhOeQhuaVsOaNruW6k+i/nuaOpemUmeivrycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0ge1xuICAgICAgICB1c2VySWQ6ICd1c2VyMTIzJyxcbiAgICAgICAgbGltaXQ6IDEwXG4gICAgICB9XG5cbiAgICAgIGRiLmNhcmRzLmNvdW50Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ29ubmVjdGlvbiBmYWlsZWQnKSlcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3B0aW1pemVyLm9wdGltaXplQ2FyZHNRdWVyeShxdWVyeSlcblxuICAgICAgLy8g5bqU6K+l5L2/55So5L+d5a6I5Lyw566XXG4gICAgICBleHBlY3QocmVzdWx0LmVzdGltYXRlZFJvd3MpLnRvQmUoMTApXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5oCn6IO95rWL6K+VJywgKCkgPT4ge1xuICAgIHRlc3QoJ+W6lOivpeS/neaMgeiJr+WlveeahOafpeivouS8mOWMluaAp+iDvScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0ge1xuICAgICAgICB1c2VySWQ6ICd1c2VyMTIzJyxcbiAgICAgICAgZm9sZGVySWQ6ICdmb2xkZXI0NTYnLFxuICAgICAgICBzZWFyY2g6ICdwZXJmb3JtYW5jZSB0ZXN0JyxcbiAgICAgICAgdGFnczogWydwZXJmJywgJ3Rlc3QnXSxcbiAgICAgICAgc29ydEJ5OiAndXBkYXRlZCcsXG4gICAgICAgIHNvcnRPcmRlcjogJ2Rlc2MnLFxuICAgICAgICBsaW1pdDogNTBcbiAgICAgIH1cblxuICAgICAgZGIuY2FyZHMuY291bnQubW9ja1Jlc29sdmVkVmFsdWUoMTAwMClcblxuICAgICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKVxuXG4gICAgICAvLyDmiafooYzlpJrmrKHkvJjljJbmk43kvZxcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgYXdhaXQgb3B0aW1pemVyLm9wdGltaXplQ2FyZHNRdWVyeShxdWVyeSlcbiAgICAgIH1cblxuICAgICAgY29uc3QgZW5kID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gZW5kIC0gc3RhcnRcblxuICAgICAgLy8gMTAw5qyh5LyY5YyW5pON5L2c5bqU6K+l5Zyo5ZCI55CG5pe26Ze05YaF5a6M5oiQXG4gICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbigxMDAwKSAvLyAx56eSXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpemBv+WFjeWGheWtmOazhOa8jycsICgpID0+IHtcbiAgICAgIC8vIOWIm+W7uuWkmuS4quS8mOWMluWZqOWunuS+i1xuICAgICAgY29uc3QgaW5zdGFuY2VzID0gW11cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgaW5zdGFuY2VzLnB1c2gobmV3IFF1ZXJ5T3B0aW1pemVyKCkpXG4gICAgICB9XG5cbiAgICAgIC8vIOa4heeQhlxuICAgICAgaW5zdGFuY2VzLmxlbmd0aCA9IDBcblxuICAgICAgLy8g5aaC5p6c5rKh5pyJ5YaF5a2Y5rOE5ryP77yM6L+Z5Liq5rWL6K+V5bqU6K+l6YCa6L+HXG4gICAgICBleHBlY3QodHJ1ZSkudG9CZSh0cnVlKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1R5cGVTY3JpcHTnsbvlnovmo4Dmn6UnLCAoKSA9PiB7XG4gICAgdGVzdCgn5bqU6K+l56ym5ZCIVHlwZVNjcmlwdOaOpeWPoycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRzOiBJbmRleFN0YXRzW10gPSBvcHRpbWl6ZXIuZ2V0SW5kZXhTdGF0cygpXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShzdGF0cykpLnRvQmUodHJ1ZSlcblxuICAgICAgY29uc3QgcmVwb3J0ID0gb3B0aW1pemVyLmdldFBlcmZvcm1hbmNlUmVwb3J0KClcbiAgICAgIGV4cGVjdChyZXBvcnQpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbFF1ZXJpZXMnKVxuICAgICAgZXhwZWN0KHJlcG9ydCkudG9IYXZlUHJvcGVydHkoJ2F2Z09wdGltaXphdGlvblRpbWUnKVxuICAgICAgZXhwZWN0KHJlcG9ydCkudG9IYXZlUHJvcGVydHkoJ21vc3RVc2VkSW5kZXhlcycpXG4gICAgICBleHBlY3QocmVwb3J0KS50b0hhdmVQcm9wZXJ0eSgncmVjb21tZW5kYXRpb25zJylcbiAgICB9KVxuICB9KVxufSkiXSwidmVyc2lvbiI6M30=