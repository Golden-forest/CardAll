836eb1b1ae206eeb981bd2e3fc53b29c
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FlipCard = FlipCard;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const button_1 = require("@/components/ui/button");
const lucide_react_1 = require("lucide-react");
const utils_1 = require("@/lib/utils");
const dropdown_menu_1 = require("@/components/ui/dropdown-menu");
const rich_text_editor_1 = require("./rich-text-editor");
const title_editor_1 = require("./title-editor");
const card_tags_1 = require("../tag/card-tags");
function FlipCard({ card, onFlip, onUpdate, onCopy, onScreenshot, onShare, onDelete, onStyleChange, onTagsChange, onMoveToFolder, className, size = 'md' }) {
    const [isHovered, setIsHovered] = (0, react_1.useState)(false);
    const [isEditing, setIsEditing] = (0, react_1.useState)(false);
    const [editingField, setEditingField] = (0, react_1.useState)(null);
    const [originalContent, setOriginalContent] = (0, react_1.useState)(null);
    const [tempContent, setTempContent] = (0, react_1.useState)(null);
    const [isFlipping, setIsFlipping] = (0, react_1.useState)(false);
    const cardRef = (0, react_1.useRef)(null);
    const currentContent = card.isFlipped ? card.backContent : card.frontContent;
    // Size variants - 确保所有尺寸都使用完整宽度
    const sizeClasses = {
        sm: 'w-full',
        md: 'w-full',
        lg: 'w-full'
    };
    // 内容区域的padding控制，不限制宽度
    const contentPaddingClasses = {
        sm: 'p-3',
        md: 'p-4',
        lg: 'p-5'
    };
    // Style generation based on card.style
    const getCardStyles = () => {
        const { style } = card;
        const baseStyles = {
            borderRadius: '1rem', // 统一使用16px圆角
            fontFamily: style.fontFamily,
            fontSize: style.fontSize === 'sm' ? '0.875rem' :
                style.fontSize === 'lg' ? '1.125rem' : '1rem',
            fontWeight: style.fontWeight,
            color: style.textColor,
            borderWidth: style.borderWidth || 0,
            borderColor: style.borderColor,
        };
        // Handle different style types and add special classes
        let specialClasses = '';
        if (style.type === 'gradient' && style.gradientColors) {
            baseStyles.background = `linear-gradient(135deg, ${style.gradientColors.join(', ')})`;
            // Add animation classes based on style ID or gradient colors
            if (style.gradientColors.includes('#8a2be2') && style.gradientColors.includes('#00ffff')) {
                specialClasses = 'gradient-wave-animation';
                // 确保渐变波浪样式不会干扰编辑功能
                baseStyles.position = 'relative';
            }
            else if (style.gradientColors.includes('#ee7752') && style.gradientColors.includes('#23d5ab')) {
                specialClasses = 'moving-gradient-animation';
            }
            else if (style.gradientColors.includes('#667eea')) {
                specialClasses = 'gradient-mesh-animation';
            }
        }
        else if (style.type === 'glass') {
            // Glass morphism effect
            baseStyles.background = style.backgroundColor || 'rgba(255, 255, 255, 0.15)';
            baseStyles.backdropFilter = 'blur(20px) saturate(180%)';
            baseStyles.WebkitBackdropFilter = 'blur(20px) saturate(180%)';
            baseStyles.border = `1px solid ${style.borderColor || 'rgba(255, 255, 255, 0.18)'}`;
            specialClasses = 'glass-morphism';
        }
        else {
            // Handle special gradient backgrounds from backgroundColor field
            if (style.backgroundColor && style.backgroundColor.includes('linear-gradient')) {
                baseStyles.background = style.backgroundColor;
                baseStyles.backgroundSize = '400% 400%';
                // Add gradient animation for gradient-mesh style
                if (style.backgroundColor.includes('#667eea')) {
                    specialClasses = 'gradient-mesh-animation';
                }
            }
            else {
                baseStyles.backgroundColor = style.backgroundColor;
                // Add animation classes based on solid colors and border
                if (style.backgroundColor === '#1a1a2e' && style.borderColor === '#4361ee') {
                    specialClasses = 'pulse-border-animation';
                }
                else if (style.backgroundColor === '#0f172a') {
                    specialClasses = 'glow-hover-animation';
                }
            }
        }
        // Add shadow
        const shadowClasses = {
            sm: 'shadow-sm',
            md: 'shadow-md',
            lg: 'shadow-lg',
            xl: 'shadow-xl',
            none: '',
            '2xl': 'shadow-2xl',
            glass: 'shadow-lg' // Custom glass shadow
        };
        return {
            style: baseStyles,
            shadowClass: shadowClasses[style.shadow || 'md'] || 'shadow-md',
            specialClasses
        };
    };
    const { style: cardStyles, shadowClass, specialClasses } = getCardStyles();
    const handleFlip = (0, react_1.useCallback)((e) => {
        e.stopPropagation();
        e.preventDefault();
        if (isFlipping)
            return; // 防止重复点击
        setIsFlipping(true);
        onFlip(card.id);
        // 动画完成后重置状态
        setTimeout(() => {
            setIsFlipping(false);
        }, 600);
    }, [card.id, onFlip, isFlipping]);
    // Start editing
    const handleEdit = (e) => {
        e.stopPropagation();
        startEditing('content');
    };
    // Double click to edit
    const handleDoubleClick = (field) => {
        startEditing(field);
    };
    const startEditing = (field) => {
        setOriginalContent(currentContent);
        setTempContent(currentContent);
        setEditingField(field);
        setIsEditing(true);
    };
    // Update temp content during editing
    const handleTempContentUpdate = (field, value) => {
        if (tempContent) {
            setTempContent({
                ...tempContent,
                [field]: value,
                lastModified: new Date()
            });
        }
    };
    // Save changes
    const handleSaveEdit = () => {
        if (tempContent) {
            const contentKey = card.isFlipped ? 'backContent' : 'frontContent';
            const updates = {
                [contentKey]: tempContent
            };
            onUpdate(card.id, updates);
        }
        setIsEditing(false);
        setEditingField(null);
        setOriginalContent(null);
        setTempContent(null);
    };
    // Cancel changes
    const handleCancelEdit = () => {
        setIsEditing(false);
        setEditingField(null);
        setOriginalContent(null);
        setTempContent(null);
    };
    // Legacy handlers for backward compatibility
    const handleTitleChange = (e) => {
        handleTempContentUpdate('title', e.target.value);
    };
    const handleTextChange = (e) => {
        handleTempContentUpdate('text', e.target.value);
    };
    const handleKeyDown = (e) => {
        if (e.key === 'Escape') {
            handleCancelEdit();
        }
        if (e.key === 'Enter' && e.ctrlKey) {
            handleSaveEdit();
        }
    };
    return ((0, jsx_runtime_1.jsx)("div", { className: (0, utils_1.cn)("relative group", className), "data-card-id": card.id, onMouseEnter: () => setIsHovered(true), onMouseLeave: () => setIsHovered(false), children: (0, jsx_runtime_1.jsx)("div", { className: "flip-card-container", style: {
                perspective: '1000px',
                width: '100%',
                minHeight: 'fit-content'
            }, children: (0, jsx_runtime_1.jsxs)("div", { ref: cardRef, className: (0, utils_1.cn)("flip-card-inner relative transition-all duration-700 ease-in-out", sizeClasses[size]), style: {
                    minHeight: 'fit-content',
                    width: '100%',
                    transformStyle: 'preserve-3d',
                    transform: card.isFlipped ? 'rotateY(180deg)' : 'rotateY(0deg)'
                }, children: [(0, jsx_runtime_1.jsx)("div", { className: (0, utils_1.cn)("flip-card-face flip-card-front w-full flex flex-col transition-all duration-300 relative", shadowClass, specialClasses, contentPaddingClasses[size]), style: {
                            ...cardStyles,
                            borderRadius: cardStyles.borderRadius,
                            backfaceVisibility: 'hidden',
                            position: card.isFlipped ? 'absolute' : 'relative',
                            opacity: card.isFlipped ? 0 : 1
                        }, children: (0, jsx_runtime_1.jsx)(CardSide, { content: tempContent || card.frontContent, isEditing: isEditing && !card.isFlipped, editingField: editingField, onTitleChange: handleTitleChange, onTextChange: handleTextChange, onTempContentUpdate: handleTempContentUpdate, onSaveEdit: handleSaveEdit, onCancelEdit: handleCancelEdit, onDoubleClick: handleDoubleClick, onKeyDown: handleKeyDown, sideLabel: "Front", isHovered: isHovered, onEdit: handleEdit, onFlip: handleFlip, onCopy: () => onCopy(card.id), onScreenshot: () => onScreenshot(card.id), onShare: () => onShare(card.id), onDelete: () => onDelete(card.id), onStyleChange: onStyleChange ? () => onStyleChange(card.id) : undefined, onTagsChange: onTagsChange ? () => onTagsChange(card.id) : undefined, onMoveToFolder: onMoveToFolder, card: card, isFlipping: isFlipping }) }), (0, jsx_runtime_1.jsx)("div", { className: (0, utils_1.cn)("flip-card-face flip-card-back w-full flex flex-col transition-all duration-300 relative", shadowClass, specialClasses, contentPaddingClasses[size]), style: {
                            ...cardStyles,
                            borderRadius: cardStyles.borderRadius,
                            backfaceVisibility: 'hidden',
                            transform: 'rotateY(180deg)',
                            position: card.isFlipped ? 'relative' : 'absolute',
                            top: card.isFlipped ? 'auto' : '0',
                            opacity: card.isFlipped ? 1 : 0
                        }, children: (0, jsx_runtime_1.jsx)(CardSide, { content: tempContent || card.backContent, isEditing: isEditing && card.isFlipped, editingField: editingField, onTitleChange: handleTitleChange, onTextChange: handleTextChange, onTempContentUpdate: handleTempContentUpdate, onSaveEdit: handleSaveEdit, onCancelEdit: handleCancelEdit, onDoubleClick: handleDoubleClick, onKeyDown: handleKeyDown, sideLabel: "Back", isHovered: isHovered, onEdit: handleEdit, onFlip: handleFlip, onCopy: () => onCopy(card.id), onScreenshot: () => onScreenshot(card.id), onShare: () => onShare(card.id), onDelete: () => onDelete(card.id), onStyleChange: onStyleChange ? () => onStyleChange(card.id) : undefined, onTagsChange: onTagsChange ? () => onTagsChange(card.id) : undefined, onMoveToFolder: onMoveToFolder, card: card, isFlipping: isFlipping }) })] }) }) }));
}
function ImageGridComponent({ images }) {
    const displayImages = images.slice(0, 4);
    const imageCount = displayImages.length;
    // Dynamic grid layout based on image count
    const getGridClassName = (count) => {
        switch (count) {
            case 1:
                return "flex justify-center"; // Single image centered
            case 2:
                return "grid grid-cols-2 gap-2"; // Two columns
            case 3:
                return "grid grid-cols-2 gap-2"; // Two columns with special handling for 3rd image
            case 4:
            default:
                return "grid grid-cols-2 gap-2"; // Standard 2x2 grid
        }
    };
    // Dynamic image container styles
    const getImageContainerClassName = (count, index) => {
        const baseClasses = "relative aspect-video rounded-md overflow-hidden bg-muted transition-all duration-200 hover:scale-[1.02]";
        if (count === 1) {
            // Single image: center and limit max width
            return `${baseClasses} max-w-xs w-full`;
        }
        if (count === 3 && index === 2) {
            // Third image in 3-image layout: span both columns and center
            return `${baseClasses} col-span-2 max-w-xs mx-auto`;
        }
        return baseClasses;
    };
    return ((0, jsx_runtime_1.jsx)("div", { className: getGridClassName(imageCount), children: displayImages.map((image, index) => ((0, jsx_runtime_1.jsx)("div", { className: getImageContainerClassName(imageCount, index), children: (0, jsx_runtime_1.jsx)("img", { src: image.url, alt: image.alt || `Image ${index + 1}`, className: "w-full h-full object-cover transition-transform duration-200", loading: "lazy" }) }, index))) }));
}
function CardSide({ content, isEditing, editingField, onTitleChange, onTextChange, onTempContentUpdate, onSaveEdit, onCancelEdit, onDoubleClick, onKeyDown, sideLabel, isHovered, onEdit, onFlip, onCopy, onScreenshot, onShare, onDelete, onStyleChange, onTagsChange, onMoveToFolder, card, isFlipping }) {
    return ((0, jsx_runtime_1.jsxs)("div", { className: "flex flex-col h-full", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-start justify-between mb-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "flex-1 mr-2", children: isEditing && editingField === 'title' ? ((0, jsx_runtime_1.jsx)(title_editor_1.TitleEditor, { content: content.title, onUpdate: (value) => onTempContentUpdate('title', value), onSave: onSaveEdit, onCancel: onCancelEdit, autoFocus: true })) : ((0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-left cursor-pointer hover:bg-black/5 rounded px-1 py-0.5 -mx-1 transition-colors", onDoubleClick: () => onDoubleClick('title'), children: content.title || 'Untitled Card' })) }), (0, jsx_runtime_1.jsxs)("div", { className: (0, utils_1.cn)("flex gap-1 transition-all duration-200 flex-shrink-0", isHovered || isEditing ? "opacity-100" : "opacity-60"), children: [(0, jsx_runtime_1.jsx)(button_1.Button, { size: "sm", variant: "ghost", className: (0, utils_1.cn)("h-7 w-7 p-0 rounded-md hover:bg-black/10 transition-all duration-200", isFlipping && "animate-pulse"), onClick: onFlip, title: `Flip to ${card.isFlipped ? 'Front' : 'Back'}`, disabled: isFlipping, children: (0, jsx_runtime_1.jsx)(lucide_react_1.Cat, { className: (0, utils_1.cn)("h-3.5 w-3.5 transition-transform duration-200", isFlipping && "scale-110") }) }), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenu, { modal: false, children: [(0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuTrigger, { asChild: true, children: (0, jsx_runtime_1.jsx)("div", { className: "h-7 w-7 rounded-md hover:bg-black/10 flex items-center justify-center cursor-pointer transition-colors group", onMouseEnter: (e) => {
                                                e.stopPropagation();
                                                // Programmatically trigger the dropdown
                                                const event = new MouseEvent('click', {
                                                    view: window,
                                                    bubbles: true,
                                                    cancelable: true,
                                                });
                                                e.currentTarget.dispatchEvent(event);
                                            }, onClick: (e) => e.stopPropagation(), children: (0, jsx_runtime_1.jsx)(lucide_react_1.MoreHorizontal, { className: "h-3.5 w-3.5" }) }) }), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuContent, { align: "end", className: "w-48", children: [(0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuItem, { onClick: onEdit, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Edit3, { className: "h-4 w-4 mr-2" }), "Edit Content"] }), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuItem, { onClick: onCopy, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Copy, { className: "h-4 w-4 mr-2" }), "Copy Text"] }), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuItem, { onClick: onScreenshot, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Camera, { className: "h-4 w-4 mr-2" }), "Screenshot"] }), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuItem, { onClick: onShare, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Share2, { className: "h-4 w-4 mr-2" }), "Share"] }), (0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuSeparator, {}), onStyleChange && ((0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuItem, { onClick: onStyleChange, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Palette, { className: "h-4 w-4 mr-2" }), "Change Style"] })), onTagsChange && ((0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuItem, { onClick: onTagsChange, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Tag, { className: "h-4 w-4 mr-2" }), "Manage Tags"] })), onMoveToFolder && ((0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuItem, { onClick: onMoveToFolder, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FolderOpen, { className: "h-4 w-4 mr-2" }), "Move to Folder"] })), (0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuSeparator, {}), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuItem, { onClick: onDelete, className: "text-destructive focus:text-destructive", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Trash2, { className: "h-4 w-4 mr-2" }), "Delete Card"] })] })] })] })] }), content.images.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: "mb-3 flex-shrink-0", children: [(0, jsx_runtime_1.jsx)(ImageGridComponent, { images: content.images }), content.images.length > 4 && ((0, jsx_runtime_1.jsxs)("div", { className: "text-xs text-muted-foreground mt-1 text-center", children: ["+", content.images.length - 4, " more images"] }))] })), (0, jsx_runtime_1.jsx)("div", { className: "flex-1 mb-3 relative z-10", children: isEditing && editingField === 'content' ? ((0, jsx_runtime_1.jsx)(rich_text_editor_1.RichTextEditor, { content: content.text, placeholder: "Add your content here...", onUpdate: (value) => onTempContentUpdate('text', value), onSave: onSaveEdit, onCancel: onCancelEdit, autoFocus: true })) : ((0, jsx_runtime_1.jsx)("div", { className: "text-sm leading-relaxed text-left cursor-pointer hover:bg-black/5 rounded p-2 -m-2 transition-colors min-h-[100px] tiptap-editor relative z-10", onDoubleClick: (e) => {
                        // 如果点击的是链接，不触发编辑
                        if (e.target.tagName === 'A') {
                            return;
                        }
                        onDoubleClick('content');
                    }, onClick: (e) => {
                        // 处理链接点击
                        const target = e.target;
                        if (target.tagName === 'A') {
                            e.stopPropagation();
                            const href = target.getAttribute('href');
                            if (href) {
                                window.open(href, '_blank', 'noopener,noreferrer');
                            }
                        }
                    }, children: (0, jsx_runtime_1.jsx)("div", { className: "whitespace-pre-wrap", dangerouslySetInnerHTML: {
                            __html: content.text || '<span class="text-muted-foreground">Click to add content...</span>'
                        } }) })) }), (0, jsx_runtime_1.jsxs)("div", { className: "mt-auto", children: [(0, jsx_runtime_1.jsx)(card_tags_1.CardTags, { tags: content.tags, size: "sm" }), content.images.length > 0 && ((0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-end text-xs text-muted-foreground mt-2", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-1", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Image, { className: "h-3 w-3" }), (0, jsx_runtime_1.jsx)("span", { children: content.images.length })] }) }))] })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHNyY1xcY29tcG9uZW50c1xcY2FyZFxcZmxpcC1jYXJkLnRzeCIsIm1hcHBpbmdzIjoiOztBQTJDQSw0QkFpVUM7O0FBNVdELGlDQUE0RDtBQUU1RCxtREFBK0M7QUFDL0MsK0NBWXFCO0FBQ3JCLHVDQUFnQztBQUNoQyxpRUFNc0M7QUFDdEMseURBQW1EO0FBQ25ELGlEQUE0QztBQUM1QyxnREFBMkM7QUFpQjNDLFNBQWdCLFFBQVEsQ0FBQyxFQUN2QixJQUFJLEVBQ0osTUFBTSxFQUNOLFFBQVEsRUFDUixNQUFNLEVBQ04sWUFBWSxFQUNaLE9BQU8sRUFDUCxRQUFRLEVBQ1IsYUFBYSxFQUNiLFlBQVksRUFDWixjQUFjLEVBQ2QsU0FBUyxFQUNULElBQUksR0FBRyxJQUFJLEVBQ0c7SUFDZCxNQUFNLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQTtJQUNqRCxNQUFNLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQTtJQUNqRCxNQUFNLENBQUMsWUFBWSxFQUFFLGVBQWUsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBNkIsSUFBSSxDQUFDLENBQUE7SUFDbEYsTUFBTSxDQUFDLGVBQWUsRUFBRSxrQkFBa0IsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBeUIsSUFBSSxDQUFDLENBQUE7SUFDcEYsTUFBTSxDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQXlCLElBQUksQ0FBQyxDQUFBO0lBQzVFLE1BQU0sQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ25ELE1BQU0sT0FBTyxHQUFHLElBQUEsY0FBTSxFQUFpQixJQUFJLENBQUMsQ0FBQTtJQUU1QyxNQUFNLGNBQWMsR0FBRyxJQUFJ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LEdBQUcsRUFBRSxDQUFDOzRCQUMzQixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUE7NEJBQ25CLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7NEJBQ3hDLElBQUksSUFBSSxFQUFFLENBQUM7Z0NBQ1QsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLHFCQUFxQixDQUFDLENBQUE7NEJBQ3BELENBQUM7d0JBQ0gsQ0FBQztvQkFDSCxDQUFDLFlBRUQsZ0NBQ0UsU0FBUyxFQUFDLHFCQUFxQixFQUMvQix1QkFBdUIsRUFBRTs0QkFDdkIsTUFBTSxFQUFFLE9BQU8sQ0FBQyxJQUFJLElBQUksb0VBQW9FO3lCQUM3RixHQUNELEdBQ0UsQ0FDUCxHQUNHLEVBR04saUNBQUssU0FBUyxFQUFDLFNBQVMsYUFFdEIsdUJBQUMsb0JBQVEsSUFBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUMsSUFBSSxHQUFHLEVBR3pDLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUM1QixnQ0FBSyxTQUFTLEVBQUMsa0VBQWtFLFlBQy9FLGlDQUFLLFNBQVMsRUFBQyx5QkFBeUIsYUFDdEMsdUJBQUMsb0JBQVMsSUFBQyxTQUFTLEVBQUMsU0FBUyxHQUFHLEVBQ2pDLDJDQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFRLElBQ2hDLEdBQ0YsQ0FDUCxJQUNHLElBQ0YsQ0FDUCxDQUFBO0FBQ0gsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJEOlxcUHJvamVjdHNcXENhcmRFdmVyeXRoaW5nXFxjYXJkYWxsLXByb3RvdHlwZVxcc3JjXFxjb21wb25lbnRzXFxjYXJkXFxmbGlwLWNhcmQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBDYXJkIGFzIENhcmRUeXBlLCBDYXJkQ29udGVudCBhcyBDYXJkQ29udGVudFR5cGUsIEltYWdlRGF0YSB9IGZyb20gJ0AvdHlwZXMvY2FyZCdcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbidcclxuaW1wb3J0IHsgXHJcbiAgQ2F0LCBcclxuICBDb3B5LCBcclxuICBDYW1lcmEsIFxyXG4gIFNoYXJlMiwgXHJcbiAgRWRpdDMsIFxyXG4gIFBhbGV0dGUsXHJcbiAgTW9yZUhvcml6b250YWwsXHJcbiAgVGFnLFxyXG4gIEltYWdlIGFzIEltYWdlSWNvbixcclxuICBUcmFzaDIsXHJcbiAgRm9sZGVyT3BlblxyXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCdcclxuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscydcclxuaW1wb3J0IHtcclxuICBEcm9wZG93bk1lbnUsXHJcbiAgRHJvcGRvd25NZW51Q29udGVudCxcclxuICBEcm9wZG93bk1lbnVJdGVtLFxyXG4gIERyb3Bkb3duTWVudVNlcGFyYXRvcixcclxuICBEcm9wZG93bk1lbnVUcmlnZ2VyLFxyXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9kcm9wZG93bi1tZW51J1xyXG5pbXBvcnQgeyBSaWNoVGV4dEVkaXRvciB9IGZyb20gJy4vcmljaC10ZXh0LWVkaXRvcidcclxuaW1wb3J0IHsgVGl0bGVFZGl0b3IgfSBmcm9tICcuL3RpdGxlLWVkaXRvcidcclxuaW1wb3J0IHsgQ2FyZFRhZ3MgfSBmcm9tICcuLi90YWcvY2FyZC10YWdzJ1xyXG5cclxuaW50ZXJmYWNlIEZsaXBDYXJkUHJvcHMge1xyXG4gIGNhcmQ6IENhcmRUeXBlXHJcbiAgb25GbGlwOiAoY2FyZElkOiBzdHJpbmcpID0+IHZvaWRcclxuICBvblVwZGF0ZTogKGNhcmRJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPENhcmRUeXBlPikgPT4gdm9pZFxyXG4gIG9uQ29weTogKGNhcmRJZDogc3RyaW5nKSA9PiB2b2lkXHJcbiAgb25TY3JlZW5zaG90OiAoY2FyZElkOiBzdHJpbmcpID0+IHZvaWRcclxuICBvblNoYXJlOiAoY2FyZElkOiBzdHJpbmcpID0+IHZvaWRcclxuICBvbkRlbGV0ZTogKGNhcmRJZDogc3RyaW5nKSA9PiB2b2lkXHJcbiAgb25TdHlsZUNoYW5nZT86IChjYXJkSWQ6IHN0cmluZykgPT4gdm9pZFxyXG4gIG9uVGFnc0NoYW5nZT86IChjYXJkSWQ6IHN0cmluZykgPT4gdm9pZFxyXG4gIG9uTW92ZVRvRm9sZGVyPzogKCkgPT4gdm9pZFxyXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xyXG4gIHNpemU/OiAnc20nIHwgJ21kJyB8ICdsZydcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEZsaXBDYXJkKHtcclxuICBjYXJkLFxyXG4gIG9uRmxpcCxcclxuICBvblVwZGF0ZSxcclxuICBvbkNvcHksXHJcbiAgb25TY3JlZW5zaG90LFxyXG4gIG9uU2hhcmUsXHJcbiAgb25EZWxldGUsXHJcbiAgb25TdHlsZUNoYW5nZSxcclxuICBvblRhZ3NDaGFuZ2UsXHJcbiAgb25Nb3ZlVG9Gb2xkZXIsXHJcbiAgY2xhc3NOYW1lLFxyXG4gIHNpemUgPSAnbWQnXHJcbn06IEZsaXBDYXJkUHJvcHMpIHtcclxuICBjb25zdCBbaXNIb3ZlcmVkLCBzZXRJc0hvdmVyZWRdID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgY29uc3QgW2lzRWRpdGluZywgc2V0SXNFZGl0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG4gIGNvbnN0IFtlZGl0aW5nRmllbGQsIHNldEVkaXRpbmdGaWVsZF0gPSB1c2VTdGF0ZTwndGl0bGUnIHwgJ2NvbnRlbnQnIHwgbnVsbD4obnVsbClcclxuICBjb25zdCBbb3JpZ2luYWxDb250ZW50LCBzZXRPcmlnaW5hbENvbnRlbnRdID0gdXNlU3RhdGU8Q2FyZENvbnRlbnRUeXBlIHwgbnVsbD4obnVsbClcclxuICBjb25zdCBbdGVtcENvbnRlbnQsIHNldFRlbXBDb250ZW50XSA9IHVzZVN0YXRlPENhcmRDb250ZW50VHlwZSB8IG51bGw+KG51bGwpXHJcbiAgY29uc3QgW2lzRmxpcHBpbmcsIHNldElzRmxpcHBpbmddID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgY29uc3QgY2FyZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcclxuXHJcbiAgY29uc3QgY3VycmVudENvbnRlbnQgPSBjYXJkLmlzRmxpcHBlZCA/IGNhcmQuYmFja0NvbnRlbnQgOiBjYXJkLmZyb250Q29udGVudFxyXG5cclxuICAvLyBTaXplIHZhcmlhbnRzIC0g56Gu5L+d5omA5pyJ5bC65a+46YO95L2/55So5a6M5pW05a695bqmXHJcbiAgY29uc3Qgc2l6ZUNsYXNzZXMgPSB7XHJcbiAgICBzbTogJ3ctZnVsbCcsXHJcbiAgICBtZDogJ3ctZnVsbCcsIFxyXG4gICAgbGc6ICd3LWZ1bGwnXHJcbiAgfVxyXG5cclxuICAvLyDlhoXlrrnljLrln5/nmoRwYWRkaW5n5o6n5Yi277yM5LiN6ZmQ5Yi25a695bqmXHJcbiAgY29uc3QgY29udGVudFBhZGRpbmdDbGFzc2VzID0ge1xyXG4gICAgc206ICdwLTMnLFxyXG4gICAgbWQ6ICdwLTQnLFxyXG4gICAgbGc6ICdwLTUnXHJcbiAgfVxyXG5cclxuICAvLyBTdHlsZSBnZW5lcmF0aW9uIGJhc2VkIG9uIGNhcmQuc3R5bGVcclxuICBjb25zdCBnZXRDYXJkU3R5bGVzID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBzdHlsZSB9ID0gY2FyZFxyXG4gICAgY29uc3QgYmFzZVN0eWxlczogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcclxuICAgICAgYm9yZGVyUmFkaXVzOiAnMXJlbScsIC8vIOe7n+S4gOS9v+eUqDE2cHjlnIbop5JcclxuICAgICAgZm9udEZhbWlseTogc3R5bGUuZm9udEZhbWlseSxcclxuICAgICAgZm9udFNpemU6IHN0eWxlLmZvbnRTaXplID09PSAnc20nID8gJzAuODc1cmVtJyA6IFxyXG4gICAgICAgICAgICAgICAgc3R5bGUuZm9udFNpemUgPT09ICdsZycgPyAnMS4xMjVyZW0nIDogJzFyZW0nLFxyXG4gICAgICBmb250V2VpZ2h0OiBzdHlsZS5mb250V2VpZ2h0LFxyXG4gICAgICBjb2xvcjogc3R5bGUudGV4dENvbG9yLFxyXG4gICAgICBib3JkZXJXaWR0aDogc3R5bGUuYm9yZGVyV2lkdGggfHwgMCxcclxuICAgICAgYm9yZGVyQ29sb3I6IHN0eWxlLmJvcmRlckNvbG9yLFxyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgc3R5bGUgdHlwZXMgYW5kIGFkZCBzcGVjaWFsIGNsYXNzZXNcclxuICAgIGxldCBzcGVjaWFsQ2xhc3NlcyA9ICcnXHJcbiAgICBcclxuICAgIGlmIChzdHlsZS50eXBlID09PSAnZ3JhZGllbnQnICYmIHN0eWxlLmdyYWRpZW50Q29sb3JzKSB7XHJcbiAgICAgIGJhc2VTdHlsZXMuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAke3N0eWxlLmdyYWRpZW50Q29sb3JzLmpvaW4oJywgJyl9KWBcclxuICAgICAgXHJcbiAgICAgIC8vIEFkZCBhbmltYXRpb24gY2xhc3NlcyBiYXNlZCBvbiBzdHlsZSBJRCBvciBncmFkaWVudCBjb2xvcnNcclxuICAgICAgaWYgKHN0eWxlLmdyYWRpZW50Q29sb3JzLmluY2x1ZGVzKCcjOGEyYmUyJykgJiYgc3R5bGUuZ3JhZGllbnRDb2xvcnMuaW5jbHVkZXMoJyMwMGZmZmYnKSkge1xyXG4gICAgICAgIHNwZWNpYWxDbGFzc2VzID0gJ2dyYWRpZW50LXdhdmUtYW5pbWF0aW9uJztcclxuICAgICAgICAvLyDnoa7kv53muJDlj5jms6LmtarmoLflvI/kuI3kvJrlubLmibDnvJbovpHlip/og71cclxuICAgICAgICBiYXNlU3R5bGVzLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICAgICAgfSBlbHNlIGlmIChzdHlsZS5ncmFkaWVudENvbG9ycy5pbmNsdWRlcygnI2VlNzc1MicpICYmIHN0eWxlLmdyYWRpZW50Q29sb3JzLmluY2x1ZGVzKCcjMjNkNWFiJykpIHtcclxuICAgICAgICBzcGVjaWFsQ2xhc3NlcyA9ICdtb3ZpbmctZ3JhZGllbnQtYW5pbWF0aW9uJztcclxuICAgICAgfSBlbHNlIGlmIChzdHlsZS5ncmFkaWVudENvbG9ycy5pbmNsdWRlcygnIzY2N2VlYScpKSB7XHJcbiAgICAgICAgc3BlY2lhbENsYXNzZXMgPSAnZ3JhZGllbnQtbWVzaC1hbmltYXRpb24nO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHN0eWxlLnR5cGUgPT09ICdnbGFzcycpIHtcclxuICAgICAgLy8gR2xhc3MgbW9ycGhpc20gZWZmZWN0XHJcbiAgICAgIGJhc2VTdHlsZXMuYmFja2dyb3VuZCA9IHN0eWxlLmJhY2tncm91bmRDb2xvciB8fCAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSdcclxuICAgICAgYmFzZVN0eWxlcy5iYWNrZHJvcEZpbHRlciA9ICdibHVyKDIwcHgpIHNhdHVyYXRlKDE4MCUpJ1xyXG4gICAgICBiYXNlU3R5bGVzLldlYmtpdEJhY2tkcm9wRmlsdGVyID0gJ2JsdXIoMjBweCkgc2F0dXJhdGUoMTgwJSknXHJcbiAgICAgIGJhc2VTdHlsZXMuYm9yZGVyID0gYDFweCBzb2xpZCAke3N0eWxlLmJvcmRlckNvbG9yIHx8ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTgpJ31gXHJcbiAgICAgIHNwZWNpYWxDbGFzc2VzID0gJ2dsYXNzLW1vcnBoaXNtJ1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gSGFuZGxlIHNwZWNpYWwgZ3JhZGllbnQgYmFja2dyb3VuZHMgZnJvbSBiYWNrZ3JvdW5kQ29sb3IgZmllbGRcclxuICAgICAgaWYgKHN0eWxlLmJhY2tncm91bmRDb2xvciAmJiBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IuaW5jbHVkZXMoJ2xpbmVhci1ncmFkaWVudCcpKSB7XHJcbiAgICAgICAgYmFzZVN0eWxlcy5iYWNrZ3JvdW5kID0gc3R5bGUuYmFja2dyb3VuZENvbG9yXHJcbiAgICAgICAgYmFzZVN0eWxlcy5iYWNrZ3JvdW5kU2l6ZSA9ICc0MDAlIDQwMCUnXHJcbiAgICAgICAgLy8gQWRkIGdyYWRpZW50IGFuaW1hdGlvbiBmb3IgZ3JhZGllbnQtbWVzaCBzdHlsZVxyXG4gICAgICAgIGlmIChzdHlsZS5iYWNrZ3JvdW5kQ29sb3IuaW5jbHVkZXMoJyM2NjdlZWEnKSkge1xyXG4gICAgICAgICAgc3BlY2lhbENsYXNzZXMgPSAnZ3JhZGllbnQtbWVzaC1hbmltYXRpb24nXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJhc2VTdHlsZXMuYmFja2dyb3VuZENvbG9yID0gc3R5bGUuYmFja2dyb3VuZENvbG9yXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWRkIGFuaW1hdGlvbiBjbGFzc2VzIGJhc2VkIG9uIHNvbGlkIGNvbG9ycyBhbmQgYm9yZGVyXHJcbiAgICAgICAgaWYgKHN0eWxlLmJhY2tncm91bmRDb2xvciA9PT0gJyMxYTFhMmUnICYmIHN0eWxlLmJvcmRlckNvbG9yID09PSAnIzQzNjFlZScpIHtcclxuICAgICAgICAgIHNwZWNpYWxDbGFzc2VzID0gJ3B1bHNlLWJvcmRlci1hbmltYXRpb24nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc3R5bGUuYmFja2dyb3VuZENvbG9yID09PSAnIzBmMTcyYScpIHtcclxuICAgICAgICAgIHNwZWNpYWxDbGFzc2VzID0gJ2dsb3ctaG92ZXItYW5pbWF0aW9uJztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgc2hhZG93XHJcbiAgICBjb25zdCBzaGFkb3dDbGFzc2VzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICBzbTogJ3NoYWRvdy1zbScsXHJcbiAgICAgIG1kOiAnc2hhZG93LW1kJyxcclxuICAgICAgbGc6ICdzaGFkb3ctbGcnLFxyXG4gICAgICB4bDogJ3NoYWRvdy14bCcsXHJcbiAgICAgIG5vbmU6ICcnLFxyXG4gICAgICAnMnhsJzogJ3NoYWRvdy0yeGwnLFxyXG4gICAgICBnbGFzczogJ3NoYWRvdy1sZycgLy8gQ3VzdG9tIGdsYXNzIHNoYWRvd1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN0eWxlOiBiYXNlU3R5bGVzLFxyXG4gICAgICBzaGFkb3dDbGFzczogc2hhZG93Q2xhc3Nlc1tzdHlsZS5zaGFkb3cgfHwgJ21kJ10gfHwgJ3NoYWRvdy1tZCcsXHJcbiAgICAgIHNwZWNpYWxDbGFzc2VzXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCB7IHN0eWxlOiBjYXJkU3R5bGVzLCBzaGFkb3dDbGFzcywgc3BlY2lhbENsYXNzZXMgfSA9IGdldENhcmRTdHlsZXMoKVxyXG5cclxuICBjb25zdCBoYW5kbGVGbGlwID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgXHJcbiAgICBpZiAoaXNGbGlwcGluZykgcmV0dXJuIC8vIOmYsuatoumHjeWkjeeCueWHu1xyXG4gICAgXHJcbiAgICBzZXRJc0ZsaXBwaW5nKHRydWUpXHJcbiAgICBvbkZsaXAoY2FyZC5pZClcclxuICAgIFxyXG4gICAgLy8g5Yqo55S75a6M5oiQ5ZCO6YeN572u54q25oCBXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgc2V0SXNGbGlwcGluZyhmYWxzZSlcclxuICAgIH0sIDYwMClcclxuICB9LCBbY2FyZC5pZCwgb25GbGlwLCBpc0ZsaXBwaW5nXSlcclxuXHJcbiAgLy8gU3RhcnQgZWRpdGluZ1xyXG4gIGNvbnN0IGhhbmRsZUVkaXQgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgc3RhcnRFZGl0aW5nKCdjb250ZW50JylcclxuICB9XHJcblxyXG4gIC8vIERvdWJsZSBjbGljayB0byBlZGl0XHJcbiAgY29uc3QgaGFuZGxlRG91YmxlQ2xpY2sgPSAoZmllbGQ6ICd0aXRsZScgfCAnY29udGVudCcpID0+IHtcclxuICAgIHN0YXJ0RWRpdGluZyhmaWVsZClcclxuICB9XHJcblxyXG4gIGNvbnN0IHN0YXJ0RWRpdGluZyA9IChmaWVsZDogJ3RpdGxlJyB8ICdjb250ZW50JykgPT4ge1xyXG4gICAgc2V0T3JpZ2luYWxDb250ZW50KGN1cnJlbnRDb250ZW50KVxyXG4gICAgc2V0VGVtcENvbnRlbnQoY3VycmVudENvbnRlbnQpXHJcbiAgICBzZXRFZGl0aW5nRmllbGQoZmllbGQpXHJcbiAgICBzZXRJc0VkaXRpbmcodHJ1ZSlcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZSB0ZW1wIGNvbnRlbnQgZHVyaW5nIGVkaXRpbmdcclxuICBjb25zdCBoYW5kbGVUZW1wQ29udGVudFVwZGF0ZSA9IChmaWVsZDoga2V5b2YgQ2FyZENvbnRlbnRUeXBlLCB2YWx1ZTogYW55KSA9PiB7XHJcbiAgICBpZiAodGVtcENvbnRlbnQpIHtcclxuICAgICAgc2V0VGVtcENvbnRlbnQoe1xyXG4gICAgICAgIC4uLnRlbXBDb250ZW50LFxyXG4gICAgICAgIFtmaWVsZF06IHZhbHVlLFxyXG4gICAgICAgIGxhc3RNb2RpZmllZDogbmV3IERhdGUoKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU2F2ZSBjaGFuZ2VzXHJcbiAgY29uc3QgaGFuZGxlU2F2ZUVkaXQgPSAoKSA9PiB7XHJcbiAgICBpZiAodGVtcENvbnRlbnQpIHtcclxuICAgICAgY29uc3QgY29udGVudEtleSA9IGNhcmQuaXNGbGlwcGVkID8gJ2JhY2tDb250ZW50JyA6ICdmcm9udENvbnRlbnQnXHJcbiAgICAgIGNvbnN0IHVwZGF0ZXMgPSB7XHJcbiAgICAgICAgW2NvbnRlbnRLZXldOiB0ZW1wQ29udGVudFxyXG4gICAgICB9IGFzIFBhcnRpYWw8Q2FyZFR5cGU+XHJcbiAgICAgIG9uVXBkYXRlKGNhcmQuaWQsIHVwZGF0ZXMpXHJcbiAgICB9XHJcbiAgICBzZXRJc0VkaXRpbmcoZmFsc2UpXHJcbiAgICBzZXRFZGl0aW5nRmllbGQobnVsbClcclxuICAgIHNldE9yaWdpbmFsQ29udGVudChudWxsKVxyXG4gICAgc2V0VGVtcENvbnRlbnQobnVsbClcclxuICB9XHJcblxyXG4gIC8vIENhbmNlbCBjaGFuZ2VzXHJcbiAgY29uc3QgaGFuZGxlQ2FuY2VsRWRpdCA9ICgpID0+IHtcclxuICAgIHNldElzRWRpdGluZyhmYWxzZSlcclxuICAgIHNldEVkaXRpbmdGaWVsZChudWxsKVxyXG4gICAgc2V0T3JpZ2luYWxDb250ZW50KG51bGwpXHJcbiAgICBzZXRUZW1wQ29udGVudChudWxsKVxyXG4gIH1cclxuXHJcbiAgLy8gTGVnYWN5IGhhbmRsZXJzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcbiAgY29uc3QgaGFuZGxlVGl0bGVDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGhhbmRsZVRlbXBDb250ZW50VXBkYXRlKCd0aXRsZScsIGUudGFyZ2V0LnZhbHVlKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaGFuZGxlVGV4dENoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT4ge1xyXG4gICAgaGFuZGxlVGVtcENvbnRlbnRVcGRhdGUoJ3RleHQnLCBlLnRhcmdldC52YWx1ZSlcclxuICB9XHJcblxyXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICBoYW5kbGVDYW5jZWxFZGl0KClcclxuICAgIH1cclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiBlLmN0cmxLZXkpIHtcclxuICAgICAgaGFuZGxlU2F2ZUVkaXQoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgXHJcbiAgICAgIGNsYXNzTmFtZT17Y24oXCJyZWxhdGl2ZSBncm91cFwiLCBjbGFzc05hbWUpfVxyXG4gICAgICBkYXRhLWNhcmQtaWQ9e2NhcmQuaWR9XHJcbiAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4gc2V0SXNIb3ZlcmVkKHRydWUpfVxyXG4gICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHNldElzSG92ZXJlZChmYWxzZSl9XHJcbiAgICA+XHJcbiAgICAgIHsvKiAzRCBGbGlwIEFuaW1hdGlvbiBDb250YWluZXIgKi99XHJcbiAgICAgIDxkaXYgXHJcbiAgICAgICAgY2xhc3NOYW1lPVwiZmxpcC1jYXJkLWNvbnRhaW5lclwiXHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIHBlcnNwZWN0aXZlOiAnMTAwMHB4JyxcclxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICBtaW5IZWlnaHQ6ICdmaXQtY29udGVudCdcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgPGRpdiBcclxuICAgICAgICAgIHJlZj17Y2FyZFJlZn1cclxuICAgICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgIFwiZmxpcC1jYXJkLWlubmVyIHJlbGF0aXZlIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTcwMCBlYXNlLWluLW91dFwiLFxyXG4gICAgICAgICAgICBzaXplQ2xhc3Nlc1tzaXplXVxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIHN0eWxlPXt7IFxyXG4gICAgICAgICAgICBtaW5IZWlnaHQ6ICdmaXQtY29udGVudCcsXHJcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybVN0eWxlOiAncHJlc2VydmUtM2QnLFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGNhcmQuaXNGbGlwcGVkID8gJ3JvdGF0ZVkoMTgwZGVnKScgOiAncm90YXRlWSgwZGVnKSdcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgey8qIEZyb250IFNpZGUgKi99XHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgICAgIFwiZmxpcC1jYXJkLWZhY2UgZmxpcC1jYXJkLWZyb250IHctZnVsbCBmbGV4IGZsZXgtY29sIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCByZWxhdGl2ZVwiLFxyXG4gICAgICAgICAgICAgIHNoYWRvd0NsYXNzLFxyXG4gICAgICAgICAgICAgIHNwZWNpYWxDbGFzc2VzLFxyXG4gICAgICAgICAgICAgIGNvbnRlbnRQYWRkaW5nQ2xhc3Nlc1tzaXplXVxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIC4uLmNhcmRTdHlsZXMsXHJcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBjYXJkU3R5bGVzLmJvcmRlclJhZGl1cyxcclxuICAgICAgICAgICAgICBiYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBjYXJkLmlzRmxpcHBlZCA/ICdhYnNvbHV0ZScgOiAncmVsYXRpdmUnLFxyXG4gICAgICAgICAgICAgIG9wYWNpdHk6IGNhcmQuaXNGbGlwcGVkID8gMCA6IDFcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPENhcmRTaWRlXHJcbiAgICAgICAgICAgICAgY29udGVudD17dGVtcENvbnRlbnQgfHwgY2FyZC5mcm9udENvbnRlbnR9XHJcbiAgICAgICAgICAgICAgaXNFZGl0aW5nPXtpc0VkaXRpbmcgJiYgIWNhcmQuaXNGbGlwcGVkfVxyXG4gICAgICAgICAgICAgIGVkaXRpbmdGaWVsZD17ZWRpdGluZ0ZpZWxkfVxyXG4gICAgICAgICAgICAgIG9uVGl0bGVDaGFuZ2U9e2hhbmRsZVRpdGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgIG9uVGV4dENoYW5nZT17aGFuZGxlVGV4dENoYW5nZX1cclxuICAgICAgICAgICAgICBvblRlbXBDb250ZW50VXBkYXRlPXtoYW5kbGVUZW1wQ29udGVudFVwZGF0ZX1cclxuICAgICAgICAgICAgICBvblNhdmVFZGl0PXtoYW5kbGVTYXZlRWRpdH1cclxuICAgICAgICAgICAgICBvbkNhbmNlbEVkaXQ9e2hhbmRsZUNhbmNlbEVkaXR9XHJcbiAgICAgICAgICAgICAgb25Eb3VibGVDbGljaz17aGFuZGxlRG91YmxlQ2xpY2t9XHJcbiAgICAgICAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxyXG4gICAgICAgICAgICAgIHNpZGVMYWJlbD1cIkZyb250XCJcclxuICAgICAgICAgICAgICBpc0hvdmVyZWQ9e2lzSG92ZXJlZH1cclxuICAgICAgICAgICAgICBvbkVkaXQ9e2hhbmRsZUVkaXR9XHJcbiAgICAgICAgICAgICAgb25GbGlwPXtoYW5kbGVGbGlwfVxyXG4gICAgICAgICAgICAgIG9uQ29weT17KCkgPT4gb25Db3B5KGNhcmQuaWQpfVxyXG4gICAgICAgICAgICAgIG9uU2NyZWVuc2hvdD17KCkgPT4gb25TY3JlZW5zaG90KGNhcmQuaWQpfVxyXG4gICAgICAgICAgICAgIG9uU2hhcmU9eygpID0+IG9uU2hhcmUoY2FyZC5pZCl9XHJcbiAgICAgICAgICAgICAgb25EZWxldGU9eygpID0+IG9uRGVsZXRlKGNhcmQuaWQpfVxyXG4gICAgICAgICAgICAgIG9uU3R5bGVDaGFuZ2U9e29uU3R5bGVDaGFuZ2UgPyAoKSA9PiBvblN0eWxlQ2hhbmdlKGNhcmQuaWQpIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgIG9uVGFnc0NoYW5nZT17b25UYWdzQ2hhbmdlID8gKCkgPT4gb25UYWdzQ2hhbmdlKGNhcmQuaWQpIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgIG9uTW92ZVRvRm9sZGVyPXtvbk1vdmVUb0ZvbGRlcn1cclxuICAgICAgICAgICAgICBjYXJkPXtjYXJkfVxyXG4gICAgICAgICAgICAgIGlzRmxpcHBpbmc9e2lzRmxpcHBpbmd9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogQmFjayBTaWRlICovfVxyXG4gICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgICAgICBcImZsaXAtY2FyZC1mYWNlIGZsaXAtY2FyZC1iYWNrIHctZnVsbCBmbGV4IGZsZXgtY29sIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCByZWxhdGl2ZVwiLFxyXG4gICAgICAgICAgICAgIHNoYWRvd0NsYXNzLFxyXG4gICAgICAgICAgICAgIHNwZWNpYWxDbGFzc2VzLFxyXG4gICAgICAgICAgICAgIGNvbnRlbnRQYWRkaW5nQ2xhc3Nlc1tzaXplXVxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIC4uLmNhcmRTdHlsZXMsXHJcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBjYXJkU3R5bGVzLmJvcmRlclJhZGl1cyxcclxuICAgICAgICAgICAgICBiYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZVkoMTgwZGVnKScsXHJcbiAgICAgICAgICAgICAgcG9zaXRpb246IGNhcmQuaXNGbGlwcGVkID8gJ3JlbGF0aXZlJyA6ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgdG9wOiBjYXJkLmlzRmxpcHBlZCA/ICdhdXRvJyA6ICcwJyxcclxuICAgICAgICAgICAgICBvcGFjaXR5OiBjYXJkLmlzRmxpcHBlZCA/IDEgOiAwXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxDYXJkU2lkZVxyXG4gICAgICAgICAgICAgIGNvbnRlbnQ9e3RlbXBDb250ZW50IHx8IGNhcmQuYmFja0NvbnRlbnR9XHJcbiAgICAgICAgICAgICAgaXNFZGl0aW5nPXtpc0VkaXRpbmcgJiYgY2FyZC5pc0ZsaXBwZWR9XHJcbiAgICAgICAgICAgICAgZWRpdGluZ0ZpZWxkPXtlZGl0aW5nRmllbGR9XHJcbiAgICAgICAgICAgICAgb25UaXRsZUNoYW5nZT17aGFuZGxlVGl0bGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgb25UZXh0Q2hhbmdlPXtoYW5kbGVUZXh0Q2hhbmdlfVxyXG4gICAgICAgICAgICAgIG9uVGVtcENvbnRlbnRVcGRhdGU9e2hhbmRsZVRlbXBDb250ZW50VXBkYXRlfVxyXG4gICAgICAgICAgICAgIG9uU2F2ZUVkaXQ9e2hhbmRsZVNhdmVFZGl0fVxyXG4gICAgICAgICAgICAgIG9uQ2FuY2VsRWRpdD17aGFuZGxlQ2FuY2VsRWRpdH1cclxuICAgICAgICAgICAgICBvbkRvdWJsZUNsaWNrPXtoYW5kbGVEb3VibGVDbGlja31cclxuICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XHJcbiAgICAgICAgICAgICAgc2lkZUxhYmVsPVwiQmFja1wiXHJcbiAgICAgICAgICAgICAgaXNIb3ZlcmVkPXtpc0hvdmVyZWR9XHJcbiAgICAgICAgICAgICAgb25FZGl0PXtoYW5kbGVFZGl0fVxyXG4gICAgICAgICAgICAgIG9uRmxpcD17aGFuZGxlRmxpcH1cclxuICAgICAgICAgICAgICBvbkNvcHk9eygpID0+IG9uQ29weShjYXJkLmlkKX1cclxuICAgICAgICAgICAgICBvblNjcmVlbnNob3Q9eygpID0+IG9uU2NyZWVuc2hvdChjYXJkLmlkKX1cclxuICAgICAgICAgICAgICBvblNoYXJlPXsoKSA9PiBvblNoYXJlKGNhcmQuaWQpfVxyXG4gICAgICAgICAgICAgIG9uRGVsZXRlPXsoKSA9PiBvbkRlbGV0ZShjYXJkLmlkKX1cclxuICAgICAgICAgICAgICBvblN0eWxlQ2hhbmdlPXtvblN0eWxlQ2hhbmdlID8gKCkgPT4gb25TdHlsZUNoYW5nZShjYXJkLmlkKSA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICBvblRhZ3NDaGFuZ2U9e29uVGFnc0NoYW5nZSA/ICgpID0+IG9uVGFnc0NoYW5nZShjYXJkLmlkKSA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICBvbk1vdmVUb0ZvbGRlcj17b25Nb3ZlVG9Gb2xkZXJ9XHJcbiAgICAgICAgICAgICAgY2FyZD17Y2FyZH1cclxuICAgICAgICAgICAgICBpc0ZsaXBwaW5nPXtpc0ZsaXBwaW5nfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxyXG4vLyBJbWFnZSBHcmlkIENvbXBvbmVudCB3aXRoIFNtYXJ0IENlbnRlcmluZ1xyXG5pbnRlcmZhY2UgSW1hZ2VHcmlkUHJvcHMge1xyXG4gIGltYWdlczogSW1hZ2VEYXRhW11cclxufVxyXG5cclxuZnVuY3Rpb24gSW1hZ2VHcmlkQ29tcG9uZW50KHsgaW1hZ2VzIH06IEltYWdlR3JpZFByb3BzKSB7XHJcbiAgY29uc3QgZGlzcGxheUltYWdlcyA9IGltYWdlcy5zbGljZSgwLCA0KVxyXG4gIGNvbnN0IGltYWdlQ291bnQgPSBkaXNwbGF5SW1hZ2VzLmxlbmd0aFxyXG5cclxuICAvLyBEeW5hbWljIGdyaWQgbGF5b3V0IGJhc2VkIG9uIGltYWdlIGNvdW50XHJcbiAgY29uc3QgZ2V0R3JpZENsYXNzTmFtZSA9IChjb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICBzd2l0Y2ggKGNvdW50KSB7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICByZXR1cm4gXCJmbGV4IGp1c3RpZnktY2VudGVyXCIgLy8gU2luZ2xlIGltYWdlIGNlbnRlcmVkXHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICByZXR1cm4gXCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCIgLy8gVHdvIGNvbHVtbnNcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICAgIHJldHVybiBcImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIiAvLyBUd28gY29sdW1ucyB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgZm9yIDNyZCBpbWFnZVxyXG4gICAgICBjYXNlIDQ6XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIFwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMlwiIC8vIFN0YW5kYXJkIDJ4MiBncmlkXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBEeW5hbWljIGltYWdlIGNvbnRhaW5lciBzdHlsZXNcclxuICBjb25zdCBnZXRJbWFnZUNvbnRhaW5lckNsYXNzTmFtZSA9IChjb3VudDogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBiYXNlQ2xhc3NlcyA9IFwicmVsYXRpdmUgYXNwZWN0LXZpZGVvIHJvdW5kZWQtbWQgb3ZlcmZsb3ctaGlkZGVuIGJnLW11dGVkIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpzY2FsZS1bMS4wMl1cIlxyXG4gICAgXHJcbiAgICBpZiAoY291bnQgPT09IDEpIHtcclxuICAgICAgLy8gU2luZ2xlIGltYWdlOiBjZW50ZXIgYW5kIGxpbWl0IG1heCB3aWR0aFxyXG4gICAgICByZXR1cm4gYCR7YmFzZUNsYXNzZXN9IG1heC13LXhzIHctZnVsbGBcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGNvdW50ID09PSAzICYmIGluZGV4ID09PSAyKSB7XHJcbiAgICAgIC8vIFRoaXJkIGltYWdlIGluIDMtaW1hZ2UgbGF5b3V0OiBzcGFuIGJvdGggY29sdW1ucyBhbmQgY2VudGVyXHJcbiAgICAgIHJldHVybiBgJHtiYXNlQ2xhc3Nlc30gY29sLXNwYW4tMiBtYXgtdy14cyBteC1hdXRvYFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gYmFzZUNsYXNzZXNcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0R3JpZENsYXNzTmFtZShpbWFnZUNvdW50KX0+XHJcbiAgICAgIHtkaXNwbGF5SW1hZ2VzLm1hcCgoaW1hZ2U6IEltYWdlRGF0YSwgaW5kZXg6IG51bWJlcikgPT4gKFxyXG4gICAgICAgIDxkaXYgXHJcbiAgICAgICAgICBrZXk9e2luZGV4fSBcclxuICAgICAgICAgIGNsYXNzTmFtZT17Z2V0SW1hZ2VDb250YWluZXJDbGFzc05hbWUoaW1hZ2VDb3VudCwgaW5kZXgpfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxpbWdcclxuICAgICAgICAgICAgc3JjPXtpbWFnZS51cmx9XHJcbiAgICAgICAgICAgIGFsdD17aW1hZ2UuYWx0IHx8IGBJbWFnZSAke2luZGV4ICsgMX1gfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApKX1cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuLy8gQ2FyZCBTaWRlIENvbXBvbmVudFxyXG5pbnRlcmZhY2UgQ2FyZFNpZGVQcm9wcyB7XHJcbiAgY29udGVudDogQ2FyZENvbnRlbnRUeXBlXHJcbiAgaXNFZGl0aW5nOiBib29sZWFuXHJcbiAgZWRpdGluZ0ZpZWxkOiAndGl0bGUnIHwgJ2NvbnRlbnQnIHwgbnVsbFxyXG4gIG9uVGl0bGVDaGFuZ2U6IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4gdm9pZFxyXG4gIG9uVGV4dENoYW5nZTogKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSA9PiB2b2lkXHJcbiAgb25UZW1wQ29udGVudFVwZGF0ZTogKGZpZWxkOiBrZXlvZiBDYXJkQ29udGVudFR5cGUsIHZhbHVlOiBhbnkpID0+IHZvaWRcclxuICBvblNhdmVFZGl0OiAoKSA9PiB2b2lkXHJcbiAgb25DYW5jZWxFZGl0OiAoKSA9PiB2b2lkXHJcbiAgb25Eb3VibGVDbGljazogKGZpZWxkOiAndGl0bGUnIHwgJ2NvbnRlbnQnKSA9PiB2b2lkXHJcbiAgb25LZXlEb3duOiAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4gdm9pZFxyXG4gIHNpZGVMYWJlbDogc3RyaW5nXHJcbiAgaXNIb3ZlcmVkOiBib29sZWFuXHJcbiAgb25FZGl0OiAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4gdm9pZFxyXG4gIG9uRmxpcDogKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHZvaWRcclxuICBvbkNvcHk6ICgpID0+IHZvaWRcclxuICBvblNjcmVlbnNob3Q6ICgpID0+IHZvaWRcclxuICBvblNoYXJlOiAoKSA9PiB2b2lkXHJcbiAgb25EZWxldGU6ICgpID0+IHZvaWRcclxuICBvblN0eWxlQ2hhbmdlPzogKCkgPT4gdm9pZFxyXG4gIG9uVGFnc0NoYW5nZT86ICgpID0+IHZvaWRcclxuICBvbk1vdmVUb0ZvbGRlcj86ICgpID0+IHZvaWRcclxuICBjYXJkOiBDYXJkVHlwZVxyXG4gIGlzRmxpcHBpbmc6IGJvb2xlYW5cclxufVxyXG5cclxuZnVuY3Rpb24gQ2FyZFNpZGUoe1xyXG4gIGNvbnRlbnQsXHJcbiAgaXNFZGl0aW5nLFxyXG4gIGVkaXRpbmdGaWVsZCxcclxuICBvblRpdGxlQ2hhbmdlLFxyXG4gIG9uVGV4dENoYW5nZSxcclxuICBvblRlbXBDb250ZW50VXBkYXRlLFxyXG4gIG9uU2F2ZUVkaXQsXHJcbiAgb25DYW5jZWxFZGl0LFxyXG4gIG9uRG91YmxlQ2xpY2ssXHJcbiAgb25LZXlEb3duLFxyXG4gIHNpZGVMYWJlbCxcclxuICBpc0hvdmVyZWQsXHJcbiAgb25FZGl0LFxyXG4gIG9uRmxpcCxcclxuICBvbkNvcHksXHJcbiAgb25TY3JlZW5zaG90LFxyXG4gIG9uU2hhcmUsXHJcbiAgb25EZWxldGUsXHJcbiAgb25TdHlsZUNoYW5nZSxcclxuICBvblRhZ3NDaGFuZ2UsXHJcbiAgb25Nb3ZlVG9Gb2xkZXIsXHJcbiAgY2FyZCxcclxuICBpc0ZsaXBwaW5nXHJcbn06IENhcmRTaWRlUHJvcHMpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtZnVsbFwiPlxyXG4gICAgICB7LyogSGVhZGVyIHdpdGggVGl0bGUgYW5kIEFjdGlvbiBCdXR0b25zICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIG1iLTNcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtci0yXCI+XHJcbiAgICAgICAgICB7aXNFZGl0aW5nICYmIGVkaXRpbmdGaWVsZCA9PT0gJ3RpdGxlJyA/IChcclxuICAgICAgICAgICAgPFRpdGxlRWRpdG9yXHJcbiAgICAgICAgICAgICAgY29udGVudD17Y29udGVudC50aXRsZX1cclxuICAgICAgICAgICAgICBvblVwZGF0ZT17KHZhbHVlKSA9PiBvblRlbXBDb250ZW50VXBkYXRlKCd0aXRsZScsIHZhbHVlKX1cclxuICAgICAgICAgICAgICBvblNhdmU9e29uU2F2ZUVkaXR9XHJcbiAgICAgICAgICAgICAgb25DYW5jZWw9e29uQ2FuY2VsRWRpdH1cclxuICAgICAgICAgICAgICBhdXRvRm9jdXNcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgIDxoMyBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1sZWZ0IGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWJsYWNrLzUgcm91bmRlZCBweC0xIHB5LTAuNSAtbXgtMSB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgb25Eb3VibGVDbGljaz17KCkgPT4gb25Eb3VibGVDbGljaygndGl0bGUnKX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtjb250ZW50LnRpdGxlIHx8ICdVbnRpdGxlZCBDYXJkJ31cclxuICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIHsvKiBBY3Rpb24gQnV0dG9ucyAtIElubGluZSAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICBcImZsZXggZ2FwLTEgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGZsZXgtc2hyaW5rLTBcIixcclxuICAgICAgICAgIGlzSG92ZXJlZCB8fCBpc0VkaXRpbmcgPyBcIm9wYWNpdHktMTAwXCIgOiBcIm9wYWNpdHktNjBcIlxyXG4gICAgICAgICl9PlxyXG4gICAgICAgICAgey8qIEZsaXAgQnV0dG9uIHdpdGggQ2F0IEljb24gKi99XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgICAgXCJoLTcgdy03IHAtMCByb3VuZGVkLW1kIGhvdmVyOmJnLWJsYWNrLzEwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFwiLFxyXG4gICAgICAgICAgICAgIGlzRmxpcHBpbmcgJiYgXCJhbmltYXRlLXB1bHNlXCJcclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgb25DbGljaz17b25GbGlwfVxyXG4gICAgICAgICAgICB0aXRsZT17YEZsaXAgdG8gJHtjYXJkLmlzRmxpcHBlZCA/ICdGcm9udCcgOiAnQmFjayd9YH1cclxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRmxpcHBpbmd9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxDYXQgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgICAgICBcImgtMy41IHctMy41IHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTIwMFwiLFxyXG4gICAgICAgICAgICAgIGlzRmxpcHBpbmcgJiYgXCJzY2FsZS0xMTBcIlxyXG4gICAgICAgICAgICApfSAvPlxyXG4gICAgICAgICAgPC9CdXR0b24+XHJcblxyXG4gICAgICAgICAgey8qIE1vcmUgQWN0aW9ucyAqL31cclxuICAgICAgICAgIDxEcm9wZG93bk1lbnUgbW9kYWw9e2ZhbHNlfT5cclxuICAgICAgICAgICAgPERyb3Bkb3duTWVudVRyaWdnZXIgYXNDaGlsZD5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTcgdy03IHJvdW5kZWQtbWQgaG92ZXI6YmctYmxhY2svMTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgZ3JvdXBcIlxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgIC8vIFByb2dyYW1tYXRpY2FsbHkgdHJpZ2dlciB0aGUgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgTW91c2VFdmVudCgnY2xpY2snLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlldzogd2luZG93LFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPE1vcmVIb3Jpem9udGFsIGNsYXNzTmFtZT1cImgtMy41IHctMy41XCIgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVUcmlnZ2VyPlxyXG4gICAgICAgICAgICA8RHJvcGRvd25NZW51Q29udGVudCBhbGlnbj1cImVuZFwiIGNsYXNzTmFtZT1cInctNDhcIj5cclxuICAgICAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbSBvbkNsaWNrPXtvbkVkaXR9PlxyXG4gICAgICAgICAgICAgICAgPEVkaXQzIGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICBFZGl0IENvbnRlbnRcclxuICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17b25Db3B5fT5cclxuICAgICAgICAgICAgICAgIDxDb3B5IGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICBDb3B5IFRleHRcclxuICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17b25TY3JlZW5zaG90fT5cclxuICAgICAgICAgICAgICAgIDxDYW1lcmEgY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgIFNjcmVlbnNob3RcclxuICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17b25TaGFyZX0+XHJcbiAgICAgICAgICAgICAgICA8U2hhcmUyIGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICBTaGFyZVxyXG4gICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cclxuICAgICAgICAgICAgICA8RHJvcGRvd25NZW51U2VwYXJhdG9yIC8+XHJcbiAgICAgICAgICAgICAge29uU3R5bGVDaGFuZ2UgJiYgKFxyXG4gICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17b25TdHlsZUNoYW5nZX0+XHJcbiAgICAgICAgICAgICAgICAgIDxQYWxldHRlIGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIENoYW5nZSBTdHlsZVxyXG4gICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAge29uVGFnc0NoYW5nZSAmJiAoXHJcbiAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbSBvbkNsaWNrPXtvblRhZ3NDaGFuZ2V9PlxyXG4gICAgICAgICAgICAgICAgICA8VGFnIGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIE1hbmFnZSBUYWdzXHJcbiAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICB7b25Nb3ZlVG9Gb2xkZXIgJiYgKFxyXG4gICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17b25Nb3ZlVG9Gb2xkZXJ9PlxyXG4gICAgICAgICAgICAgICAgICA8Rm9sZGVyT3BlbiBjbGFzc05hbWU9XCJoLTQgdy00IG1yLTJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICBNb3ZlIHRvIEZvbGRlclxyXG4gICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPERyb3Bkb3duTWVudVNlcGFyYXRvciAvPlxyXG4gICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVJdGVtIFxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17b25EZWxldGV9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWRlc3RydWN0aXZlIGZvY3VzOnRleHQtZGVzdHJ1Y3RpdmVcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgIERlbGV0ZSBDYXJkXHJcbiAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPlxyXG4gICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUNvbnRlbnQ+XHJcbiAgICAgICAgICA8L0Ryb3Bkb3duTWVudT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogSW1hZ2VzICovfVxyXG4gICAgICB7Y29udGVudC5pbWFnZXMubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zIGZsZXgtc2hyaW5rLTBcIj5cclxuICAgICAgICAgIDxJbWFnZUdyaWRDb21wb25lbnQgaW1hZ2VzPXtjb250ZW50LmltYWdlc30gLz5cclxuICAgICAgICAgIHtjb250ZW50LmltYWdlcy5sZW5ndGggPiA0ICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0xIHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgK3tjb250ZW50LmltYWdlcy5sZW5ndGggLSA0fSBtb3JlIGltYWdlc1xyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7LyogVGV4dCBDb250ZW50ICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtYi0zIHJlbGF0aXZlIHotMTBcIj5cclxuICAgICAgICB7aXNFZGl0aW5nICYmIGVkaXRpbmdGaWVsZCA9PT0gJ2NvbnRlbnQnID8gKFxyXG4gICAgICAgICAgPFJpY2hUZXh0RWRpdG9yXHJcbiAgICAgICAgICAgIGNvbnRlbnQ9e2NvbnRlbnQudGV4dH1cclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBZGQgeW91ciBjb250ZW50IGhlcmUuLi5cIlxyXG4gICAgICAgICAgICBvblVwZGF0ZT17KHZhbHVlKSA9PiBvblRlbXBDb250ZW50VXBkYXRlKCd0ZXh0JywgdmFsdWUpfVxyXG4gICAgICAgICAgICBvblNhdmU9e29uU2F2ZUVkaXR9XHJcbiAgICAgICAgICAgIG9uQ2FuY2VsPXtvbkNhbmNlbEVkaXR9XHJcbiAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgLz5cclxuICAgICAgICApIDogKFxyXG4gICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgdGV4dC1sZWZ0IGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWJsYWNrLzUgcm91bmRlZCBwLTIgLW0tMiB0cmFuc2l0aW9uLWNvbG9ycyBtaW4taC1bMTAwcHhdIHRpcHRhcC1lZGl0b3IgcmVsYXRpdmUgei0xMFwiXHJcbiAgICAgICAgICAgIG9uRG91YmxlQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8g5aaC5p6c54K55Ye755qE5piv6ZO+5o6l77yM5LiN6Kem5Y+R57yW6L6RXHJcbiAgICAgICAgICAgICAgaWYgKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkudGFnTmFtZSA9PT0gJ0EnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgb25Eb3VibGVDbGljaygnY29udGVudCcpXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8g5aSE55CG6ZO+5o6l54K55Ye7XHJcbiAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnRcclxuICAgICAgICAgICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdBJykge1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaHJlZiA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKVxyXG4gICAgICAgICAgICAgICAgaWYgKGhyZWYpIHtcclxuICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycsICdub29wZW5lcixub3JlZmVycmVyJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1wcmUtd3JhcFwiXHJcbiAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgXHJcbiAgICAgICAgICAgICAgICBfX2h0bWw6IGNvbnRlbnQudGV4dCB8fCAnPHNwYW4gY2xhc3M9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5DbGljayB0byBhZGQgY29udGVudC4uLjwvc3Bhbj4nIFxyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBGb290ZXIgd2l0aCBUYWdzIGFuZCBJbWFnZSBDb3VudCAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC1hdXRvXCI+XHJcbiAgICAgICAgey8qIFRhZ3MgKi99XHJcbiAgICAgICAgPENhcmRUYWdzIHRhZ3M9e2NvbnRlbnQudGFnc30gc2l6ZT1cInNtXCIgLz5cclxuXHJcbiAgICAgICAgey8qIEltYWdlIENvdW50ICovfVxyXG4gICAgICAgIHtjb250ZW50LmltYWdlcy5sZW5ndGggPiAwICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgdGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMlwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XHJcbiAgICAgICAgICAgICAgPEltYWdlSWNvbiBjbGFzc05hbWU9XCJoLTMgdy0zXCIgLz5cclxuICAgICAgICAgICAgICA8c3Bhbj57Y29udGVudC5pbWFnZXMubGVuZ3RofTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufSJdLCJ2ZXJzaW9uIjozfQ==