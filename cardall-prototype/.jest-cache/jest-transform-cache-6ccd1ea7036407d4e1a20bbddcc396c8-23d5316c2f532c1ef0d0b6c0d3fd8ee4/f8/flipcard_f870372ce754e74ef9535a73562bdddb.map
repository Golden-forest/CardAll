{"file":"D:\\Projects\\CardEverything\\cardall-prototype\\src\\components\\card\\flip-card.tsx","mappings":"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","names":[],"sources":["D:\\Projects\\CardEverything\\cardall-prototype\\src\\components\\card\\flip-card.tsx"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react'\r\nimport { Card as CardType, CardContent as CardContentType, ImageData } from '@/types/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { \r\n  Cat, \r\n  Copy, \r\n  Camera, \r\n  Share2, \r\n  Edit3, \r\n  Palette,\r\n  MoreHorizontal,\r\n  Tag,\r\n  Image as ImageIcon,\r\n  Trash2,\r\n  FolderOpen\r\n} from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { RichTextEditor } from './rich-text-editor'\r\nimport { TitleEditor } from './title-editor'\r\nimport { CardTags } from '../tag/card-tags'\r\n\r\ninterface FlipCardProps {\r\n  card: CardType\r\n  onFlip: (cardId: string) => void\r\n  onUpdate: (cardId: string, updates: Partial<CardType>) => void\r\n  onCopy: (cardId: string) => void\r\n  onScreenshot: (cardId: string) => void\r\n  onShare: (cardId: string) => void\r\n  onDelete: (cardId: string) => void\r\n  onStyleChange?: (cardId: string) => void\r\n  onTagsChange?: (cardId: string) => void\r\n  onMoveToFolder?: () => void\r\n  className?: string\r\n  size?: 'sm' | 'md' | 'lg'\r\n}\r\n\r\nexport function FlipCard({\r\n  card,\r\n  onFlip,\r\n  onUpdate,\r\n  onCopy,\r\n  onScreenshot,\r\n  onShare,\r\n  onDelete,\r\n  onStyleChange,\r\n  onTagsChange,\r\n  onMoveToFolder,\r\n  className,\r\n  size = 'md'\r\n}: FlipCardProps) {\r\n  const [isHovered, setIsHovered] = useState(false)\r\n  const [isEditing, setIsEditing] = useState(false)\r\n  const [editingField, setEditingField] = useState<'title' | 'content' | null>(null)\r\n  const [originalContent, setOriginalContent] = useState<CardContentType | null>(null)\r\n  const [tempContent, setTempContent] = useState<CardContentType | null>(null)\r\n  const [isFlipping, setIsFlipping] = useState(false)\r\n  const cardRef = useRef<HTMLDivElement>(null)\r\n\r\n  const currentContent = card.isFlipped ? card.backContent : card.frontContent\r\n\r\n  // Size variants - 确保所有尺寸都使用完整宽度\r\n  const sizeClasses = {\r\n    sm: 'w-full',\r\n    md: 'w-full', \r\n    lg: 'w-full'\r\n  }\r\n\r\n  // 内容区域的padding控制，不限制宽度\r\n  const contentPaddingClasses = {\r\n    sm: 'p-3',\r\n    md: 'p-4',\r\n    lg: 'p-5'\r\n  }\r\n\r\n  // Style generation based on card.style\r\n  const getCardStyles = () => {\r\n    const { style } = card\r\n    const baseStyles: React.CSSProperties = {\r\n      borderRadius: '1rem', // 统一使用16px圆角\r\n      fontFamily: style.fontFamily,\r\n      fontSize: style.fontSize === 'sm' ? '0.875rem' : \r\n                style.fontSize === 'lg' ? '1.125rem' : '1rem',\r\n      fontWeight: style.fontWeight,\r\n      color: style.textColor,\r\n      borderWidth: style.borderWidth || 0,\r\n      borderColor: style.borderColor,\r\n    }\r\n\r\n    // Handle different style types and add special classes\r\n    let specialClasses = ''\r\n    \r\n    if (style.type === 'gradient' && style.gradientColors) {\r\n      baseStyles.background = `linear-gradient(135deg, ${style.gradientColors.join(', ')})`\r\n      \r\n      // Add animation classes based on style ID or gradient colors\r\n      if (style.gradientColors.includes('#8a2be2') && style.gradientColors.includes('#00ffff')) {\r\n        specialClasses = 'gradient-wave-animation';\r\n        // 确保渐变波浪样式不会干扰编辑功能\r\n        baseStyles.position = 'relative';\r\n      } else if (style.gradientColors.includes('#ee7752') && style.gradientColors.includes('#23d5ab')) {\r\n        specialClasses = 'moving-gradient-animation';\r\n      } else if (style.gradientColors.includes('#667eea')) {\r\n        specialClasses = 'gradient-mesh-animation';\r\n      }\r\n    } else if (style.type === 'glass') {\r\n      // Glass morphism effect\r\n      baseStyles.background = style.backgroundColor || 'rgba(255, 255, 255, 0.15)'\r\n      baseStyles.backdropFilter = 'blur(20px) saturate(180%)'\r\n      baseStyles.WebkitBackdropFilter = 'blur(20px) saturate(180%)'\r\n      baseStyles.border = `1px solid ${style.borderColor || 'rgba(255, 255, 255, 0.18)'}`\r\n      specialClasses = 'glass-morphism'\r\n    } else {\r\n      // Handle special gradient backgrounds from backgroundColor field\r\n      if (style.backgroundColor && style.backgroundColor.includes('linear-gradient')) {\r\n        baseStyles.background = style.backgroundColor\r\n        baseStyles.backgroundSize = '400% 400%'\r\n        // Add gradient animation for gradient-mesh style\r\n        if (style.backgroundColor.includes('#667eea')) {\r\n          specialClasses = 'gradient-mesh-animation'\r\n        }\r\n      } else {\r\n        baseStyles.backgroundColor = style.backgroundColor\r\n        \r\n        // Add animation classes based on solid colors and border\r\n        if (style.backgroundColor === '#1a1a2e' && style.borderColor === '#4361ee') {\r\n          specialClasses = 'pulse-border-animation';\r\n        } else if (style.backgroundColor === '#0f172a') {\r\n          specialClasses = 'glow-hover-animation';\r\n        }\r\n      }\r\n    }\r\n\r\n    // Add shadow\r\n    const shadowClasses: Record<string, string> = {\r\n      sm: 'shadow-sm',\r\n      md: 'shadow-md',\r\n      lg: 'shadow-lg',\r\n      xl: 'shadow-xl',\r\n      none: '',\r\n      '2xl': 'shadow-2xl',\r\n      glass: 'shadow-lg' // Custom glass shadow\r\n    }\r\n\r\n    return {\r\n      style: baseStyles,\r\n      shadowClass: shadowClasses[style.shadow || 'md'] || 'shadow-md',\r\n      specialClasses\r\n    }\r\n  }\r\n\r\n  const { style: cardStyles, shadowClass, specialClasses } = getCardStyles()\r\n\r\n  const handleFlip = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation()\r\n    e.preventDefault()\r\n    \r\n    if (isFlipping) return // 防止重复点击\r\n    \r\n    setIsFlipping(true)\r\n    onFlip(card.id)\r\n    \r\n    // 动画完成后重置状态\r\n    setTimeout(() => {\r\n      setIsFlipping(false)\r\n    }, 600)\r\n  }, [card.id, onFlip, isFlipping])\r\n\r\n  // Start editing\r\n  const handleEdit = (e: React.MouseEvent) => {\r\n    e.stopPropagation()\r\n    startEditing('content')\r\n  }\r\n\r\n  // Double click to edit\r\n  const handleDoubleClick = (field: 'title' | 'content') => {\r\n    startEditing(field)\r\n  }\r\n\r\n  const startEditing = (field: 'title' | 'content') => {\r\n    setOriginalContent(currentContent)\r\n    setTempContent(currentContent)\r\n    setEditingField(field)\r\n    setIsEditing(true)\r\n  }\r\n\r\n  // Update temp content during editing\r\n  const handleTempContentUpdate = (field: keyof CardContentType, value: any) => {\r\n    if (tempContent) {\r\n      setTempContent({\r\n        ...tempContent,\r\n        [field]: value,\r\n        lastModified: new Date()\r\n      })\r\n    }\r\n  }\r\n\r\n  // Save changes\r\n  const handleSaveEdit = () => {\r\n    if (tempContent) {\r\n      const contentKey = card.isFlipped ? 'backContent' : 'frontContent'\r\n      const updates = {\r\n        [contentKey]: tempContent\r\n      } as Partial<CardType>\r\n      onUpdate(card.id, updates)\r\n    }\r\n    setIsEditing(false)\r\n    setEditingField(null)\r\n    setOriginalContent(null)\r\n    setTempContent(null)\r\n  }\r\n\r\n  // Cancel changes\r\n  const handleCancelEdit = () => {\r\n    setIsEditing(false)\r\n    setEditingField(null)\r\n    setOriginalContent(null)\r\n    setTempContent(null)\r\n  }\r\n\r\n  // Legacy handlers for backward compatibility\r\n  const handleTitleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    handleTempContentUpdate('title', e.target.value)\r\n  }\r\n\r\n  const handleTextChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    handleTempContentUpdate('text', e.target.value)\r\n  }\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Escape') {\r\n      handleCancelEdit()\r\n    }\r\n    if (e.key === 'Enter' && e.ctrlKey) {\r\n      handleSaveEdit()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className={cn(\"relative group\", className)}\r\n      data-card-id={card.id}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n      {/* 3D Flip Animation Container */}\r\n      <div \r\n        className=\"flip-card-container\"\r\n        style={{\r\n          perspective: '1000px',\r\n          width: '100%',\r\n          minHeight: 'fit-content'\r\n        }}\r\n      >\r\n        <div \r\n          ref={cardRef}\r\n          className={cn(\r\n            \"flip-card-inner relative transition-all duration-700 ease-in-out\",\r\n            sizeClasses[size]\r\n          )}\r\n          style={{ \r\n            minHeight: 'fit-content',\r\n            width: '100%',\r\n            transformStyle: 'preserve-3d',\r\n            transform: card.isFlipped ? 'rotateY(180deg)' : 'rotateY(0deg)'\r\n          }}\r\n        >\r\n          {/* Front Side */}\r\n          <div \r\n            className={cn(\r\n              \"flip-card-face flip-card-front w-full flex flex-col transition-all duration-300 relative\",\r\n              shadowClass,\r\n              specialClasses,\r\n              contentPaddingClasses[size]\r\n            )}\r\n            style={{\r\n              ...cardStyles,\r\n              borderRadius: cardStyles.borderRadius,\r\n              backfaceVisibility: 'hidden',\r\n              position: card.isFlipped ? 'absolute' : 'relative',\r\n              opacity: card.isFlipped ? 0 : 1\r\n            }}\r\n          >\r\n            <CardSide\r\n              content={tempContent || card.frontContent}\r\n              isEditing={isEditing && !card.isFlipped}\r\n              editingField={editingField}\r\n              onTitleChange={handleTitleChange}\r\n              onTextChange={handleTextChange}\r\n              onTempContentUpdate={handleTempContentUpdate}\r\n              onSaveEdit={handleSaveEdit}\r\n              onCancelEdit={handleCancelEdit}\r\n              onDoubleClick={handleDoubleClick}\r\n              onKeyDown={handleKeyDown}\r\n              sideLabel=\"Front\"\r\n              isHovered={isHovered}\r\n              onEdit={handleEdit}\r\n              onFlip={handleFlip}\r\n              onCopy={() => onCopy(card.id)}\r\n              onScreenshot={() => onScreenshot(card.id)}\r\n              onShare={() => onShare(card.id)}\r\n              onDelete={() => onDelete(card.id)}\r\n              onStyleChange={onStyleChange ? () => onStyleChange(card.id) : undefined}\r\n              onTagsChange={onTagsChange ? () => onTagsChange(card.id) : undefined}\r\n              onMoveToFolder={onMoveToFolder}\r\n              card={card}\r\n              isFlipping={isFlipping}\r\n            />\r\n          </div>\r\n\r\n          {/* Back Side */}\r\n          <div \r\n            className={cn(\r\n              \"flip-card-face flip-card-back w-full flex flex-col transition-all duration-300 relative\",\r\n              shadowClass,\r\n              specialClasses,\r\n              contentPaddingClasses[size]\r\n            )}\r\n            style={{\r\n              ...cardStyles,\r\n              borderRadius: cardStyles.borderRadius,\r\n              backfaceVisibility: 'hidden',\r\n              transform: 'rotateY(180deg)',\r\n              position: card.isFlipped ? 'relative' : 'absolute',\r\n              top: card.isFlipped ? 'auto' : '0',\r\n              opacity: card.isFlipped ? 1 : 0\r\n            }}\r\n          >\r\n            <CardSide\r\n              content={tempContent || card.backContent}\r\n              isEditing={isEditing && card.isFlipped}\r\n              editingField={editingField}\r\n              onTitleChange={handleTitleChange}\r\n              onTextChange={handleTextChange}\r\n              onTempContentUpdate={handleTempContentUpdate}\r\n              onSaveEdit={handleSaveEdit}\r\n              onCancelEdit={handleCancelEdit}\r\n              onDoubleClick={handleDoubleClick}\r\n              onKeyDown={handleKeyDown}\r\n              sideLabel=\"Back\"\r\n              isHovered={isHovered}\r\n              onEdit={handleEdit}\r\n              onFlip={handleFlip}\r\n              onCopy={() => onCopy(card.id)}\r\n              onScreenshot={() => onScreenshot(card.id)}\r\n              onShare={() => onShare(card.id)}\r\n              onDelete={() => onDelete(card.id)}\r\n              onStyleChange={onStyleChange ? () => onStyleChange(card.id) : undefined}\r\n              onTagsChange={onTagsChange ? () => onTagsChange(card.id) : undefined}\r\n              onMoveToFolder={onMoveToFolder}\r\n              card={card}\r\n              isFlipping={isFlipping}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Image Grid Component with Smart Centering\r\ninterface ImageGridProps {\r\n  images: ImageData[]\r\n}\r\n\r\nfunction ImageGridComponent({ images }: ImageGridProps) {\r\n  const displayImages = images.slice(0, 4)\r\n  const imageCount = displayImages.length\r\n\r\n  // Dynamic grid layout based on image count\r\n  const getGridClassName = (count: number) => {\r\n    switch (count) {\r\n      case 1:\r\n        return \"flex justify-center\" // Single image centered\r\n      case 2:\r\n        return \"grid grid-cols-2 gap-2\" // Two columns\r\n      case 3:\r\n        return \"grid grid-cols-2 gap-2\" // Two columns with special handling for 3rd image\r\n      case 4:\r\n      default:\r\n        return \"grid grid-cols-2 gap-2\" // Standard 2x2 grid\r\n    }\r\n  }\r\n\r\n  // Dynamic image container styles\r\n  const getImageContainerClassName = (count: number, index: number) => {\r\n    const baseClasses = \"relative aspect-video rounded-md overflow-hidden bg-muted transition-all duration-200 hover:scale-[1.02]\"\r\n    \r\n    if (count === 1) {\r\n      // Single image: center and limit max width\r\n      return `${baseClasses} max-w-xs w-full`\r\n    }\r\n    \r\n    if (count === 3 && index === 2) {\r\n      // Third image in 3-image layout: span both columns and center\r\n      return `${baseClasses} col-span-2 max-w-xs mx-auto`\r\n    }\r\n    \r\n    return baseClasses\r\n  }\r\n\r\n  return (\r\n    <div className={getGridClassName(imageCount)}>\r\n      {displayImages.map((image: ImageData, index: number) => (\r\n        <div \r\n          key={index} \r\n          className={getImageContainerClassName(imageCount, index)}\r\n        >\r\n          <img\r\n            src={image.url}\r\n            alt={image.alt || `Image ${index + 1}`}\r\n            className=\"w-full h-full object-cover transition-transform duration-200\"\r\n            loading=\"lazy\"\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\n// Card Side Component\r\ninterface CardSideProps {\r\n  content: CardContentType\r\n  isEditing: boolean\r\n  editingField: 'title' | 'content' | null\r\n  onTitleChange: (e: React.ChangeEvent<HTMLInputElement>) => void\r\n  onTextChange: (e: React.ChangeEvent<HTMLTextAreaElement>) => void\r\n  onTempContentUpdate: (field: keyof CardContentType, value: any) => void\r\n  onSaveEdit: () => void\r\n  onCancelEdit: () => void\r\n  onDoubleClick: (field: 'title' | 'content') => void\r\n  onKeyDown: (e: React.KeyboardEvent) => void\r\n  sideLabel: string\r\n  isHovered: boolean\r\n  onEdit: (e: React.MouseEvent) => void\r\n  onFlip: (e: React.MouseEvent) => void\r\n  onCopy: () => void\r\n  onScreenshot: () => void\r\n  onShare: () => void\r\n  onDelete: () => void\r\n  onStyleChange?: () => void\r\n  onTagsChange?: () => void\r\n  onMoveToFolder?: () => void\r\n  card: CardType\r\n  isFlipping: boolean\r\n}\r\n\r\nfunction CardSide({\r\n  content,\r\n  isEditing,\r\n  editingField,\r\n  onTitleChange,\r\n  onTextChange,\r\n  onTempContentUpdate,\r\n  onSaveEdit,\r\n  onCancelEdit,\r\n  onDoubleClick,\r\n  onKeyDown,\r\n  sideLabel,\r\n  isHovered,\r\n  onEdit,\r\n  onFlip,\r\n  onCopy,\r\n  onScreenshot,\r\n  onShare,\r\n  onDelete,\r\n  onStyleChange,\r\n  onTagsChange,\r\n  onMoveToFolder,\r\n  card,\r\n  isFlipping\r\n}: CardSideProps) {\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      {/* Header with Title and Action Buttons */}\r\n      <div className=\"flex items-start justify-between mb-3\">\r\n        <div className=\"flex-1 mr-2\">\r\n          {isEditing && editingField === 'title' ? (\r\n            <TitleEditor\r\n              content={content.title}\r\n              onUpdate={(value) => onTempContentUpdate('title', value)}\r\n              onSave={onSaveEdit}\r\n              onCancel={onCancelEdit}\r\n              autoFocus\r\n            />\r\n          ) : (\r\n            <h3 \r\n              className=\"text-lg font-semibold text-left cursor-pointer hover:bg-black/5 rounded px-1 py-0.5 -mx-1 transition-colors\"\r\n              onDoubleClick={() => onDoubleClick('title')}\r\n            >\r\n              {content.title || 'Untitled Card'}\r\n            </h3>\r\n          )}\r\n        </div>\r\n\r\n        {/* Action Buttons - Inline */}\r\n        <div className={cn(\r\n          \"flex gap-1 transition-all duration-200 flex-shrink-0\",\r\n          isHovered || isEditing ? \"opacity-100\" : \"opacity-60\"\r\n        )}>\r\n          {/* Flip Button with Cat Icon */}\r\n          <Button\r\n            size=\"sm\"\r\n            variant=\"ghost\"\r\n            className={cn(\r\n              \"h-7 w-7 p-0 rounded-md hover:bg-black/10 transition-all duration-200\",\r\n              isFlipping && \"animate-pulse\"\r\n            )}\r\n            onClick={onFlip}\r\n            title={`Flip to ${card.isFlipped ? 'Front' : 'Back'}`}\r\n            disabled={isFlipping}\r\n          >\r\n            <Cat className={cn(\r\n              \"h-3.5 w-3.5 transition-transform duration-200\",\r\n              isFlipping && \"scale-110\"\r\n            )} />\r\n          </Button>\r\n\r\n          {/* More Actions */}\r\n          <DropdownMenu modal={false}>\r\n            <DropdownMenuTrigger asChild>\r\n              <div\r\n                className=\"h-7 w-7 rounded-md hover:bg-black/10 flex items-center justify-center cursor-pointer transition-colors group\"\r\n                onMouseEnter={(e) => {\r\n                  e.stopPropagation()\r\n                  // Programmatically trigger the dropdown\r\n                  const event = new MouseEvent('click', {\r\n                    view: window,\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                  })\r\n                  e.currentTarget.dispatchEvent(event)\r\n                }}\r\n                onClick={(e) => e.stopPropagation()}\r\n              >\r\n                <MoreHorizontal className=\"h-3.5 w-3.5\" />\r\n              </div>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\" className=\"w-48\">\r\n              <DropdownMenuItem onClick={onEdit}>\r\n                <Edit3 className=\"h-4 w-4 mr-2\" />\r\n                Edit Content\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem onClick={onCopy}>\r\n                <Copy className=\"h-4 w-4 mr-2\" />\r\n                Copy Text\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem onClick={onScreenshot}>\r\n                <Camera className=\"h-4 w-4 mr-2\" />\r\n                Screenshot\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem onClick={onShare}>\r\n                <Share2 className=\"h-4 w-4 mr-2\" />\r\n                Share\r\n              </DropdownMenuItem>\r\n              <DropdownMenuSeparator />\r\n              {onStyleChange && (\r\n                <DropdownMenuItem onClick={onStyleChange}>\r\n                  <Palette className=\"h-4 w-4 mr-2\" />\r\n                  Change Style\r\n                </DropdownMenuItem>\r\n              )}\r\n              {onTagsChange && (\r\n                <DropdownMenuItem onClick={onTagsChange}>\r\n                  <Tag className=\"h-4 w-4 mr-2\" />\r\n                  Manage Tags\r\n                </DropdownMenuItem>\r\n              )}\r\n              {onMoveToFolder && (\r\n                <DropdownMenuItem onClick={onMoveToFolder}>\r\n                  <FolderOpen className=\"h-4 w-4 mr-2\" />\r\n                  Move to Folder\r\n                </DropdownMenuItem>\r\n              )}\r\n              <DropdownMenuSeparator />\r\n              <DropdownMenuItem \r\n                onClick={onDelete}\r\n                className=\"text-destructive focus:text-destructive\"\r\n              >\r\n                <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                Delete Card\r\n              </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Images */}\r\n      {content.images.length > 0 && (\r\n        <div className=\"mb-3 flex-shrink-0\">\r\n          <ImageGridComponent images={content.images} />\r\n          {content.images.length > 4 && (\r\n            <div className=\"text-xs text-muted-foreground mt-1 text-center\">\r\n              +{content.images.length - 4} more images\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Text Content */}\r\n      <div className=\"flex-1 mb-3 relative z-10\">\r\n        {isEditing && editingField === 'content' ? (\r\n          <RichTextEditor\r\n            content={content.text}\r\n            placeholder=\"Add your content here...\"\r\n            onUpdate={(value) => onTempContentUpdate('text', value)}\r\n            onSave={onSaveEdit}\r\n            onCancel={onCancelEdit}\r\n            autoFocus\r\n          />\r\n        ) : (\r\n          <div \r\n            className=\"text-sm leading-relaxed text-left cursor-pointer hover:bg-black/5 rounded p-2 -m-2 transition-colors min-h-[100px] tiptap-editor relative z-10\"\r\n            onDoubleClick={(e) => {\r\n              // 如果点击的是链接，不触发编辑\r\n              if ((e.target as HTMLElement).tagName === 'A') {\r\n                return\r\n              }\r\n              onDoubleClick('content')\r\n            }}\r\n            onClick={(e) => {\r\n              // 处理链接点击\r\n              const target = e.target as HTMLElement\r\n              if (target.tagName === 'A') {\r\n                e.stopPropagation()\r\n                const href = target.getAttribute('href')\r\n                if (href) {\r\n                  window.open(href, '_blank', 'noopener,noreferrer')\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            <div \r\n              className=\"whitespace-pre-wrap\"\r\n              dangerouslySetInnerHTML={{ \r\n                __html: content.text || '<span class=\"text-muted-foreground\">Click to add content...</span>' \r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Footer with Tags and Image Count */}\r\n      <div className=\"mt-auto\">\r\n        {/* Tags */}\r\n        <CardTags tags={content.tags} size=\"sm\" />\r\n\r\n        {/* Image Count */}\r\n        {content.images.length > 0 && (\r\n          <div className=\"flex items-center justify-end text-xs text-muted-foreground mt-2\">\r\n            <div className=\"flex items-center gap-1\">\r\n              <ImageIcon className=\"h-3 w-3\" />\r\n              <span>{content.images.length}</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"version":3}