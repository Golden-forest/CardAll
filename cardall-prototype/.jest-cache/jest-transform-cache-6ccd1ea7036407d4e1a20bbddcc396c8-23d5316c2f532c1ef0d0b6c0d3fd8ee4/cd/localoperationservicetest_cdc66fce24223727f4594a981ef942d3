0aaed5b6ee71a7b013ec3a930fab03ae
"use strict";
/**
 * LocalOperationService 单元测试
 * 测试高性能本地操作服务的核心功能
 */
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
// 模拟数据库
globals_1.jest.mock('../../services/database-unified', () => ({
    db: new test_utils_1.MockDatabase()
}));
const local_operation_service_1 = require("../../services/local-operation-service");
const test_utils_1 = require("../utils/test-utils");
const test_utils_2 = require("../utils/test-utils");
(0, globals_1.describe)('LocalOperationServiceOptimized', () => {
    let service;
    let mockDb;
    (0, globals_1.beforeEach)(() => {
        // 重置模拟数据库
        mockDb = new test_utils_1.MockDatabase();
        // 重置服务实例
        service = new local_operation_service_1.LocalOperationServiceOptimized();
        // 重置性能测试器
        test_utils_2.performanceTester.reset();
        // 清理所有模拟
        globals_1.jest.clearAllMocks();
    });
    (0, globals_1.afterEach)(() => {
        // 清理服务
        service.destroy();
    });
    // ============================================================================
    // 初始化测试
    // ============================================================================
    (0, globals_1.describe)('初始化', () => {
        (0, globals_1.test)('应该正确初始化服务', async () => {
            await service.initialize();
            (0, globals_1.expect)(service).toBeInstanceOf(local_operation_service_1.LocalOperationServiceOptimized);
        });
        (0, globals_1.test)('应该处理初始化错误', async () => {
            // 模拟数据库打开失败
            globals_1.jest.spyOn(mockDb, 'open').mockRejectedValue(new Error('Database error'));
            const serviceWithError = new local_operation_service_1.LocalOperationServiceOptimized();
            await serviceWithError.initialize();
            // 服务应该仍然存在，但可能处于错误状态
            (0, globals_1.expect)(serviceWithError).toBeInstanceOf(local_operation_service_1.LocalOperationServiceOptimized);
        });
    });
    // ============================================================================
    // 卡片创建测试
    // ============================================================================
    (0, globals_1.describe)('创建卡片', () => {
        (0, globals_1.test)('应该成功创建卡片', async () => {
            const cardData = test_utils_2.mockFactories.createMockCard();
            const result = await test_utils_2.performanceTester.measure('createCard', () => service.createCard(cardData));
            (0, globals_1.expect)(result.success).toBe(true);
            (0, globals_1.expect)(result.id).toBeDefined();
            (0, globals_1.expect)(result.id).toBeValidUUID();
            (0, globals_1.expect)(result.duration).toBeWithinRange(0, 100); // 应该在100ms内完成
            (0, globals_1.expect)(result.message).toBe('Card created successfully');
        });
        (0, globals_1.test)('应该正确生成搜索向量', async () => {
            const cardData = test_utils_2.mockFactories.createMockCard({
                frontContent: {
                    title: 'Search Test Card',
                    text: 'This is a test for search functionality',
                    tags: ['search', 'test']
                },
                backContent: {
                    title: 'Back Side',
                    text: 'Additional content',
                    tags: ['back', 'content']
                }
            });
            const result = await service.createCard(cardData);
            (0, globals_1.expect)(result.success).toBe(true);
            // 验证搜索向量生成逻辑（通过检查生成的ID）
            (0, globals_1.expect)(result.id).toBeDefined();
        });
        (0, globals_1.test)('应该处理创建失败的情况', async () => {
            // 模拟数据库事务失败
            globals_1.jest.spyOn(mockDb, 'transaction').mockRejectedValue(new Error('Transaction failed'));
            const cardData = test_utils_2.mockFactories.createMockCard();
            const result = await service.createCard(cardData);
            (0, globals_1.expect)(result.success).toBe(false);
            (0, globals_1.expect)(result.error).toBe('Transaction failed');
            (0, globals_1.expect)(result.duration).toBeGreaterThan(0);
        });
        (0, globals_1.test)('应该创建同步队列操作', async () => {
            const cardData = test_utils_2.mockFactories.createMockCard();
            await service.createCard(cardData);
            // 检查是否创建了同步操作
            const syncOperations = await mockDb.table('syncQueue').toArray();
            (0, globals_1.expect)(syncOperations.length).toBeGreaterThan(0);
            const syncOp = syncOperations[0];
            (0, globals_1.expect)(syncOp.type).toBe('create');
            (0, globals_1.expect)(syncOp.entity).toBe('card');
            (0, globals_1.expect)(syncOp.status).toBe('pending');
        });
        (0, globals_1.test)('应该批量创建卡片', async () => {
            const cardsData = Array.from({ length: 5 }, () => test_utils_2.mockFactories.createMockCard());
            const results = await test_utils_2.performanceTester.measure('bulkCreateCards', () => service.bulkCreateCards(cardsData));
            (0, globals_1.expect)(results).toHaveLength(5);
            results.forEach(result => {
                (0, globals_1.expect)(result.success).toBe(true);
                (0, globals_1.expect)(result.id).toBeValidUUID();
            });
            // 检查批量性能
            const stats = test_utils_2.performanceTester.getStats('bulkCreateCards');
            (0, globals_1.expect)(stats).toBeTruthy();
            (0, globals_1.expect)(stats.avg).toBeLessThan(200); // 批量操作应该更快
        });
    });
    // ============================================================================
    // 卡片更新测试
    // ============================================================================
    (0, globals_1.describe)('更新卡片', () => {
        (0, globals_1.test)('应该成功更新卡片', async () => {
            // 首先创建一个卡片
            const cardData = test_utils_2.mockFactories.createMockCard();
            const createResult = await service.createCard(cardData);
            const cardId = createResult.id;
            // 更新卡片
            const updates = {
                frontContent: {
                    title: 'Updated Title',
                    text: 'Updated content'
                }
            };
            const result = await test_utils_2.performanceTester.measure('updateCard', () => service.updateCard(cardId, updates));
            (0, globals_1.expect)(result.success).toBe(true);
            (0, globals_1.expect)(result.id).toBe(cardId);
            (0, globals_1.expect)(result.message).toBe('Card updated successfully');
            (0, globals_1.expect)(result.duration).toBeWithinRange(0, 100);
        });
        (0, globals_1.test)('应该处理不存在的卡片', async () => {
            const updates = {
                frontContent: {
                    title: 'Updated Title'
                }
            };
            const result = await service.updateCard('non-existent-id', updates);
            (0, globals_1.expect)(result.success).toBe(false);
            (0, globals_1.expect)(result.error).toBe('Card not found');
        });
        (0, globals_1.test)('应该重新生成搜索向量', async () => {
            // 创建卡片
            const cardData = test_utils_2.mockFactories.createMockCard();
            const createResult = await service.createCard(cardData);
            const cardId = createResult.id;
            // 更新内容
            const updates = {
                frontContent: {
                    title: 'New Searchable Title',
                    text: 'New content for search testing'
                }
            };
            const result = await service.updateCard(cardId, updates);
            (0, globals_1.expect)(result.success).toBe(true);
            // 验证搜索向量已更新（通过检查缓存失效）
            (0, globals_1.expect)(result.id).toBe(cardId);
        });
    });
    // ============================================================================
    // 卡片删除测试
    // ============================================================================
    (0, globals_1.describe)('删除卡片', () => {
        (0, globals_1.test)('应该成功删除卡片', async () => {
            // 创建卡片
            const cardData = test_utils_2.mockFactories.createMockCard();
            const createResult = await service.createCard(cardData);
            const cardId = createResult.id;
            // 删除卡片
            const result = await test_utils_2.performanceTester.measure('deleteCard', () => service.deleteCard(cardId));
            (0, globals_1.expect)(result.success).toBe(true);
            (0, globals_1.expect)(result.id).toBe(cardId);
            (0, globals_1.expect)(result.message).toBe('Card deleted successfully');
        });
        (0, globals_1.test)('应该处理删除不存在的卡片', async () => {
            const result = await service.deleteCard('non-existent-id');
            (0, globals_1.expect)(result.success).toBe(false);
            (0, globals_1.expect)(result.error).toBe('Card not found');
        });
        (0, globals_1.test)('应该删除相关的图片', async () => {
            // 创建卡片和图片
            const cardData = test_utils_2.mockFactories.createMockCard();
            const createResult = await service.createCard(cardData);
            const cardId = createResult.id;
            // 添加一些测试图片
            const imageData = test_utils_2.mockFactories.createMockImage({ cardId });
            await mockDb.table('images').add(imageData);
            // 删除卡片
            await service.deleteCard(cardId);
            // 验证相关图片也被删除
            const remainingImages = await mockDb.table('images').toArray();
            const cardImages = remainingImages.filter(img => img.cardId === cardId);
            (0, globals_1.expect)(cardImages).toHaveLength(0);
        });
    });
    // ============================================================================
    // 查询操作测试
    // ============================================================================
    (0, globals_1.describe)('查询操作', () => {
        (0, globals_1.beforeEach)(async () => {
            // 创建测试数据
            const testCards = Array.from({ length: 10 }, (_, i) => test_utils_2.mockFactories.createMockCard({
                frontContent: {
                    title: `Test Card ${i + 1}`,
                    text: `Content for card ${i + 1}`,
                    tags: i % 2 === 0 ? ['even'] : ['odd']
                },
                folderId: i < 5 ? 'folder-1' : 'folder-2'
            }));
            await service.bulkCreateCards(testCards);
        });
        (0, globals_1.test)('应该获取单个卡片', async () => {
            const cards = await service.getCards({ limit: 1 });
            (0, globals_1.expect)(cards).toHaveLength(1);
            const cardId = cards[0].id;
            const card = await service.getCard(cardId);
            (0, globals_1.expect)(card).toBeTruthy();
            (0, globals_1.expect)(card.id).toBe(cardId);
        });
        (0, globals_1.test)('应该根据条件查询卡片列表', async () => {
            // 查询文件夹1的卡片
            const folder1Cards = await service.getCards({ folderId: 'folder-1' });
            (0, globals_1.expect)(folder1Cards.length).toBe(5);
            // 查询文件夹2的卡片
            const folder2Cards = await service.getCards({ folderId: 'folder-2' });
            (0, globals_1.expect)(folder2Cards.length).toBe(5);
        });
        (0, globals_1.test)('应该支持分页查询', async () => {
            // 第一页
            const page1 = await service.getCards({ limit: 3, offset: 0 });
            (0, globals_1.expect)(page1).toHaveLength(3);
            // 第二页
            const page2 = await service.getCards({ limit: 3, offset: 3 });
            (0, globals_1.expect)(page2).toHaveLength(3);
            // 验证没有重复
            const page1Ids = page1.map(card => card.id);
            const page2Ids = page2.map(card => card.id);
            const intersection = page1Ids.filter(id => page2Ids.includes(id));
            (0, globals_1.expect)(intersection).toHaveLength(0);
        });
        (0, globals_1.test)('应该支持排序', async () => {
            // 按创建时间升序
            const ascCards = await service.getCards({
                sortBy: 'createdAt',
                sortOrder: 'asc'
            });
            // 按创建时间降序
            const descCards = await service.getCards({
                sortBy: 'createdAt',
                sortOrder: 'desc'
            });
            (0, globals_1.expect)(ascCards).toHaveLength(10);
            (0, globals_1.expect)(descCards).toHaveLength(10);
            // 验证排序正确
            const ascTitles = ascCards.map(card => card.frontContent.title);
            const descTitles = descCards.map(card => card.frontContent.title);
            (0, globals_1.expect)(ascTitles).toEqual([...descTitles].reverse());
        });
        (0, globals_1.test)('应该执行搜索功能', async () => {
            // 搜索包含 "Test" 的卡片
            const searchResults = await service.searchCards({
                term: 'Test',
                limit: 10
            });
            (0, globals_1.expect)(searchResults.length).toBeGreaterThan(0);
            searchResults.forEach(card => {
                const searchText = `${card.frontContent.title} ${card.frontContent.text}`.toLowerCase();
                (0, globals_1.expect)(searchText).toContain('test');
            });
        });
        (0, globals_1.test)('应该根据标签搜索', async () => {
            // 搜索带有 'even' 标签的卡片
            const evenCards = await service.searchCards({
                term: '',
                tags: ['even'],
                limit: 10
            });
            (0, globals_1.expect)(evenCards.length).toBe(5);
            evenCards.forEach(card => {
                const allTags = [...card.frontContent.tags, ...card.backContent.tags];
                (0, globals_1.expect)(allTags).toContain('even');
            });
        });
    });
    // ============================================================================
    // 缓存功能测试
    // ============================================================================
    (0, globals_1.describe)('缓存功能', () => {
        (0, globals_1.test)('应该缓存查询结果', async () => {
            // 创建测试卡片
            const cardData = test_utils_2.mockFactories.createMockCard();
            const createResult = await service.createCard(cardData);
            const cardId = createResult.id;
            // 第一次查询（应该从数据库获取）
            const card1 = await test_utils_2.performanceTester.measure('getCard_first', () => service.getCard(cardId));
            // 第二次查询（应该从缓存获取）
            const card2 = await test_utils_2.performanceTester.measure('getCard_cached', () => service.getCard(cardId));
            (0, globals_1.expect)(card1).toEqual(card2);
            // 缓存查询应该更快
            const firstStats = test_utils_2.performanceTester.getStats('getCard_first');
            const cachedStats = test_utils_2.performanceTester.getStats('getCard_cached');
            (0, globals_1.expect)(cachedStats.avg).toBeLessThan(firstStats.avg);
        });
        (0, globals_1.test)('应该失效相关缓存', async () => {
            // 创建卡片
            const cardData = test_utils_2.mockFactories.createMockCard();
            const createResult = await service.createCard(cardData);
            const cardId = createResult.id;
            // 获取卡片（填充缓存）
            await service.getCard(cardId);
            // 更新卡片（应该使缓存失效）
            const updates = {
                frontContent: {
                    title: 'Updated for cache test'
                }
            };
            await service.updateCard(cardId, updates);
            // 再次获取卡片
            const updatedCard = await service.getCard(cardId);
            (0, globals_1.expect)(updatedCard.frontContent.title).toBe('Updated for cache test');
        });
        (0, globals_1.test)('应该清除缓存', () => {
            // 手动清除缓存
            service.clearCache();
            // 验证缓存已清除（通过内部方法检查）
            (0, globals_1.expect)(service).toBeTruthy(); // 如果没有抛出错误，说明清除成功
        });
    });
    // ============================================================================
    // 同步操作测试
    // ============================================================================
    (0, globals_1.describe)('同步操作', () => {
        (0, globals_1.test)('应该获取待同步操作', async () => {
            // 创建一些待同步的操作
            const cardData = test_utils_2.mockFactories.createMockCard();
            await service.createCard(cardData);
            const pendingOperations = await service.getPendingSyncOperations();
            (0, globals_1.expect)(pendingOperations.length).toBeGreaterThan(0);
            pendingOperations.forEach(op => {
                (0, globals_1.expect)(op.status).toBe('pending');
            });
        });
        (0, globals_1.test)('应该更新操作状态', async () => {
            // 创建操作
            const cardData = test_utils_2.mockFactories.createMockCard();
            await service.createCard(cardData);
            const pendingOperations = await service.getPendingSyncOperations();
            const operationId = pendingOperations[0].id;
            // 更新操作状态
            await service.updateOperationStatuses([{
                    operationId: operationId,
                    success: true
                }]);
            // 验证状态已更新
            const updatedOperations = await mockDb.table('syncQueue').toArray();
            const updatedOp = updatedOperations.find(op => op.id === operationId);
            (0, globals_1.expect)(updatedOp.status).toBe('completed');
        });
    });
    // ============================================================================
    // 性能监控测试
    // ============================================================================
    (0, globals_1.describe)('性能监控', () => {
        (0, globals_1.test)('应该记录操作性能指标', async () => {
            // 执行多个操作
            const cardData = test_utils_2.mockFactories.createMockCard();
            await service.createCard(cardData);
            const updates = {
                frontContent: { title: 'Updated' }
            };
            await service.updateCard(cardData.id, updates);
            // 获取性能指标
            const metrics = await service.getPerformanceMetrics();
            (0, globals_1.expect)(metrics.totalOperations).toBeGreaterThan(0);
            (0, globals_1.expect)(metrics.averageResponseTime).toBeGreaterThan(0);
            (0, globals_1.expect)(metrics.successRate).toBeGreaterThan(0);
            (0, globals_1.expect)(metrics.cacheHitRate).toBeGreaterThanOrEqual(0);
        });
        (0, globals_1.test)('应该提供详细统计信息', async () => {
            // 执行一些操作
            const cardData = test_utils_2.mockFactories.createMockCard();
            await service.createCard(cardData);
            const detailedStats = await service.getDetailedStats();
            (0, globals_1.expect)(detailedStats.performance).toBeDefined();
            (0, globals_1.expect)(detailedStats.cache).toBeDefined();
            (0, globals_1.expect)(detailedStats.queue).toBeDefined();
        });
        (0, globals_1.test)('应该满足性能要求', async () => {
            const cardData = test_utils_2.mockFactories.createMockCard();
            // 测试创建性能
            const createResult = await test_utils_2.performanceTester.measure('create_perf', () => service.createCard(cardData));
            (0, globals_1.expect)(createResult.duration).toBeLessThan(100); // 100ms内
            // 测试读取性能
            const readResult = await test_utils_2.performanceTester.measure('read_perf', () => service.getCard(createResult.id));
            (0, globals_1.expect)(readResult.duration).toBeLessThan(50); // 50ms内
            // 获取性能指标验证
            const metrics = await service.getPerformanceMetrics();
            (0, globals_1.expect)(metrics).toHavePerformance({
                maxDuration: 200,
                minSuccessRate: 0.9
            });
        });
    });
    // ============================================================================
    // 错误处理测试
    // ============================================================================
    (0, globals_1.describe)('错误处理', () => {
        (0, globals_1.test)('应该优雅处理数据库错误', async () => {
            // 模拟数据库错误
            globals_1.jest.spyOn(mockDb, 'transaction').mockRejectedValueOnce(new Error('Database unavailable'));
            const cardData = test_utils_2.mockFactories.createMockCard();
            const result = await service.createCard(cardData);
            (0, globals_1.expect)(result.success).toBe(false);
            (0, globals_1.expect)(result.error).toBeDefined();
            (0, globals_1.expect)(result.timestamp).toBeDefined();
        });
        (0, globals_1.test)('应该处理并发操作', async () => {
            // 并发创建多个卡片
            const createPromises = Array.from({ length: 5 }, () => {
                const cardData = test_utils_2.mockFactories.createMockCard();
                return service.createCard(cardData);
            });
            const results = await Promise.all(createPromises);
            // 所有操作都应该成功
            results.forEach(result => {
                (0, globals_1.expect)(result.success).toBe(true);
                (0, globals_1.expect)(result.id).toBeValidUUID();
            });
        });
        (0, globals_1.test)('应该处理无效输入', async () => {
            // 测试空数据
            const emptyCardData = {
                frontContent: { title: '', text: '', tags: [] },
                backContent: { title: '', text: '', tags: [] }
            };
            const result = await service.createCard(emptyCardData);
            (0, globals_1.expect)(result.success).toBe(true); // 空数据也是有效的
        });
    });
    // ============================================================================
    // 资源清理测试
    // ============================================================================
    (0, globals_1.describe)('资源清理', () => {
        (0, globals_1.test)('应该正确销毁服务', () => {
            // 执行一些操作
            service.clearCache();
            // 销毁服务
            service.destroy();
            // 验证资源已清理（如果服务有内部状态检查）
            (0, globals_1.expect)(service).toBeTruthy(); // 没有抛出错误表示销毁成功
        });
        (0, globals_1.test)('应该能够重新初始化', async () => {
            // 销毁当前服务
            service.destroy();
            // 创建新服务
            const newService = new local_operation_service_1.LocalOperationServiceOptimized();
            await newService.initialize();
            // 新服务应该能正常工作
            const cardData = test_utils_2.mockFactories.createMockCard();
            const result = await newService.createCard(cardData);
            (0, globals_1.expect)(result.success).toBe(true);
            // 清理
            newService.destroy();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHNyY1xcX190ZXN0c19fXFxzZXJ2aWNlc1xcbG9jYWwtb3BlcmF0aW9uLXNlcnZpY2UudGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7OztHQUdHOztBQUVILDJDQUFtRjtBQUtuRixRQUFRO0FBQ1IsY0FBSSxDQUFDLElBQUksQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ2xELEVBQUUsRUFBRSxJQUFJLHlCQUFZLEVBQUU7Q0FDdkIsQ0FBQyxDQUFDLENBQUE7QUFQSCxvRkFBdUY7QUFDdkYsb0RBQWtEO0FBQ2xELG9EQUFzRTtBQU90RSxJQUFBLGtCQUFRLEVBQUMsZ0NBQWdDLEVBQUUsR0FBRyxFQUFFO0lBQzlDLElBQUksT0FBdUMsQ0FBQTtJQUMzQyxJQUFJLE1BQW9CLENBQUE7SUFFeEIsSUFBQSxvQkFBVSxFQUFDLEdBQUcsRUFBRTtRQUNkLFVBQVU7UUFDVixNQUFNLEdBQUcsSUFBSSx5QkFBWSxFQUFFLENBQUE7UUFFM0IsU0FBUztRQUNULE9BQU8sR0FBRyxJQUFJLHdEQUE4QixFQUFFLENBQUE7UUFFOUMsVUFBVTtRQUNWLDhCQUFpQixDQUFDLEtBQUssRUFBRSxDQUFBO1FBRXpCLFNBQVM7UUFDVCxjQUFJLENBQUMsYUFBYSxFQUFFLENBQUE7SUFDdEIsQ0FBQyxDQUFDLENBQUE7SUFFRixJQUFBLG1CQUFTLEVBQUMsR0FBRyxFQUFFO1FBQ2IsT0FBTztRQUNQLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUNuQixDQUFDLENBQUMsQ0FBQTtJQUVGLCtFQUErRTtJQUMvRSxRQUFRO0lBQ1IsK0VBQStFO0lBRS9FLElBQUEsa0JBQVEsRUFBQyxLQUFLLEVBQUUsR0FBRyxFQUFFO1FBQ25CLElBQUEsY0FBSSxFQUFDLFdBQVcsRUFBRSxLQUFLLElBQUksRUFBRTtZQUMzQixNQUFNLE9BQU8sQ0FBQyxVQUFVLEVBQUUsQ0FBQTtZQUMxQixJQUFBLGdCQUFN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QVEsRUFBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO1FBQ3BCLElBQUEsY0FBSSxFQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7WUFDcEIsU0FBUztZQUNULE9BQU8sQ0FBQyxVQUFVLEVBQUUsQ0FBQTtZQUVwQixPQUFPO1lBQ1AsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFBO1lBRWpCLHVCQUF1QjtZQUN2QixJQUFBLGdCQUFNLEVBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxFQUFFLENBQUEsQ0FBQyxlQUFlO1FBQzlDLENBQUMsQ0FBQyxDQUFBO1FBRUYsSUFBQSxjQUFJLEVBQUMsV0FBVyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzNCLFNBQVM7WUFDVCxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUE7WUFFakIsUUFBUTtZQUNSLE1BQU0sVUFBVSxHQUFHLElBQUksd0RBQThCLEVBQUUsQ0FBQTtZQUN2RCxNQUFNLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQTtZQUU3QixhQUFhO1lBQ2IsTUFBTSxRQUFRLEdBQUcsMEJBQWEsQ0FBQyxjQUFjLEVBQUUsQ0FBQTtZQUMvQyxNQUFNLE1BQU0sR0FBRyxNQUFNLFVBQVUsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUE7WUFFcEQsSUFBQSxnQkFBTSxFQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7WUFFakMsS0FBSztZQUNMLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUN0QixDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHNyY1xcX190ZXN0c19fXFxzZXJ2aWNlc1xcbG9jYWwtb3BlcmF0aW9uLXNlcnZpY2UudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTG9jYWxPcGVyYXRpb25TZXJ2aWNlIOWNleWFg+a1i+ivlVxyXG4gKiDmtYvor5Xpq5jmgKfog73mnKzlnLDmk43kvZzmnI3liqHnmoTmoLjlv4Plip/og71cclxuICovXHJcblxyXG5pbXBvcnQgeyBkZXNjcmliZSwgdGVzdCwgZXhwZWN0LCBqZXN0LCBiZWZvcmVFYWNoLCBhZnRlckVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJ1xyXG5pbXBvcnQgeyBMb2NhbE9wZXJhdGlvblNlcnZpY2VPcHRpbWl6ZWQgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9sb2NhbC1vcGVyYXRpb24tc2VydmljZSdcclxuaW1wb3J0IHsgTW9ja0RhdGFiYXNlIH0gZnJvbSAnLi4vdXRpbHMvdGVzdC11dGlscydcclxuaW1wb3J0IHsgbW9ja0ZhY3RvcmllcywgcGVyZm9ybWFuY2VUZXN0ZXIgfSBmcm9tICcuLi91dGlscy90ZXN0LXV0aWxzJ1xyXG5cclxuLy8g5qih5ouf5pWw5o2u5bqTXHJcbmplc3QubW9jaygnLi4vLi4vc2VydmljZXMvZGF0YWJhc2UtdW5pZmllZCcsICgpID0+ICh7XHJcbiAgZGI6IG5ldyBNb2NrRGF0YWJhc2UoKVxyXG59KSlcclxuXHJcbmRlc2NyaWJlKCdMb2NhbE9wZXJhdGlvblNlcnZpY2VPcHRpbWl6ZWQnLCAoKSA9PiB7XHJcbiAgbGV0IHNlcnZpY2U6IExvY2FsT3BlcmF0aW9uU2VydmljZU9wdGltaXplZFxyXG4gIGxldCBtb2NrRGI6IE1vY2tEYXRhYmFzZVxyXG5cclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIC8vIOmHjee9ruaooeaLn+aVsOaNruW6k1xyXG4gICAgbW9ja0RiID0gbmV3IE1vY2tEYXRhYmFzZSgpXHJcbiAgICBcclxuICAgIC8vIOmHjee9ruacjeWKoeWunuS+i1xyXG4gICAgc2VydmljZSA9IG5ldyBMb2NhbE9wZXJhdGlvblNlcnZpY2VPcHRpbWl6ZWQoKVxyXG4gICAgXHJcbiAgICAvLyDph43nva7mgKfog73mtYvor5XlmahcclxuICAgIHBlcmZvcm1hbmNlVGVzdGVyLnJlc2V0KClcclxuICAgIFxyXG4gICAgLy8g5riF55CG5omA5pyJ5qih5oufXHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxyXG4gIH0pXHJcblxyXG4gIGFmdGVyRWFjaCgoKSA9PiB7XHJcbiAgICAvLyDmuIXnkIbmnI3liqFcclxuICAgIHNlcnZpY2UuZGVzdHJveSgpXHJcbiAgfSlcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIOWIneWni+WMlua1i+ivlVxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgZGVzY3JpYmUoJ+WIneWni+WMlicsICgpID0+IHtcclxuICAgIHRlc3QoJ+W6lOivpeato+ehruWIneWni+WMluacjeWKoScsIGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgc2VydmljZS5pbml0aWFsaXplKClcclxuICAgICAgZXhwZWN0KHNlcnZpY2UpLnRvQmVJbnN0YW5jZU9mKExvY2FsT3BlcmF0aW9uU2VydmljZU9wdGltaXplZClcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l5aSE55CG5Yid5aeL5YyW6ZSZ6K+vJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDmqKHmi5/mlbDmja7lupPmiZPlvIDlpLHotKVcclxuICAgICAgamVzdC5zcHlPbihtb2NrRGIsICdvcGVuJykubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdEYXRhYmFzZSBlcnJvcicpKVxyXG4gICAgICBcclxuICAgICAgY29uc3Qgc2VydmljZVdpdGhFcnJvciA9IG5ldyBMb2NhbE9wZXJhdGlvblNlcnZpY2VPcHRpbWl6ZWQoKVxyXG4gICAgICBhd2FpdCBzZXJ2aWNlV2l0aEVycm9yLmluaXRpYWxpemUoKVxyXG4gICAgICBcclxuICAgICAgLy8g5pyN5Yqh5bqU6K+l5LuN54S25a2Y5Zyo77yM5L2G5Y+v6IO95aSE5LqO6ZSZ6K+v54q25oCBXHJcbiAgICAgIGV4cGVjdChzZXJ2aWNlV2l0aEVycm9yKS50b0JlSW5zdGFuY2VPZihMb2NhbE9wZXJhdGlvblNlcnZpY2VPcHRpbWl6ZWQpXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDljaHniYfliJvlu7rmtYvor5VcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCfliJvlu7rljaHniYcnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6XmiJDlip/liJvlu7rljaHniYcnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmREYXRhID0gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtYW5jZVRlc3Rlci5tZWFzdXJlKCdjcmVhdGVDYXJkJywgKCkgPT5cclxuICAgICAgICBzZXJ2aWNlLmNyZWF0ZUNhcmQoY2FyZERhdGEpXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKVxyXG4gICAgICBleHBlY3QocmVzdWx0LmlkKS50b0JlRGVmaW5lZCgpXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuaWQpLnRvQmVWYWxpZFVVSUQoKVxyXG4gICAgICBleHBlY3QocmVzdWx0LmR1cmF0aW9uKS50b0JlV2l0aGluUmFuZ2UoMCwgMTAwKSAvLyDlupTor6XlnKgxMDBtc+WGheWujOaIkFxyXG4gICAgICBleHBlY3QocmVzdWx0Lm1lc3NhZ2UpLnRvQmUoJ0NhcmQgY3JlYXRlZCBzdWNjZXNzZnVsbHknKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6XmraPnoa7nlJ/miJDmkJzntKLlkJHph48nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmREYXRhID0gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCh7XHJcbiAgICAgICAgZnJvbnRDb250ZW50OiB7XHJcbiAgICAgICAgICB0aXRsZTogJ1NlYXJjaCBUZXN0IENhcmQnLFxyXG4gICAgICAgICAgdGV4dDogJ1RoaXMgaXMgYSB0ZXN0IGZvciBzZWFyY2ggZnVuY3Rpb25hbGl0eScsXHJcbiAgICAgICAgICB0YWdzOiBbJ3NlYXJjaCcsICd0ZXN0J11cclxuICAgICAgICB9LFxyXG4gICAgICAgIGJhY2tDb250ZW50OiB7XHJcbiAgICAgICAgICB0aXRsZTogJ0JhY2sgU2lkZScsXHJcbiAgICAgICAgICB0ZXh0OiAnQWRkaXRpb25hbCBjb250ZW50JyxcclxuICAgICAgICAgIHRhZ3M6IFsnYmFjaycsICdjb250ZW50J11cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUNhcmQoY2FyZERhdGEpXHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcclxuICAgICAgLy8g6aqM6K+B5pCc57Si5ZCR6YeP55Sf5oiQ6YC76L6R77yI6YCa6L+H5qOA5p+l55Sf5oiQ55qESUTvvIlcclxuICAgICAgZXhwZWN0KHJlc3VsdC5pZCkudG9CZURlZmluZWQoKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6XlpITnkIbliJvlu7rlpLHotKXnmoTmg4XlhrUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOaooeaLn+aVsOaNruW6k+S6i+WKoeWksei0pVxyXG4gICAgICBqZXN0LnNweU9uKG1vY2tEYiwgJ3RyYW5zYWN0aW9uJykubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdUcmFuc2FjdGlvbiBmYWlsZWQnKSlcclxuXHJcbiAgICAgIGNvbnN0IGNhcmREYXRhID0gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuY3JlYXRlQ2FyZChjYXJkRGF0YSlcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSlcclxuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnVHJhbnNhY3Rpb24gZmFpbGVkJylcclxuICAgICAgZXhwZWN0KHJlc3VsdC5kdXJhdGlvbikudG9CZUdyZWF0ZXJUaGFuKDApXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeWIm+W7uuWQjOatpemYn+WIl+aTjeS9nCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY2FyZERhdGEgPSBtb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKClcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IHNlcnZpY2UuY3JlYXRlQ2FyZChjYXJkRGF0YSlcclxuXHJcbiAgICAgIC8vIOajgOafpeaYr+WQpuWIm+W7uuS6huWQjOatpeaTjeS9nFxyXG4gICAgICBjb25zdCBzeW5jT3BlcmF0aW9ucyA9IGF3YWl0IG1vY2tEYi50YWJsZSgnc3luY1F1ZXVlJykudG9BcnJheSgpXHJcbiAgICAgIGV4cGVjdChzeW5jT3BlcmF0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxyXG4gICAgICBcclxuICAgICAgY29uc3Qgc3luY09wID0gc3luY09wZXJhdGlvbnNbMF1cclxuICAgICAgZXhwZWN0KHN5bmNPcC50eXBlKS50b0JlKCdjcmVhdGUnKVxyXG4gICAgICBleHBlY3Qoc3luY09wLmVudGl0eSkudG9CZSgnY2FyZCcpXHJcbiAgICAgIGV4cGVjdChzeW5jT3Auc3RhdHVzKS50b0JlKCdwZW5kaW5nJylcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l5om56YeP5Yib5bu65Y2h54mHJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkc0RhdGEgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1IH0sICgpID0+IG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKSlcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwZXJmb3JtYW5jZVRlc3Rlci5tZWFzdXJlKCdidWxrQ3JlYXRlQ2FyZHMnLCAoKSA9PlxyXG4gICAgICAgIHNlcnZpY2UuYnVsa0NyZWF0ZUNhcmRzKGNhcmRzRGF0YSlcclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdHMpLnRvSGF2ZUxlbmd0aCg1KVxyXG4gICAgICByZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcclxuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcclxuICAgICAgICBleHBlY3QocmVzdWx0LmlkKS50b0JlVmFsaWRVVUlEKClcclxuICAgICAgfSlcclxuXHJcbiAgICAgIC8vIOajgOafpeaJuemHj+aAp+iDvVxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdidWxrQ3JlYXRlQ2FyZHMnKVxyXG4gICAgICBleHBlY3Qoc3RhdHMpLnRvQmVUcnV0aHkoKVxyXG4gICAgICBleHBlY3Qoc3RhdHMhLmF2ZykudG9CZUxlc3NUaGFuKDIwMCkgLy8g5om56YeP5pON5L2c5bqU6K+l5pu05b+rXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDljaHniYfmm7TmlrDmtYvor5VcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCfmm7TmlrDljaHniYcnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6XmiJDlip/mm7TmlrDljaHniYcnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOmmluWFiOWIm+W7uuS4gOS4quWNoeeJh1xyXG4gICAgICBjb25zdCBjYXJkRGF0YSA9IG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKVxyXG4gICAgICBjb25zdCBjcmVhdGVSZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUNhcmQoY2FyZERhdGEpXHJcbiAgICAgIGNvbnN0IGNhcmRJZCA9IGNyZWF0ZVJlc3VsdC5pZCFcclxuXHJcbiAgICAgIC8vIOabtOaWsOWNoeeJh1xyXG4gICAgICBjb25zdCB1cGRhdGVzID0ge1xyXG4gICAgICAgIGZyb250Q29udGVudDoge1xyXG4gICAgICAgICAgdGl0bGU6ICdVcGRhdGVkIFRpdGxlJyxcclxuICAgICAgICAgIHRleHQ6ICdVcGRhdGVkIGNvbnRlbnQnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtYW5jZVRlc3Rlci5tZWFzdXJlKCd1cGRhdGVDYXJkJywgKCkgPT5cclxuICAgICAgICBzZXJ2aWNlLnVwZGF0ZUNhcmQoY2FyZElkLCB1cGRhdGVzKVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcclxuICAgICAgZXhwZWN0KHJlc3VsdC5pZCkudG9CZShjYXJkSWQpXHJcbiAgICAgIGV4cGVjdChyZXN1bHQubWVzc2FnZSkudG9CZSgnQ2FyZCB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZHVyYXRpb24pLnRvQmVXaXRoaW5SYW5nZSgwLCAxMDApXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeWkhOeQhuS4jeWtmOWcqOeahOWNoeeJhycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXBkYXRlcyA9IHtcclxuICAgICAgICBmcm9udENvbnRlbnQ6IHtcclxuICAgICAgICAgIHRpdGxlOiAnVXBkYXRlZCBUaXRsZSdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UudXBkYXRlQ2FyZCgnbm9uLWV4aXN0ZW50LWlkJywgdXBkYXRlcylcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSlcclxuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnQ2FyZCBub3QgZm91bmQnKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6Xph43mlrDnlJ/miJDmkJzntKLlkJHph48nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOWIm+W7uuWNoeeJh1xyXG4gICAgICBjb25zdCBjYXJkRGF0YSA9IG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKVxyXG4gICAgICBjb25zdCBjcmVhdGVSZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUNhcmQoY2FyZERhdGEpXHJcbiAgICAgIGNvbnN0IGNhcmRJZCA9IGNyZWF0ZVJlc3VsdC5pZCFcclxuXHJcbiAgICAgIC8vIOabtOaWsOWGheWuuVxyXG4gICAgICBjb25zdCB1cGRhdGVzID0ge1xyXG4gICAgICAgIGZyb250Q29udGVudDoge1xyXG4gICAgICAgICAgdGl0bGU6ICdOZXcgU2VhcmNoYWJsZSBUaXRsZScsXHJcbiAgICAgICAgICB0ZXh0OiAnTmV3IGNvbnRlbnQgZm9yIHNlYXJjaCB0ZXN0aW5nJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS51cGRhdGVDYXJkKGNhcmRJZCwgdXBkYXRlcylcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpXHJcblxyXG4gICAgICAvLyDpqozor4HmkJzntKLlkJHph4/lt7Lmm7TmlrDvvIjpgJrov4fmo4Dmn6XnvJPlrZjlpLHmlYjvvIlcclxuICAgICAgZXhwZWN0KHJlc3VsdC5pZCkudG9CZShjYXJkSWQpXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDljaHniYfliKDpmaTmtYvor5VcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCfliKDpmaTljaHniYcnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6XmiJDlip/liKDpmaTljaHniYcnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOWIm+W7uuWNoeeJh1xyXG4gICAgICBjb25zdCBjYXJkRGF0YSA9IG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKVxyXG4gICAgICBjb25zdCBjcmVhdGVSZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUNhcmQoY2FyZERhdGEpXHJcbiAgICAgIGNvbnN0IGNhcmRJZCA9IGNyZWF0ZVJlc3VsdC5pZCFcclxuXHJcbiAgICAgIC8vIOWIoOmZpOWNoeeJh1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtYW5jZVRlc3Rlci5tZWFzdXJlKCdkZWxldGVDYXJkJywgKCkgPT5cclxuICAgICAgICBzZXJ2aWNlLmRlbGV0ZUNhcmQoY2FyZElkKVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcclxuICAgICAgZXhwZWN0KHJlc3VsdC5pZCkudG9CZShjYXJkSWQpXHJcbiAgICAgIGV4cGVjdChyZXN1bHQubWVzc2FnZSkudG9CZSgnQ2FyZCBkZWxldGVkIHN1Y2Nlc3NmdWxseScpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeWkhOeQhuWIoOmZpOS4jeWtmOWcqOeahOWNoeeJhycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5kZWxldGVDYXJkKCdub24tZXhpc3RlbnQtaWQnKVxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmUoJ0NhcmQgbm90IGZvdW5kJylcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l5Yig6Zmk55u45YWz55qE5Zu+54mHJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDliJvlu7rljaHniYflkozlm77niYdcclxuICAgICAgY29uc3QgY2FyZERhdGEgPSBtb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKClcclxuICAgICAgY29uc3QgY3JlYXRlUmVzdWx0ID0gYXdhaXQgc2VydmljZS5jcmVhdGVDYXJkKGNhcmREYXRhKVxyXG4gICAgICBjb25zdCBjYXJkSWQgPSBjcmVhdGVSZXN1bHQuaWQhXHJcblxyXG4gICAgICAvLyDmt7vliqDkuIDkupvmtYvor5Xlm77niYdcclxuICAgICAgY29uc3QgaW1hZ2VEYXRhID0gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrSW1hZ2UoeyBjYXJkSWQgfSlcclxuICAgICAgYXdhaXQgbW9ja0RiLnRhYmxlKCdpbWFnZXMnKS5hZGQoaW1hZ2VEYXRhKVxyXG5cclxuICAgICAgLy8g5Yig6Zmk5Y2h54mHXHJcbiAgICAgIGF3YWl0IHNlcnZpY2UuZGVsZXRlQ2FyZChjYXJkSWQpXHJcblxyXG4gICAgICAvLyDpqozor4Hnm7jlhbPlm77niYfkuZ/ooqvliKDpmaRcclxuICAgICAgY29uc3QgcmVtYWluaW5nSW1hZ2VzID0gYXdhaXQgbW9ja0RiLnRhYmxlKCdpbWFnZXMnKS50b0FycmF5KClcclxuICAgICAgY29uc3QgY2FyZEltYWdlcyA9IHJlbWFpbmluZ0ltYWdlcy5maWx0ZXIoaW1nID0+IGltZy5jYXJkSWQgPT09IGNhcmRJZClcclxuICAgICAgZXhwZWN0KGNhcmRJbWFnZXMpLnRvSGF2ZUxlbmd0aCgwKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8g5p+l6K+i5pON5L2c5rWL6K+VXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBkZXNjcmliZSgn5p+l6K+i5pON5L2cJywgKCkgPT4ge1xyXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOWIm+W7uua1i+ivleaVsOaNrlxyXG4gICAgICBjb25zdCB0ZXN0Q2FyZHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMCB9LCAoXywgaSkgPT5cclxuICAgICAgICBtb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKHtcclxuICAgICAgICAgIGZyb250Q29udGVudDoge1xyXG4gICAgICAgICAgICB0aXRsZTogYFRlc3QgQ2FyZCAke2kgKyAxfWAsXHJcbiAgICAgICAgICAgIHRleHQ6IGBDb250ZW50IGZvciBjYXJkICR7aSArIDF9YCxcclxuICAgICAgICAgICAgdGFnczogaSAlIDIgPT09IDAgPyBbJ2V2ZW4nXSA6IFsnb2RkJ11cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBmb2xkZXJJZDogaSA8IDUgPyAnZm9sZGVyLTEnIDogJ2ZvbGRlci0yJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGF3YWl0IHNlcnZpY2UuYnVsa0NyZWF0ZUNhcmRzKHRlc3RDYXJkcylcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l6I635Y+W5Y2V5Liq5Y2h54mHJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkcyA9IGF3YWl0IHNlcnZpY2UuZ2V0Q2FyZHMoeyBsaW1pdDogMSB9KVxyXG4gICAgICBleHBlY3QoY2FyZHMpLnRvSGF2ZUxlbmd0aCgxKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgY2FyZElkID0gY2FyZHNbMF0uaWRcclxuICAgICAgY29uc3QgY2FyZCA9IGF3YWl0IHNlcnZpY2UuZ2V0Q2FyZChjYXJkSWQhKVxyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGNhcmQpLnRvQmVUcnV0aHkoKVxyXG4gICAgICBleHBlY3QoY2FyZCEuaWQpLnRvQmUoY2FyZElkKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6XmoLnmja7mnaHku7bmn6Xor6LljaHniYfliJfooagnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOafpeivouaWh+S7tuWkuTHnmoTljaHniYdcclxuICAgICAgY29uc3QgZm9sZGVyMUNhcmRzID0gYXdhaXQgc2VydmljZS5nZXRDYXJkcyh7IGZvbGRlcklkOiAnZm9sZGVyLTEnIH0pXHJcbiAgICAgIGV4cGVjdChmb2xkZXIxQ2FyZHMubGVuZ3RoKS50b0JlKDUpXHJcblxyXG4gICAgICAvLyDmn6Xor6Lmlofku7blpLky55qE5Y2h54mHXHJcbiAgICAgIGNvbnN0IGZvbGRlcjJDYXJkcyA9IGF3YWl0IHNlcnZpY2UuZ2V0Q2FyZHMoeyBmb2xkZXJJZDogJ2ZvbGRlci0yJyB9KVxyXG4gICAgICBleHBlY3QoZm9sZGVyMkNhcmRzLmxlbmd0aCkudG9CZSg1KVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6XmlK/mjIHliIbpobXmn6Xor6InLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOesrOS4gOmhtVxyXG4gICAgICBjb25zdCBwYWdlMSA9IGF3YWl0IHNlcnZpY2UuZ2V0Q2FyZHMoeyBsaW1pdDogMywgb2Zmc2V0OiAwIH0pXHJcbiAgICAgIGV4cGVjdChwYWdlMSkudG9IYXZlTGVuZ3RoKDMpXHJcblxyXG4gICAgICAvLyDnrKzkuozpobVcclxuICAgICAgY29uc3QgcGFnZTIgPSBhd2FpdCBzZXJ2aWNlLmdldENhcmRzKHsgbGltaXQ6IDMsIG9mZnNldDogMyB9KVxyXG4gICAgICBleHBlY3QocGFnZTIpLnRvSGF2ZUxlbmd0aCgzKVxyXG5cclxuICAgICAgLy8g6aqM6K+B5rKh5pyJ6YeN5aSNXHJcbiAgICAgIGNvbnN0IHBhZ2UxSWRzID0gcGFnZTEubWFwKGNhcmQgPT4gY2FyZC5pZClcclxuICAgICAgY29uc3QgcGFnZTJJZHMgPSBwYWdlMi5tYXAoY2FyZCA9PiBjYXJkLmlkKVxyXG4gICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBwYWdlMUlkcy5maWx0ZXIoaWQgPT4gcGFnZTJJZHMuaW5jbHVkZXMoaWQpKVxyXG4gICAgICBleHBlY3QoaW50ZXJzZWN0aW9uKS50b0hhdmVMZW5ndGgoMClcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l5pSv5oyB5o6S5bqPJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDmjInliJvlu7rml7bpl7TljYfluo9cclxuICAgICAgY29uc3QgYXNjQ2FyZHMgPSBhd2FpdCBzZXJ2aWNlLmdldENhcmRzKHsgXHJcbiAgICAgICAgc29ydEJ5OiAnY3JlYXRlZEF0JywgXHJcbiAgICAgICAgc29ydE9yZGVyOiAnYXNjJyBcclxuICAgICAgfSlcclxuICAgICAgXHJcbiAgICAgIC8vIOaMieWIm+W7uuaXtumXtOmZjeW6j1xyXG4gICAgICBjb25zdCBkZXNjQ2FyZHMgPSBhd2FpdCBzZXJ2aWNlLmdldENhcmRzKHsgXHJcbiAgICAgICAgc29ydEJ5OiAnY3JlYXRlZEF0JywgXHJcbiAgICAgICAgc29ydE9yZGVyOiAnZGVzYycgXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBleHBlY3QoYXNjQ2FyZHMpLnRvSGF2ZUxlbmd0aCgxMClcclxuICAgICAgZXhwZWN0KGRlc2NDYXJkcykudG9IYXZlTGVuZ3RoKDEwKVxyXG5cclxuICAgICAgLy8g6aqM6K+B5o6S5bqP5q2j56GuXHJcbiAgICAgIGNvbnN0IGFzY1RpdGxlcyA9IGFzY0NhcmRzLm1hcChjYXJkID0+IGNhcmQuZnJvbnRDb250ZW50LnRpdGxlKVxyXG4gICAgICBjb25zdCBkZXNjVGl0bGVzID0gZGVzY0NhcmRzLm1hcChjYXJkID0+IGNhcmQuZnJvbnRDb250ZW50LnRpdGxlKVxyXG4gICAgICBleHBlY3QoYXNjVGl0bGVzKS50b0VxdWFsKFsuLi5kZXNjVGl0bGVzXS5yZXZlcnNlKCkpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeaJp+ihjOaQnOe0ouWKn+iDvScsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g5pCc57Si5YyF5ZCrIFwiVGVzdFwiIOeahOWNoeeJh1xyXG4gICAgICBjb25zdCBzZWFyY2hSZXN1bHRzID0gYXdhaXQgc2VydmljZS5zZWFyY2hDYXJkcyh7XHJcbiAgICAgICAgdGVybTogJ1Rlc3QnLFxyXG4gICAgICAgIGxpbWl0OiAxMFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgZXhwZWN0KHNlYXJjaFJlc3VsdHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcclxuICAgICAgc2VhcmNoUmVzdWx0cy5mb3JFYWNoKGNhcmQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNlYXJjaFRleHQgPSBgJHtjYXJkLmZyb250Q29udGVudC50aXRsZX0gJHtjYXJkLmZyb250Q29udGVudC50ZXh0fWAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgIGV4cGVjdChzZWFyY2hUZXh0KS50b0NvbnRhaW4oJ3Rlc3QnKVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6XmoLnmja7moIfnrb7mkJzntKInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOaQnOe0ouW4puaciSAnZXZlbicg5qCH562+55qE5Y2h54mHXHJcbiAgICAgIGNvbnN0IGV2ZW5DYXJkcyA9IGF3YWl0IHNlcnZpY2Uuc2VhcmNoQ2FyZHMoe1xyXG4gICAgICAgIHRlcm06ICcnLFxyXG4gICAgICAgIHRhZ3M6IFsnZXZlbiddLFxyXG4gICAgICAgIGxpbWl0OiAxMFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgZXhwZWN0KGV2ZW5DYXJkcy5sZW5ndGgpLnRvQmUoNSlcclxuICAgICAgZXZlbkNhcmRzLmZvckVhY2goY2FyZCA9PiB7XHJcbiAgICAgICAgY29uc3QgYWxsVGFncyA9IFsuLi5jYXJkLmZyb250Q29udGVudC50YWdzLCAuLi5jYXJkLmJhY2tDb250ZW50LnRhZ3NdXHJcbiAgICAgICAgZXhwZWN0KGFsbFRhZ3MpLnRvQ29udGFpbignZXZlbicpXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDnvJPlrZjlip/og73mtYvor5VcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCfnvJPlrZjlip/og70nLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6XnvJPlrZjmn6Xor6Lnu5PmnpwnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOWIm+W7uua1i+ivleWNoeeJh1xyXG4gICAgICBjb25zdCBjYXJkRGF0YSA9IG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKVxyXG4gICAgICBjb25zdCBjcmVhdGVSZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUNhcmQoY2FyZERhdGEpXHJcbiAgICAgIGNvbnN0IGNhcmRJZCA9IGNyZWF0ZVJlc3VsdC5pZCFcclxuXHJcbiAgICAgIC8vIOesrOS4gOasoeafpeivou+8iOW6lOivpeS7juaVsOaNruW6k+iOt+WPlu+8iVxyXG4gICAgICBjb25zdCBjYXJkMSA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ2dldENhcmRfZmlyc3QnLCAoKSA9PlxyXG4gICAgICAgIHNlcnZpY2UuZ2V0Q2FyZChjYXJkSWQpXHJcbiAgICAgIClcclxuXHJcbiAgICAgIC8vIOesrOS6jOasoeafpeivou+8iOW6lOivpeS7jue8k+WtmOiOt+WPlu+8iVxyXG4gICAgICBjb25zdCBjYXJkMiA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ2dldENhcmRfY2FjaGVkJywgKCkgPT5cclxuICAgICAgICBzZXJ2aWNlLmdldENhcmQoY2FyZElkKVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3QoY2FyZDEpLnRvRXF1YWwoY2FyZDIpXHJcbiAgICAgIFxyXG4gICAgICAvLyDnvJPlrZjmn6Xor6LlupTor6Xmm7Tlv6tcclxuICAgICAgY29uc3QgZmlyc3RTdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdnZXRDYXJkX2ZpcnN0JylcclxuICAgICAgY29uc3QgY2FjaGVkU3RhdHMgPSBwZXJmb3JtYW5jZVRlc3Rlci5nZXRTdGF0cygnZ2V0Q2FyZF9jYWNoZWQnKVxyXG4gICAgICBleHBlY3QoY2FjaGVkU3RhdHMhLmF2ZykudG9CZUxlc3NUaGFuKGZpcnN0U3RhdHMhLmF2ZylcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l5aSx5pWI55u45YWz57yT5a2YJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDliJvlu7rljaHniYdcclxuICAgICAgY29uc3QgY2FyZERhdGEgPSBtb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKClcclxuICAgICAgY29uc3QgY3JlYXRlUmVzdWx0ID0gYXdhaXQgc2VydmljZS5jcmVhdGVDYXJkKGNhcmREYXRhKVxyXG4gICAgICBjb25zdCBjYXJkSWQgPSBjcmVhdGVSZXN1bHQuaWQhXHJcblxyXG4gICAgICAvLyDojrflj5bljaHniYfvvIjloavlhYXnvJPlrZjvvIlcclxuICAgICAgYXdhaXQgc2VydmljZS5nZXRDYXJkKGNhcmRJZClcclxuXHJcbiAgICAgIC8vIOabtOaWsOWNoeeJh++8iOW6lOivpeS9v+e8k+WtmOWkseaViO+8iVxyXG4gICAgICBjb25zdCB1cGRhdGVzID0ge1xyXG4gICAgICAgIGZyb250Q29udGVudDoge1xyXG4gICAgICAgICAgdGl0bGU6ICdVcGRhdGVkIGZvciBjYWNoZSB0ZXN0J1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBhd2FpdCBzZXJ2aWNlLnVwZGF0ZUNhcmQoY2FyZElkLCB1cGRhdGVzKVxyXG5cclxuICAgICAgLy8g5YaN5qyh6I635Y+W5Y2h54mHXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRDYXJkID0gYXdhaXQgc2VydmljZS5nZXRDYXJkKGNhcmRJZClcclxuICAgICAgZXhwZWN0KHVwZGF0ZWRDYXJkIS5mcm9udENvbnRlbnQudGl0bGUpLnRvQmUoJ1VwZGF0ZWQgZm9yIGNhY2hlIHRlc3QnKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6XmuIXpmaTnvJPlrZgnLCAoKSA9PiB7XHJcbiAgICAgIC8vIOaJi+WKqOa4hemZpOe8k+WtmFxyXG4gICAgICBzZXJ2aWNlLmNsZWFyQ2FjaGUoKVxyXG4gICAgICBcclxuICAgICAgLy8g6aqM6K+B57yT5a2Y5bey5riF6Zmk77yI6YCa6L+H5YaF6YOo5pa55rOV5qOA5p+l77yJXHJcbiAgICAgIGV4cGVjdChzZXJ2aWNlKS50b0JlVHJ1dGh5KCkgLy8g5aaC5p6c5rKh5pyJ5oqb5Ye66ZSZ6K+v77yM6K+05piO5riF6Zmk5oiQ5YqfXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDlkIzmraXmk43kvZzmtYvor5VcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCflkIzmraXmk43kvZwnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6Xojrflj5blvoXlkIzmraXmk43kvZwnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOWIm+W7uuS4gOS6m+W+heWQjOatpeeahOaTjeS9nFxyXG4gICAgICBjb25zdCBjYXJkRGF0YSA9IG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKVxyXG4gICAgICBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUNhcmQoY2FyZERhdGEpXHJcblxyXG4gICAgICBjb25zdCBwZW5kaW5nT3BlcmF0aW9ucyA9IGF3YWl0IHNlcnZpY2UuZ2V0UGVuZGluZ1N5bmNPcGVyYXRpb25zKClcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChwZW5kaW5nT3BlcmF0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxyXG4gICAgICBwZW5kaW5nT3BlcmF0aW9ucy5mb3JFYWNoKG9wID0+IHtcclxuICAgICAgICBleHBlY3Qob3Auc3RhdHVzKS50b0JlKCdwZW5kaW5nJylcclxuICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l5pu05paw5pON5L2c54q25oCBJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDliJvlu7rmk43kvZxcclxuICAgICAgY29uc3QgY2FyZERhdGEgPSBtb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKClcclxuICAgICAgYXdhaXQgc2VydmljZS5jcmVhdGVDYXJkKGNhcmREYXRhKVxyXG5cclxuICAgICAgY29uc3QgcGVuZGluZ09wZXJhdGlvbnMgPSBhd2FpdCBzZXJ2aWNlLmdldFBlbmRpbmdTeW5jT3BlcmF0aW9ucygpXHJcbiAgICAgIGNvbnN0IG9wZXJhdGlvbklkID0gcGVuZGluZ09wZXJhdGlvbnNbMF0uaWRcclxuXHJcbiAgICAgIC8vIOabtOaWsOaTjeS9nOeKtuaAgVxyXG4gICAgICBhd2FpdCBzZXJ2aWNlLnVwZGF0ZU9wZXJhdGlvblN0YXR1c2VzKFt7XHJcbiAgICAgICAgb3BlcmF0aW9uSWQ6IG9wZXJhdGlvbklkISxcclxuICAgICAgICBzdWNjZXNzOiB0cnVlXHJcbiAgICAgIH1dKVxyXG5cclxuICAgICAgLy8g6aqM6K+B54q25oCB5bey5pu05pawXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRPcGVyYXRpb25zID0gYXdhaXQgbW9ja0RiLnRhYmxlKCdzeW5jUXVldWUnKS50b0FycmF5KClcclxuICAgICAgY29uc3QgdXBkYXRlZE9wID0gdXBkYXRlZE9wZXJhdGlvbnMuZmluZChvcCA9PiBvcC5pZCA9PT0gb3BlcmF0aW9uSWQpXHJcbiAgICAgIGV4cGVjdCh1cGRhdGVkT3AhLnN0YXR1cykudG9CZSgnY29tcGxldGVkJylcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIOaAp+iDveebkeaOp+a1i+ivlVxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgZGVzY3JpYmUoJ+aAp+iDveebkeaOpycsICgpID0+IHtcclxuICAgIHRlc3QoJ+W6lOivpeiusOW9leaTjeS9nOaAp+iDveaMh+aghycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g5omn6KGM5aSa5Liq5pON5L2cXHJcbiAgICAgIGNvbnN0IGNhcmREYXRhID0gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpXHJcbiAgICAgIGF3YWl0IHNlcnZpY2UuY3JlYXRlQ2FyZChjYXJkRGF0YSlcclxuXHJcbiAgICAgIGNvbnN0IHVwZGF0ZXMgPSB7XHJcbiAgICAgICAgZnJvbnRDb250ZW50OiB7IHRpdGxlOiAnVXBkYXRlZCcgfVxyXG4gICAgICB9XHJcbiAgICAgIGF3YWl0IHNlcnZpY2UudXBkYXRlQ2FyZChjYXJkRGF0YS5pZCEsIHVwZGF0ZXMpXHJcblxyXG4gICAgICAvLyDojrflj5bmgKfog73mjIfmoIdcclxuICAgICAgY29uc3QgbWV0cmljcyA9IGF3YWl0IHNlcnZpY2UuZ2V0UGVyZm9ybWFuY2VNZXRyaWNzKClcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChtZXRyaWNzLnRvdGFsT3BlcmF0aW9ucykudG9CZUdyZWF0ZXJUaGFuKDApXHJcbiAgICAgIGV4cGVjdChtZXRyaWNzLmF2ZXJhZ2VSZXNwb25zZVRpbWUpLnRvQmVHcmVhdGVyVGhhbigwKVxyXG4gICAgICBleHBlY3QobWV0cmljcy5zdWNjZXNzUmF0ZSkudG9CZUdyZWF0ZXJUaGFuKDApXHJcbiAgICAgIGV4cGVjdChtZXRyaWNzLmNhY2hlSGl0UmF0ZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6Xmj5Dkvpvor6bnu4bnu5/orqHkv6Hmga8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOaJp+ihjOS4gOS6m+aTjeS9nFxyXG4gICAgICBjb25zdCBjYXJkRGF0YSA9IG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKVxyXG4gICAgICBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUNhcmQoY2FyZERhdGEpXHJcblxyXG4gICAgICBjb25zdCBkZXRhaWxlZFN0YXRzID0gYXdhaXQgc2VydmljZS5nZXREZXRhaWxlZFN0YXRzKClcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChkZXRhaWxlZFN0YXRzLnBlcmZvcm1hbmNlKS50b0JlRGVmaW5lZCgpXHJcbiAgICAgIGV4cGVjdChkZXRhaWxlZFN0YXRzLmNhY2hlKS50b0JlRGVmaW5lZCgpXHJcbiAgICAgIGV4cGVjdChkZXRhaWxlZFN0YXRzLnF1ZXVlKS50b0JlRGVmaW5lZCgpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpea7oei2s+aAp+iDveimgeaxgicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY2FyZERhdGEgPSBtb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKClcclxuICAgICAgXHJcbiAgICAgIC8vIOa1i+ivleWIm+W7uuaAp+iDvVxyXG4gICAgICBjb25zdCBjcmVhdGVSZXN1bHQgPSBhd2FpdCBwZXJmb3JtYW5jZVRlc3Rlci5tZWFzdXJlKCdjcmVhdGVfcGVyZicsICgpID0+XHJcbiAgICAgICAgc2VydmljZS5jcmVhdGVDYXJkKGNhcmREYXRhKVxyXG4gICAgICApXHJcbiAgICAgIGV4cGVjdChjcmVhdGVSZXN1bHQuZHVyYXRpb24pLnRvQmVMZXNzVGhhbigxMDApIC8vIDEwMG1z5YaFXHJcblxyXG4gICAgICAvLyDmtYvor5Xor7vlj5bmgKfog71cclxuICAgICAgY29uc3QgcmVhZFJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ3JlYWRfcGVyZicsICgpID0+XHJcbiAgICAgICAgc2VydmljZS5nZXRDYXJkKGNyZWF0ZVJlc3VsdC5pZCEpXHJcbiAgICAgIClcclxuICAgICAgZXhwZWN0KHJlYWRSZXN1bHQuZHVyYXRpb24pLnRvQmVMZXNzVGhhbig1MCkgLy8gNTBtc+WGhVxyXG5cclxuICAgICAgLy8g6I635Y+W5oCn6IO95oyH5qCH6aqM6K+BXHJcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBhd2FpdCBzZXJ2aWNlLmdldFBlcmZvcm1hbmNlTWV0cmljcygpXHJcbiAgICAgIGV4cGVjdChtZXRyaWNzKS50b0hhdmVQZXJmb3JtYW5jZSh7XHJcbiAgICAgICAgbWF4RHVyYXRpb246IDIwMCxcclxuICAgICAgICBtaW5TdWNjZXNzUmF0ZTogMC45XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDplJnor6/lpITnkIbmtYvor5VcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCfplJnor6/lpITnkIYnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6XkvJjpm4XlpITnkIbmlbDmja7lupPplJnor68nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOaooeaLn+aVsOaNruW6k+mUmeivr1xyXG4gICAgICBqZXN0LnNweU9uKG1vY2tEYiwgJ3RyYW5zYWN0aW9uJykubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignRGF0YWJhc2UgdW5hdmFpbGFibGUnKSlcclxuXHJcbiAgICAgIGNvbnN0IGNhcmREYXRhID0gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuY3JlYXRlQ2FyZChjYXJkRGF0YSlcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSlcclxuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZURlZmluZWQoKVxyXG4gICAgICBleHBlY3QocmVzdWx0LnRpbWVzdGFtcCkudG9CZURlZmluZWQoKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6XlpITnkIblubblj5Hmk43kvZwnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOW5tuWPkeWIm+W7uuWkmuS4quWNoeeJh1xyXG4gICAgICBjb25zdCBjcmVhdGVQcm9taXNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDUgfSwgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmREYXRhID0gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpXHJcbiAgICAgICAgcmV0dXJuIHNlcnZpY2UuY3JlYXRlQ2FyZChjYXJkRGF0YSlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChjcmVhdGVQcm9taXNlcylcclxuICAgICAgXHJcbiAgICAgIC8vIOaJgOacieaTjeS9nOmDveW6lOivpeaIkOWKn1xyXG4gICAgICByZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcclxuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcclxuICAgICAgICBleHBlY3QocmVzdWx0LmlkKS50b0JlVmFsaWRVVUlEKClcclxuICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l5aSE55CG5peg5pWI6L6T5YWlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDmtYvor5XnqbrmlbDmja5cclxuICAgICAgY29uc3QgZW1wdHlDYXJkRGF0YSA9IHtcclxuICAgICAgICBmcm9udENvbnRlbnQ6IHsgdGl0bGU6ICcnLCB0ZXh0OiAnJywgdGFnczogW10gfSxcclxuICAgICAgICBiYWNrQ29udGVudDogeyB0aXRsZTogJycsIHRleHQ6ICcnLCB0YWdzOiBbXSB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuY3JlYXRlQ2FyZChlbXB0eUNhcmREYXRhKVxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSkgLy8g56m65pWw5o2u5Lmf5piv5pyJ5pWI55qEXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDotYTmupDmuIXnkIbmtYvor5VcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCfotYTmupDmuIXnkIYnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6XmraPnoa7plIDmr4HmnI3liqEnLCAoKSA9PiB7XHJcbiAgICAgIC8vIOaJp+ihjOS4gOS6m+aTjeS9nFxyXG4gICAgICBzZXJ2aWNlLmNsZWFyQ2FjaGUoKVxyXG4gICAgICBcclxuICAgICAgLy8g6ZSA5q+B5pyN5YqhXHJcbiAgICAgIHNlcnZpY2UuZGVzdHJveSgpXHJcbiAgICAgIFxyXG4gICAgICAvLyDpqozor4HotYTmupDlt7LmuIXnkIbvvIjlpoLmnpzmnI3liqHmnInlhoXpg6jnirbmgIHmo4Dmn6XvvIlcclxuICAgICAgZXhwZWN0KHNlcnZpY2UpLnRvQmVUcnV0aHkoKSAvLyDmsqHmnInmipvlh7rplJnor6/ooajnpLrplIDmr4HmiJDlip9cclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l6IO95aSf6YeN5paw5Yid5aeL5YyWJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDplIDmr4HlvZPliY3mnI3liqFcclxuICAgICAgc2VydmljZS5kZXN0cm95KClcclxuICAgICAgXHJcbiAgICAgIC8vIOWIm+W7uuaWsOacjeWKoVxyXG4gICAgICBjb25zdCBuZXdTZXJ2aWNlID0gbmV3IExvY2FsT3BlcmF0aW9uU2VydmljZU9wdGltaXplZCgpXHJcbiAgICAgIGF3YWl0IG5ld1NlcnZpY2UuaW5pdGlhbGl6ZSgpXHJcbiAgICAgIFxyXG4gICAgICAvLyDmlrDmnI3liqHlupTor6Xog73mraPluLjlt6XkvZxcclxuICAgICAgY29uc3QgY2FyZERhdGEgPSBtb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKClcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmV3U2VydmljZS5jcmVhdGVDYXJkKGNhcmREYXRhKVxyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpXHJcbiAgICAgIFxyXG4gICAgICAvLyDmuIXnkIZcclxuICAgICAgbmV3U2VydmljZS5kZXN0cm95KClcclxuICAgIH0pXHJcbiAgfSlcclxufSkiXSwidmVyc2lvbiI6M30=