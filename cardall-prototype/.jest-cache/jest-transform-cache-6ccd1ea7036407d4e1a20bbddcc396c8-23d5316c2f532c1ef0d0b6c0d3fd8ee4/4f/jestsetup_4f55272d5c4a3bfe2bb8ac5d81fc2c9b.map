{"version":3,"names":["Object","defineProperty","global","value","meta","env","VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","NODE_ENV","writable","localStorageMock","store","getItem","key","setItem","String","removeItem","clear","length","index","keys","window","FIDB","require","indexedDB","IDBKeyRange","IDBTransaction","IDBDatabase","IDBObjectStore","IDBCursor","IDBCursorWithValue","IDBOpenDBRequest","IDBRequest","IDBFactory","structuredClone","obj","JSON","parse","stringify","TextEncoder","encode","string","chars","encodeURIComponent","split","byteArray","Uint8Array","i","charCodeAt","TextDecoder","decode","fromCharCode","apply","crypto","replace","c","r","Math","random","v","toString","subtle","digest","algorithm","data","hash","createHash","update","Buffer","from","now","Date","mark","name","measure","startMark","endMark","clearMarks","clearMeasures","getEntriesByType","type","getEntriesByName","toJSON","callback","setTimeout","id","clearTimeout","testHelpers","wait","ms","Promise","resolve","createEvent","Event","createError","message","code","error","Error","assign","clearAllMocks","jest","resetAllMocks","beforeAll","console","log","beforeEach","localStorage","afterAll"],"sources":["jest.setup.js"],"sourcesContent":["// Jest ÂÖ®Â±ÄÊµãËØïËÆæÁΩÆ\r\n\r\n// Ê®°Êãü import.meta.env\r\nObject.defineProperty(global, 'import', {\r\n  value: {\r\n    meta: {\r\n      env: {\r\n        VITE_SUPABASE_URL: 'https://test-project.supabase.co',\r\n        VITE_SUPABASE_ANON_KEY: 'test-anon-key',\r\n        NODE_ENV: 'test'\r\n      }\r\n    }\r\n  },\r\n  writable: true\r\n})\r\n\r\n// Ê®°Êãü localStorage\r\nconst localStorageMock = (() => {\r\n  let store = {}\r\n  return {\r\n    getItem(key) {\r\n      return store[key] || null\r\n    },\r\n    setItem(key, value) {\r\n      store[key] = String(value)\r\n    },\r\n    removeItem(key) {\r\n      delete store[key]\r\n    },\r\n    clear() {\r\n      store = {}\r\n    },\r\n    length: 0,\r\n    key(index) {\r\n      return Object.keys(store)[index] || null\r\n    }\r\n  }\r\n})()\r\n\r\nObject.defineProperty(window, 'localStorage', {\r\n  value: localStorageMock\r\n})\r\n\r\n// ‰ΩøÁî® fake-indexeddb Ê®°Êãü IndexedDB\r\nconst FIDB = require('fake-indexeddb')\r\n\r\n// ËÆæÁΩÆÂÖ®Â±Ä IndexedDB\r\nglobal.indexedDB = FIDB.indexedDB\r\nglobal.IDBKeyRange = FIDB.IDBKeyRange\r\nglobal.IDBTransaction = FIDB.IDBTransaction\r\nglobal.IDBDatabase = FIDB.IDBDatabase\r\nglobal.IDBObjectStore = FIDB.IDBObjectStore\r\nglobal.IDBCursor = FIDB.IDBCursor\r\nglobal.IDBCursorWithValue = FIDB.IDBCursorWithValue\r\nglobal.IDBOpenDBRequest = FIDB.IDBOpenDBRequest\r\nglobal.IDBRequest = FIDB.IDBRequest\r\nglobal.IDBFactory = FIDB.IDBFactory\r\n\r\nObject.defineProperty(window, 'indexedDB', {\r\n  value: FIDB.indexedDB\r\n})\r\n\r\n// Ê®°Êãü structuredClone\r\nif (!global.structuredClone) {\r\n  global.structuredClone = (obj) => {\r\n    return JSON.parse(JSON.stringify(obj))\r\n  }\r\n}\r\n\r\n// Ê®°Êãü TextEncoder\r\nif (!global.TextEncoder) {\r\n  global.TextEncoder = class TextEncoder {\r\n    encode(string) {\r\n      const chars = encodeURIComponent(string).split(/%..|./)\r\n      const byteArray = new Uint8Array(chars.length)\r\n      for (let i = 0; i < chars.length; i++) {\r\n        byteArray[i] = chars[i].charCodeAt(0)\r\n      }\r\n      return byteArray\r\n    }\r\n  }\r\n}\r\n\r\n// Ê®°Êãü TextDecoder\r\nif (!global.TextDecoder) {\r\n  global.TextDecoder = class TextDecoder {\r\n    decode(byteArray) {\r\n      return String.fromCharCode.apply(null, byteArray)\r\n    }\r\n  }\r\n}\r\n\r\n// Ê®°Êãü crypto.randomUUID\r\nObject.defineProperty(crypto, 'randomUUID', {\r\n  value: () => {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n      const r = (Math.random() * 16) | 0\r\n      const v = c === 'x' ? r : (r & 0x3) | 0x8\r\n      return v.toString(16)\r\n    })\r\n  }\r\n})\r\n\r\n// Ê®°Êãü crypto.subtle\r\nif (!crypto.subtle) {\r\n  crypto.subtle = {\r\n    async digest(algorithm, data) {\r\n      // ÁÆÄÂçïÁöÑÊ®°ÊãüÂìàÂ∏åÂáΩÊï∞ÔºåÁî®‰∫éÊµãËØï\r\n      const crypto = require('crypto')\r\n      const hash = crypto.createHash('sha256')\r\n      hash.update(Buffer.from(data))\r\n      return Buffer.from(hash.digest())\r\n    }\r\n  }\r\n}\r\n\r\n// Ê®°Êãü performance API\r\nObject.defineProperty(window, 'performance', {\r\n  value: {\r\n    now: () => Date.now(),\r\n    mark: (name) => {},\r\n    measure: (name, startMark, endMark) => {},\r\n    clearMarks: (name) => {},\r\n    clearMeasures: (name) => {},\r\n    getEntriesByType: (type) => [],\r\n    getEntriesByName: (name, type) => [],\r\n    toJSON: () => ({})\r\n  }\r\n})\r\n\r\n// Ê®°Êãü requestAnimationFrame\r\nObject.defineProperty(window, 'requestAnimationFrame', {\r\n  value: (callback) => {\r\n    return setTimeout(callback, 16)\r\n  }\r\n})\r\n\r\nObject.defineProperty(window, 'cancelAnimationFrame', {\r\n  value: (id) => {\r\n    clearTimeout(id)\r\n  }\r\n})\r\n\r\n// ÂÖ®Â±ÄÊµãËØïËæÖÂä©ÂáΩÊï∞\r\nglobal.testHelpers = {\r\n  wait: (ms) => new Promise(resolve => setTimeout(resolve, ms)),\r\n  createEvent: (type, data = {}) => {\r\n    return new Event(type, data)\r\n  },\r\n  createError: (message, code = 'UNKNOWN') => {\r\n    const error = new Error(message)\r\n    Object.assign(error, { code })\r\n    return error\r\n  },\r\n  clearAllMocks: () => {\r\n    jest.clearAllMocks()\r\n  },\r\n  resetAllMocks: () => {\r\n    jest.resetAllMocks()\r\n  }\r\n}\r\n\r\n// ÂÖ®Â±ÄÊµãËØïÂâçËÆæÁΩÆ\r\nbeforeAll(() => {\r\n  console.log('üß™ Jest ÊµãËØïÁéØÂ¢ÉÂ∑≤ÂàùÂßãÂåñ')\r\n})\r\n\r\n// ÊØè‰∏™ÊµãËØïÂâçÁöÑËÆæÁΩÆ\r\nbeforeEach(() => {\r\n  localStorage.clear()\r\n  jest.clearAllMocks()\r\n})\r\n\r\n// ÊâÄÊúâÊµãËØïÂêéÁöÑÊ∏ÖÁêÜ\r\nafterAll(() => {\r\n  console.log('üß™ Jest ÊµãËØïÁéØÂ¢ÉÂ∑≤Ê∏ÖÁêÜ')\r\n})"],"mappings":";;AAAA;;AAEA;AACAA,MAAM,CAACC,cAAc,CAACC,MAAM,EAAE,QAAQ,EAAE;EACtCC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,GAAG,EAAE;QACHC,iBAAiB,EAAE,kCAAkC;QACrDC,sBAAsB,EAAE,eAAe;QACvCC,QAAQ,EAAE;MACZ;IACF;EACF,CAAC;EACDC,QAAQ,EAAE;AACZ,CAAC,CAAC;;AAEF;AACA,MAAMC,gBAAgB,GAAG,CAAC,MAAM;EAC9B,IAAIC,KAAK,GAAG,CAAC,CAAC;EACd,OAAO;IACLC,OAAOA,CAACC,GAAG,EAAE;MACX,OAAOF,KAAK,CAACE,GAAG,CAAC,IAAI,IAAI;IAC3B,CAAC;IACDC,OAAOA,CAACD,GAAG,EAAEV,KAAK,EAAE;MAClBQ,KAAK,CAACE,GAAG,CAAC,GAAGE,MAAM,CAACZ,KAAK,CAAC;IAC5B,CAAC;IACDa,UAAUA,CAACH,GAAG,EAAE;MACd,OAAOF,KAAK,CAACE,GAAG,CAAC;IACnB,CAAC;IACDI,KAAKA,CAAA,EAAG;MACNN,KAAK,GAAG,CAAC,CAAC;IACZ,CAAC;IACDO,MAAM,EAAE,CAAC;IACTL,GAAGA,CAACM,KAAK,EAAE;MACT,OAAOnB,MAAM,CAACoB,IAAI,CAACT,KAAK,CAAC,CAACQ,KAAK,CAAC,IAAI,IAAI;IAC1C;EACF,CAAC;AACH,CAAC,EAAE,CAAC;AAEJnB,MAAM,CAACC,cAAc,CAACoB,MAAM,EAAE,cAAc,EAAE;EAC5ClB,KAAK,EAAEO;AACT,CAAC,CAAC;;AAEF;AACA,MAAMY,IAAI,GAAGC,OAAO,CAAC,gBAAgB,CAAC;;AAEtC;AACArB,MAAM,CAACsB,SAAS,GAAGF,IAAI,CAACE,SAAS;AACjCtB,MAAM,CAACuB,WAAW,GAAGH,IAAI,CAACG,WAAW;AACrCvB,MAAM,CAACwB,cAAc,GAAGJ,IAAI,CAACI,cAAc;AAC3CxB,MAAM,CAACyB,WAAW,GAAGL,IAAI,CAACK,WAAW;AACrCzB,MAAM,CAAC0B,cAAc,GAAGN,IAAI,CAACM,cAAc;AAC3C1B,MAAM,CAAC2B,SAAS,GAAGP,IAAI,CAACO,SAAS;AACjC3B,MAAM,CAAC4B,kBAAkB,GAAGR,IAAI,CAACQ,kBAAkB;AACnD5B,MAAM,CAAC6B,gBAAgB,GAAGT,IAAI,CAACS,gBAAgB;AAC/C7B,MAAM,CAAC8B,UAAU,GAAGV,IAAI,CAACU,UAAU;AACnC9B,MAAM,CAAC+B,UAAU,GAAGX,IAAI,CAACW,UAAU;AAEnCjC,MAAM,CAACC,cAAc,CAACoB,MAAM,EAAE,WAAW,EAAE;EACzClB,KAAK,EAAEmB,IAAI,CAACE;AACd,CAAC,CAAC;;AAEF;AACA,IAAI,CAACtB,MAAM,CAACgC,eAAe,EAAE;EAC3BhC,MAAM,CAACgC,eAAe,GAAIC,GAAG,IAAK;IAChC,OAAOC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACH,GAAG,CAAC,CAAC;EACxC,CAAC;AACH;;AAEA;AACA,IAAI,CAACjC,MAAM,CAACqC,WAAW,EAAE;EACvBrC,MAAM,CAACqC,WAAW,GAAG,MAAMA,WAAW,CAAC;IACrCC,MAAMA,CAACC,MAAM,EAAE;MACb,MAAMC,KAAK,GAAGC,kBAAkB,CAACF,MAAM,CAAC,CAACG,KAAK,CAAC,OAAO,CAAC;MACvD,MAAMC,SAAS,GAAG,IAAIC,UAAU,CAACJ,KAAK,CAACxB,MAAM,CAAC;MAC9C,KAAK,IAAI6B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,KAAK,CAACxB,MAAM,EAAE6B,CAAC,EAAE,EAAE;QACrCF,SAAS,CAACE,CAAC,CAAC,GAAGL,KAAK,CAACK,CAAC,CAAC,CAACC,UAAU,CAAC,CAAC,CAAC;MACvC;MACA,OAAOH,SAAS;IAClB;EACF,CAAC;AACH;;AAEA;AACA,IAAI,CAAC3C,MAAM,CAAC+C,WAAW,EAAE;EACvB/C,MAAM,CAAC+C,WAAW,GAAG,MAAMA,WAAW,CAAC;IACrCC,MAAMA,CAACL,SAAS,EAAE;MAChB,OAAO9B,MAAM,CAACoC,YAAY,CAACC,KAAK,CAAC,IAAI,EAAEP,SAAS,CAAC;IACnD;EACF,CAAC;AACH;;AAEA;AACA7C,MAAM,CAACC,cAAc,CAACoD,MAAM,EAAE,YAAY,EAAE;EAC1ClD,KAAK,EAAEA,CAAA,KAAM;IACX,OAAO,sCAAsC,CAACmD,OAAO,CAAC,OAAO,EAAGC,CAAC,IAAK;MACpE,MAAMC,CAAC,GAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAI,CAAC;MAClC,MAAMC,CAAC,GAAGJ,CAAC,KAAK,GAAG,GAAGC,CAAC,GAAIA,CAAC,GAAG,GAAG,GAAI,GAAG;MACzC,OAAOG,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC;IACvB,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;;AAEF;AACA,IAAI,CAACP,MAAM,CAACQ,MAAM,EAAE;EAClBR,MAAM,CAACQ,MAAM,GAAG;IACd,MAAMC,MAAMA,CAACC,SAAS,EAAEC,IAAI,EAAE;MAC5B;MACA,MAAMX,MAAM,GAAG9B,OAAO,CAAC,QAAQ,CAAC;MAChC,MAAM0C,IAAI,GAAGZ,MAAM,CAACa,UAAU,CAAC,QAAQ,CAAC;MACxCD,IAAI,CAACE,MAAM,CAACC,MAAM,CAACC,IAAI,CAACL,IAAI,CAAC,CAAC;MAC9B,OAAOI,MAAM,CAACC,IAAI,CAACJ,IAAI,CAACH,MAAM,CAAC,CAAC,CAAC;IACnC;EACF,CAAC;AACH;;AAEA;AACA9D,MAAM,CAACC,cAAc,CAACoB,MAAM,EAAE,aAAa,EAAE;EAC3ClB,KAAK,EAAE;IACLmE,GAAG,EAAEA,CAAA,KAAMC,IAAI,CAACD,GAAG,CAAC,CAAC;IACrBE,IAAI,EAAGC,IAAI,IAAK,CAAC,CAAC;IAClBC,OAAO,EAAEA,CAACD,IAAI,EAAEE,SAAS,EAAEC,OAAO,KAAK,CAAC,CAAC;IACzCC,UAAU,EAAGJ,IAAI,IAAK,CAAC,CAAC;IACxBK,aAAa,EAAGL,IAAI,IAAK,CAAC,CAAC;IAC3BM,gBAAgB,EAAGC,IAAI,IAAK,EAAE;IAC9BC,gBAAgB,EAAEA,CAACR,IAAI,EAAEO,IAAI,KAAK,EAAE;IACpCE,MAAM,EAAEA,CAAA,MAAO,CAAC,CAAC;EACnB;AACF,CAAC,CAAC;;AAEF;AACAlF,MAAM,CAACC,cAAc,CAACoB,MAAM,EAAE,uBAAuB,EAAE;EACrDlB,KAAK,EAAGgF,QAAQ,IAAK;IACnB,OAAOC,UAAU,CAACD,QAAQ,EAAE,EAAE,CAAC;EACjC;AACF,CAAC,CAAC;AAEFnF,MAAM,CAACC,cAAc,CAACoB,MAAM,EAAE,sBAAsB,EAAE;EACpDlB,KAAK,EAAGkF,EAAE,IAAK;IACbC,YAAY,CAACD,EAAE,CAAC;EAClB;AACF,CAAC,CAAC;;AAEF;AACAnF,MAAM,CAACqF,WAAW,GAAG;EACnBC,IAAI,EAAGC,EAAE,IAAK,IAAIC,OAAO,CAACC,OAAO,IAAIP,UAAU,CAACO,OAAO,EAAEF,EAAE,CAAC,CAAC;EAC7DG,WAAW,EAAEA,CAACZ,IAAI,EAAEhB,IAAI,GAAG,CAAC,CAAC,KAAK;IAChC,OAAO,IAAI6B,KAAK,CAACb,IAAI,EAAEhB,IAAI,CAAC;EAC9B,CAAC;EACD8B,WAAW,EAAEA,CAACC,OAAO,EAAEC,IAAI,GAAG,SAAS,KAAK;IAC1C,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAACH,OAAO,CAAC;IAChC/F,MAAM,CAACmG,MAAM,CAACF,KAAK,EAAE;MAAED;IAAK,CAAC,CAAC;IAC9B,OAAOC,KAAK;EACd,CAAC;EACDG,aAAa,EAAEA,CAAA,KAAM;IACnBC,IAAI,CAACD,aAAa,CAAC,CAAC;EACtB,CAAC;EACDE,aAAa,EAAEA,CAAA,KAAM;IACnBD,IAAI,CAACC,aAAa,CAAC,CAAC;EACtB;AACF,CAAC;;AAED;AACAC,SAAS,CAAC,MAAM;EACdC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;AACjC,CAAC,CAAC;;AAEF;AACAC,UAAU,CAAC,MAAM;EACfC,YAAY,CAAC1F,KAAK,CAAC,CAAC;EACpBoF,IAAI,CAACD,aAAa,CAAC,CAAC;AACtB,CAAC,CAAC;;AAEF;AACAQ,QAAQ,CAAC,MAAM;EACbJ,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;AAChC,CAAC,CAAC","ignoreList":[]}