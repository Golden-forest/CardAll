ec9a29b844999a02775504f00612c2f8
"use strict";
/**
 * 数据库查询性能测试
 * 测试数据库操作的性能、优化和稳定性
 */
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
// 模拟数据库依赖
globals_1.jest.mock('../../services/database-unified', () => ({
    db: new test_utils_1.MockDatabase()
}));
const test_utils_1 = require("../utils/test-utils");
const test_utils_2 = require("../utils/test-utils");
(0, globals_1.describe)('数据库查询性能测试', () => {
    let mockDb;
    (0, globals_1.beforeEach)(() => {
        mockDb = new test_utils_1.MockDatabase();
        test_utils_2.performanceTester.reset();
        test_utils_2.memoryLeakDetector.clearSnapshots();
        globals_1.jest.clearAllMocks();
    });
    (0, globals_1.afterEach)(() => {
        mockDb.clear();
    });
    // ============================================================================
    // 基础查询性能测试
    // ============================================================================
    (0, globals_1.describe)('基础查询性能', () => {
        (0, globals_1.test)('应该快速插入单个记录', async () => {
            const card = test_utils_2.mockFactories.createMockCard();
            const result = await test_utils_2.performanceTester.measure('single_insert', () => mockDb.table('cards').add(card));
            (0, globals_1.expect)(result).toBeValidUUID();
            const stats = test_utils_2.performanceTester.getStats('single_insert');
            (0, globals_1.expect)(stats.avg).toBeLessThan(10); // 10ms内完成
            (0, globals_1.expect)(stats.max).toBeLessThan(50); // 最大不超过50ms
        });
        (0, globals_1.test)('应该快速读取单个记录', async () => {
            // 先插入数据
            const card = test_utils_2.mockFactories.createMockCard();
            const cardId = await mockDb.table('cards').add(card);
            // 测试读取性能
            const result = await test_utils_2.performanceTester.measure('single_read', () => mockDb.table('cards').get(cardId));
            (0, globals_1.expect)(result).toBeDefined();
            (0, globals_1.expect)(result.id).toBe(cardId);
            const stats = test_utils_2.performanceTester.getStats('single_read');
            (0, globals_1.expect)(stats.avg).toBeLessThan(5); // 5ms内完成
        });
        (0, globals_1.test)('应该快速更新记录', async () => {
            const card = test_utils_2.mockFactories.createMockCard();
            const cardId = await mockDb.table('cards').add(card);
            const updates = { frontContent: { title: 'Updated Title' } };
            const result = await test_utils_2.performanceTester.measure('single_update', () => mockDb.table('cards').update(cardId, updates));
            (0, globals_1.expect)(result).toBe(1);
            const stats = test_utils_2.performanceTester.getStats('single_update');
            (0, globals_1.expect)(stats.avg).toBeLessThan(10);
        });
        (0, globals_1.test)('应该快速删除记录', async () => {
            const card = test_utils_2.mockFactories.createMockCard();
            const cardId = await mockDb.table('cards').add(card);
            const result = await test_utils_2.performanceTester.measure('single_delete', () => mockDb.table('cards').delete(cardId));
            (0, globals_1.expect)(result).toBe(1);
            const stats = test_utils_2.performanceTester.getStats('single_delete');
            (0, globals_1.expect)(stats.avg).toBeLessThan(5);
        });
    });
    // ============================================================================
    // 批量操作性能测试
    // ============================================================================
    (0, globals_1.describe)('批量操作性能', () => {
        (0, globals_1.test)('应该高效批量插入', async () => {
            const batchSize = 100;
            const cards = Array.from({ length: batchSize }, () => test_utils_2.mockFactories.createMockCard());
            const result = await test_utils_2.performanceTester.measure('bulk_insert_100', () => mockDb.table('cards').bulkAdd(cards));
            (0, globals_1.expect)(result).toHaveLength(batchSize);
            result.forEach(id => (0, globals_1.expect)(id).toBeValidUUID());
            const stats = test_utils_2.performanceTester.getStats('bulk_insert_100');
            (0, globals_1.expect)(stats.avg).toBeLessThan(100); // 100ms内完成100条记录
        });
        (0, globals_1.test)('应该高效批量读取', async () => {
            const batchSize = 1000;
            const cards = Array.from({ length: batchSize }, () => test_utils_2.mockFactories.createMockCard());
            await mockDb.table('cards').bulkAdd(cards);
            const result = await test_utils_2.performanceTester.measure('bulk_read_1000', () => mockDb.table('cards').toArray());
            (0, globals_1.expect)(result).toHaveLength(batchSize);
            const stats = test_utils_2.performanceTester.getStats('bulk_read_1000');
            (0, globals_1.expect)(stats.avg).toBeLessThan(200); // 200ms内读取1000条记录
        });
        (0, globals_1.test)('应该高效批量更新', async () => {
            const batchSize = 50;
            const cards = Array.from({ length: batchSize }, () => test_utils_2.mockFactories.createMockCard());
            const cardIds = await mockDb.table('cards').bulkAdd(cards);
            const updatePromises = cardIds.map((id, index) => mockDb.table('cards').update(id, { frontContent: { title: `Updated ${index}` } }));
            const result = await test_utils_2.performanceTester.measure('bulk_update_50', () => Promise.all(updatePromises));
            (0, globals_1.expect)(result).toHaveLength(batchSize);
            (0, globals_1.expect)(result.every(count => count === 1)).toBe(true);
            const stats = test_utils_2.performanceTester.getStats('bulk_update_50');
            (0, globals_1.expect)(stats.avg).toBeLessThan(100);
        });
        (0, globals_1.test)('应该高效批量删除', async () => {
            const batchSize = 50;
            const cards = Array.from({ length: batchSize }, () => test_utils_2.mockFactories.createMockCard());
            const cardIds = await mockDb.table('cards').bulkAdd(cards);
            const deletePromises = cardIds.map(id => mockDb.table('cards').delete(id));
            const result = await test_utils_2.performanceTester.measure('bulk_delete_50', () => Promise.all(deletePromises));
            (0, globals_1.expect)(result).toHaveLength(batchSize);
            (0, globals_1.expect)(result.every(count => count === 1)).toBe(true);
            const stats = test_utils_2.performanceTester.getStats('bulk_delete_50');
            (0, globals_1.expect)(stats.avg).toBeLessThan(50);
        });
    });
    // ============================================================================
    // 查询优化测试
    // ============================================================================
    (0, globals_1.describe)('查询优化', () => {
        (0, globals_1.beforeEach)(async () => {
            // 创建测试数据集
            const testData = test_utils_2.testDataGenerator.generateTestData({
                cardCount: 500,
                folderCount: 10,
                tagCount: 20
            });
            await mockDb.table('cards').bulkAdd(testData.cards);
            await mockDb.table('folders').bulkAdd(testData.folders);
            await mockDb.table('tags').bulkAdd(testData.tags);
        });
        (0, globals_1.test)('应该高效执行条件查询', async () => {
            const result = await test_utils_2.performanceTester.measure('conditional_query', () => mockDb.table('cards')
                .where('userId')
                .equals('test-user-id')
                .limit(100)
                .toArray());
            (0, globals_1.expect)(result.length).toBeGreaterThan(0);
            (0, globals_1.expect)(result.length).toBeLessThanOrEqual(100);
            const stats = test_utils_2.performanceTester.getStats('conditional_query');
            (0, globals_1.expect)(stats.avg).toBeLessThan(50);
        });
        (0, globals_1.test)('应该高效执行范围查询', async () => {
            const result = await test_utils_2.performanceTester.measure('range_query', () => mockDb.table('cards')
                .where('userId')
                .equals('test-user-id')
                .offset(100)
                .limit(100)
                .toArray());
            (0, globals_1.expect)(result.length).toBe(100);
            const stats = test_utils_2.performanceTester.getStats('range_query');
            (0, globals_1.expect)(stats.avg).toBeLessThan(30);
        });
        (0, globals_1.test)('应该高效执行排序查询', async () => {
            const result = await test_utils_2.performanceTester.measure('sort_query', () => mockDb.table('cards')
                .orderBy('createdAt')
                .reverse()
                .limit(50)
                .toArray());
            (0, globals_1.expect)(result.length).toBe(50);
            // 验证排序正确
            for (let i = 1; i < result.length; i++) {
                (0, globals_1.expect)(new Date(result[i - 1].createdAt).getTime())
                    .toBeGreaterThanOrEqual(new Date(result[i].createdAt).getTime());
            }
            const stats = test_utils_2.performanceTester.getStats('sort_query');
            (0, globals_1.expect)(stats.avg).toBeLessThan(100);
        });
        (0, globals_1.test)('应该高效执行过滤查询', async () => {
            const result = await test_utils_2.performanceTester.measure('filter_query', () => mockDb.table('cards')
                .filter(card => card.frontContent.title.includes('Card'))
                .limit(100)
                .toArray());
            (0, globals_1.expect)(result.length).toBeGreaterThan(0);
            const stats = test_utils_2.performanceTester.getStats('filter_query');
            (0, globals_1.expect)(stats.avg).toBeLessThan(100);
        });
        (0, globals_1.test)('应该高效执行聚合查询', async () => {
            const result = await test_utils_2.performanceTester.measure('aggregate_query', () => mockDb.table('cards')
                .where('userId')
                .equals('test-user-id')
                .count());
            (0, globals_1.expect)(result).toBeGreaterThan(0);
            const stats = test_utils_2.performanceTester.getStats('aggregate_query');
            (0, globals_1.expect)(stats.avg).toBeLessThan(20);
        });
    });
    // ============================================================================
    // 复杂查询测试
    // ============================================================================
    (0, globals_1.describe)('复杂查询', () => {
        (0, globals_1.beforeEach)(async () => {
            // 创建复杂的测试数据
            const complexData = Array.from({ length: 1000 }, (_, i) => ({
                ...test_utils_2.mockFactories.createMockCard(),
                frontContent: {
                    title: `Complex Card ${i + 1}`,
                    text: `Complex content with search terms: ${i % 100}`,
                    tags: [`tag-${i % 20}`, `category-${i % 10}`]
                },
                folderId: `folder-${i % 5}`,
                createdAt: new Date(Date.now() - i * 24 * 60 * 60 * 1000) // 分布在1000天内
            }));
            await mockDb.table('cards').bulkAdd(complexData);
        });
        (0, globals_1.test)('应该高效执行全文搜索', async () => {
            const searchTerm = 'search terms';
            const result = await test_utils_2.performanceTester.measure('full_text_search', () => mockDb.table('cards')
                .filter(card => {
                const searchText = `${card.frontContent.title} ${card.frontContent.text}`.toLowerCase();
                return searchText.includes(searchTerm);
            })
                .limit(50)
                .toArray());
            (0, globals_1.expect)(result.length).toBeGreaterThan(0);
            result.forEach(card => {
                const searchText = `${card.frontContent.title} ${card.frontContent.text}`.toLowerCase();
                (0, globals_1.expect)(searchText).toContain(searchTerm);
            });
            const stats = test_utils_2.performanceTester.getStats('full_text_search');
            (0, globals_1.expect)(stats.avg).toBeLessThan(200);
        });
        (0, globals_1.test)('应该高效执行多条件组合查询', async () => {
            const result = await test_utils_2.performanceTester.measure('complex_query', () => mockDb.table('cards')
                .where('userId')
                .equals('test-user-id')
                .filter(card => card.frontContent.tags.includes('tag-1') &&
                card.folderId === 'folder-0')
                .orderBy('createdAt')
                .reverse()
                .limit(20)
                .toArray());
            (0, globals_1.expect)(result.length).toBeLessThanOrEqual(20);
            const stats = test_utils_2.performanceTester.getStats('complex_query');
            (0, globals_1.expect)(stats.avg).toBeLessThan(100);
        });
        (0, globals_1.test)('应该高效执行分组统计查询', async () => {
            const cards = await mockDb.table('cards').toArray();
            const result = await test_utils_2.performanceTester.measure('group_by_query', () => {
                const grouped = cards.reduce((acc, card) => {
                    const folderId = card.folderId || 'unknown';
                    if (!acc[folderId]) {
                        acc[folderId] = { count: 0, total: 0 };
                    }
                    acc[folderId].count++;
                    acc[folderId].total++;
                    return acc;
                }, {});
                return Object.entries(grouped)
                    .map(([folderId, stats]) => ({ folderId, ...stats }))
                    .sort((a, b) => b.count - a.count);
            });
            (0, globals_1.expect)(result.length).toBeGreaterThan(0);
            (0, globals_1.expect)(result[0].count).toBeGreaterThan(0);
            const stats = test_utils_2.performanceTester.getStats('group_by_query');
            (0, globals_1.expect)(stats.avg).toBeLessThan(50);
        });
        (0, globals_1.test)('应该高效执行分页查询', async () => {
            const pageSize = 20;
            const totalCards = await mockDb.table('cards').count();
            const totalPages = Math.ceil(totalCards / pageSize);
            const results = [];
            // 测试所有分页
            for (let page = 0; page < Math.min(totalPages, 5); page++) {
                const pageResult = await mockDb.table('cards')
                    .orderBy('createdAt')
                    .reverse()
                    .offset(page * pageSize)
                    .limit(pageSize)
                    .toArray();
                results.push(pageResult);
            }
            // 验证分页正确性
            for (let i = 1; i < results.length; i++) {
                const prevPage = results[i - 1];
                const currPage = results[i];
                (0, globals_1.expect)(prevPage.length).toBe(pageSize);
                (0, globals_1.expect)(currPage.length).toBe(pageSize);
                // 验证没有重复记录
                const prevIds = prevPage.map(card => card.id);
                const currIds = currPage.map(card => card.id);
                const intersection = prevIds.filter(id => currIds.includes(id));
                (0, globals_1.expect)(intersection).toHaveLength(0);
            }
        });
    });
    // ============================================================================
    // 事务性能测试
    // ============================================================================
    (0, globals_1.describe)('事务性能', () => {
        (0, globals_1.test)('应该高效执行单个事务', async () => {
            const result = await test_utils_2.performanceTester.measure('single_transaction', () => mockDb.transaction('rw', ['cards', 'syncQueue'], async () => {
                const card = test_utils_2.mockFactories.createMockCard();
                const cardId = await mockDb.table('cards').add(card);
                await mockDb.table('syncQueue').add({
                    ...test_utils_2.mockFactories.createMockSyncOperation(),
                    entityId: cardId
                });
                return cardId;
            }));
            (0, globals_1.expect)(result).toBeValidUUID();
            const stats = test_utils_2.performanceTester.getStats('single_transaction');
            (0, globals_1.expect)(stats.avg).toBeLessThan(50);
        });
        (0, globals_1.test)('应该高效执行批量事务', async () => {
            const batchSize = 10;
            const result = await test_utils_2.performanceTester.measure('batch_transaction', () => mockDb.transaction('rw', ['cards', 'syncQueue'], async () => {
                const results = [];
                for (let i = 0; i < batchSize; i++) {
                    const card = test_utils_2.mockFactories.createMockCard({
                        frontContent: { title: `Batch Card ${i + 1}` }
                    });
                    const cardId = await mockDb.table('cards').add(card);
                    await mockDb.table('syncQueue').add({
                        ...test_utils_2.mockFactories.createMockSyncOperation(),
                        entityId: cardId
                    });
                    results.push(cardId);
                }
                return results;
            }));
            (0, globals_1.expect)(result).toHaveLength(batchSize);
            result.forEach(id => (0, globals_1.expect)(id).toBeValidUUID());
            const stats = test_utils_2.performanceTester.getStats('batch_transaction');
            (0, globals_1.expect)(stats.avg).toBeLessThan(200);
        });
        (0, globals_1.test)('应该正确处理事务回滚', async () => {
            const initialCount = await mockDb.table('cards').count();
            try {
                await mockDb.transaction('rw', ['cards'], async () => {
                    // 插入一些数据
                    await mockDb.table('cards').bulkAdd([
                        test_utils_2.mockFactories.createMockCard(),
                        test_utils_2.mockFactories.createMockCard()
                    ]);
                    // 模拟错误触发回滚
                    throw new Error('Transaction rollback test');
                });
            }
            catch (error) {
                // 期望的错误
            }
            // 验证事务回滚，数据没有被持久化
            const finalCount = await mockDb.table('cards').count();
            (0, globals_1.expect)(finalCount).toBe(initialCount);
        });
    });
    // ============================================================================
    // 并发性能测试
    // ============================================================================
    (0, globals_1.describe)('并发性能', () => {
        (0, globals_1.test)('应该高效处理并发读取', async () => {
            // 先准备数据
            const cards = Array.from({ length: 100 }, () => test_utils_2.mockFactories.createMockCard());
            await mockDb.table('cards').bulkAdd(cards);
            // 并发读取
            const readPromises = Array.from({ length: 50 }, () => mockDb.table('cards').toArray());
            const result = await test_utils_2.performanceTester.measure('concurrent_reads', () => Promise.all(readPromises));
            (0, globals_1.expect)(result).toHaveLength(50);
            result.forEach(cards => (0, globals_1.expect)(cards.length).toBe(100));
            const stats = test_utils_2.performanceTester.getStats('concurrent_reads');
            (0, globals_1.expect)(stats.avg).toBeLessThan(100);
        });
        (0, globals_1.test)('应该高效处理并发写入', async () => {
            const writePromises = Array.from({ length: 20 }, (_, i) => mockDb.table('cards').add(test_utils_2.mockFactories.createMockCard({
                frontContent: { title: `Concurrent Card ${i + 1}` }
            })));
            const result = await test_utils_2.performanceTester.measure('concurrent_writes', () => Promise.all(writePromises));
            (0, globals_1.expect)(result).toHaveLength(20);
            result.forEach(id => (0, globals_1.expect)(id).toBeValidUUID());
            const stats = test_utils_2.performanceTester.getStats('concurrent_writes');
            (0, globals_1.expect)(stats.avg).toBeLessThan(100);
        });
        (0, globals_1.test)('应该高效处理混合并发操作', async () => {
            // 先准备一些数据
            const initialCards = Array.from({ length: 50 }, () => test_utils_2.mockFactories.createMockCard());
            await mockDb.table('cards').bulkAdd(initialCards);
            const mixedPromises = [];
            // 读取操作
            for (let i = 0; i < 10; i++) {
                mixedPromises.push(mockDb.table('cards').toArray());
            }
            // 写入操作
            for (let i = 0; i < 10; i++) {
                mixedPromises.push(mockDb.table('cards').add(test_utils_2.mockFactories.createMockCard({
                    frontContent: { title: `Mixed Card ${i + 1}` }
                })));
            }
            // 更新操作
            const existingCards = await mockDb.table('cards').limit(5).toArray();
            for (let i = 0; i < 5; i++) {
                if (existingCards[i]) {
                    mixedPromises.push(mockDb.table('cards').update(existingCards[i].id, {
                        frontContent: { title: `Updated ${i + 1}` }
                    }));
                }
            }
            const result = await test_utils_2.performanceTester.measure('mixed_concurrent', () => Promise.all(mixedPromises));
            (0, globals_1.expect)(result.length).toBeGreaterThan(0);
            const stats = test_utils_2.performanceTester.getStats('mixed_concurrent');
            (0, globals_1.expect)(stats.avg).toBeLessThan(200);
        });
    });
    // ============================================================================
    // 内存使用测试
    // ============================================================================
    (0, globals_1.describe)('内存使用', () => {
        (0, globals_1.test)('应该监控内存使用情况', async () => {
            // 设置内存基线
            test_utils_2.memoryLeakDetector.setBaseline();
            // 执行大量操作
            const largeDataset = test_utils_2.testDataGenerator.generateLargeDataset(1000);
            await mockDb.table('cards').bulkAdd(largeDataset);
            // 获取内存增长
            const growth = test_utils_2.memoryLeakDetector.getMemoryGrowthSinceBaseline();
            console.log(`内存增长: ${growth.toFixed(2)}MB`);
            // 内存增长应该在合理范围内
            (0, globals_1.expect)(growth).toBeLessThan(100); // 100MB以内
        });
        (0, globals_1.test)('应该处理大数据集', async () => {
            // 插入大量数据
            const hugeDataset = test_utils_2.testDataGenerator.generateLargeDataset(5000);
            const result = await test_utils_2.performanceTester.measure('huge_dataset_insert', () => mockDb.table('cards').bulkAdd(hugeDataset));
            (0, globals_1.expect)(result).toHaveLength(5000);
            const stats = test_utils_2.performanceTester.getStats('huge_dataset_insert');
            console.log(`5000条记录插入性能: ${stats.avg.toFixed(2)}ms`);
            // 大数据集插入应该在合理时间内完成
            (0, globals_1.expect)(stats.avg).toBeLessThan(1000);
        });
        (0, globals_1.test)('应该优化大数据查询', async () => {
            // 准备大数据集
            const largeDataset = test_utils_2.testDataGenerator.generateLargeDataset(2000);
            await mockDb.table('cards').bulkAdd(largeDataset);
            // 测试分页查询性能
            const result = await test_utils_2.performanceTester.measure('large_dataset_paged_query', () => mockDb.table('cards')
                .orderBy('createdAt')
                .reverse()
                .offset(1000)
                .limit(100)
                .toArray());
            (0, globals_1.expect)(result).toHaveLength(100);
            const stats = test_utils_2.performanceTester.getStats('large_dataset_paged_query');
            console.log(`大数据分页查询性能: ${stats.avg.toFixed(2)}ms`);
            (0, globals_1.expect)(stats.avg).toBeLessThan(100);
        });
    });
    // ============================================================================
    // 稳定性测试
    // ============================================================================
    (0, globals_1.describe)('稳定性', () => {
        (0, globals_1.test)('应该在高负载下保持稳定', async () => {
            const iterations = 100;
            const errors = [];
            for (let i = 0; i < iterations; i++) {
                try {
                    // 随机操作
                    const operation = Math.floor(Math.random() * 4);
                    switch (operation) {
                        case 0: // 插入
                            await mockDb.table('cards').add(test_utils_2.mockFactories.createMockCard({
                                frontContent: { title: `Stability Test ${i}` }
                            }));
                            break;
                        case 1: // 读取
                            await mockDb.table('cards').limit(10).toArray();
                            break;
                        case 2: // 更新
                            const cards = await mockDb.table('cards').limit(1).toArray();
                            if (cards.length > 0) {
                                await mockDb.table('cards').update(cards[0].id, {
                                    frontContent: { title: `Updated ${i}` }
                                });
                            }
                            break;
                        case 3: // 删除
                            const oldCards = await mockDb.table('cards').limit(1).toArray();
                            if (oldCards.length > 0) {
                                await mockDb.table('cards').delete(oldCards[0].id);
                            }
                            break;
                    }
                }
                catch (error) {
                    errors.push(error);
                }
            }
            console.log(`稳定性测试完成，错误数: ${errors.length}`);
            (0, globals_1.expect)(errors.length).toBeLessThan(iterations * 0.05); // 错误率小于5%
        });
        (0, globals_1.test)('应该在长时间运行中保持稳定', async () => {
            const duration = 5000; // 5秒
            const startTime = Date.now();
            let operationCount = 0;
            let errors = 0;
            while (Date.now() - startTime < duration) {
                try {
                    await mockDb.table('cards').add(test_utils_2.mockFactories.createMockCard({
                        frontContent: { title: `Long Run ${operationCount}` }
                    }));
                    operationCount++;
                }
                catch (error) {
                    errors++;
                }
            }
            console.log(`长时间运行测试完成: ${operationCount}次操作，${errors}次错误`);
            (0, globals_1.expect)(operationCount).toBeGreaterThan(100); // 至少100次操作
            (0, globals_1.expect)(errors).toBeLessThan(operationCount * 0.01); // 错误率小于1%
        });
        (0, globals_1.test)('应该正确处理异常情况', async () => {
            // 测试无效操作
            await (0, globals_1.expect)(mockDb.table('cards').get('invalid-id')).resolves.not.toThrow();
            await (0, globals_1.expect)(mockDb.table('cards').update('invalid-id', {})).resolves.not.toThrow();
            await (0, globals_1.expect)(mockDb.table('cards').delete('invalid-id')).resolves.not.toThrow();
            // 测试边界情况
            await (0, globals_1.expect)(mockDb.table('cards').limit(0).toArray()).resolves.not.toThrow();
            await (0, globals_1.expect)(mockDb.table('cards').offset(-1).toArray()).resolves.not.toThrow();
        });
    });
    // ============================================================================
    // 性能基准测试
    // ============================================================================
    (0, globals_1.describe)('性能基准', () => {
        (0, globals_1.test)('应该满足性能基准要求', async () => {
            // 执行各种基准测试
            const benchmarks = await Promise.all([
                test_utils_2.performanceTester.measure('benchmark_insert', () => mockDb.table('cards').add(test_utils_2.mockFactories.createMockCard())),
                test_utils_2.performanceTester.measure('benchmark_read', async () => {
                    const card = test_utils_2.mockFactories.createMockCard();
                    const cardId = await mockDb.table('cards').add(card);
                    return mockDb.table('cards').get(cardId);
                }),
                test_utils_2.performanceTester.measure('benchmark_update', async () => {
                    const card = test_utils_2.mockFactories.createMockCard();
                    const cardId = await mockDb.table('cards').add(card);
                    return mockDb.table('cards').update(cardId, { frontContent: { title: 'Updated' } });
                }),
                test_utils_2.performanceTester.measure('benchmark_delete', async () => {
                    const card = test_utils_2.mockFactories.createMockCard();
                    const cardId = await mockDb.table('cards').add(card);
                    return mockDb.table('cards').delete(cardId);
                })
            ]);
            // 验证所有基准测试都满足要求
            const stats = test_utils_2.performanceTester.getAllStats();
            Object.entries(stats).forEach(([operation, stat]) => {
                (0, globals_1.expect)(stat.avg).toBeLessThan(100); // 平均响应时间小于100ms
                (0, globals_1.expect)(stat.max).toBeLessThan(500); // 最大响应时间小于500ms
                (0, globals_1.expect)(stat.p95).toBeLessThan(200); // 95分位数小于200ms
            });
            console.log('数据库性能基准测试结果:', stats);
        });
        (0, globals_1.test)('应该生成性能报告', () => {
            const allStats = test_utils_2.performanceTester.getAllStats();
            (0, globals_1.expect)(allStats).toBeDefined();
            (0, globals_1.expect)(typeof allStats).toBe('object');
            // 验证报告结构
            Object.values(allStats).forEach(stat => {
                (0, globals_1.expect)(stat).toHaveProperty('count');
                (0, globals_1.expect)(stat).toHaveProperty('avg');
                (0, globals_1.expect)(stat).toHaveProperty('min');
                (0, globals_1.expect)(stat).toHaveProperty('max');
                (0, globals_1.expect)(stat).toHaveProperty('median');
                (0, globals_1.expect)(stat).toHaveProperty('p95');
                (0, globals_1.expect)(stat).toHaveProperty('p99');
            });
            console.log('数据库性能报告生成完成');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHNyY1xcX190ZXN0c19fXFxwZXJmb3JtYW5jZVxcZGF0YWJhc2UtcGVyZm9ybWFuY2UudGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7OztHQUdHOztBQUVILDJDQUFtRjtBQUluRixVQUFVO0FBQ1YsY0FBSSxDQUFDLElBQUksQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ2xELEVBQUUsRUFBRSxJQUFJLHlCQUFZLEVBQUU7Q0FDdkIsQ0FBQyxDQUFDLENBQUE7QUFOSCxvREFBa0Q7QUFDbEQsb0RBQTZHO0FBTzdHLElBQUEsa0JBQVEsRUFBQyxXQUFXLEVBQUUsR0FBRyxFQUFFO0lBQ3pCLElBQUksTUFBb0IsQ0FBQTtJQUV4QixJQUFBLG9CQUFVLEVBQUMsR0FBRyxFQUFFO1FBQ2QsTUFBTSxHQUFHLElBQUkseUJBQVksRUFBRSxDQUFBO1FBQzNCLDhCQUFpQixDQUFDLEtBQUssRUFBRSxDQUFBO1FBQ3pCLCtCQUFrQixDQUFDLGNBQWMsRUFBRSxDQUFBO1FBQ25DLGNBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQTtJQUN0QixDQUFDLENBQUMsQ0FBQTtJQUVGLElBQUEsbUJBQVMsRUFBQyxHQUFHLEVBQUU7UUFDYixNQUFNLENBQUMsS0FBSyxFQUFFLENBQUE7SUFDaEIsQ0FBQyxDQUFDLENBQUE7SUFFRiwrRUFBK0U7SUFDL0UsV0FBVztJQUNYLCtFQUErRTtJQUUvRSxJQUFBLGtCQUFRLEVBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtRQUN0QixJQUFBLGNBQUksRUFBQyxZQUFZLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDNUIsTUFBTSxJQUFJLEdBQUcsMEJBQWEsQ0FBQyxjQUFjLEVBQUUsQ0FBQTtZQUUzQyxNQUFNLE1BQU0sR0FBRyxNQUFNLDhCQUFpQixDQUFDLE9BQU8sQ0FBQyxlQUFlLEVBQUUsR0FBRyxFQUFFLENBQ25FLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FB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LFFBQVEsQ0FBQyxDQUFBO1lBRXRDLFNBQVM7WUFDVCxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDckMsSUFBQSxnQkFBTSxFQUFDLElBQUksQ0FBQyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQTtnQkFDcEMsSUFBQSxnQkFBTSxFQUFDLElBQUksQ0FBQyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtnQkFDbEMsSUFBQSxnQkFBTSxFQUFDLElBQUksQ0FBQyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtnQkFDbEMsSUFBQSxnQkFBTSxFQUFDLElBQUksQ0FBQyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtnQkFDbEMsSUFBQSxnQkFBTSxFQUFDLElBQUksQ0FBQyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQTtnQkFDckMsSUFBQSxnQkFBTSxFQUFDLElBQUksQ0FBQyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtnQkFDbEMsSUFBQSxnQkFBTSxFQUFDLElBQUksQ0FBQyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtZQUNwQyxDQUFDLENBQUMsQ0FBQTtZQUVGLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUE7UUFDNUIsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtBQUNKLENBQUMsQ0FBQyxDQUFBIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkQ6XFxQcm9qZWN0c1xcQ2FyZEV2ZXJ5dGhpbmdcXGNhcmRhbGwtcHJvdG90eXBlXFxzcmNcXF9fdGVzdHNfX1xccGVyZm9ybWFuY2VcXGRhdGFiYXNlLXBlcmZvcm1hbmNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOaVsOaNruW6k+afpeivouaAp+iDvea1i+ivlVxyXG4gKiDmtYvor5XmlbDmja7lupPmk43kvZznmoTmgKfog73jgIHkvJjljJblkoznqLPlrprmgKdcclxuICovXHJcblxyXG5pbXBvcnQgeyBkZXNjcmliZSwgdGVzdCwgZXhwZWN0LCBqZXN0LCBiZWZvcmVFYWNoLCBhZnRlckVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJ1xyXG5pbXBvcnQgeyBNb2NrRGF0YWJhc2UgfSBmcm9tICcuLi91dGlscy90ZXN0LXV0aWxzJ1xyXG5pbXBvcnQgeyBwZXJmb3JtYW5jZVRlc3RlciwgbWVtb3J5TGVha0RldGVjdG9yLCBtb2NrRmFjdG9yaWVzLCB0ZXN0RGF0YUdlbmVyYXRvciB9IGZyb20gJy4uL3V0aWxzL3Rlc3QtdXRpbHMnXHJcblxyXG4vLyDmqKHmi5/mlbDmja7lupPkvp3otZZcclxuamVzdC5tb2NrKCcuLi8uLi9zZXJ2aWNlcy9kYXRhYmFzZS11bmlmaWVkJywgKCkgPT4gKHtcclxuICBkYjogbmV3IE1vY2tEYXRhYmFzZSgpXHJcbn0pKVxyXG5cclxuZGVzY3JpYmUoJ+aVsOaNruW6k+afpeivouaAp+iDvea1i+ivlScsICgpID0+IHtcclxuICBsZXQgbW9ja0RiOiBNb2NrRGF0YWJhc2VcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBtb2NrRGIgPSBuZXcgTW9ja0RhdGFiYXNlKClcclxuICAgIHBlcmZvcm1hbmNlVGVzdGVyLnJlc2V0KClcclxuICAgIG1lbW9yeUxlYWtEZXRlY3Rvci5jbGVhclNuYXBzaG90cygpXHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxyXG4gIH0pXHJcblxyXG4gIGFmdGVyRWFjaCgoKSA9PiB7XHJcbiAgICBtb2NrRGIuY2xlYXIoKVxyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDln7rnoYDmn6Xor6LmgKfog73mtYvor5VcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCfln7rnoYDmn6Xor6LmgKfog70nLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6Xlv6vpgJ/mj5LlhaXljZXkuKrorrDlvZUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmQgPSBtb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKClcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ3NpbmdsZV9pbnNlcnQnLCAoKSA9PlxyXG4gICAgICAgIG1vY2tEYi50YWJsZSgnY2FyZHMnKS5hZGQoY2FyZClcclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZVZhbGlkVVVJRCgpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdzaW5nbGVfaW5zZXJ0JylcclxuICAgICAgZXhwZWN0KHN0YXRzIS5hdmcpLnRvQmVMZXNzVGhhbigxMCkgLy8gMTBtc+WGheWujOaIkFxyXG4gICAgICBleHBlY3Qoc3RhdHMhLm1heCkudG9CZUxlc3NUaGFuKDUwKSAvLyDmnIDlpKfkuI3otoXov4c1MG1zXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeW/q+mAn+ivu+WPluWNleS4quiusOW9lScsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g5YWI5o+S5YWl5pWw5o2uXHJcbiAgICAgIGNvbnN0IGNhcmQgPSBtb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKClcclxuICAgICAgY29uc3QgY2FyZElkID0gYXdhaXQgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmFkZChjYXJkKVxyXG5cclxuICAgICAgLy8g5rWL6K+V6K+75Y+W5oCn6IO9XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ3NpbmdsZV9yZWFkJywgKCkgPT5cclxuICAgICAgICBtb2NrRGIudGFibGUoJ2NhcmRzJykuZ2V0KGNhcmRJZClcclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKVxyXG4gICAgICBleHBlY3QocmVzdWx0IS5pZCkudG9CZShjYXJkSWQpXHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdzaW5nbGVfcmVhZCcpXHJcbiAgICAgIGV4cGVjdChzdGF0cyEuYXZnKS50b0JlTGVzc1RoYW4oNSkgLy8gNW1z5YaF5a6M5oiQXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeW/q+mAn+abtOaWsOiusOW9lScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY2FyZCA9IG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKVxyXG4gICAgICBjb25zdCBjYXJkSWQgPSBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykuYWRkKGNhcmQpXHJcblxyXG4gICAgICBjb25zdCB1cGRhdGVzID0geyBmcm9udENvbnRlbnQ6IHsgdGl0bGU6ICdVcGRhdGVkIFRpdGxlJyB9IH1cclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ3NpbmdsZV91cGRhdGUnLCAoKSA9PlxyXG4gICAgICAgIG1vY2tEYi50YWJsZSgnY2FyZHMnKS51cGRhdGUoY2FyZElkLCB1cGRhdGVzKVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKDEpXHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdzaW5nbGVfdXBkYXRlJylcclxuICAgICAgZXhwZWN0KHN0YXRzIS5hdmcpLnRvQmVMZXNzVGhhbigxMClcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l5b+r6YCf5Yig6Zmk6K6w5b2VJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkID0gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpXHJcbiAgICAgIGNvbnN0IGNhcmRJZCA9IGF3YWl0IG1vY2tEYi50YWJsZSgnY2FyZHMnKS5hZGQoY2FyZClcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ3NpbmdsZV9kZWxldGUnLCAoKSA9PlxyXG4gICAgICAgIG1vY2tEYi50YWJsZSgnY2FyZHMnKS5kZWxldGUoY2FyZElkKVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKDEpXHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdzaW5nbGVfZGVsZXRlJylcclxuICAgICAgZXhwZWN0KHN0YXRzIS5hdmcpLnRvQmVMZXNzVGhhbig1KVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8g5om56YeP5pON5L2c5oCn6IO95rWL6K+VXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBkZXNjcmliZSgn5om56YeP5pON5L2c5oCn6IO9JywgKCkgPT4ge1xyXG4gICAgdGVzdCgn5bqU6K+l6auY5pWI5om56YeP5o+S5YWlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBiYXRjaFNpemUgPSAxMDBcclxuICAgICAgY29uc3QgY2FyZHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBiYXRjaFNpemUgfSwgKCkgPT4gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpKVxyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybWFuY2VUZXN0ZXIubWVhc3VyZSgnYnVsa19pbnNlcnRfMTAwJywgKCkgPT5cclxuICAgICAgICBtb2NrRGIudGFibGUoJ2NhcmRzJykuYnVsa0FkZChjYXJkcylcclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlTGVuZ3RoKGJhdGNoU2l6ZSlcclxuICAgICAgcmVzdWx0LmZvckVhY2goaWQgPT4gZXhwZWN0KGlkKS50b0JlVmFsaWRVVUlEKCkpXHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdidWxrX2luc2VydF8xMDAnKVxyXG4gICAgICBleHBlY3Qoc3RhdHMhLmF2ZykudG9CZUxlc3NUaGFuKDEwMCkgLy8gMTAwbXPlhoXlrozmiJAxMDDmnaHorrDlvZVcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l6auY5pWI5om56YeP6K+75Y+WJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBiYXRjaFNpemUgPSAxMDAwXHJcbiAgICAgIGNvbnN0IGNhcmRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogYmF0Y2hTaXplIH0sICgpID0+IG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKSlcclxuICAgICAgYXdhaXQgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmJ1bGtBZGQoY2FyZHMpXHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtYW5jZVRlc3Rlci5tZWFzdXJlKCdidWxrX3JlYWRfMTAwMCcsICgpID0+XHJcbiAgICAgICAgbW9ja0RiLnRhYmxlKCdjYXJkcycpLnRvQXJyYXkoKVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoYmF0Y2hTaXplKVxyXG5cclxuICAgICAgY29uc3Qgc3RhdHMgPSBwZXJmb3JtYW5jZVRlc3Rlci5nZXRTdGF0cygnYnVsa19yZWFkXzEwMDAnKVxyXG4gICAgICBleHBlY3Qoc3RhdHMhLmF2ZykudG9CZUxlc3NUaGFuKDIwMCkgLy8gMjAwbXPlhoXor7vlj5YxMDAw5p2h6K6w5b2VXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpemrmOaViOaJuemHj+abtOaWsCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgYmF0Y2hTaXplID0gNTBcclxuICAgICAgY29uc3QgY2FyZHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBiYXRjaFNpemUgfSwgKCkgPT4gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpKVxyXG4gICAgICBjb25zdCBjYXJkSWRzID0gYXdhaXQgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmJ1bGtBZGQoY2FyZHMpXHJcblxyXG4gICAgICBjb25zdCB1cGRhdGVQcm9taXNlcyA9IGNhcmRJZHMubWFwKChpZCwgaW5kZXgpID0+XHJcbiAgICAgICAgbW9ja0RiLnRhYmxlKCdjYXJkcycpLnVwZGF0ZShpZCwgeyBmcm9udENvbnRlbnQ6IHsgdGl0bGU6IGBVcGRhdGVkICR7aW5kZXh9YCB9IH0pXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ2J1bGtfdXBkYXRlXzUwJywgKCkgPT5cclxuICAgICAgICBQcm9taXNlLmFsbCh1cGRhdGVQcm9taXNlcylcclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlTGVuZ3RoKGJhdGNoU2l6ZSlcclxuICAgICAgZXhwZWN0KHJlc3VsdC5ldmVyeShjb3VudCA9PiBjb3VudCA9PT0gMSkpLnRvQmUodHJ1ZSlcclxuXHJcbiAgICAgIGNvbnN0IHN0YXRzID0gcGVyZm9ybWFuY2VUZXN0ZXIuZ2V0U3RhdHMoJ2J1bGtfdXBkYXRlXzUwJylcclxuICAgICAgZXhwZWN0KHN0YXRzIS5hdmcpLnRvQmVMZXNzVGhhbigxMDApXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpemrmOaViOaJuemHj+WIoOmZpCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgYmF0Y2hTaXplID0gNTBcclxuICAgICAgY29uc3QgY2FyZHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBiYXRjaFNpemUgfSwgKCkgPT4gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpKVxyXG4gICAgICBjb25zdCBjYXJkSWRzID0gYXdhaXQgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmJ1bGtBZGQoY2FyZHMpXHJcblxyXG4gICAgICBjb25zdCBkZWxldGVQcm9taXNlcyA9IGNhcmRJZHMubWFwKGlkID0+XHJcbiAgICAgICAgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmRlbGV0ZShpZClcclxuICAgICAgKVxyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybWFuY2VUZXN0ZXIubWVhc3VyZSgnYnVsa19kZWxldGVfNTAnLCAoKSA9PlxyXG4gICAgICAgIFByb21pc2UuYWxsKGRlbGV0ZVByb21pc2VzKVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoYmF0Y2hTaXplKVxyXG4gICAgICBleHBlY3QocmVzdWx0LmV2ZXJ5KGNvdW50ID0+IGNvdW50ID09PSAxKSkudG9CZSh0cnVlKVxyXG5cclxuICAgICAgY29uc3Qgc3RhdHMgPSBwZXJmb3JtYW5jZVRlc3Rlci5nZXRTdGF0cygnYnVsa19kZWxldGVfNTAnKVxyXG4gICAgICBleHBlY3Qoc3RhdHMhLmF2ZykudG9CZUxlc3NUaGFuKDUwKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8g5p+l6K+i5LyY5YyW5rWL6K+VXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBkZXNjcmliZSgn5p+l6K+i5LyY5YyWJywgKCkgPT4ge1xyXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOWIm+W7uua1i+ivleaVsOaNrumbhlxyXG4gICAgICBjb25zdCB0ZXN0RGF0YSA9IHRlc3REYXRhR2VuZXJhdG9yLmdlbmVyYXRlVGVzdERhdGEoe1xyXG4gICAgICAgIGNhcmRDb3VudDogNTAwLFxyXG4gICAgICAgIGZvbGRlckNvdW50OiAxMCxcclxuICAgICAgICB0YWdDb3VudDogMjBcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGF3YWl0IG1vY2tEYi50YWJsZSgnY2FyZHMnKS5idWxrQWRkKHRlc3REYXRhLmNhcmRzKVxyXG4gICAgICBhd2FpdCBtb2NrRGIudGFibGUoJ2ZvbGRlcnMnKS5idWxrQWRkKHRlc3REYXRhLmZvbGRlcnMpXHJcbiAgICAgIGF3YWl0IG1vY2tEYi50YWJsZSgndGFncycpLmJ1bGtBZGQodGVzdERhdGEudGFncylcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l6auY5pWI5omn6KGM5p2h5Lu25p+l6K+iJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtYW5jZVRlc3Rlci5tZWFzdXJlKCdjb25kaXRpb25hbF9xdWVyeScsICgpID0+XHJcbiAgICAgICAgbW9ja0RiLnRhYmxlKCdjYXJkcycpXHJcbiAgICAgICAgICAud2hlcmUoJ3VzZXJJZCcpXHJcbiAgICAgICAgICAuZXF1YWxzKCd0ZXN0LXVzZXItaWQnKVxyXG4gICAgICAgICAgLmxpbWl0KDEwMClcclxuICAgICAgICAgIC50b0FycmF5KClcclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxyXG4gICAgICBleHBlY3QocmVzdWx0Lmxlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApXHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdjb25kaXRpb25hbF9xdWVyeScpXHJcbiAgICAgIGV4cGVjdChzdGF0cyEuYXZnKS50b0JlTGVzc1RoYW4oNTApXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpemrmOaViOaJp+ihjOiMg+WbtOafpeivoicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybWFuY2VUZXN0ZXIubWVhc3VyZSgncmFuZ2VfcXVlcnknLCAoKSA9PlxyXG4gICAgICAgIG1vY2tEYi50YWJsZSgnY2FyZHMnKVxyXG4gICAgICAgICAgLndoZXJlKCd1c2VySWQnKVxyXG4gICAgICAgICAgLmVxdWFscygndGVzdC11c2VyLWlkJylcclxuICAgICAgICAgIC5vZmZzZXQoMTAwKVxyXG4gICAgICAgICAgLmxpbWl0KDEwMClcclxuICAgICAgICAgIC50b0FycmF5KClcclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5sZW5ndGgpLnRvQmUoMTAwKVxyXG5cclxuICAgICAgY29uc3Qgc3RhdHMgPSBwZXJmb3JtYW5jZVRlc3Rlci5nZXRTdGF0cygncmFuZ2VfcXVlcnknKVxyXG4gICAgICBleHBlY3Qoc3RhdHMhLmF2ZykudG9CZUxlc3NUaGFuKDMwKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6Xpq5jmlYjmiafooYzmjpLluo/mn6Xor6InLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ3NvcnRfcXVlcnknLCAoKSA9PlxyXG4gICAgICAgIG1vY2tEYi50YWJsZSgnY2FyZHMnKVxyXG4gICAgICAgICAgLm9yZGVyQnkoJ2NyZWF0ZWRBdCcpXHJcbiAgICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgICAubGltaXQoNTApXHJcbiAgICAgICAgICAudG9BcnJheSgpXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQubGVuZ3RoKS50b0JlKDUwKVxyXG5cclxuICAgICAgLy8g6aqM6K+B5o6S5bqP5q2j56GuXHJcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZXhwZWN0KG5ldyBEYXRlKHJlc3VsdFtpLTFdLmNyZWF0ZWRBdCkuZ2V0VGltZSgpKVxyXG4gICAgICAgICAgLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwobmV3IERhdGUocmVzdWx0W2ldLmNyZWF0ZWRBdCkuZ2V0VGltZSgpKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdzb3J0X3F1ZXJ5JylcclxuICAgICAgZXhwZWN0KHN0YXRzIS5hdmcpLnRvQmVMZXNzVGhhbigxMDApXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpemrmOaViOaJp+ihjOi/h+a7pOafpeivoicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybWFuY2VUZXN0ZXIubWVhc3VyZSgnZmlsdGVyX3F1ZXJ5JywgKCkgPT5cclxuICAgICAgICBtb2NrRGIudGFibGUoJ2NhcmRzJylcclxuICAgICAgICAgIC5maWx0ZXIoY2FyZCA9PiBcclxuICAgICAgICAgICAgY2FyZC5mcm9udENvbnRlbnQudGl0bGUuaW5jbHVkZXMoJ0NhcmQnKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgLmxpbWl0KDEwMClcclxuICAgICAgICAgIC50b0FycmF5KClcclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxyXG5cclxuICAgICAgY29uc3Qgc3RhdHMgPSBwZXJmb3JtYW5jZVRlc3Rlci5nZXRTdGF0cygnZmlsdGVyX3F1ZXJ5JylcclxuICAgICAgZXhwZWN0KHN0YXRzIS5hdmcpLnRvQmVMZXNzVGhhbigxMDApXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpemrmOaViOaJp+ihjOiBmuWQiOafpeivoicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybWFuY2VUZXN0ZXIubWVhc3VyZSgnYWdncmVnYXRlX3F1ZXJ5JywgKCkgPT5cclxuICAgICAgICBtb2NrRGIudGFibGUoJ2NhcmRzJylcclxuICAgICAgICAgIC53aGVyZSgndXNlcklkJylcclxuICAgICAgICAgIC5lcXVhbHMoJ3Rlc3QtdXNlci1pZCcpXHJcbiAgICAgICAgICAuY291bnQoKVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlR3JlYXRlclRoYW4oMClcclxuXHJcbiAgICAgIGNvbnN0IHN0YXRzID0gcGVyZm9ybWFuY2VUZXN0ZXIuZ2V0U3RhdHMoJ2FnZ3JlZ2F0ZV9xdWVyeScpXHJcbiAgICAgIGV4cGVjdChzdGF0cyEuYXZnKS50b0JlTGVzc1RoYW4oMjApXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDlpI3mnYLmn6Xor6LmtYvor5VcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCflpI3mnYLmn6Xor6InLCAoKSA9PiB7XHJcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g5Yib5bu65aSN5p2C55qE5rWL6K+V5pWw5o2uXHJcbiAgICAgIGNvbnN0IGNvbXBsZXhEYXRhID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwMCB9LCAoXywgaSkgPT4gKHtcclxuICAgICAgICAuLi5tb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKCksXHJcbiAgICAgICAgZnJvbnRDb250ZW50OiB7XHJcbiAgICAgICAgICB0aXRsZTogYENvbXBsZXggQ2FyZCAke2kgKyAxfWAsXHJcbiAgICAgICAgICB0ZXh0OiBgQ29tcGxleCBjb250ZW50IHdpdGggc2VhcmNoIHRlcm1zOiAke2kgJSAxMDB9YCxcclxuICAgICAgICAgIHRhZ3M6IFtgdGFnLSR7aSAlIDIwfWAsIGBjYXRlZ29yeS0ke2kgJSAxMH1gXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9sZGVySWQ6IGBmb2xkZXItJHtpICUgNX1gLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIGkgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyDliIbluIPlnKgxMDAw5aSp5YaFXHJcbiAgICAgIH0pKVxyXG5cclxuICAgICAgYXdhaXQgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmJ1bGtBZGQoY29tcGxleERhdGEpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpemrmOaViOaJp+ihjOWFqOaWh+aQnOe0oicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc2VhcmNoVGVybSA9ICdzZWFyY2ggdGVybXMnXHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtYW5jZVRlc3Rlci5tZWFzdXJlKCdmdWxsX3RleHRfc2VhcmNoJywgKCkgPT5cclxuICAgICAgICBtb2NrRGIudGFibGUoJ2NhcmRzJylcclxuICAgICAgICAgIC5maWx0ZXIoY2FyZCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFRleHQgPSBgJHtjYXJkLmZyb250Q29udGVudC50aXRsZX0gJHtjYXJkLmZyb250Q29udGVudC50ZXh0fWAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICByZXR1cm4gc2VhcmNoVGV4dC5pbmNsdWRlcyhzZWFyY2hUZXJtKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5saW1pdCg1MClcclxuICAgICAgICAgIC50b0FycmF5KClcclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxyXG4gICAgICByZXN1bHQuZm9yRWFjaChjYXJkID0+IHtcclxuICAgICAgICBjb25zdCBzZWFyY2hUZXh0ID0gYCR7Y2FyZC5mcm9udENvbnRlbnQudGl0bGV9ICR7Y2FyZC5mcm9udENvbnRlbnQudGV4dH1gLnRvTG93ZXJDYXNlKClcclxuICAgICAgICBleHBlY3Qoc2VhcmNoVGV4dCkudG9Db250YWluKHNlYXJjaFRlcm0pXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdmdWxsX3RleHRfc2VhcmNoJylcclxuICAgICAgZXhwZWN0KHN0YXRzIS5hdmcpLnRvQmVMZXNzVGhhbigyMDApXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpemrmOaViOaJp+ihjOWkmuadoeS7tue7hOWQiOafpeivoicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybWFuY2VUZXN0ZXIubWVhc3VyZSgnY29tcGxleF9xdWVyeScsICgpID0+XHJcbiAgICAgICAgbW9ja0RiLnRhYmxlKCdjYXJkcycpXHJcbiAgICAgICAgICAud2hlcmUoJ3VzZXJJZCcpXHJcbiAgICAgICAgICAuZXF1YWxzKCd0ZXN0LXVzZXItaWQnKVxyXG4gICAgICAgICAgLmZpbHRlcihjYXJkID0+IFxyXG4gICAgICAgICAgICBjYXJkLmZyb250Q29udGVudC50YWdzLmluY2x1ZGVzKCd0YWctMScpICYmXHJcbiAgICAgICAgICAgIGNhcmQuZm9sZGVySWQgPT09ICdmb2xkZXItMCdcclxuICAgICAgICAgIClcclxuICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnKVxyXG4gICAgICAgICAgLnJldmVyc2UoKVxyXG4gICAgICAgICAgLmxpbWl0KDIwKVxyXG4gICAgICAgICAgLnRvQXJyYXkoKVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0Lmxlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbCgyMClcclxuXHJcbiAgICAgIGNvbnN0IHN0YXRzID0gcGVyZm9ybWFuY2VUZXN0ZXIuZ2V0U3RhdHMoJ2NvbXBsZXhfcXVlcnknKVxyXG4gICAgICBleHBlY3Qoc3RhdHMhLmF2ZykudG9CZUxlc3NUaGFuKDEwMClcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l6auY5pWI5omn6KGM5YiG57uE57uf6K6h5p+l6K+iJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkcyA9IGF3YWl0IG1vY2tEYi50YWJsZSgnY2FyZHMnKS50b0FycmF5KClcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ2dyb3VwX2J5X3F1ZXJ5JywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwZWQgPSBjYXJkcy5yZWR1Y2UoKGFjYywgY2FyZCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZm9sZGVySWQgPSBjYXJkLmZvbGRlcklkIHx8ICd1bmtub3duJ1xyXG4gICAgICAgICAgaWYgKCFhY2NbZm9sZGVySWRdKSB7XHJcbiAgICAgICAgICAgIGFjY1tmb2xkZXJJZF0gPSB7IGNvdW50OiAwLCB0b3RhbDogMCB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBhY2NbZm9sZGVySWRdLmNvdW50KytcclxuICAgICAgICAgIGFjY1tmb2xkZXJJZF0udG90YWwrK1xyXG4gICAgICAgICAgcmV0dXJuIGFjY1xyXG4gICAgICAgIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIHsgY291bnQ6IG51bWJlcjsgdG90YWw6IG51bWJlciB9PilcclxuXHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGdyb3VwZWQpXHJcbiAgICAgICAgICAubWFwKChbZm9sZGVySWQsIHN0YXRzXSkgPT4gKHsgZm9sZGVySWQsIC4uLnN0YXRzIH0pKVxyXG4gICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY291bnQgLSBhLmNvdW50KVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxyXG4gICAgICBleHBlY3QocmVzdWx0WzBdLmNvdW50KS50b0JlR3JlYXRlclRoYW4oMClcclxuXHJcbiAgICAgIGNvbnN0IHN0YXRzID0gcGVyZm9ybWFuY2VUZXN0ZXIuZ2V0U3RhdHMoJ2dyb3VwX2J5X3F1ZXJ5JylcclxuICAgICAgZXhwZWN0KHN0YXRzIS5hdmcpLnRvQmVMZXNzVGhhbig1MClcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l6auY5pWI5omn6KGM5YiG6aG15p+l6K+iJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwYWdlU2l6ZSA9IDIwXHJcbiAgICAgIGNvbnN0IHRvdGFsQ2FyZHMgPSBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykuY291bnQoKVxyXG5cclxuICAgICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbENhcmRzIC8gcGFnZVNpemUpXHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXVxyXG5cclxuICAgICAgLy8g5rWL6K+V5omA5pyJ5YiG6aG1XHJcbiAgICAgIGZvciAobGV0IHBhZ2UgPSAwOyBwYWdlIDwgTWF0aC5taW4odG90YWxQYWdlcywgNSk7IHBhZ2UrKykge1xyXG4gICAgICAgIGNvbnN0IHBhZ2VSZXN1bHQgPSBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJylcclxuICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnKVxyXG4gICAgICAgICAgLnJldmVyc2UoKVxyXG4gICAgICAgICAgLm9mZnNldChwYWdlICogcGFnZVNpemUpXHJcbiAgICAgICAgICAubGltaXQocGFnZVNpemUpXHJcbiAgICAgICAgICAudG9BcnJheSgpXHJcblxyXG4gICAgICAgIHJlc3VsdHMucHVzaChwYWdlUmVzdWx0KVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDpqozor4HliIbpobXmraPnoa7mgKdcclxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCByZXN1bHRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgcHJldlBhZ2UgPSByZXN1bHRzW2kgLSAxXVxyXG4gICAgICAgIGNvbnN0IGN1cnJQYWdlID0gcmVzdWx0c1tpXVxyXG4gICAgICAgIFxyXG4gICAgICAgIGV4cGVjdChwcmV2UGFnZS5sZW5ndGgpLnRvQmUocGFnZVNpemUpXHJcbiAgICAgICAgZXhwZWN0KGN1cnJQYWdlLmxlbmd0aCkudG9CZShwYWdlU2l6ZSlcclxuICAgICAgICBcclxuICAgICAgICAvLyDpqozor4HmsqHmnInph43lpI3orrDlvZVcclxuICAgICAgICBjb25zdCBwcmV2SWRzID0gcHJldlBhZ2UubWFwKGNhcmQgPT4gY2FyZC5pZClcclxuICAgICAgICBjb25zdCBjdXJySWRzID0gY3VyclBhZ2UubWFwKGNhcmQgPT4gY2FyZC5pZClcclxuICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBwcmV2SWRzLmZpbHRlcihpZCA9PiBjdXJySWRzLmluY2x1ZGVzKGlkKSlcclxuICAgICAgICBleHBlY3QoaW50ZXJzZWN0aW9uKS50b0hhdmVMZW5ndGgoMClcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8g5LqL5Yqh5oCn6IO95rWL6K+VXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBkZXNjcmliZSgn5LqL5Yqh5oCn6IO9JywgKCkgPT4ge1xyXG4gICAgdGVzdCgn5bqU6K+l6auY5pWI5omn6KGM5Y2V5Liq5LqL5YqhJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtYW5jZVRlc3Rlci5tZWFzdXJlKCdzaW5nbGVfdHJhbnNhY3Rpb24nLCAoKSA9PlxyXG4gICAgICAgIG1vY2tEYi50cmFuc2FjdGlvbigncncnLCBbJ2NhcmRzJywgJ3N5bmNRdWV1ZSddLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBjYXJkID0gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpXHJcbiAgICAgICAgICBjb25zdCBjYXJkSWQgPSBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykuYWRkKGNhcmQpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGF3YWl0IG1vY2tEYi50YWJsZSgnc3luY1F1ZXVlJykuYWRkKHtcclxuICAgICAgICAgICAgLi4ubW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrU3luY09wZXJhdGlvbigpLFxyXG4gICAgICAgICAgICBlbnRpdHlJZDogY2FyZElkXHJcbiAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgIHJldHVybiBjYXJkSWRcclxuICAgICAgICB9KVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlVmFsaWRVVUlEKClcclxuXHJcbiAgICAgIGNvbnN0IHN0YXRzID0gcGVyZm9ybWFuY2VUZXN0ZXIuZ2V0U3RhdHMoJ3NpbmdsZV90cmFuc2FjdGlvbicpXHJcbiAgICAgIGV4cGVjdChzdGF0cyEuYXZnKS50b0JlTGVzc1RoYW4oNTApXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpemrmOaViOaJp+ihjOaJuemHj+S6i+WKoScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgYmF0Y2hTaXplID0gMTBcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ2JhdGNoX3RyYW5zYWN0aW9uJywgKCkgPT5cclxuICAgICAgICBtb2NrRGIudHJhbnNhY3Rpb24oJ3J3JywgWydjYXJkcycsICdzeW5jUXVldWUnXSwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmF0Y2hTaXplOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY2FyZCA9IG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoe1xyXG4gICAgICAgICAgICAgIGZyb250Q29udGVudDogeyB0aXRsZTogYEJhdGNoIENhcmQgJHtpICsgMX1gIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgY29uc3QgY2FyZElkID0gYXdhaXQgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmFkZChjYXJkKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYXdhaXQgbW9ja0RiLnRhYmxlKCdzeW5jUXVldWUnKS5hZGQoe1xyXG4gICAgICAgICAgICAgIC4uLm1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja1N5bmNPcGVyYXRpb24oKSxcclxuICAgICAgICAgICAgICBlbnRpdHlJZDogY2FyZElkXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICByZXN1bHRzLnB1c2goY2FyZElkKVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiByZXN1bHRzXHJcbiAgICAgICAgfSlcclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlTGVuZ3RoKGJhdGNoU2l6ZSlcclxuICAgICAgcmVzdWx0LmZvckVhY2goaWQgPT4gZXhwZWN0KGlkKS50b0JlVmFsaWRVVUlEKCkpXHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdiYXRjaF90cmFuc2FjdGlvbicpXHJcbiAgICAgIGV4cGVjdChzdGF0cyEuYXZnKS50b0JlTGVzc1RoYW4oMjAwKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6XmraPnoa7lpITnkIbkuovliqHlm57mu5onLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGluaXRpYWxDb3VudCA9IGF3YWl0IG1vY2tEYi50YWJsZSgnY2FyZHMnKS5jb3VudCgpXHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IG1vY2tEYi50cmFuc2FjdGlvbigncncnLCBbJ2NhcmRzJ10sIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgIC8vIOaPkuWFpeS4gOS6m+aVsOaNrlxyXG4gICAgICAgICAgYXdhaXQgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmJ1bGtBZGQoW1xyXG4gICAgICAgICAgICBtb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKCksXHJcbiAgICAgICAgICAgIG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKVxyXG4gICAgICAgICAgXSlcclxuXHJcbiAgICAgICAgICAvLyDmqKHmi5/plJnor6/op6blj5Hlm57mu5pcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNhY3Rpb24gcm9sbGJhY2sgdGVzdCcpXHJcbiAgICAgICAgfSlcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyDmnJ/mnJvnmoTplJnor69cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g6aqM6K+B5LqL5Yqh5Zue5rua77yM5pWw5o2u5rKh5pyJ6KKr5oyB5LmF5YyWXHJcbiAgICAgIGNvbnN0IGZpbmFsQ291bnQgPSBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykuY291bnQoKVxyXG4gICAgICBleHBlY3QoZmluYWxDb3VudCkudG9CZShpbml0aWFsQ291bnQpXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDlubblj5HmgKfog73mtYvor5VcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCflubblj5HmgKfog70nLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6Xpq5jmlYjlpITnkIblubblj5Hor7vlj5YnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOWFiOWHhuWkh+aVsOaNrlxyXG4gICAgICBjb25zdCBjYXJkcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMCB9LCAoKSA9PiBtb2NrRmFjdG9yaWVzLmNyZWF0ZU1vY2tDYXJkKCkpXHJcbiAgICAgIGF3YWl0IG1vY2tEYi50YWJsZSgnY2FyZHMnKS5idWxrQWRkKGNhcmRzKVxyXG5cclxuICAgICAgLy8g5bm25Y+R6K+75Y+WXHJcbiAgICAgIGNvbnN0IHJlYWRQcm9taXNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDUwIH0sICgpID0+XHJcbiAgICAgICAgbW9ja0RiLnRhYmxlKCdjYXJkcycpLnRvQXJyYXkoKVxyXG4gICAgICApXHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtYW5jZVRlc3Rlci5tZWFzdXJlKCdjb25jdXJyZW50X3JlYWRzJywgKCkgPT5cclxuICAgICAgICBQcm9taXNlLmFsbChyZWFkUHJvbWlzZXMpXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCg1MClcclxuICAgICAgcmVzdWx0LmZvckVhY2goY2FyZHMgPT4gZXhwZWN0KGNhcmRzLmxlbmd0aCkudG9CZSgxMDApKVxyXG5cclxuICAgICAgY29uc3Qgc3RhdHMgPSBwZXJmb3JtYW5jZVRlc3Rlci5nZXRTdGF0cygnY29uY3VycmVudF9yZWFkcycpXHJcbiAgICAgIGV4cGVjdChzdGF0cyEuYXZnKS50b0JlTGVzc1RoYW4oMTAwKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6Xpq5jmlYjlpITnkIblubblj5HlhpnlhaUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHdyaXRlUHJvbWlzZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9LCAoXywgaSkgPT5cclxuICAgICAgICBtb2NrRGIudGFibGUoJ2NhcmRzJykuYWRkKG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoe1xyXG4gICAgICAgICAgZnJvbnRDb250ZW50OiB7IHRpdGxlOiBgQ29uY3VycmVudCBDYXJkICR7aSArIDF9YCB9XHJcbiAgICAgICAgfSkpXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ2NvbmN1cnJlbnRfd3JpdGVzJywgKCkgPT5cclxuICAgICAgICBQcm9taXNlLmFsbCh3cml0ZVByb21pc2VzKVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMjApXHJcbiAgICAgIHJlc3VsdC5mb3JFYWNoKGlkID0+IGV4cGVjdChpZCkudG9CZVZhbGlkVVVJRCgpKVxyXG5cclxuICAgICAgY29uc3Qgc3RhdHMgPSBwZXJmb3JtYW5jZVRlc3Rlci5nZXRTdGF0cygnY29uY3VycmVudF93cml0ZXMnKVxyXG4gICAgICBleHBlY3Qoc3RhdHMhLmF2ZykudG9CZUxlc3NUaGFuKDEwMClcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l6auY5pWI5aSE55CG5re35ZCI5bm25Y+R5pON5L2cJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDlhYjlh4blpIfkuIDkupvmlbDmja5cclxuICAgICAgY29uc3QgaW5pdGlhbENhcmRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNTAgfSwgKCkgPT4gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpKVxyXG4gICAgICBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykuYnVsa0FkZChpbml0aWFsQ2FyZHMpXHJcblxyXG4gICAgICBjb25zdCBtaXhlZFByb21pc2VzID0gW11cclxuXHJcbiAgICAgIC8vIOivu+WPluaTjeS9nFxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgICBtaXhlZFByb21pc2VzLnB1c2gobW9ja0RiLnRhYmxlKCdjYXJkcycpLnRvQXJyYXkoKSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g5YaZ5YWl5pON5L2cXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xyXG4gICAgICAgIG1peGVkUHJvbWlzZXMucHVzaChcclxuICAgICAgICAgIG1vY2tEYi50YWJsZSgnY2FyZHMnKS5hZGQobW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCh7XHJcbiAgICAgICAgICAgIGZyb250Q29udGVudDogeyB0aXRsZTogYE1peGVkIENhcmQgJHtpICsgMX1gIH1cclxuICAgICAgICAgIH0pKVxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g5pu05paw5pON5L2cXHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ2FyZHMgPSBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykubGltaXQoNSkudG9BcnJheSgpXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nQ2FyZHNbaV0pIHtcclxuICAgICAgICAgIG1peGVkUHJvbWlzZXMucHVzaChcclxuICAgICAgICAgICAgbW9ja0RiLnRhYmxlKCdjYXJkcycpLnVwZGF0ZShleGlzdGluZ0NhcmRzW2ldLmlkISwge1xyXG4gICAgICAgICAgICAgIGZyb250Q29udGVudDogeyB0aXRsZTogYFVwZGF0ZWQgJHtpICsgMX1gIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ21peGVkX2NvbmN1cnJlbnQnLCAoKSA9PlxyXG4gICAgICAgIFByb21pc2UuYWxsKG1peGVkUHJvbWlzZXMpXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcclxuXHJcbiAgICAgIGNvbnN0IHN0YXRzID0gcGVyZm9ybWFuY2VUZXN0ZXIuZ2V0U3RhdHMoJ21peGVkX2NvbmN1cnJlbnQnKVxyXG4gICAgICBleHBlY3Qoc3RhdHMhLmF2ZykudG9CZUxlc3NUaGFuKDIwMClcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIOWGheWtmOS9v+eUqOa1i+ivlVxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgZGVzY3JpYmUoJ+WGheWtmOS9v+eUqCcsICgpID0+IHtcclxuICAgIHRlc3QoJ+W6lOivpeebkeaOp+WGheWtmOS9v+eUqOaDheWGtScsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g6K6+572u5YaF5a2Y5Z+657q/XHJcbiAgICAgIG1lbW9yeUxlYWtEZXRlY3Rvci5zZXRCYXNlbGluZSgpXHJcblxyXG4gICAgICAvLyDmiafooYzlpKfph4/mk43kvZxcclxuICAgICAgY29uc3QgbGFyZ2VEYXRhc2V0ID0gdGVzdERhdGFHZW5lcmF0b3IuZ2VuZXJhdGVMYXJnZURhdGFzZXQoMTAwMClcclxuICAgICAgYXdhaXQgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmJ1bGtBZGQobGFyZ2VEYXRhc2V0KVxyXG5cclxuICAgICAgLy8g6I635Y+W5YaF5a2Y5aKe6ZW/XHJcbiAgICAgIGNvbnN0IGdyb3d0aCA9IG1lbW9yeUxlYWtEZXRlY3Rvci5nZXRNZW1vcnlHcm93dGhTaW5jZUJhc2VsaW5lKClcclxuICAgICAgY29uc29sZS5sb2coYOWGheWtmOWinumVvzogJHtncm93dGgudG9GaXhlZCgyKX1NQmApXHJcblxyXG4gICAgICAvLyDlhoXlrZjlop7plb/lupTor6XlnKjlkIjnkIbojIPlm7TlhoVcclxuICAgICAgZXhwZWN0KGdyb3d0aCkudG9CZUxlc3NUaGFuKDEwMCkgLy8gMTAwTULku6XlhoVcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l5aSE55CG5aSn5pWw5o2u6ZuGJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDmj5LlhaXlpKfph4/mlbDmja5cclxuICAgICAgY29uc3QgaHVnZURhdGFzZXQgPSB0ZXN0RGF0YUdlbmVyYXRvci5nZW5lcmF0ZUxhcmdlRGF0YXNldCg1MDAwKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybWFuY2VUZXN0ZXIubWVhc3VyZSgnaHVnZV9kYXRhc2V0X2luc2VydCcsICgpID0+XHJcbiAgICAgICAgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmJ1bGtBZGQoaHVnZURhdGFzZXQpXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCg1MDAwKVxyXG5cclxuICAgICAgY29uc3Qgc3RhdHMgPSBwZXJmb3JtYW5jZVRlc3Rlci5nZXRTdGF0cygnaHVnZV9kYXRhc2V0X2luc2VydCcpXHJcbiAgICAgIGNvbnNvbGUubG9nKGA1MDAw5p2h6K6w5b2V5o+S5YWl5oCn6IO9OiAke3N0YXRzIS5hdmcudG9GaXhlZCgyKX1tc2ApXHJcbiAgICAgIFxyXG4gICAgICAvLyDlpKfmlbDmja7pm4bmj5LlhaXlupTor6XlnKjlkIjnkIbml7bpl7TlhoXlrozmiJBcclxuICAgICAgZXhwZWN0KHN0YXRzIS5hdmcpLnRvQmVMZXNzVGhhbigxMDAwKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6XkvJjljJblpKfmlbDmja7mn6Xor6InLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOWHhuWkh+Wkp+aVsOaNrumbhlxyXG4gICAgICBjb25zdCBsYXJnZURhdGFzZXQgPSB0ZXN0RGF0YUdlbmVyYXRvci5nZW5lcmF0ZUxhcmdlRGF0YXNldCgyMDAwKVxyXG4gICAgICBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykuYnVsa0FkZChsYXJnZURhdGFzZXQpXHJcblxyXG4gICAgICAvLyDmtYvor5XliIbpobXmn6Xor6LmgKfog71cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyZm9ybWFuY2VUZXN0ZXIubWVhc3VyZSgnbGFyZ2VfZGF0YXNldF9wYWdlZF9xdWVyeScsICgpID0+XHJcbiAgICAgICAgbW9ja0RiLnRhYmxlKCdjYXJkcycpXHJcbiAgICAgICAgICAub3JkZXJCeSgnY3JlYXRlZEF0JylcclxuICAgICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAgIC5vZmZzZXQoMTAwMClcclxuICAgICAgICAgIC5saW1pdCgxMDApXHJcbiAgICAgICAgICAudG9BcnJheSgpXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxMDApXHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldFN0YXRzKCdsYXJnZV9kYXRhc2V0X3BhZ2VkX3F1ZXJ5JylcclxuICAgICAgY29uc29sZS5sb2coYOWkp+aVsOaNruWIhumhteafpeivouaAp+iDvTogJHtzdGF0cyEuYXZnLnRvRml4ZWQoMil9bXNgKVxyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHN0YXRzIS5hdmcpLnRvQmVMZXNzVGhhbigxMDApXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDnqLPlrprmgKfmtYvor5VcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCfnqLPlrprmgKcnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6XlnKjpq5jotJ/ovb3kuIvkv53mjIHnqLPlrponLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGl0ZXJhdGlvbnMgPSAxMDBcclxuICAgICAgY29uc3QgZXJyb3JzOiBFcnJvcltdID0gW11cclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgaSsrKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIC8vIOmaj+acuuaTjeS9nFxyXG4gICAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNClcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSAwOiAvLyDmj5LlhaVcclxuICAgICAgICAgICAgICBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykuYWRkKG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoe1xyXG4gICAgICAgICAgICAgICAgZnJvbnRDb250ZW50OiB7IHRpdGxlOiBgU3RhYmlsaXR5IFRlc3QgJHtpfWAgfVxyXG4gICAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgMTogLy8g6K+75Y+WXHJcbiAgICAgICAgICAgICAgYXdhaXQgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmxpbWl0KDEwKS50b0FycmF5KClcclxuICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICBjYXNlIDI6IC8vIOabtOaWsFxyXG4gICAgICAgICAgICAgIGNvbnN0IGNhcmRzID0gYXdhaXQgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmxpbWl0KDEpLnRvQXJyYXkoKVxyXG4gICAgICAgICAgICAgIGlmIChjYXJkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykudXBkYXRlKGNhcmRzWzBdLmlkISwge1xyXG4gICAgICAgICAgICAgICAgICBmcm9udENvbnRlbnQ6IHsgdGl0bGU6IGBVcGRhdGVkICR7aX1gIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgMzogLy8g5Yig6ZmkXHJcbiAgICAgICAgICAgICAgY29uc3Qgb2xkQ2FyZHMgPSBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykubGltaXQoMSkudG9BcnJheSgpXHJcbiAgICAgICAgICAgICAgaWYgKG9sZENhcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG1vY2tEYi50YWJsZSgnY2FyZHMnKS5kZWxldGUob2xkQ2FyZHNbMF0uaWQhKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBlcnJvcnMucHVzaChlcnJvciBhcyBFcnJvcilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDnqLPlrprmgKfmtYvor5XlrozmiJDvvIzplJnor6/mlbA6ICR7ZXJyb3JzLmxlbmd0aH1gKVxyXG4gICAgICBleHBlY3QoZXJyb3JzLmxlbmd0aCkudG9CZUxlc3NUaGFuKGl0ZXJhdGlvbnMgKiAwLjA1KSAvLyDplJnor6/njoflsI/kuo41JVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6XlnKjplb/ml7bpl7Tov5DooYzkuK3kv53mjIHnqLPlrponLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gNTAwMCAvLyA156eSXHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KClcclxuICAgICAgbGV0IG9wZXJhdGlvbkNvdW50ID0gMFxyXG4gICAgICBsZXQgZXJyb3JzID0gMFxyXG5cclxuICAgICAgd2hpbGUgKERhdGUubm93KCkgLSBzdGFydFRpbWUgPCBkdXJhdGlvbikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykuYWRkKG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoe1xyXG4gICAgICAgICAgICBmcm9udENvbnRlbnQ6IHsgdGl0bGU6IGBMb25nIFJ1biAke29wZXJhdGlvbkNvdW50fWAgfVxyXG4gICAgICAgICAgfSkpXHJcbiAgICAgICAgICBvcGVyYXRpb25Db3VudCsrXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGVycm9ycysrXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg6ZW/5pe26Ze06L+Q6KGM5rWL6K+V5a6M5oiQOiAke29wZXJhdGlvbkNvdW50feasoeaTjeS9nO+8jCR7ZXJyb3JzfeasoemUmeivr2ApXHJcbiAgICAgIGV4cGVjdChvcGVyYXRpb25Db3VudCkudG9CZUdyZWF0ZXJUaGFuKDEwMCkgLy8g6Iez5bCRMTAw5qyh5pON5L2cXHJcbiAgICAgIGV4cGVjdChlcnJvcnMpLnRvQmVMZXNzVGhhbihvcGVyYXRpb25Db3VudCAqIDAuMDEpIC8vIOmUmeivr+eOh+Wwj+S6jjElXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeato+ehruWkhOeQhuW8guW4uOaDheWGtScsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g5rWL6K+V5peg5pWI5pON5L2cXHJcbiAgICAgIGF3YWl0IGV4cGVjdChtb2NrRGIudGFibGUoJ2NhcmRzJykuZ2V0KCdpbnZhbGlkLWlkJykpLnJlc29sdmVzLm5vdC50b1Rocm93KClcclxuICAgICAgYXdhaXQgZXhwZWN0KG1vY2tEYi50YWJsZSgnY2FyZHMnKS51cGRhdGUoJ2ludmFsaWQtaWQnLCB7fSkpLnJlc29sdmVzLm5vdC50b1Rocm93KClcclxuICAgICAgYXdhaXQgZXhwZWN0KG1vY2tEYi50YWJsZSgnY2FyZHMnKS5kZWxldGUoJ2ludmFsaWQtaWQnKSkucmVzb2x2ZXMubm90LnRvVGhyb3coKVxyXG5cclxuICAgICAgLy8g5rWL6K+V6L6555WM5oOF5Ya1XHJcbiAgICAgIGF3YWl0IGV4cGVjdChtb2NrRGIudGFibGUoJ2NhcmRzJykubGltaXQoMCkudG9BcnJheSgpKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpXHJcbiAgICAgIGF3YWl0IGV4cGVjdChtb2NrRGIudGFibGUoJ2NhcmRzJykub2Zmc2V0KC0xKS50b0FycmF5KCkpLnJlc29sdmVzLm5vdC50b1Rocm93KClcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIOaAp+iDveWfuuWHhua1i+ivlVxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgZGVzY3JpYmUoJ+aAp+iDveWfuuWHhicsICgpID0+IHtcclxuICAgIHRlc3QoJ+W6lOivpea7oei2s+aAp+iDveWfuuWHhuimgeaxgicsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g5omn6KGM5ZCE56eN5Z+65YeG5rWL6K+VXHJcbiAgICAgIGNvbnN0IGJlbmNobWFya3MgPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgcGVyZm9ybWFuY2VUZXN0ZXIubWVhc3VyZSgnYmVuY2htYXJrX2luc2VydCcsICgpID0+XHJcbiAgICAgICAgICBtb2NrRGIudGFibGUoJ2NhcmRzJykuYWRkKG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKSlcclxuICAgICAgICApLFxyXG4gICAgICAgIHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ2JlbmNobWFya19yZWFkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY2FyZCA9IG1vY2tGYWN0b3JpZXMuY3JlYXRlTW9ja0NhcmQoKVxyXG4gICAgICAgICAgY29uc3QgY2FyZElkID0gYXdhaXQgbW9ja0RiLnRhYmxlKCdjYXJkcycpLmFkZChjYXJkKVxyXG4gICAgICAgICAgcmV0dXJuIG1vY2tEYi50YWJsZSgnY2FyZHMnKS5nZXQoY2FyZElkKVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ2JlbmNobWFya191cGRhdGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBjYXJkID0gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpXHJcbiAgICAgICAgICBjb25zdCBjYXJkSWQgPSBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykuYWRkKGNhcmQpXHJcbiAgICAgICAgICByZXR1cm4gbW9ja0RiLnRhYmxlKCdjYXJkcycpLnVwZGF0ZShjYXJkSWQsIHsgZnJvbnRDb250ZW50OiB7IHRpdGxlOiAnVXBkYXRlZCcgfSB9KVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHBlcmZvcm1hbmNlVGVzdGVyLm1lYXN1cmUoJ2JlbmNobWFya19kZWxldGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBjYXJkID0gbW9ja0ZhY3Rvcmllcy5jcmVhdGVNb2NrQ2FyZCgpXHJcbiAgICAgICAgICBjb25zdCBjYXJkSWQgPSBhd2FpdCBtb2NrRGIudGFibGUoJ2NhcmRzJykuYWRkKGNhcmQpXHJcbiAgICAgICAgICByZXR1cm4gbW9ja0RiLnRhYmxlKCdjYXJkcycpLmRlbGV0ZShjYXJkSWQpXHJcbiAgICAgICAgfSlcclxuICAgICAgXSlcclxuXHJcbiAgICAgIC8vIOmqjOivgeaJgOacieWfuuWHhua1i+ivlemDvea7oei2s+imgeaxglxyXG4gICAgICBjb25zdCBzdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldEFsbFN0YXRzKClcclxuICAgICAgXHJcbiAgICAgIE9iamVjdC5lbnRyaWVzKHN0YXRzKS5mb3JFYWNoKChbb3BlcmF0aW9uLCBzdGF0XSkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChzdGF0IS5hdmcpLnRvQmVMZXNzVGhhbigxMDApIC8vIOW5s+Wdh+WTjeW6lOaXtumXtOWwj+S6jjEwMG1zXHJcbiAgICAgICAgZXhwZWN0KHN0YXQhLm1heCkudG9CZUxlc3NUaGFuKDUwMCkgLy8g5pyA5aSn5ZON5bqU5pe26Ze05bCP5LqONTAwbXNcclxuICAgICAgICBleHBlY3Qoc3RhdCEucDk1KS50b0JlTGVzc1RoYW4oMjAwKSAgLy8gOTXliIbkvY3mlbDlsI/kuo4yMDBtc1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+aVsOaNruW6k+aAp+iDveWfuuWHhua1i+ivlee7k+aenDonLCBzdGF0cylcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l55Sf5oiQ5oCn6IO95oql5ZGKJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBhbGxTdGF0cyA9IHBlcmZvcm1hbmNlVGVzdGVyLmdldEFsbFN0YXRzKClcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChhbGxTdGF0cykudG9CZURlZmluZWQoKVxyXG4gICAgICBleHBlY3QodHlwZW9mIGFsbFN0YXRzKS50b0JlKCdvYmplY3QnKVxyXG5cclxuICAgICAgLy8g6aqM6K+B5oql5ZGK57uT5p6EXHJcbiAgICAgIE9iamVjdC52YWx1ZXMoYWxsU3RhdHMpLmZvckVhY2goc3RhdCA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHN0YXQpLnRvSGF2ZVByb3BlcnR5KCdjb3VudCcpXHJcbiAgICAgICAgZXhwZWN0KHN0YXQpLnRvSGF2ZVByb3BlcnR5KCdhdmcnKVxyXG4gICAgICAgIGV4cGVjdChzdGF0KS50b0hhdmVQcm9wZXJ0eSgnbWluJylcclxuICAgICAgICBleHBlY3Qoc3RhdCkudG9IYXZlUHJvcGVydHkoJ21heCcpXHJcbiAgICAgICAgZXhwZWN0KHN0YXQpLnRvSGF2ZVByb3BlcnR5KCdtZWRpYW4nKVxyXG4gICAgICAgIGV4cGVjdChzdGF0KS50b0hhdmVQcm9wZXJ0eSgncDk1JylcclxuICAgICAgICBleHBlY3Qoc3RhdCkudG9IYXZlUHJvcGVydHkoJ3A5OScpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn5pWw5o2u5bqT5oCn6IO95oql5ZGK55Sf5oiQ5a6M5oiQJylcclxuICAgIH0pXHJcbiAgfSlcclxufSkiXSwidmVyc2lvbiI6M30=