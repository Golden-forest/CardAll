690938b56448c14bc11d641e09d0437a
"use strict";
/**
 * 可访问性工具函数测试
 * 测试accessibilityUtils模块的所有功能
 */
Object.defineProperty(exports, "__esModule", { value: true });
const accessibility_utils_1 = require("../../utils/accessibility-utils");
// Mock DOM API
const mockElement = {
    getBoundingClientRect: jest.fn(),
    scrollIntoView: jest.fn(),
    addEventListener: jest.fn(),
    removeEventListener: jest.fn(),
    querySelectorAll: jest.fn(),
    focus: jest.fn()
};
const mockWindow = {
    innerHeight: 800,
    innerWidth: 1200,
    document: {
        documentElement: {
            clientHeight: 800,
            clientWidth: 1200
        }
    }
};
Object.defineProperty(global, 'window', {
    value: mockWindow,
    writable: true
});
Object.defineProperty(global, 'document', {
    value: {
        activeElement: null,
        addEventListener: jest.fn(),
        removeEventListener: jest.fn()
    },
    writable: true
});
describe('accessibilityUtils', () => {
    beforeEach(() => {
        jest.clearAllMocks();
    });
    afterEach(() => {
        jest.restoreAllMocks();
    });
    describe('ID生成', () => {
        test('应该生成带前缀的唯一ID', () => {
            const id1 = accessibility_utils_1.accessibilityUtils.generateId('test');
            const id2 = accessibility_utils_1.accessibilityUtils.generateId('test');
            expect(id1).toMatch(/^test-[a-z0-9]{9}$/);
            expect(id2).toMatch(/^test-[a-z0-9]{9}$/);
            expect(id1).not.toBe(id2);
        });
        test('应该处理不同的前缀', () => {
            const id1 = accessibility_utils_1.accessibilityUtils.generateId('button');
            const id2 = accessibility_utils_1.accessibilityUtils.generateId('input');
            expect(id1).toMatch(/^button-[a-z0-9]{9}$/);
            expect(id2).toMatch(/^input-[a-z0-9]{9}$/);
        });
        test('应该处理空前缀', () => {
            const id = accessibility_utils_1.accessibilityUtils.generateId('');
            expect(id).toMatch(/^[a-z0-9]{9}$/);
        });
    });
    describe('对比度检查', () => {
        test('应该返回对比度数值', () => {
            const contrast = accessibility_utils_1.accessibilityUtils.checkContrast('#000000', '#FFFFFF');
            expect(typeof contrast).toBe('number');
            expect(contrast).toBeGreaterThan(0);
        });
        test('应该处理不同颜色格式', () => {
            const contrast1 = accessibility_utils_1.accessibilityUtils.checkContrast('red', 'blue');
            const contrast2 = accessibility_utils_1.accessibilityUtils.checkContrast('#ff0000', '#0000ff');
            const contrast3 = accessibility_utils_1.accessibilityUtils.checkContrast('rgb(255,0,0)', 'rgb(0,0,255)');
            expect(typeof contrast1).toBe('number');
            expect(typeof contrast2).toBe('number');
            expect(typeof contrast3).toBe('number');
        });
        test('应该处理无效颜色值', () => {
            const contrast = accessibility_utils_1.accessibilityUtils.checkContrast('invalid', 'colors');
            expect(typeof contrast).toBe('number');
        });
    });
    describe('视口检查', () => {
        test('应该检查元素是否在视口内', () => {
            mockElement.getBoundingClientRect.mockReturnValue({
                top: 100,
                left: 100,
                bottom: 200,
                right: 200
            });
            const result = accessibility_utils_1.accessibilityUtils.isInViewport(mockElement);
            expect(result).toBe(true);
        });
        test('应该检测元素在视口外的情况', () => {
            mockElement.getBoundingClientRect.mockReturnValue({
                top: -50,
                left: 100,
                bottom: 50,
                right: 200
            });
            const result = accessibility_utils_1.accessibilityUtils.isInViewport(mockElement);
            expect(result).toBe(false);
        });
        test('应该处理部分可见的元素', () => {
            mockElement.getBoundingClientRect.mockReturnValue({
                top: 750,
                left: 100,
                bottom: 850,
                right: 200
            });
            const result = accessibility_utils_1.accessibilityUtils.isInViewport(mockElement);
            expect(result).toBe(false);
        });
        test('应该处理边界情况', () => {
            mockElement.getBoundingClientRect.mockReturnValue({
                top: 0,
                left: 0,
                bottom: 800,
                right: 1200
            });
            const result = accessibility_utils_1.accessibilityUtils.isInViewport(mockElement);
            expect(result).toBe(true);
        });
    });
    describe('元素滚动', () => {
        test('应该滚动到指定元素', () => {
            accessibility_utils_1.accessibilityUtils.scrollToElement(mockElement);
            expect(mockElement.scrollIntoView).toHaveBeenCalledWith({
                behavior: 'smooth',
                block: 'center',
                inline: 'nearest'
            });
        });
        test('应该支持不同的滚动行为', () => {
            accessibility_utils_1.accessibilityUtils.scrollToElement(mockElement, 'auto');
            expect(mockElement.scrollIntoView).toHaveBeenCalledWith({
                behavior: 'auto',
                block: 'center',
                inline: 'nearest'
            });
        });
        test('应该支持instant滚动', () => {
            accessibility_utils_1.accessibilityUtils.scrollToElement(mockElement, 'instant');
            expect(mockElement.scrollIntoView).toHaveBeenCalledWith({
                behavior: 'instant',
                block: 'center',
                inline: 'nearest'
            });
        });
    });
    describe('焦点陷阱', () => {
        let focusableElements;
        let firstElement;
        let lastElement;
        let removeTrap;
        beforeEach(() => {
            focusableElements = [
                { focus: jest.fn() },
                { focus: jest.fn() },
                { focus: jest.fn() }
            ];
            firstElement = focusableElements[0];
            lastElement = focusableElements[focusableElements.length - 1];
            mockElement.querySelectorAll.mockReturnValue(focusableElements);
        });
        test('应该设置焦点陷阱', () => {
            removeTrap = accessibility_utils_1.accessibilityUtils.trapFocus(mockElement);
            expect(mockElement.addEventListener).toHaveBeenCalledWith('keydown', expect.any(Function));
            expect(typeof removeTrap).toBe('function');
        });
        test('应该在Tab键时循环焦点', () => {
            const keyDownHandler = jest.fn();
            mockElement.addEventListener.mockImplementation((event, handler) => {
                if (event === 'keydown') {
                    keyDownHandler.mockImplementation(handler);
                }
            });
            removeTrap = accessibility_utils_1.accessibilityUtils.trapFocus(mockElement);
            // 模拟在最后一个元素上按Tab键
            document.activeElement = lastElement;
            const tabEvent = new KeyboardEvent('keydown', { key: 'Tab', shiftKey: false });
            keyDownHandler(tabEvent);
            expect(firstElement.focus).toHaveBeenCalled();
        });
        test('应该在Shift+Tab时反向循环焦点', () => {
            const keyDownHandler = jest.fn();
            mockElement.addEventListener.mockImplementation((event, handler) => {
                if (event === 'keydown') {
                    keyDownHandler.mockImplementation(handler);
                }
            });
            removeTrap = accessibility_utils_1.accessibilityUtils.trapFocus(mockElement);
            // 模拟在第一个元素上按Shift+Tab
            document.activeElement = firstElement;
            const shiftTabEvent = new KeyboardEvent('keydown', { key: 'Tab', shiftKey: true });
            keyDownHandler(shiftTabEvent);
            expect(lastElement.focus).toHaveBeenCalled();
        });
        test('应该忽略非Tab键事件', () => {
            const keyDownHandler = jest.fn();
            mockElement.addEventListener.mockImplementation((event, handler) => {
                if (event === 'keydown') {
                    keyDownHandler.mockImplementation(handler);
                }
            });
            removeTrap = accessibility_utils_1.accessibilityUtils.trapFocus(mockElement);
            // 模拟其他按键
            const enterEvent = new KeyboardEvent('keydown', { key: 'Enter' });
            keyDownHandler(enterEvent);
            expect(firstElement.focus).not.toHaveBeenCalled();
            expect(lastElement.focus).not.toHaveBeenCalled();
        });
        test('应该正确移除焦点陷阱', () => {
            removeTrap = accessibility_utils_1.accessibilityUtils.trapFocus(mockElement);
            removeTrap();
            expect(mockElement.removeEventListener).toHaveBeenCalledWith('keydown', expect.any(Function));
        });
        test('应该处理没有可聚焦元素的情况', () => {
            mockElement.querySelectorAll.mockReturnValue([]);
            removeTrap = accessibility_utils_1.accessibilityUtils.trapFocus(mockElement);
            expect(removeTrap).toBeInstanceOf(Function);
        });
    });
    describe('屏幕阅读器检测', () => {
        test('应该检测屏幕阅读器', () => {
            const result = accessibility_utils_1.accessibilityUtils.detectScreenReader();
            expect(typeof result).toBe('boolean');
        });
    });
    describe('字体大小优化', () => {
        test('应该为大文本增大字体', () => {
            const result = accessibility_utils_1.accessibilityUtils.getOptimalFontSize(16, true);
            expect(result).toBe(19.2); // 16 * 1.2
        });
        test('应该为普通文本保持原大小', () => {
            const result = accessibility_utils_1.accessibilityUtils.getOptimalFontSize(16, false);
            expect(result).toBe(16);
        });
        test('应该处理不同的基础大小', () => {
            expect(accessibility_utils_1.accessibilityUtils.getOptimalFontSize(14, true)).toBe(16.8);
            expect(accessibility_utils_1.accessibilityUtils.getOptimalFontSize(18, true)).toBe(21.6);
            expect(accessibility_utils_1.accessibilityUtils.getOptimalFontSize(20, false)).toBe(20);
        });
    });
    describe('动画时长优化', () => {
        test('应该为减少动画设置零时长', () => {
            const result = accessibility_utils_1.accessibilityUtils.getOptimalAnimationDuration(300, true);
            expect(result).toBe(0);
        });
        test('应该为正常动画保持原时长', () => {
            const result = accessibility_utils_1.accessibilityUtils.getOptimalAnimationDuration(300, false);
            expect(result).toBe(300);
        });
        test('应该处理不同的基础时长', () => {
            expect(accessibility_utils_1.accessibilityUtils.getOptimalAnimationDuration(500, true)).toBe(0);
            expect(accessibility_utils_1.accessibilityUtils.getOptimalAnimationDuration(1000, false)).toBe(1000);
        });
    });
    describe('边界情况测试', () => {
        test('应该处理null或undefined元素', () => {
            expect(() => {
                accessibility_utils_1.accessibilityUtils.isInViewport(null);
            }).not.toThrow();
            expect(() => {
                accessibility_utils_1.accessibilityUtils.scrollToElement(null);
            }).not.toThrow();
            expect(() => {
                accessibility_utils_1.accessibilityUtils.trapFocus(null);
            }).not.toThrow();
        });
        test('应该处理缺少方法的对象', () => {
            const invalidElement = {};
            expect(() => {
                accessibility_utils_1.accessibilityUtils.isInViewport(invalidElement);
            }).not.toThrow();
            expect(() => {
                accessibility_utils_1.accessibilityUtils.scrollToElement(invalidElement);
            }).not.toThrow();
        });
    });
    describe('性能测试', () => {
        test('应该保持良好的性能', () => {
            const start = performance.now();
            // 执行多次操作
            for (let i = 0; i < 1000; i++) {
                accessibility_utils_1.accessibilityUtils.generateId('test');
                accessibility_utils_1.accessibilityUtils.checkContrast('#000', '#fff');
                accessibility_utils_1.accessibilityUtils.getOptimalFontSize(16, false);
                accessibility_utils_1.accessibilityUtils.getOptimalAnimationDuration(300, true);
            }
            const end = performance.now();
            const duration = end - start;
            // 1000次操作应该在合理时间内完成
            expect(duration).toBeLessThan(100); // 100ms
        });
    });
    describe('TypeScript类型检查', () => {
        test('应该符合TypeScript类型', () => {
            const id = accessibility_utils_1.accessibilityUtils.generateId('test');
            expect(typeof id).toBe('string');
            const contrast = accessibility_utils_1.accessibilityUtils.checkContrast('#000', '#fff');
            expect(typeof contrast).toBe('number');
            const inViewport = accessibility_utils_1.accessibilityUtils.isInViewport(mockElement);
            expect(typeof inViewport).toBe('boolean');
            const fontSize = accessibility_utils_1.accessibilityUtils.getOptimalFontSize(16, true);
            expect(typeof fontSize).toBe('number');
            const animationDuration = accessibility_utils_1.accessibilityUtils.getOptimalAnimationDuration(300, false);
            expect(typeof animationDuration).toBe('number');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHNyY1xcX190ZXN0c19fXFx1dGlsc1xcYWNjZXNzaWJpbGl0eS11dGlscy50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7O0dBR0c7O0FBRUgseUVBQW9FO0FBRXBFLGVBQWU7QUFDZixNQUFNLFdBQVcsR0FBRztJQUNsQixxQkFBcUIsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ2hDLGNBQWMsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ3pCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDM0IsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUM5QixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQzNCLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0NBQ2pCLENBQUE7QUFFRCxNQUFNLFVBQVUsR0FBRztJQUNqQixXQUFXLEVBQUUsR0FBRztJQUNoQixVQUFVLEVBQUUsSUFBSTtJQUNoQixRQUFRLEVBQUU7UUFDUixlQUFlLEVBQUU7WUFDZixZQUFZLEVBQUUsR0FBRztZQUNqQixXQUFXLEVBQUUsSUFBSTtTQUNsQjtLQUNGO0NBQ0YsQ0FBQTtBQUVELE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRTtJQUN0QyxLQUFLLEVBQUUsVUFBVTtJQUNqQixRQUFRLEVBQUUsSUFBSTtDQUNmLENBQUMsQ0FBQTtBQUVGLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRTtJQUN4QyxLQUFLLEVBQUU7UUFDTCxhQUFhLEVBQUUsSUFBSTtRQUNuQixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQzNCLG1CQUFtQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7S0FDL0I7SUFDRCxRQUFRLEVBQUUsSUFBSTtDQUNmLENBQUMsQ0FBQTtBQUVGLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxHQUFH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Q0FBQTtRQUNqRCxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFDLENBQUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRDpcXFByb2plY3RzXFxDYXJkRXZlcnl0aGluZ1xcY2FyZGFsbC1wcm90b3R5cGVcXHNyY1xcX190ZXN0c19fXFx1dGlsc1xcYWNjZXNzaWJpbGl0eS11dGlscy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5Y+v6K6/6Zeu5oCn5bel5YW35Ye95pWw5rWL6K+VXG4gKiDmtYvor5VhY2Nlc3NpYmlsaXR5VXRpbHPmqKHlnZfnmoTmiYDmnInlip/og71cbiAqL1xuXG5pbXBvcnQgeyBhY2Nlc3NpYmlsaXR5VXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9hY2Nlc3NpYmlsaXR5LXV0aWxzJ1xuXG4vLyBNb2NrIERPTSBBUElcbmNvbnN0IG1vY2tFbGVtZW50ID0ge1xuICBnZXRCb3VuZGluZ0NsaWVudFJlY3Q6IGplc3QuZm4oKSxcbiAgc2Nyb2xsSW50b1ZpZXc6IGplc3QuZm4oKSxcbiAgYWRkRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxuICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gIHF1ZXJ5U2VsZWN0b3JBbGw6IGplc3QuZm4oKSxcbiAgZm9jdXM6IGplc3QuZm4oKVxufVxuXG5jb25zdCBtb2NrV2luZG93ID0ge1xuICBpbm5lckhlaWdodDogODAwLFxuICBpbm5lcldpZHRoOiAxMjAwLFxuICBkb2N1bWVudDoge1xuICAgIGRvY3VtZW50RWxlbWVudDoge1xuICAgICAgY2xpZW50SGVpZ2h0OiA4MDAsXG4gICAgICBjbGllbnRXaWR0aDogMTIwMFxuICAgIH1cbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsLCAnd2luZG93Jywge1xuICB2YWx1ZTogbW9ja1dpbmRvdyxcbiAgd3JpdGFibGU6IHRydWVcbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwsICdkb2N1bWVudCcsIHtcbiAgdmFsdWU6IHtcbiAgICBhY3RpdmVFbGVtZW50OiBudWxsLFxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKClcbiAgfSxcbiAgd3JpdGFibGU6IHRydWVcbn0pXG5cbmRlc2NyaWJlKCdhY2Nlc3NpYmlsaXR5VXRpbHMnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gIH0pXG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnJlc3RvcmVBbGxNb2NrcygpXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0lE55Sf5oiQJywgKCkgPT4ge1xuICAgIHRlc3QoJ+W6lOivpeeUn+aIkOW4puWJjee8gOeahOWUr+S4gElEJywgKCkgPT4ge1xuICAgICAgY29uc3QgaWQxID0gYWNjZXNzaWJpbGl0eVV0aWxzLmdlbmVyYXRlSWQoJ3Rlc3QnKVxuICAgICAgY29uc3QgaWQyID0gYWNjZXNzaWJpbGl0eVV0aWxzLmdlbmVyYXRlSWQoJ3Rlc3QnKVxuXG4gICAgICBleHBlY3QoaWQxKS50b01hdGNoKC9edGVzdC1bYS16MC05XXs5fSQvKVxuICAgICAgZXhwZWN0KGlkMikudG9NYXRjaCgvXnRlc3QtW2EtejAtOV17OX0kLylcbiAgICAgIGV4cGVjdChpZDEpLm5vdC50b0JlKGlkMilcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5aSE55CG5LiN5ZCM55qE5YmN57yAJywgKCkgPT4ge1xuICAgICAgY29uc3QgaWQxID0gYWNjZXNzaWJpbGl0eVV0aWxzLmdlbmVyYXRlSWQoJ2J1dHRvbicpXG4gICAgICBjb25zdCBpZDIgPSBhY2Nlc3NpYmlsaXR5VXRpbHMuZ2VuZXJhdGVJZCgnaW5wdXQnKVxuXG4gICAgICBleHBlY3QoaWQxKS50b01hdGNoKC9eYnV0dG9uLVthLXowLTldezl9JC8pXG4gICAgICBleHBlY3QoaWQyKS50b01hdGNoKC9eaW5wdXQtW2EtejAtOV17OX0kLylcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5aSE55CG56m65YmN57yAJywgKCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBhY2Nlc3NpYmlsaXR5VXRpbHMuZ2VuZXJhdGVJZCgnJylcbiAgICAgIGV4cGVjdChpZCkudG9NYXRjaCgvXlthLXowLTldezl9JC8pXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn5a+55q+U5bqm5qOA5p+lJywgKCkgPT4ge1xuICAgIHRlc3QoJ+W6lOivpei/lOWbnuWvueavlOW6puaVsOWAvCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRyYXN0ID0gYWNjZXNzaWJpbGl0eVV0aWxzLmNoZWNrQ29udHJhc3QoJyMwMDAwMDAnLCAnI0ZGRkZGRicpXG4gICAgICBleHBlY3QodHlwZW9mIGNvbnRyYXN0KS50b0JlKCdudW1iZXInKVxuICAgICAgZXhwZWN0KGNvbnRyYXN0KS50b0JlR3JlYXRlclRoYW4oMClcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5aSE55CG5LiN5ZCM6aKc6Imy5qC85byPJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29udHJhc3QxID0gYWNjZXNzaWJpbGl0eVV0aWxzLmNoZWNrQ29udHJhc3QoJ3JlZCcsICdibHVlJylcbiAgICAgIGNvbnN0IGNvbnRyYXN0MiA9IGFjY2Vzc2liaWxpdHlVdGlscy5jaGVja0NvbnRyYXN0KCcjZmYwMDAwJywgJyMwMDAwZmYnKVxuICAgICAgY29uc3QgY29udHJhc3QzID0gYWNjZXNzaWJpbGl0eVV0aWxzLmNoZWNrQ29udHJhc3QoJ3JnYigyNTUsMCwwKScsICdyZ2IoMCwwLDI1NSknKVxuXG4gICAgICBleHBlY3QodHlwZW9mIGNvbnRyYXN0MSkudG9CZSgnbnVtYmVyJylcbiAgICAgIGV4cGVjdCh0eXBlb2YgY29udHJhc3QyKS50b0JlKCdudW1iZXInKVxuICAgICAgZXhwZWN0KHR5cGVvZiBjb250cmFzdDMpLnRvQmUoJ251bWJlcicpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeWkhOeQhuaXoOaViOminOiJsuWAvCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRyYXN0ID0gYWNjZXNzaWJpbGl0eVV0aWxzLmNoZWNrQ29udHJhc3QoJ2ludmFsaWQnLCAnY29sb3JzJylcbiAgICAgIGV4cGVjdCh0eXBlb2YgY29udHJhc3QpLnRvQmUoJ251bWJlcicpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgn6KeG5Y+j5qOA5p+lJywgKCkgPT4ge1xuICAgIHRlc3QoJ+W6lOivpeajgOafpeWFg+e0oOaYr+WQpuWcqOinhuWPo+WGhScsICgpID0+IHtcbiAgICAgIG1vY2tFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdC5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICB0b3A6IDEwMCxcbiAgICAgICAgbGVmdDogMTAwLFxuICAgICAgICBib3R0b206IDIwMCxcbiAgICAgICAgcmlnaHQ6IDIwMFxuICAgICAgfSlcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYWNjZXNzaWJpbGl0eVV0aWxzLmlzSW5WaWV3cG9ydChtb2NrRWxlbWVudCBhcyBhbnkpXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeajgOa1i+WFg+e0oOWcqOinhuWPo+WklueahOaDheWGtScsICgpID0+IHtcbiAgICAgIG1vY2tFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdC5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICB0b3A6IC01MCxcbiAgICAgICAgbGVmdDogMTAwLFxuICAgICAgICBib3R0b206IDUwLFxuICAgICAgICByaWdodDogMjAwXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhY2Nlc3NpYmlsaXR5VXRpbHMuaXNJblZpZXdwb3J0KG1vY2tFbGVtZW50IGFzIGFueSlcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZmFsc2UpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeWkhOeQhumDqOWIhuWPr+ingeeahOWFg+e0oCcsICgpID0+IHtcbiAgICAgIG1vY2tFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdC5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICB0b3A6IDc1MCxcbiAgICAgICAgbGVmdDogMTAwLFxuICAgICAgICBib3R0b206IDg1MCxcbiAgICAgICAgcmlnaHQ6IDIwMFxuICAgICAgfSlcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYWNjZXNzaWJpbGl0eVV0aWxzLmlzSW5WaWV3cG9ydChtb2NrRWxlbWVudCBhcyBhbnkpXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XlpITnkIbovrnnlYzmg4XlhrUnLCAoKSA9PiB7XG4gICAgICBtb2NrRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICBib3R0b206IDgwMCxcbiAgICAgICAgcmlnaHQ6IDEyMDBcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGFjY2Vzc2liaWxpdHlVdGlscy5pc0luVmlld3BvcnQobW9ja0VsZW1lbnQgYXMgYW55KVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+WFg+e0oOa7muWKqCcsICgpID0+IHtcbiAgICB0ZXN0KCflupTor6Xmu5rliqjliLDmjIflrprlhYPntKAnLCAoKSA9PiB7XG4gICAgICBhY2Nlc3NpYmlsaXR5VXRpbHMuc2Nyb2xsVG9FbGVtZW50KG1vY2tFbGVtZW50IGFzIGFueSlcblxuICAgICAgZXhwZWN0KG1vY2tFbGVtZW50LnNjcm9sbEludG9WaWV3KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcbiAgICAgICAgYmxvY2s6ICdjZW50ZXInLFxuICAgICAgICBpbmxpbmU6ICduZWFyZXN0J1xuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5pSv5oyB5LiN5ZCM55qE5rua5Yqo6KGM5Li6JywgKCkgPT4ge1xuICAgICAgYWNjZXNzaWJpbGl0eVV0aWxzLnNjcm9sbFRvRWxlbWVudChtb2NrRWxlbWVudCBhcyBhbnksICdhdXRvJylcbiAgICAgIGV4cGVjdChtb2NrRWxlbWVudC5zY3JvbGxJbnRvVmlldykudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBiZWhhdmlvcjogJ2F1dG8nLFxuICAgICAgICBibG9jazogJ2NlbnRlcicsXG4gICAgICAgIGlubGluZTogJ25lYXJlc3QnXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XmlK/mjIFpbnN0YW505rua5YqoJywgKCkgPT4ge1xuICAgICAgYWNjZXNzaWJpbGl0eVV0aWxzLnNjcm9sbFRvRWxlbWVudChtb2NrRWxlbWVudCBhcyBhbnksICdpbnN0YW50JylcbiAgICAgIGV4cGVjdChtb2NrRWxlbWVudC5zY3JvbGxJbnRvVmlldykudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBiZWhhdmlvcjogJ2luc3RhbnQnLFxuICAgICAgICBibG9jazogJ2NlbnRlcicsXG4gICAgICAgIGlubGluZTogJ25lYXJlc3QnXG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+eEpueCuemZt+mYsScsICgpID0+IHtcbiAgICBsZXQgZm9jdXNhYmxlRWxlbWVudHM6IEhUTUxFbGVtZW50W11cbiAgICBsZXQgZmlyc3RFbGVtZW50OiBIVE1MRWxlbWVudFxuICAgIGxldCBsYXN0RWxlbWVudDogSFRNTEVsZW1lbnRcbiAgICBsZXQgcmVtb3ZlVHJhcDogKCkgPT4gdm9pZFxuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBmb2N1c2FibGVFbGVtZW50cyA9IFtcbiAgICAgICAgeyBmb2N1czogamVzdC5mbigpIH0gYXMgYW55LFxuICAgICAgICB7IGZvY3VzOiBqZXN0LmZuKCkgfSBhcyBhbnksXG4gICAgICAgIHsgZm9jdXM6IGplc3QuZm4oKSB9IGFzIGFueVxuICAgICAgXVxuICAgICAgZmlyc3RFbGVtZW50ID0gZm9jdXNhYmxlRWxlbWVudHNbMF1cbiAgICAgIGxhc3RFbGVtZW50ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV1cblxuICAgICAgbW9ja0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbC5tb2NrUmV0dXJuVmFsdWUoZm9jdXNhYmxlRWxlbWVudHMpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeiuvue9rueEpueCuemZt+mYsScsICgpID0+IHtcbiAgICAgIHJlbW92ZVRyYXAgPSBhY2Nlc3NpYmlsaXR5VXRpbHMudHJhcEZvY3VzKG1vY2tFbGVtZW50IGFzIGFueSlcblxuICAgICAgZXhwZWN0KG1vY2tFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAna2V5ZG93bicsXG4gICAgICAgIGV4cGVjdC5hbnkoRnVuY3Rpb24pXG4gICAgICApXG4gICAgICBleHBlY3QodHlwZW9mIHJlbW92ZVRyYXApLnRvQmUoJ2Z1bmN0aW9uJylcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5ZyoVGFi6ZSu5pe25b6q546v54Sm54K5JywgKCkgPT4ge1xuICAgICAgY29uc3Qga2V5RG93bkhhbmRsZXIgPSBqZXN0LmZuKClcbiAgICAgIG1vY2tFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIubW9ja0ltcGxlbWVudGF0aW9uKChldmVudCwgaGFuZGxlcikgPT4ge1xuICAgICAgICBpZiAoZXZlbnQgPT09ICdrZXlkb3duJykge1xuICAgICAgICAgIGtleURvd25IYW5kbGVyLm1vY2tJbXBsZW1lbnRhdGlvbihoYW5kbGVyKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICByZW1vdmVUcmFwID0gYWNjZXNzaWJpbGl0eVV0aWxzLnRyYXBGb2N1cyhtb2NrRWxlbWVudCBhcyBhbnkpXG5cbiAgICAgIC8vIOaooeaLn+WcqOacgOWQjuS4gOS4quWFg+e0oOS4iuaMiVRhYumUrlxuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9IGxhc3RFbGVtZW50XG4gICAgICBjb25zdCB0YWJFdmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXlkb3duJywgeyBrZXk6ICdUYWInLCBzaGlmdEtleTogZmFsc2UgfSlcbiAgICAgIGtleURvd25IYW5kbGVyKHRhYkV2ZW50KVxuXG4gICAgICBleHBlY3QoZmlyc3RFbGVtZW50LmZvY3VzKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5ZyoU2hpZnQrVGFi5pe25Y+N5ZCR5b6q546v54Sm54K5JywgKCkgPT4ge1xuICAgICAgY29uc3Qga2V5RG93bkhhbmRsZXIgPSBqZXN0LmZuKClcbiAgICAgIG1vY2tFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIubW9ja0ltcGxlbWVudGF0aW9uKChldmVudCwgaGFuZGxlcikgPT4ge1xuICAgICAgICBpZiAoZXZlbnQgPT09ICdrZXlkb3duJykge1xuICAgICAgICAgIGtleURvd25IYW5kbGVyLm1vY2tJbXBsZW1lbnRhdGlvbihoYW5kbGVyKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICByZW1vdmVUcmFwID0gYWNjZXNzaWJpbGl0eVV0aWxzLnRyYXBGb2N1cyhtb2NrRWxlbWVudCBhcyBhbnkpXG5cbiAgICAgIC8vIOaooeaLn+WcqOesrOS4gOS4quWFg+e0oOS4iuaMiVNoaWZ0K1RhYlxuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9IGZpcnN0RWxlbWVudFxuICAgICAgY29uc3Qgc2hpZnRUYWJFdmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXlkb3duJywgeyBrZXk6ICdUYWInLCBzaGlmdEtleTogdHJ1ZSB9KVxuICAgICAga2V5RG93bkhhbmRsZXIoc2hpZnRUYWJFdmVudClcblxuICAgICAgZXhwZWN0KGxhc3RFbGVtZW50LmZvY3VzKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5b+955Wl6Z2eVGFi6ZSu5LqL5Lu2JywgKCkgPT4ge1xuICAgICAgY29uc3Qga2V5RG93bkhhbmRsZXIgPSBqZXN0LmZuKClcbiAgICAgIG1vY2tFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIubW9ja0ltcGxlbWVudGF0aW9uKChldmVudCwgaGFuZGxlcikgPT4ge1xuICAgICAgICBpZiAoZXZlbnQgPT09ICdrZXlkb3duJykge1xuICAgICAgICAgIGtleURvd25IYW5kbGVyLm1vY2tJbXBsZW1lbnRhdGlvbihoYW5kbGVyKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICByZW1vdmVUcmFwID0gYWNjZXNzaWJpbGl0eVV0aWxzLnRyYXBGb2N1cyhtb2NrRWxlbWVudCBhcyBhbnkpXG5cbiAgICAgIC8vIOaooeaLn+WFtuS7luaMiemUrlxuICAgICAgY29uc3QgZW50ZXJFdmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXlkb3duJywgeyBrZXk6ICdFbnRlcicgfSlcbiAgICAgIGtleURvd25IYW5kbGVyKGVudGVyRXZlbnQpXG5cbiAgICAgIGV4cGVjdChmaXJzdEVsZW1lbnQuZm9jdXMpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICAgIGV4cGVjdChsYXN0RWxlbWVudC5mb2N1cykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XmraPnoa7np7vpmaTnhKbngrnpmbfpmLEnLCAoKSA9PiB7XG4gICAgICByZW1vdmVUcmFwID0gYWNjZXNzaWJpbGl0eVV0aWxzLnRyYXBGb2N1cyhtb2NrRWxlbWVudCBhcyBhbnkpXG5cbiAgICAgIHJlbW92ZVRyYXAoKVxuXG4gICAgICBleHBlY3QobW9ja0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICdrZXlkb3duJyxcbiAgICAgICAgZXhwZWN0LmFueShGdW5jdGlvbilcbiAgICAgIClcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5aSE55CG5rKh5pyJ5Y+v6IGa54Sm5YWD57Sg55qE5oOF5Ya1JywgKCkgPT4ge1xuICAgICAgbW9ja0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbC5tb2NrUmV0dXJuVmFsdWUoW10pXG5cbiAgICAgIHJlbW92ZVRyYXAgPSBhY2Nlc3NpYmlsaXR5VXRpbHMudHJhcEZvY3VzKG1vY2tFbGVtZW50IGFzIGFueSlcblxuICAgICAgZXhwZWN0KHJlbW92ZVRyYXApLnRvQmVJbnN0YW5jZU9mKEZ1bmN0aW9uKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+Wxj+W5lemYheivu+WZqOajgOa1iycsICgpID0+IHtcbiAgICB0ZXN0KCflupTor6Xmo4DmtYvlsY/luZXpmIXor7vlmagnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhY2Nlc3NpYmlsaXR5VXRpbHMuZGV0ZWN0U2NyZWVuUmVhZGVyKClcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0KS50b0JlKCdib29sZWFuJylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCflrZfkvZPlpKflsI/kvJjljJYnLCAoKSA9PiB7XG4gICAgdGVzdCgn5bqU6K+l5Li65aSn5paH5pys5aKe5aSn5a2X5L2TJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYWNjZXNzaWJpbGl0eVV0aWxzLmdldE9wdGltYWxGb250U2l6ZSgxNiwgdHJ1ZSlcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoMTkuMikgLy8gMTYgKiAxLjJcbiAgICB9KVxuXG4gICAgdGVzdCgn5bqU6K+l5Li65pmu6YCa5paH5pys5L+d5oyB5Y6f5aSn5bCPJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYWNjZXNzaWJpbGl0eVV0aWxzLmdldE9wdGltYWxGb250U2l6ZSgxNiwgZmFsc2UpXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKDE2KVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XlpITnkIbkuI3lkIznmoTln7rnoYDlpKflsI8nLCAoKSA9PiB7XG4gICAgICBleHBlY3QoYWNjZXNzaWJpbGl0eVV0aWxzLmdldE9wdGltYWxGb250U2l6ZSgxNCwgdHJ1ZSkpLnRvQmUoMTYuOClcbiAgICAgIGV4cGVjdChhY2Nlc3NpYmlsaXR5VXRpbHMuZ2V0T3B0aW1hbEZvbnRTaXplKDE4LCB0cnVlKSkudG9CZSgyMS42KVxuICAgICAgZXhwZWN0KGFjY2Vzc2liaWxpdHlVdGlscy5nZXRPcHRpbWFsRm9udFNpemUoMjAsIGZhbHNlKSkudG9CZSgyMClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfliqjnlLvml7bplb/kvJjljJYnLCAoKSA9PiB7XG4gICAgdGVzdCgn5bqU6K+l5Li65YeP5bCR5Yqo55S76K6+572u6Zu25pe26ZW/JywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYWNjZXNzaWJpbGl0eVV0aWxzLmdldE9wdGltYWxBbmltYXRpb25EdXJhdGlvbigzMDAsIHRydWUpXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKDApXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeS4uuato+W4uOWKqOeUu+S/neaMgeWOn+aXtumVvycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGFjY2Vzc2liaWxpdHlVdGlscy5nZXRPcHRpbWFsQW5pbWF0aW9uRHVyYXRpb24oMzAwLCBmYWxzZSlcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoMzAwKVxuICAgIH0pXG5cbiAgICB0ZXN0KCflupTor6XlpITnkIbkuI3lkIznmoTln7rnoYDml7bplb8nLCAoKSA9PiB7XG4gICAgICBleHBlY3QoYWNjZXNzaWJpbGl0eVV0aWxzLmdldE9wdGltYWxBbmltYXRpb25EdXJhdGlvbig1MDAsIHRydWUpKS50b0JlKDApXG4gICAgICBleHBlY3QoYWNjZXNzaWJpbGl0eVV0aWxzLmdldE9wdGltYWxBbmltYXRpb25EdXJhdGlvbigxMDAwLCBmYWxzZSkpLnRvQmUoMTAwMClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCfovrnnlYzmg4XlhrXmtYvor5UnLCAoKSA9PiB7XG4gICAgdGVzdCgn5bqU6K+l5aSE55CGbnVsbOaIlnVuZGVmaW5lZOWFg+e0oCcsICgpID0+IHtcbiAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlVdGlscy5pc0luVmlld3BvcnQobnVsbCBhcyBhbnkpXG4gICAgICB9KS5ub3QudG9UaHJvdygpXG5cbiAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlVdGlscy5zY3JvbGxUb0VsZW1lbnQobnVsbCBhcyBhbnkpXG4gICAgICB9KS5ub3QudG9UaHJvdygpXG5cbiAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlVdGlscy50cmFwRm9jdXMobnVsbCBhcyBhbnkpXG4gICAgICB9KS5ub3QudG9UaHJvdygpXG4gICAgfSlcblxuICAgIHRlc3QoJ+W6lOivpeWkhOeQhue8uuWwkeaWueazleeahOWvueixoScsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRFbGVtZW50ID0ge31cblxuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgYWNjZXNzaWJpbGl0eVV0aWxzLmlzSW5WaWV3cG9ydChpbnZhbGlkRWxlbWVudCBhcyBhbnkpXG4gICAgICB9KS5ub3QudG9UaHJvdygpXG5cbiAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgIGFjY2Vzc2liaWxpdHlVdGlscy5zY3JvbGxUb0VsZW1lbnQoaW52YWxpZEVsZW1lbnQgYXMgYW55KVxuICAgICAgfSkubm90LnRvVGhyb3coKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ+aAp+iDvea1i+ivlScsICgpID0+IHtcbiAgICB0ZXN0KCflupTor6Xkv53mjIHoia/lpb3nmoTmgKfog70nLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpXG5cbiAgICAgIC8vIOaJp+ihjOWkmuasoeaTjeS9nFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDAwOyBpKyspIHtcbiAgICAgICAgYWNjZXNzaWJpbGl0eVV0aWxzLmdlbmVyYXRlSWQoJ3Rlc3QnKVxuICAgICAgICBhY2Nlc3NpYmlsaXR5VXRpbHMuY2hlY2tDb250cmFzdCgnIzAwMCcsICcjZmZmJylcbiAgICAgICAgYWNjZXNzaWJpbGl0eVV0aWxzLmdldE9wdGltYWxGb250U2l6ZSgxNiwgZmFsc2UpXG4gICAgICAgIGFjY2Vzc2liaWxpdHlVdGlscy5nZXRPcHRpbWFsQW5pbWF0aW9uRHVyYXRpb24oMzAwLCB0cnVlKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgY29uc3QgZHVyYXRpb24gPSBlbmQgLSBzdGFydFxuXG4gICAgICAvLyAxMDAw5qyh5pON5L2c5bqU6K+l5Zyo5ZCI55CG5pe26Ze05YaF5a6M5oiQXG4gICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbigxMDApIC8vIDEwMG1zXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnVHlwZVNjcmlwdOexu+Wei+ajgOafpScsICgpID0+IHtcbiAgICB0ZXN0KCflupTor6XnrKblkIhUeXBlU2NyaXB057G75Z6LJywgKCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBhY2Nlc3NpYmlsaXR5VXRpbHMuZ2VuZXJhdGVJZCgndGVzdCcpXG4gICAgICBleHBlY3QodHlwZW9mIGlkKS50b0JlKCdzdHJpbmcnKVxuXG4gICAgICBjb25zdCBjb250cmFzdCA9IGFjY2Vzc2liaWxpdHlVdGlscy5jaGVja0NvbnRyYXN0KCcjMDAwJywgJyNmZmYnKVxuICAgICAgZXhwZWN0KHR5cGVvZiBjb250cmFzdCkudG9CZSgnbnVtYmVyJylcblxuICAgICAgY29uc3QgaW5WaWV3cG9ydCA9IGFjY2Vzc2liaWxpdHlVdGlscy5pc0luVmlld3BvcnQobW9ja0VsZW1lbnQgYXMgYW55KVxuICAgICAgZXhwZWN0KHR5cGVvZiBpblZpZXdwb3J0KS50b0JlKCdib29sZWFuJylcblxuICAgICAgY29uc3QgZm9udFNpemUgPSBhY2Nlc3NpYmlsaXR5VXRpbHMuZ2V0T3B0aW1hbEZvbnRTaXplKDE2LCB0cnVlKVxuICAgICAgZXhwZWN0KHR5cGVvZiBmb250U2l6ZSkudG9CZSgnbnVtYmVyJylcblxuICAgICAgY29uc3QgYW5pbWF0aW9uRHVyYXRpb24gPSBhY2Nlc3NpYmlsaXR5VXRpbHMuZ2V0T3B0aW1hbEFuaW1hdGlvbkR1cmF0aW9uKDMwMCwgZmFsc2UpXG4gICAgICBleHBlY3QodHlwZW9mIGFuaW1hdGlvbkR1cmF0aW9uKS50b0JlKCdudW1iZXInKVxuICAgIH0pXG4gIH0pXG59KSJdLCJ2ZXJzaW9uIjozfQ==