import{j as i,S as Zr,c as an,u as We,a as mr,P as qe,b as me,d as Xr,e as Mt,f as fl,g as Ln,h as hl,i as aa,A as pl,k as ml,R as gl,F as bl,D as xl,C as yl,l as vl,m as Cp,n as wl,o as Cl,p as Gt,O as Ks,q as _l,r as Hs,s as Vs,T as Ws,t as Gs,v as kl,w as _p,x as kp,y as Sl,z as Sp,B as Ep,E as El,W as jp,G as Ap,H as Dp}from"./ui-vLvn9UMW.js";import{a as vr,d as cu,g as jl,r as g,b as re,v as Np}from"./vendor-MXm4CGdz.js";import{c as Tp,_ as es}from"./supabase-Dpl7Lpu-.js";import{N as bt,n as Mp,m as Pp,P as Ip,T as Rp,a as Fp,S as Op,M as ws,E as Ys,e as Lp,b as zp,c as Bp,D as $p,d as wr,g as Al,F as Cs,u as qp,i as Up,f as Kp,h as Hp,j as Vp,k as Wp,l as Gp,o as Yp}from"./editor-CxQlH2eM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Vo={},du=vr;Vo.createRoot=du.createRoot,Vo.hydrateRoot=du.hydrateRoot;var Dl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(cu,function(){var n=function(s,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(s,c)},r=function(){return(r=Object.assign||function(s){for(var c,f=1,m=arguments.length;f<m;f++)for(var b in c=arguments[f])Object.prototype.hasOwnProperty.call(c,b)&&(s[b]=c[b]);return s}).apply(this,arguments)};function o(s,c,f){for(var m,b=0,v=c.length;b<v;b++)!m&&b in c||((m=m||Array.prototype.slice.call(c,0,b))[b]=c[b]);return s.concat(m||Array.prototype.slice.call(c))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:cu,u=Object.keys,l=Array.isArray;function d(s,c){return typeof c!="object"||u(c).forEach(function(f){s[f]=c[f]}),s}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var h=Object.getPrototypeOf,p={}.hasOwnProperty;function x(s,c){return p.call(s,c)}function C(s,c){typeof c=="function"&&(c=c(h(s))),(typeof Reflect>"u"?u:Reflect.ownKeys)(c).forEach(function(f){w(s,f,c[f])})}var y=Object.defineProperty;function w(s,c,f,m){y(s,c,d(f&&x(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},m))}function k(s){return{from:function(c){return s.prototype=Object.create(c.prototype),w(s.prototype,"constructor",s),{extend:C.bind(null,s.prototype)}}}}var D=Object.getOwnPropertyDescriptor,S=[].slice;function _(s,c,f){return S.call(s,c,f)}function j(s,c){return c(s)}function E(s){if(!s)throw new Error("Assertion Failed")}function M(s){a.setImmediate?setImmediate(s):setTimeout(s,0)}function F(s,c){if(typeof c=="string"&&x(s,c))return s[c];if(!c)return s;if(typeof c!="string"){for(var f=[],m=0,b=c.length;m<b;++m){var v=F(s,c[m]);f.push(v)}return f}var A=c.indexOf(".");if(A!==-1){var N=s[c.substr(0,A)];return N==null?void 0:F(N,c.substr(A+1))}}function K(s,c,f){if(s&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof c!="string"&&"length"in c){E(typeof f!="string"&&"length"in f);for(var m=0,b=c.length;m<b;++m)K(s,c[m],f[m])}else{var v,A,N=c.indexOf(".");N!==-1?(v=c.substr(0,N),(A=c.substr(N+1))===""?f===void 0?l(s)&&!isNaN(parseInt(v))?s.splice(v,1):delete s[v]:s[v]=f:K(N=!(N=s[v])||!x(s,v)?s[v]={}:N,A,f)):f===void 0?l(s)&&!isNaN(parseInt(c))?s.splice(c,1):delete s[c]:s[c]=f}}function Y(s){var c,f={};for(c in s)x(s,c)&&(f[c]=s[c]);return f}var te=[].concat;function he(s){return te.apply([],s)}var Je="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(he([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(c){return c+s+"Array"})}))).filter(function(s){return a[s]}),G=new Set(Je.map(function(s){return a[s]})),Z=null;function je(s){return Z=new WeakMap,s=function c(f){if(!f||typeof f!="object")return f;var m=Z.get(f);if(m)return m;if(l(f)){m=[],Z.set(f,m);for(var b=0,v=f.length;b<v;++b)m.push(c(f[b]))}else if(G.has(f.constructor))m=f;else{var A,N=h(f);for(A in m=N===Object.prototype?{}:Object.create(N),Z.set(f,m),f)x(f,A)&&(m[A]=c(f[A]))}return m}(s),Z=null,s}var Me={}.toString;function Ne(s){return Me.call(s).slice(8,-1)}var be=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ie=typeof be=="symbol"?function(s){var c;return s!=null&&(c=s[be])&&c.apply(s)}:function(){return null};function Ae(s,c){return c=s.indexOf(c),0<=c&&s.splice(c,1),0<=c}var U={};function fe(s){var c,f,m,b;if(arguments.length===1){if(l(s))return s.slice();if(this===U&&typeof s=="string")return[s];if(b=Ie(s)){for(f=[];!(m=b.next()).done;)f.push(m.value);return f}if(s==null)return[s];if(typeof(c=s.length)!="number")return[s];for(f=new Array(c);c--;)f[c]=s[c];return f}for(c=arguments.length,f=new Array(c);c--;)f[c]=arguments[c];return f}var xe=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},fn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Lt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(fn),Ce={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ve(s,c){this.name=s,this.message=c}function Ee(s,c){return s+". Errors: "+Object.keys(c).map(function(f){return c[f].toString()}).filter(function(f,m,b){return b.indexOf(f)===m}).join(`
`)}function Be(s,c,f,m){this.failures=c,this.failedKeys=m,this.successCount=f,this.message=Ee(s,c)}function se(s,c){this.name="BulkError",this.failures=Object.keys(c).map(function(f){return c[f]}),this.failuresByPos=c,this.message=Ee(s,this.failures)}k(ve).from(Error).extend({toString:function(){return this.name+": "+this.message}}),k(Be).from(ve),k(se).from(ve);var X=Lt.reduce(function(s,c){return s[c]=c+"Error",s},{}),Oe=ve,ue=Lt.reduce(function(s,c){var f=c+"Error";function m(b,v){this.name=f,b?typeof b=="string"?(this.message="".concat(b).concat(v?`
 `+v:""),this.inner=v||null):typeof b=="object"&&(this.message="".concat(b.name," ").concat(b.message),this.inner=b):(this.message=Ce[c]||f,this.inner=null)}return k(m).from(Oe),s[c]=m,s},{});ue.Syntax=SyntaxError,ue.Type=TypeError,ue.Range=RangeError;var Ue=fn.reduce(function(s,c){return s[c+"Error"]=ue[c],s},{}),Pe=Lt.reduce(function(s,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(s[c+"Error"]=ue[c]),s},{});function we(){}function at(s){return s}function At(s,c){return s==null||s===at?c:function(f){return c(s(f))}}function ht(s,c){return function(){s.apply(this,arguments),c.apply(this,arguments)}}function Zt(s,c){return s===we?c:function(){var f=s.apply(this,arguments);f!==void 0&&(arguments[0]=f);var m=this.onsuccess,b=this.onerror;this.onsuccess=null,this.onerror=null;var v=c.apply(this,arguments);return m&&(this.onsuccess=this.onsuccess?ht(m,this.onsuccess):m),b&&(this.onerror=this.onerror?ht(b,this.onerror):b),v!==void 0?v:f}}function dn(s,c){return s===we?c:function(){s.apply(this,arguments);var f=this.onsuccess,m=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?ht(f,this.onsuccess):f),m&&(this.onerror=this.onerror?ht(m,this.onerror):m)}}function $n(s,c){return s===we?c:function(f){var m=s.apply(this,arguments);d(f,m);var b=this.onsuccess,v=this.onerror;return this.onsuccess=null,this.onerror=null,f=c.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?ht(b,this.onsuccess):b),v&&(this.onerror=this.onerror?ht(v,this.onerror):v),m===void 0?f===void 0?void 0:f:d(m,f)}}function Dr(s,c){return s===we?c:function(){return c.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function yn(s,c){return s===we?c:function(){var f=s.apply(this,arguments);if(f&&typeof f.then=="function"){for(var m=this,b=arguments.length,v=new Array(b);b--;)v[b]=arguments[b];return f.then(function(){return c.apply(m,v)})}return c.apply(this,arguments)}}Pe.ModifyError=Be,Pe.DexieError=ve,Pe.BulkError=se;var st=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function qn(s){st=s}var xt={},er=100,Je=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,h(s),s];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,h(c),s]}(),fn=Je[0],Lt=Je[1],Je=Je[2],Lt=Lt&&Lt.then,ft=fn&&fn.constructor,vn=!!Je,Xt=function(s,c){hn.push([s,c]),wn&&(queueMicrotask(Ge),wn=!1)},Ut=!0,wn=!0,Rt=[],Qt=[],yt=at,Dt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:we,pgp:!1,env:{},finalize:we},pe=Dt,hn=[],Kt=0,Jt=[];function ie(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=pe;if(typeof s!="function"){if(s!==xt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Re(this,this._value))}this._state=null,this._value=null,++c.ref,function f(m,b){try{b(function(v){if(m._state===null){if(v===m)throw new TypeError("A promise cannot be resolved with itself.");var A=m._lib&&it();v&&typeof v.then=="function"?f(m,function(N,P){v instanceof ie?v._then(N,P):v.then(N,P)}):(m._state=!0,m._value=v,Nt(m)),A&&ut()}},Re.bind(null,m))}catch(v){Re(m,v)}}(this,s)}var Q={get:function(){var s=pe,c=yo;function f(m,b){var v=this,A=!s.global&&(s!==pe||c!==yo),N=A&&!_n(),P=new ie(function(R,L){_e(v,new ge(Ri(m,s,A,N),Ri(b,s,A,N),R,L,s))});return this._consoleTask&&(P._consoleTask=this._consoleTask),P}return f.prototype=xt,f},set:function(s){w(this,"then",s&&s.prototype===xt?Q:{get:function(){return s},set:Q.set})}};function ge(s,c,f,m,b){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof c=="function"?c:null,this.resolve=f,this.reject=m,this.psd=b}function Re(s,c){var f,m;Qt.push(c),s._state===null&&(f=s._lib&&it(),c=yt(c),s._state=!1,s._value=c,m=s,Rt.some(function(b){return b._value===m._value})||Rt.push(m),Nt(s),f&&ut())}function Nt(s){var c=s._listeners;s._listeners=[];for(var f=0,m=c.length;f<m;++f)_e(s,c[f]);var b=s._PSD;--b.ref||b.finalize(),Kt===0&&(++Kt,Xt(function(){--Kt==0&&Ft()},[]))}function _e(s,c){if(s._state!==null){var f=s._state?c.onFulfilled:c.onRejected;if(f===null)return(s._state?c.resolve:c.reject)(s._value);++c.psd.ref,++Kt,Xt(ze,[f,s,c])}else s._listeners.push(c)}function ze(s,c,f){try{var m,b=c._value;!c._state&&Qt.length&&(Qt=[]),m=st&&c._consoleTask?c._consoleTask.run(function(){return s(b)}):s(b),c._state||Qt.indexOf(b)!==-1||function(v){for(var A=Rt.length;A;)if(Rt[--A]._value===v._value)return Rt.splice(A,1)}(c),f.resolve(m)}catch(v){f.reject(v)}finally{--Kt==0&&Ft(),--f.psd.ref||f.psd.finalize()}}function Ge(){Un(Dt,function(){it()&&ut()})}function it(){var s=Ut;return wn=Ut=!1,s}function ut(){var s,c,f;do for(;0<hn.length;)for(s=hn,hn=[],f=s.length,c=0;c<f;++c){var m=s[c];m[0].apply(null,m[1])}while(0<hn.length);wn=Ut=!0}function Ft(){var s=Rt;Rt=[],s.forEach(function(m){m._PSD.onunhandled.call(null,m._value,m)});for(var c=Jt.slice(0),f=c.length;f;)c[--f]()}function Ot(s){return new ie(xt,!1,s)}function $e(s,c){var f=pe;return function(){var m=it(),b=pe;try{return kn(f,!0),s.apply(this,arguments)}catch(v){c&&c(v)}finally{kn(b,!1),m&&ut()}}}C(ie.prototype,{then:Q,_then:function(s,c){_e(this,new ge(null,null,s,c,pe))},catch:function(s){if(arguments.length===1)return this.then(null,s);var c=s,f=arguments[1];return typeof c=="function"?this.then(null,function(m){return(m instanceof c?f:Ot)(m)}):this.then(null,function(m){return(m&&m.name===c?f:Ot)(m)})},finally:function(s){return this.then(function(c){return ie.resolve(s()).then(function(){return c})},function(c){return ie.resolve(s()).then(function(){return Ot(c)})})},timeout:function(s,c){var f=this;return s<1/0?new ie(function(m,b){var v=setTimeout(function(){return b(new ue.Timeout(c))},s);f.then(m,b).finally(clearTimeout.bind(null,v))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(ie.prototype,Symbol.toStringTag,"Dexie.Promise"),Dt.env=Ii(),C(ie,{all:function(){var s=fe.apply(null,arguments).map(vo);return new ie(function(c,f){s.length===0&&c([]);var m=s.length;s.forEach(function(b,v){return ie.resolve(b).then(function(A){s[v]=A,--m||c(s)},f)})})},resolve:function(s){return s instanceof ie?s:s&&typeof s.then=="function"?new ie(function(c,f){s.then(c,f)}):new ie(xt,!0,s)},reject:Ot,race:function(){var s=fe.apply(null,arguments).map(vo);return new ie(function(c,f){s.map(function(m){return ie.resolve(m).then(c,f)})})},PSD:{get:function(){return pe},set:function(s){return pe=s}},totalEchoes:{get:function(){return yo}},newPSD:Cn,usePSD:Un,scheduler:{get:function(){return Xt},set:function(s){Xt=s}},rejectionMapper:{get:function(){return yt},set:function(s){yt=s}},follow:function(s,c){return new ie(function(f,m){return Cn(function(b,v){var A=pe;A.unhandleds=[],A.onunhandled=v,A.finalize=ht(function(){var N,P=this;N=function(){P.unhandleds.length===0?b():v(P.unhandleds[0])},Jt.push(function R(){N(),Jt.splice(Jt.indexOf(R),1)}),++Kt,Xt(function(){--Kt==0&&Ft()},[])},A.finalize),s()},c,f,m)})}}),ft&&(ft.allSettled&&w(ie,"allSettled",function(){var s=fe.apply(null,arguments).map(vo);return new ie(function(c){s.length===0&&c([]);var f=s.length,m=new Array(f);s.forEach(function(b,v){return ie.resolve(b).then(function(A){return m[v]={status:"fulfilled",value:A}},function(A){return m[v]={status:"rejected",reason:A}}).then(function(){return--f||c(m)})})})}),ft.any&&typeof AggregateError<"u"&&w(ie,"any",function(){var s=fe.apply(null,arguments).map(vo);return new ie(function(c,f){s.length===0&&f(new AggregateError([]));var m=s.length,b=new Array(m);s.forEach(function(v,A){return ie.resolve(v).then(function(N){return c(N)},function(N){b[A]=N,--m||f(new AggregateError(b))})})})}),ft.withResolvers&&(ie.withResolvers=ft.withResolvers));var Ye={awaits:0,echoes:0,id:0},Jh=0,bo=[],xo=0,yo=0,ep=0;function Cn(s,c,f,m){var b=pe,v=Object.create(b);return v.parent=b,v.ref=0,v.global=!1,v.id=++ep,Dt.env,v.env=vn?{Promise:ie,PromiseProp:{value:ie,configurable:!0,writable:!0},all:ie.all,race:ie.race,allSettled:ie.allSettled,any:ie.any,resolve:ie.resolve,reject:ie.reject}:{},c&&d(v,c),++b.ref,v.finalize=function(){--this.parent.ref||this.parent.finalize()},m=Un(v,s,f,m),v.ref===0&&v.finalize(),m}function tr(){return Ye.id||(Ye.id=++Jh),++Ye.awaits,Ye.echoes+=er,Ye.id}function _n(){return!!Ye.awaits&&(--Ye.awaits==0&&(Ye.id=0),Ye.echoes=Ye.awaits*er,!0)}function vo(s){return Ye.echoes&&s&&s.constructor===ft?(tr(),s.then(function(c){return _n(),c},function(c){return _n(),nt(c)})):s}function tp(){var s=bo[bo.length-1];bo.pop(),kn(s,!1)}function kn(s,c){var f,m=pe;(c?!Ye.echoes||xo++&&s===pe:!xo||--xo&&s===pe)||queueMicrotask(c?function(b){++yo,Ye.echoes&&--Ye.echoes!=0||(Ye.echoes=Ye.awaits=Ye.id=0),bo.push(pe),kn(b,!0)}.bind(null,s):tp),s!==pe&&(pe=s,m===Dt&&(Dt.env=Ii()),vn&&(f=Dt.env.Promise,c=s.env,(m.global||s.global)&&(Object.defineProperty(a,"Promise",c.PromiseProp),f.all=c.all,f.race=c.race,f.resolve=c.resolve,f.reject=c.reject,c.allSettled&&(f.allSettled=c.allSettled),c.any&&(f.any=c.any))))}function Ii(){var s=a.Promise;return vn?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function Un(s,c,f,m,b){var v=pe;try{return kn(s,!0),c(f,m,b)}finally{kn(v,!1)}}function Ri(s,c,f,m){return typeof s!="function"?s:function(){var b=pe;f&&tr(),kn(c,!0);try{return s.apply(this,arguments)}finally{kn(b,!1),m&&queueMicrotask(_n)}}}function ja(s){Promise===ft&&Ye.echoes===0?xo===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+Lt).indexOf("[native code]")===-1&&(tr=_n=we);var nt=ie.reject,Kn="￿",pn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Fi="String expected.",nr=[],wo="__dbnames",Aa="readonly",Da="readwrite";function Hn(s,c){return s?c?function(){return s.apply(this,arguments)&&c.apply(this,arguments)}:s:c}var Oi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Co(s){return typeof s!="string"||/\./.test(s)?function(c){return c}:function(c){return c[s]===void 0&&s in c&&delete(c=je(c))[s],c}}function Li(){throw ue.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ke(s,c){try{var f=zi(s),m=zi(c);if(f!==m)return f==="Array"?1:m==="Array"?-1:f==="binary"?1:m==="binary"?-1:f==="string"?1:m==="string"?-1:f==="Date"?1:m!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return c<s?1:s<c?-1:0;case"binary":return function(b,v){for(var A=b.length,N=v.length,P=A<N?A:N,R=0;R<P;++R)if(b[R]!==v[R])return b[R]<v[R]?-1:1;return A===N?0:A<N?-1:1}(Bi(s),Bi(c));case"Array":return function(b,v){for(var A=b.length,N=v.length,P=A<N?A:N,R=0;R<P;++R){var L=Ke(b[R],v[R]);if(L!==0)return L}return A===N?0:A<N?-1:1}(s,c)}}catch{}return NaN}function zi(s){var c=typeof s;return c!="object"?c:ArrayBuffer.isView(s)?"binary":(s=Ne(s),s==="ArrayBuffer"?"binary":s)}function Bi(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function _o(s,c,f){var m=s.schema.yProps;return m?(c&&0<f.numFailures&&(c=c.filter(function(b,v){return!f.failures[v]})),Promise.all(m.map(function(b){return b=b.updatesTable,c?s.db.table(b).where("k").anyOf(c).delete():s.db.table(b).clear()})).then(function(){return f})):f}var $i=(Xe.prototype._trans=function(s,c,f){var m=this._tx||pe.trans,b=this.name,v=st&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function A(R,L,T){if(!T.schema[b])throw new ue.NotFound("Table "+b+" not part of transaction");return c(T.idbtrans,T)}var N=it();try{var P=m&&m.db._novip===this.db._novip?m===pe.trans?m._promise(s,A,f):Cn(function(){return m._promise(s,A,f)},{trans:m,transless:pe.transless||pe}):function R(L,T,$,I){if(L.idbdb&&(L._state.openComplete||pe.letThrough||L._vip)){var O=L._createTransaction(T,$,L._dbSchema);try{O.create(),L._state.PR1398_maxLoop=3}catch(B){return B.name===X.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return R(L,T,$,I)})):nt(B)}return O._promise(T,function(B,z){return Cn(function(){return pe.trans=O,I(B,z,O)})}).then(function(B){if(T==="readwrite")try{O.idbtrans.commit()}catch{}return T==="readonly"?B:O._completion.then(function(){return B})})}if(L._state.openComplete)return nt(new ue.DatabaseClosed(L._state.dbOpenError));if(!L._state.isBeingOpened){if(!L._state.autoOpen)return nt(new ue.DatabaseClosed);L.open().catch(we)}return L._state.dbReadyPromise.then(function(){return R(L,T,$,I)})}(this.db,s,[this.name],A);return v&&(P._consoleTask=v,P=P.catch(function(R){return console.trace(R),nt(R)})),P}finally{N&&ut()}},Xe.prototype.get=function(s,c){var f=this;return s&&s.constructor===Object?this.where(s).first(c):s==null?nt(new ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(m){return f.core.get({trans:m,key:s}).then(function(b){return f.hook.reading.fire(b)})}).then(c)},Xe.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(l(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var c=u(s);if(c.length===1)return this.where(c[0]).equals(s[c[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&c.every(function(R){return 0<=N.keyPath.indexOf(R)})){for(var P=0;P<c.length;++P)if(c.indexOf(N.keyPath[P])===-1)return!1;return!0}return!1}).sort(function(N,P){return N.keyPath.length-P.keyPath.length})[0];if(f&&this.db._maxKey!==Kn){var v=f.keyPath.slice(0,c.length);return this.where(v).equals(v.map(function(P){return s[P]}))}!f&&st&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var m=this.schema.idxByName;function b(N,P){return Ke(N,P)===0}var A=c.reduce(function(T,P){var R=T[0],L=T[1],T=m[P],$=s[P];return[R||T,R||!T?Hn(L,T&&T.multi?function(I){return I=F(I,P),l(I)&&I.some(function(O){return b($,O)})}:function(I){return b($,F(I,P))}):L]},[null,null]),v=A[0],A=A[1];return v?this.where(v.name).equals(s[v.keyPath]).filter(A):f?this.filter(A):this.where(c).equals("")},Xe.prototype.filter=function(s){return this.toCollection().and(s)},Xe.prototype.count=function(s){return this.toCollection().count(s)},Xe.prototype.offset=function(s){return this.toCollection().offset(s)},Xe.prototype.limit=function(s){return this.toCollection().limit(s)},Xe.prototype.each=function(s){return this.toCollection().each(s)},Xe.prototype.toArray=function(s){return this.toCollection().toArray(s)},Xe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Xe.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,l(s)?"[".concat(s.join("+"),"]"):s))},Xe.prototype.reverse=function(){return this.toCollection().reverse()},Xe.prototype.mapToClass=function(s){var c,f=this.db,m=this.name;function b(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof Li&&(function(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function L(){this.constructor=P}n(P,R),P.prototype=R===null?Object.create(R):(L.prototype=R.prototype,new L)}(b,c=s),Object.defineProperty(b.prototype,"db",{get:function(){return f},enumerable:!1,configurable:!0}),b.prototype.table=function(){return m},s=b);for(var v=new Set,A=s.prototype;A;A=h(A))Object.getOwnPropertyNames(A).forEach(function(P){return v.add(P)});function N(P){if(!P)return P;var R,L=Object.create(s.prototype);for(R in P)if(!v.has(R))try{L[R]=P[R]}catch{}return L}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=N,this.hook("reading",N),s},Xe.prototype.defineClass=function(){return this.mapToClass(function(s){d(this,s)})},Xe.prototype.add=function(s,c){var f=this,m=this.schema.primKey,b=m.auto,v=m.keyPath,A=s;return v&&b&&(A=Co(v)(s)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"add",keys:c!=null?[c]:null,values:[A]})}).then(function(N){return N.numFailures?ie.reject(N.failures[0]):N.lastResult}).then(function(N){if(v)try{K(s,v,N)}catch{}return N})},Xe.prototype.update=function(s,c){return typeof s!="object"||l(s)?this.where(":id").equals(s).modify(c):(s=F(s,this.schema.primKey.keyPath),s===void 0?nt(new ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(c))},Xe.prototype.put=function(s,c){var f=this,m=this.schema.primKey,b=m.auto,v=m.keyPath,A=s;return v&&b&&(A=Co(v)(s)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"put",values:[A],keys:c!=null?[c]:null})}).then(function(N){return N.numFailures?ie.reject(N.failures[0]):N.lastResult}).then(function(N){if(v)try{K(s,v,N)}catch{}return N})},Xe.prototype.delete=function(s){var c=this;return this._trans("readwrite",function(f){return c.core.mutate({trans:f,type:"delete",keys:[s]}).then(function(m){return _o(c,[s],m)}).then(function(m){return m.numFailures?ie.reject(m.failures[0]):void 0})})},Xe.prototype.clear=function(){var s=this;return this._trans("readwrite",function(c){return s.core.mutate({trans:c,type:"deleteRange",range:Oi}).then(function(f){return _o(s,null,f)})}).then(function(c){return c.numFailures?ie.reject(c.failures[0]):void 0})},Xe.prototype.bulkGet=function(s){var c=this;return this._trans("readonly",function(f){return c.core.getMany({keys:s,trans:f}).then(function(m){return m.map(function(b){return c.hook.reading.fire(b)})})})},Xe.prototype.bulkAdd=function(s,c,f){var m=this,b=Array.isArray(c)?c:void 0,v=(f=f||(b?void 0:c))?f.allKeys:void 0;return this._trans("readwrite",function(A){var R=m.schema.primKey,N=R.auto,R=R.keyPath;if(R&&b)throw new ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(b&&b.length!==s.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var P=s.length,R=R&&N?s.map(Co(R)):s;return m.core.mutate({trans:A,type:"add",keys:b,values:R,wantResults:v}).then(function(O){var T=O.numFailures,$=O.results,I=O.lastResult,O=O.failures;if(T===0)return v?$:I;throw new se("".concat(m.name,".bulkAdd(): ").concat(T," of ").concat(P," operations failed"),O)})})},Xe.prototype.bulkPut=function(s,c,f){var m=this,b=Array.isArray(c)?c:void 0,v=(f=f||(b?void 0:c))?f.allKeys:void 0;return this._trans("readwrite",function(A){var R=m.schema.primKey,N=R.auto,R=R.keyPath;if(R&&b)throw new ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(b&&b.length!==s.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var P=s.length,R=R&&N?s.map(Co(R)):s;return m.core.mutate({trans:A,type:"put",keys:b,values:R,wantResults:v}).then(function(O){var T=O.numFailures,$=O.results,I=O.lastResult,O=O.failures;if(T===0)return v?$:I;throw new se("".concat(m.name,".bulkPut(): ").concat(T," of ").concat(P," operations failed"),O)})})},Xe.prototype.bulkUpdate=function(s){var c=this,f=this.core,m=s.map(function(A){return A.key}),b=s.map(function(A){return A.changes}),v=[];return this._trans("readwrite",function(A){return f.getMany({trans:A,keys:m,cache:"clone"}).then(function(N){var P=[],R=[];s.forEach(function(T,$){var I=T.key,O=T.changes,B=N[$];if(B){for(var z=0,q=Object.keys(O);z<q.length;z++){var H=q[z],V=O[H];if(H===c.schema.primKey.keyPath){if(Ke(V,I)!==0)throw new ue.Constraint("Cannot update primary key in bulkUpdate()")}else K(B,H,V)}v.push($),P.push(I),R.push(B)}});var L=P.length;return f.mutate({trans:A,type:"put",keys:P,values:R,updates:{keys:m,changeSpecs:b}}).then(function(T){var $=T.numFailures,I=T.failures;if($===0)return L;for(var O=0,B=Object.keys(I);O<B.length;O++){var z,q=B[O],H=v[Number(q)];H!=null&&(z=I[q],delete I[q],I[H]=z)}throw new se("".concat(c.name,".bulkUpdate(): ").concat($," of ").concat(L," operations failed"),I)})})})},Xe.prototype.bulkDelete=function(s){var c=this,f=s.length;return this._trans("readwrite",function(m){return c.core.mutate({trans:m,type:"delete",keys:s}).then(function(b){return _o(c,s,b)})}).then(function(A){var b=A.numFailures,v=A.lastResult,A=A.failures;if(b===0)return v;throw new se("".concat(c.name,".bulkDelete(): ").concat(b," of ").concat(f," operations failed"),A)})},Xe);function Xe(){}function Nr(s){function c(A,N){if(N){for(var P=arguments.length,R=new Array(P-1);--P;)R[P-1]=arguments[P];return f[A].subscribe.apply(null,R),s}if(typeof A=="string")return f[A]}var f={};c.addEventType=v;for(var m=1,b=arguments.length;m<b;++m)v(arguments[m]);return c;function v(A,N,P){if(typeof A!="object"){var R;N=N||Dr;var L={subscribers:[],fire:P=P||we,subscribe:function(T){L.subscribers.indexOf(T)===-1&&(L.subscribers.push(T),L.fire=N(L.fire,T))},unsubscribe:function(T){L.subscribers=L.subscribers.filter(function($){return $!==T}),L.fire=L.subscribers.reduce(N,P)}};return f[A]=c[A]=L}u(R=A).forEach(function(T){var $=R[T];if(l($))v(T,R[T][0],R[T][1]);else{if($!=="asap")throw new ue.InvalidArgument("Invalid event config");var I=v(T,at,function(){for(var O=arguments.length,B=new Array(O);O--;)B[O]=arguments[O];I.subscribers.forEach(function(z){M(function(){z.apply(null,B)})})})}})}}function Tr(s,c){return k(c).from({prototype:s}),c}function rr(s,c){return!(s.filter||s.algorithm||s.or)&&(c?s.justLimit:!s.replayFilter)}function Na(s,c){s.filter=Hn(s.filter,c)}function Ta(s,c,f){var m=s.replayFilter;s.replayFilter=m?function(){return Hn(m(),c())}:c,s.justLimit=f&&!m}function ko(s,c){if(s.isPrimKey)return c.primaryKey;var f=c.getIndexByKeyPath(s.index);if(!f)throw new ue.Schema("KeyPath "+s.index+" on object store "+c.name+" is not indexed");return f}function qi(s,c,f){var m=ko(s,c.schema);return c.openCursor({trans:f,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:m,range:s.range}})}function So(s,c,f,m){var b=s.replayFilter?Hn(s.filter,s.replayFilter()):s.filter;if(s.or){var v={},A=function(N,P,R){var L,T;b&&!b(P,R,function($){return P.stop($)},function($){return P.fail($)})||((T=""+(L=P.primaryKey))=="[object ArrayBuffer]"&&(T=""+new Uint8Array(L)),x(v,T)||(v[T]=!0,c(N,P,R)))};return Promise.all([s.or._iterate(A,f),Ui(qi(s,m,f),s.algorithm,A,!s.keysOnly&&s.valueMapper)])}return Ui(qi(s,m,f),Hn(s.algorithm,b),c,!s.keysOnly&&s.valueMapper)}function Ui(s,c,f,m){var b=$e(m?function(v,A,N){return f(m(v),A,N)}:f);return s.then(function(v){if(v)return v.start(function(){var A=function(){return v.continue()};c&&!c(v,function(N){return A=N},function(N){v.stop(N),A=we},function(N){v.fail(N),A=we})||b(v.value,v,function(N){return A=N}),A()})})}var Mr=(Ki.prototype.execute=function(s){var c=this["@@propmod"];if(c.add!==void 0){var f=c.add;if(l(f))return o(o([],l(s)?s:[],!0),f).sort();if(typeof f=="number")return(Number(s)||0)+f;if(typeof f=="bigint")try{return BigInt(s)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(c.remove!==void 0){var m=c.remove;if(l(m))return l(s)?s.filter(function(b){return!m.includes(b)}).sort():[];if(typeof m=="number")return Number(s)-m;if(typeof m=="bigint")try{return BigInt(s)-m}catch{return BigInt(0)-m}throw new TypeError("Invalid subtrahend ".concat(m))}return f=(f=c.replacePrefix)===null||f===void 0?void 0:f[0],f&&typeof s=="string"&&s.startsWith(f)?c.replacePrefix[1]+s.substring(f.length):s},Ki);function Ki(s){this["@@propmod"]=s}var np=(Ve.prototype._read=function(s,c){var f=this._ctx;return f.error?f.table._trans(null,nt.bind(null,f.error)):f.table._trans("readonly",s).then(c)},Ve.prototype._write=function(s){var c=this._ctx;return c.error?c.table._trans(null,nt.bind(null,c.error)):c.table._trans("readwrite",s,"locked")},Ve.prototype._addAlgorithm=function(s){var c=this._ctx;c.algorithm=Hn(c.algorithm,s)},Ve.prototype._iterate=function(s,c){return So(this._ctx,s,c,this._ctx.table.core)},Ve.prototype.clone=function(s){var c=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return s&&d(f,s),c._ctx=f,c},Ve.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ve.prototype.each=function(s){var c=this._ctx;return this._read(function(f){return So(c,s,f,c.table.core)})},Ve.prototype.count=function(s){var c=this;return this._read(function(f){var m=c._ctx,b=m.table.core;if(rr(m,!0))return b.count({trans:f,query:{index:ko(m,b.schema),range:m.range}}).then(function(A){return Math.min(A,m.limit)});var v=0;return So(m,function(){return++v,!1},f,b).then(function(){return v})}).then(s)},Ve.prototype.sortBy=function(s,c){var f=s.split(".").reverse(),m=f[0],b=f.length-1;function v(P,R){return R?v(P[f[R]],R-1):P[m]}var A=this._ctx.dir==="next"?1:-1;function N(P,R){return Ke(v(P,b),v(R,b))*A}return this.toArray(function(P){return P.sort(N)}).then(c)},Ve.prototype.toArray=function(s){var c=this;return this._read(function(f){var m=c._ctx;if(m.dir==="next"&&rr(m,!0)&&0<m.limit){var b=m.valueMapper,v=ko(m,m.table.core.schema);return m.table.core.query({trans:f,limit:m.limit,values:!0,query:{index:v,range:m.range}}).then(function(N){return N=N.result,b?N.map(b):N})}var A=[];return So(m,function(N){return A.push(N)},f,m.table.core).then(function(){return A})},s)},Ve.prototype.offset=function(s){var c=this._ctx;return s<=0||(c.offset+=s,rr(c)?Ta(c,function(){var f=s;return function(m,b){return f===0||(f===1?--f:b(function(){m.advance(f),f=0}),!1)}}):Ta(c,function(){var f=s;return function(){return--f<0}})),this},Ve.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),Ta(this._ctx,function(){var c=s;return function(f,m,b){return--c<=0&&m(b),0<=c}},!0),this},Ve.prototype.until=function(s,c){return Na(this._ctx,function(f,m,b){return!s(f.value)||(m(b),c)}),this},Ve.prototype.first=function(s){return this.limit(1).toArray(function(c){return c[0]}).then(s)},Ve.prototype.last=function(s){return this.reverse().first(s)},Ve.prototype.filter=function(s){var c;return Na(this._ctx,function(f){return s(f.value)}),(c=this._ctx).isMatch=Hn(c.isMatch,s),this},Ve.prototype.and=function(s){return this.filter(s)},Ve.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Ve.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ve.prototype.desc=function(){return this.reverse()},Ve.prototype.eachKey=function(s){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(f,m){s(m.key,m)})},Ve.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Ve.prototype.eachPrimaryKey=function(s){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(f,m){s(m.primaryKey,m)})},Ve.prototype.keys=function(s){var c=this._ctx;c.keysOnly=!c.isMatch;var f=[];return this.each(function(m,b){f.push(b.key)}).then(function(){return f}).then(s)},Ve.prototype.primaryKeys=function(s){var c=this._ctx;if(c.dir==="next"&&rr(c,!0)&&0<c.limit)return this._read(function(m){var b=ko(c,c.table.core.schema);return c.table.core.query({trans:m,values:!1,limit:c.limit,query:{index:b,range:c.range}})}).then(function(m){return m.result}).then(s);c.keysOnly=!c.isMatch;var f=[];return this.each(function(m,b){f.push(b.primaryKey)}).then(function(){return f}).then(s)},Ve.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Ve.prototype.firstKey=function(s){return this.limit(1).keys(function(c){return c[0]}).then(s)},Ve.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Ve.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var c={};return Na(this._ctx,function(b){var m=b.primaryKey.toString(),b=x(c,m);return c[m]=!0,!b}),this},Ve.prototype.modify=function(s){var c=this,f=this._ctx;return this._write(function(m){var b,v,A;A=typeof s=="function"?s:(b=u(s),v=b.length,function(q){for(var H=!1,V=0;V<v;++V){var W=b[V],J=s[W],ae=F(q,W);J instanceof Mr?(K(q,W,J.execute(ae)),H=!0):ae!==J&&(K(q,W,J),H=!0)}return H});var N=f.table.core,T=N.schema.primaryKey,P=T.outbound,R=T.extractKey,L=200,T=c.db._options.modifyChunkSize;T&&(L=typeof T=="object"?T[N.name]||T["*"]||200:T);function $(q,W){var V=W.failures,W=W.numFailures;O+=q-W;for(var J=0,ae=u(V);J<ae.length;J++){var ee=ae[J];I.push(V[ee])}}var I=[],O=0,B=[],z=s===Hi;return c.clone().primaryKeys().then(function(q){function H(W){var J=Math.min(L,q.length-W),ae=q.slice(W,W+J);return(z?Promise.resolve([]):N.getMany({trans:m,keys:ae,cache:"immutable"})).then(function(ee){var ne=[],ce=[],le=P?[]:null,de=z?ae:[];if(!z)for(var Fe=0;Fe<J;++Fe){var He=ee[Fe],Te={value:je(He),primKey:q[W+Fe]};A.call(Te,Te.value,Te)!==!1&&(Te.value==null?de.push(q[W+Fe]):P||Ke(R(He),R(Te.value))===0?(ce.push(Te.value),P&&le.push(q[W+Fe])):(de.push(q[W+Fe]),ne.push(Te.value)))}return Promise.resolve(0<ne.length&&N.mutate({trans:m,type:"add",values:ne}).then(function(et){for(var De in et.failures)de.splice(parseInt(De),1);$(ne.length,et)})).then(function(){return(0<ce.length||V&&typeof s=="object")&&N.mutate({trans:m,type:"put",keys:le,values:ce,criteria:V,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<W}).then(function(et){return $(ce.length,et)})}).then(function(){return(0<de.length||V&&z)&&N.mutate({trans:m,type:"delete",keys:de,criteria:V,isAdditionalChunk:0<W}).then(function(et){return _o(f.table,de,et)}).then(function(et){return $(de.length,et)})}).then(function(){return q.length>W+J&&H(W+L)})})}var V=rr(f)&&f.limit===1/0&&(typeof s!="function"||z)&&{index:f.index,range:f.range};return H(0).then(function(){if(0<I.length)throw new Be("Error modifying one or more objects",I,O,B);return q.length})})})},Ve.prototype.delete=function(){var s=this._ctx,c=s.range;return!rr(s)||s.table.schema.yProps||!s.isPrimKey&&c.type!==3?this.modify(Hi):this._write(function(f){var m=s.table.core.schema.primaryKey,b=c;return s.table.core.count({trans:f,query:{index:m,range:b}}).then(function(v){return s.table.core.mutate({trans:f,type:"deleteRange",range:b}).then(function(P){var N=P.failures,P=P.numFailures;if(P)throw new Be("Could not delete some values",Object.keys(N).map(function(R){return N[R]}),v-P);return v-P})})})},Ve);function Ve(){}var Hi=function(s,c){return c.value=null};function rp(s,c){return s<c?-1:s===c?0:1}function op(s,c){return c<s?-1:s===c?0:1}function Tt(s,c,f){return s=s instanceof Wi?new s.Collection(s):s,s._ctx.error=new(f||TypeError)(c),s}function or(s){return new s.Collection(s,function(){return Vi("")}).limit(0)}function Eo(s,c,f,m){var b,v,A,N,P,R,L,T=f.length;if(!f.every(function(O){return typeof O=="string"}))return Tt(s,Fi);function $(O){b=O==="next"?function(z){return z.toUpperCase()}:function(z){return z.toLowerCase()},v=O==="next"?function(z){return z.toLowerCase()}:function(z){return z.toUpperCase()},A=O==="next"?rp:op;var B=f.map(function(z){return{lower:v(z),upper:b(z)}}).sort(function(z,q){return A(z.lower,q.lower)});N=B.map(function(z){return z.upper}),P=B.map(function(z){return z.lower}),L=(R=O)==="next"?"":m}$("next"),s=new s.Collection(s,function(){return Sn(N[0],P[T-1]+m)}),s._ondirectionchange=function(O){$(O)};var I=0;return s._addAlgorithm(function(O,B,z){var q=O.key;if(typeof q!="string")return!1;var H=v(q);if(c(H,P,I))return!0;for(var V=null,W=I;W<T;++W){var J=function(ae,ee,ne,ce,le,de){for(var Fe=Math.min(ae.length,ce.length),He=-1,Te=0;Te<Fe;++Te){var et=ee[Te];if(et!==ce[Te])return le(ae[Te],ne[Te])<0?ae.substr(0,Te)+ne[Te]+ne.substr(Te+1):le(ae[Te],ce[Te])<0?ae.substr(0,Te)+ce[Te]+ne.substr(Te+1):0<=He?ae.substr(0,He)+ee[He]+ne.substr(He+1):null;le(ae[Te],et)<0&&(He=Te)}return Fe<ce.length&&de==="next"?ae+ne.substr(ae.length):Fe<ae.length&&de==="prev"?ae.substr(0,ne.length):He<0?null:ae.substr(0,He)+ce[He]+ne.substr(He+1)}(q,H,N[W],P[W],A,R);J===null&&V===null?I=W+1:(V===null||0<A(V,J))&&(V=J)}return B(V!==null?function(){O.continue(V+L)}:z),!1}),s}function Sn(s,c,f,m){return{type:2,lower:s,upper:c,lowerOpen:f,upperOpen:m}}function Vi(s){return{type:1,lower:s,upper:s}}var Wi=(Object.defineProperty(lt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),lt.prototype.between=function(s,c,f,m){f=f!==!1,m=m===!0;try{return 0<this._cmp(s,c)||this._cmp(s,c)===0&&(f||m)&&(!f||!m)?or(this):new this.Collection(this,function(){return Sn(s,c,!f,!m)})}catch{return Tt(this,pn)}},lt.prototype.equals=function(s){return s==null?Tt(this,pn):new this.Collection(this,function(){return Vi(s)})},lt.prototype.above=function(s){return s==null?Tt(this,pn):new this.Collection(this,function(){return Sn(s,void 0,!0)})},lt.prototype.aboveOrEqual=function(s){return s==null?Tt(this,pn):new this.Collection(this,function(){return Sn(s,void 0,!1)})},lt.prototype.below=function(s){return s==null?Tt(this,pn):new this.Collection(this,function(){return Sn(void 0,s,!1,!0)})},lt.prototype.belowOrEqual=function(s){return s==null?Tt(this,pn):new this.Collection(this,function(){return Sn(void 0,s)})},lt.prototype.startsWith=function(s){return typeof s!="string"?Tt(this,Fi):this.between(s,s+Kn,!0,!0)},lt.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):Eo(this,function(c,f){return c.indexOf(f[0])===0},[s],Kn)},lt.prototype.equalsIgnoreCase=function(s){return Eo(this,function(c,f){return c===f[0]},[s],"")},lt.prototype.anyOfIgnoreCase=function(){var s=fe.apply(U,arguments);return s.length===0?or(this):Eo(this,function(c,f){return f.indexOf(c)!==-1},s,"")},lt.prototype.startsWithAnyOfIgnoreCase=function(){var s=fe.apply(U,arguments);return s.length===0?or(this):Eo(this,function(c,f){return f.some(function(m){return c.indexOf(m)===0})},s,Kn)},lt.prototype.anyOf=function(){var s=this,c=fe.apply(U,arguments),f=this._cmp;try{c.sort(f)}catch{return Tt(this,pn)}if(c.length===0)return or(this);var m=new this.Collection(this,function(){return Sn(c[0],c[c.length-1])});m._ondirectionchange=function(v){f=v==="next"?s._ascending:s._descending,c.sort(f)};var b=0;return m._addAlgorithm(function(v,A,N){for(var P=v.key;0<f(P,c[b]);)if(++b===c.length)return A(N),!1;return f(P,c[b])===0||(A(function(){v.continue(c[b])}),!1)}),m},lt.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},lt.prototype.noneOf=function(){var s=fe.apply(U,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Tt(this,pn)}var c=s.reduce(function(f,m){return f?f.concat([[f[f.length-1][1],m]]):[[-1/0,m]]},null);return c.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},lt.prototype.inAnyRange=function(q,c){var f=this,m=this._cmp,b=this._ascending,v=this._descending,A=this._min,N=this._max;if(q.length===0)return or(this);if(!q.every(function(H){return H[0]!==void 0&&H[1]!==void 0&&b(H[0],H[1])<=0}))return Tt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ue.InvalidArgument);var P=!c||c.includeLowers!==!1,R=c&&c.includeUppers===!0,L,T=b;function $(H,V){return T(H[0],V[0])}try{(L=q.reduce(function(H,V){for(var W=0,J=H.length;W<J;++W){var ae=H[W];if(m(V[0],ae[1])<0&&0<m(V[1],ae[0])){ae[0]=A(ae[0],V[0]),ae[1]=N(ae[1],V[1]);break}}return W===J&&H.push(V),H},[])).sort($)}catch{return Tt(this,pn)}var I=0,O=R?function(H){return 0<b(H,L[I][1])}:function(H){return 0<=b(H,L[I][1])},B=P?function(H){return 0<v(H,L[I][0])}:function(H){return 0<=v(H,L[I][0])},z=O,q=new this.Collection(this,function(){return Sn(L[0][0],L[L.length-1][1],!P,!R)});return q._ondirectionchange=function(H){T=H==="next"?(z=O,b):(z=B,v),L.sort($)},q._addAlgorithm(function(H,V,W){for(var J,ae=H.key;z(ae);)if(++I===L.length)return V(W),!1;return!O(J=ae)&&!B(J)||(f._cmp(ae,L[I][1])===0||f._cmp(ae,L[I][0])===0||V(function(){T===b?H.continue(L[I][0]):H.continue(L[I][1])}),!1)}),q},lt.prototype.startsWithAnyOf=function(){var s=fe.apply(U,arguments);return s.every(function(c){return typeof c=="string"})?s.length===0?or(this):this.inAnyRange(s.map(function(c){return[c,c+Kn]})):Tt(this,"startsWithAnyOf() only works with strings")},lt);function lt(){}function en(s){return $e(function(c){return Pr(c),s(c.target.error),!1})}function Pr(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var Ir="storagemutated",Ma="x-storagemutated-1",En=Nr(null,Ir),ap=(tn.prototype._lock=function(){return E(!pe.global),++this._reculock,this._reculock!==1||pe.global||(pe.lockOwnerFor=this),this},tn.prototype._unlock=function(){if(E(!pe.global),--this._reculock==0)for(pe.global||(pe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{Un(s[1],s[0])}catch{}}return this},tn.prototype._locked=function(){return this._reculock&&pe.lockOwnerFor!==this},tn.prototype.create=function(s){var c=this;if(!this.mode)return this;var f=this.db.idbdb,m=this.db._state.dbOpenError;if(E(!this.idbtrans),!s&&!f)switch(m&&m.name){case"DatabaseClosedError":throw new ue.DatabaseClosed(m);case"MissingAPIError":throw new ue.MissingAPI(m.message,m);default:throw new ue.OpenFailed(m)}if(!this.active)throw new ue.TransactionInactive;return E(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=$e(function(b){Pr(b),c._reject(s.error)}),s.onabort=$e(function(b){Pr(b),c.active&&c._reject(new ue.Abort(s.error)),c.active=!1,c.on("abort").fire(b)}),s.oncomplete=$e(function(){c.active=!1,c._resolve(),"mutatedParts"in s&&En.storagemutated.fire(s.mutatedParts)}),this},tn.prototype._promise=function(s,c,f){var m=this;if(s==="readwrite"&&this.mode!=="readwrite")return nt(new ue.ReadOnly("Transaction is readonly"));if(!this.active)return nt(new ue.TransactionInactive);if(this._locked())return new ie(function(v,A){m._blockedFuncs.push([function(){m._promise(s,c,f).then(v,A)},pe])});if(f)return Cn(function(){var v=new ie(function(A,N){m._lock();var P=c(A,N,m);P&&P.then&&P.then(A,N)});return v.finally(function(){return m._unlock()}),v._lib=!0,v});var b=new ie(function(v,A){var N=c(v,A,m);N&&N.then&&N.then(v,A)});return b._lib=!0,b},tn.prototype._root=function(){return this.parent?this.parent._root():this},tn.prototype.waitFor=function(s){var c,f=this._root(),m=ie.resolve(s);f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return m}):(f._waitingFor=m,f._waitingQueue=[],c=f.idbtrans.objectStore(f.storeNames[0]),function v(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(c.get(-1/0).onsuccess=v)}());var b=f._waitingFor;return new ie(function(v,A){m.then(function(N){return f._waitingQueue.push($e(v.bind(null,N)))},function(N){return f._waitingQueue.push($e(A.bind(null,N)))}).finally(function(){f._waitingFor===b&&(f._waitingFor=null)})})},tn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ue.Abort))},tn.prototype.table=function(s){var c=this._memoizedTables||(this._memoizedTables={});if(x(c,s))return c[s];var f=this.schema[s];if(!f)throw new ue.NotFound("Table "+s+" not part of transaction");return f=new this.db.Table(s,f,this),f.core=this.db.core.table(s),c[s]=f},tn);function tn(){}function Pa(s,c,f,m,b,v,A,N){return{name:s,keyPath:c,unique:f,multi:m,auto:b,compound:v,src:(f&&!A?"&":"")+(m?"*":"")+(b?"++":"")+Gi(c),type:N}}function Gi(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Ia(s,c,f){return{name:s,primKey:c,indexes:f,mappedClass:null,idxByName:(m=function(b){return[b.name,b]},f.reduce(function(b,v,A){return A=m(v,A),A&&(b[A[0]]=A[1]),b},{}))};var m}var Rr=function(s){try{return s.only([[]]),Rr=function(){return[[]]},[[]]}catch{return Rr=function(){return Kn},Kn}};function Ra(s){return s==null?function(){}:typeof s=="string"?(c=s).split(".").length===1?function(f){return f[c]}:function(f){return F(f,c)}:function(f){return F(f,s)};var c}function Yi(s){return[].slice.call(s)}var sp=0;function Fr(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function ip(s,c,P){function m(z){if(z.type===3)return null;if(z.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var I=z.lower,O=z.upper,B=z.lowerOpen,z=z.upperOpen;return I===void 0?O===void 0?null:c.upperBound(O,!!z):O===void 0?c.lowerBound(I,!!B):c.bound(I,O,!!B,!!z)}function b($){var I,O=$.name;return{name:O,schema:$,mutate:function(B){var z=B.trans,q=B.type,H=B.keys,V=B.values,W=B.range;return new Promise(function(J,ae){J=$e(J);var ee=z.objectStore(O),ne=ee.keyPath==null,ce=q==="put"||q==="add";if(!ce&&q!=="delete"&&q!=="deleteRange")throw new Error("Invalid operation type: "+q);var le,de=(H||V||{length:1}).length;if(H&&V&&H.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if(de===0)return J({numFailures:0,failures:{},results:[],lastResult:void 0});function Fe(vt){++et,Pr(vt)}var He=[],Te=[],et=0;if(q==="deleteRange"){if(W.type===4)return J({numFailures:et,failures:Te,results:[],lastResult:void 0});W.type===3?He.push(le=ee.clear()):He.push(le=ee.delete(m(W)))}else{var ne=ce?ne?[V,H]:[V,null]:[H,null],De=ne[0],mt=ne[1];if(ce)for(var gt=0;gt<de;++gt)He.push(le=mt&&mt[gt]!==void 0?ee[q](De[gt],mt[gt]):ee[q](De[gt])),le.onerror=Fe;else for(gt=0;gt<de;++gt)He.push(le=ee[q](De[gt])),le.onerror=Fe}function Lo(vt){vt=vt.target.result,He.forEach(function(Gn,Ja){return Gn.error!=null&&(Te[Ja]=Gn.error)}),J({numFailures:et,failures:Te,results:q==="delete"?H:He.map(function(Gn){return Gn.result}),lastResult:vt})}le.onerror=function(vt){Fe(vt),Lo(vt)},le.onsuccess=Lo})},getMany:function(B){var z=B.trans,q=B.keys;return new Promise(function(H,V){H=$e(H);for(var W,J=z.objectStore(O),ae=q.length,ee=new Array(ae),ne=0,ce=0,le=function(He){He=He.target,ee[He._pos]=He.result,++ce===ne&&H(ee)},de=en(V),Fe=0;Fe<ae;++Fe)q[Fe]!=null&&((W=J.get(q[Fe]))._pos=Fe,W.onsuccess=le,W.onerror=de,++ne);ne===0&&H(ee)})},get:function(B){var z=B.trans,q=B.key;return new Promise(function(H,V){H=$e(H);var W=z.objectStore(O).get(q);W.onsuccess=function(J){return H(J.target.result)},W.onerror=en(V)})},query:(I=R,function(B){return new Promise(function(z,q){z=$e(z);var H,V,W,ne=B.trans,J=B.values,ae=B.limit,le=B.query,ee=ae===1/0?void 0:ae,ce=le.index,le=le.range,ne=ne.objectStore(O),ce=ce.isPrimaryKey?ne:ne.index(ce.name),le=m(le);if(ae===0)return z({result:[]});I?((ee=J?ce.getAll(le,ee):ce.getAllKeys(le,ee)).onsuccess=function(de){return z({result:de.target.result})},ee.onerror=en(q)):(H=0,V=!J&&"openKeyCursor"in ce?ce.openKeyCursor(le):ce.openCursor(le),W=[],V.onsuccess=function(de){var Fe=V.result;return Fe?(W.push(J?Fe.value:Fe.primaryKey),++H===ae?z({result:W}):void Fe.continue()):z({result:W})},V.onerror=en(q))})}),openCursor:function(B){var z=B.trans,q=B.values,H=B.query,V=B.reverse,W=B.unique;return new Promise(function(J,ae){J=$e(J);var ce=H.index,ee=H.range,ne=z.objectStore(O),ne=ce.isPrimaryKey?ne:ne.index(ce.name),ce=V?W?"prevunique":"prev":W?"nextunique":"next",le=!q&&"openKeyCursor"in ne?ne.openKeyCursor(m(ee),ce):ne.openCursor(m(ee),ce);le.onerror=en(ae),le.onsuccess=$e(function(de){var Fe,He,Te,et,De=le.result;De?(De.___id=++sp,De.done=!1,Fe=De.continue.bind(De),He=(He=De.continuePrimaryKey)&&He.bind(De),Te=De.advance.bind(De),et=function(){throw new Error("Cursor not stopped")},De.trans=z,De.stop=De.continue=De.continuePrimaryKey=De.advance=function(){throw new Error("Cursor not started")},De.fail=$e(ae),De.next=function(){var mt=this,gt=1;return this.start(function(){return gt--?mt.continue():mt.stop()}).then(function(){return mt})},De.start=function(mt){function gt(){if(le.result)try{mt()}catch(vt){De.fail(vt)}else De.done=!0,De.start=function(){throw new Error("Cursor behind last entry")},De.stop()}var Lo=new Promise(function(vt,Gn){vt=$e(vt),le.onerror=en(Gn),De.fail=Gn,De.stop=function(Ja){De.stop=De.continue=De.continuePrimaryKey=De.advance=et,vt(Ja)}});return le.onsuccess=$e(function(vt){le.onsuccess=gt,gt()}),De.continue=Fe,De.continuePrimaryKey=He,De.advance=Te,gt(),Lo},J(De)):J(null)},ae)})},count:function(B){var z=B.query,q=B.trans,H=z.index,V=z.range;return new Promise(function(W,J){var ae=q.objectStore(O),ee=H.isPrimaryKey?ae:ae.index(H.name),ae=m(V),ee=ae?ee.count(ae):ee.count();ee.onsuccess=$e(function(ne){return W(ne.target.result)}),ee.onerror=en(J)})}}}var v,A,N,L=(A=P,N=Yi((v=s).objectStoreNames),{schema:{name:v.name,tables:N.map(function($){return A.objectStore($)}).map(function($){var I=$.keyPath,z=$.autoIncrement,O=l(I),B={},z={name:$.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:I==null,compound:O,keyPath:I,autoIncrement:z,unique:!0,extractKey:Ra(I)},indexes:Yi($.indexNames).map(function(q){return $.index(q)}).map(function(W){var H=W.name,V=W.unique,J=W.multiEntry,W=W.keyPath,J={name:H,compound:l(W),keyPath:W,unique:V,multiEntry:J,extractKey:Ra(W)};return B[Fr(W)]=J}),getIndexByKeyPath:function(q){return B[Fr(q)]}};return B[":id"]=z.primaryKey,I!=null&&(B[Fr(I)]=z.primaryKey),z})},hasGetAll:0<N.length&&"getAll"in A.objectStore(N[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),P=L.schema,R=L.hasGetAll,L=P.tables.map(b),T={};return L.forEach(function($){return T[$.name]=$}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function($){if(!T[$])throw new Error("Table '".concat($,"' not found"));return T[$]},MIN_KEY:-1/0,MAX_KEY:Rr(c),schema:P}}function up(s,c,f,m){var b=f.IDBKeyRange;return f.indexedDB,{dbcore:(m=ip(c,b,m),s.dbcore.reduce(function(v,A){return A=A.create,r(r({},v),A(v))},m))}}function jo(s,m){var f=m.db,m=up(s._middlewares,f,s._deps,m);s.core=m.dbcore,s.tables.forEach(function(b){var v=b.name;s.core.schema.tables.some(function(A){return A.name===v})&&(b.core=s.core.table(v),s[v]instanceof s.Table&&(s[v].core=b.core))})}function Ao(s,c,f,m){f.forEach(function(b){var v=m[b];c.forEach(function(A){var N=function P(R,L){return D(R,L)||(R=h(R))&&P(R,L)}(A,b);(!N||"value"in N&&N.value===void 0)&&(A===s.Transaction.prototype||A instanceof s.Transaction?w(A,b,{get:function(){return this.table(b)},set:function(P){y(this,b,{value:P,writable:!0,configurable:!0,enumerable:!0})}}):A[b]=new s.Table(b,v))})})}function Fa(s,c){c.forEach(function(f){for(var m in f)f[m]instanceof s.Table&&delete f[m]})}function lp(s,c){return s._cfg.version-c._cfg.version}function cp(s,c,f,m){var b=s._dbSchema;f.objectStoreNames.contains("$meta")&&!b.$meta&&(b.$meta=Ia("$meta",Xi("")[0],[]),s._storeNames.push("$meta"));var v=s._createTransaction("readwrite",s._storeNames,b);v.create(f),v._completion.catch(m);var A=v._reject.bind(v),N=pe.transless||pe;Cn(function(){return pe.trans=v,pe.transless=N,c!==0?(jo(s,f),R=c,((P=v).storeNames.includes("$meta")?P.table("$meta").get("version").then(function(L){return L??R}):ie.resolve(R)).then(function(L){return $=L,I=v,O=f,B=[],L=(T=s)._versions,z=T._dbSchema=No(0,T.idbdb,O),(L=L.filter(function(q){return q._cfg.version>=$})).length!==0?(L.forEach(function(q){B.push(function(){var H=z,V=q._cfg.dbschema;To(T,H,O),To(T,V,O),z=T._dbSchema=V;var W=Oa(H,V);W.add.forEach(function(ce){La(O,ce[0],ce[1].primKey,ce[1].indexes)}),W.change.forEach(function(ce){if(ce.recreate)throw new ue.Upgrade("Not yet support for changing primary key");var le=O.objectStore(ce.name);ce.add.forEach(function(de){return Do(le,de)}),ce.change.forEach(function(de){le.deleteIndex(de.name),Do(le,de)}),ce.del.forEach(function(de){return le.deleteIndex(de)})});var J=q._cfg.contentUpgrade;if(J&&q._cfg.version>$){jo(T,O),I._memoizedTables={};var ae=Y(V);W.del.forEach(function(ce){ae[ce]=H[ce]}),Fa(T,[T.Transaction.prototype]),Ao(T,[T.Transaction.prototype],u(ae),ae),I.schema=ae;var ee,ne=xe(J);return ne&&tr(),W=ie.follow(function(){var ce;(ee=J(I))&&ne&&(ce=_n.bind(null,null),ee.then(ce,ce))}),ee&&typeof ee.then=="function"?ie.resolve(ee):W.then(function(){return ee})}}),B.push(function(H){var V,W,J=q._cfg.dbschema;V=J,W=H,[].slice.call(W.db.objectStoreNames).forEach(function(ae){return V[ae]==null&&W.db.deleteObjectStore(ae)}),Fa(T,[T.Transaction.prototype]),Ao(T,[T.Transaction.prototype],T._storeNames,T._dbSchema),I.schema=T._dbSchema}),B.push(function(H){T.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(T.idbdb.version/10)===q._cfg.version?(T.idbdb.deleteObjectStore("$meta"),delete T._dbSchema.$meta,T._storeNames=T._storeNames.filter(function(V){return V!=="$meta"})):H.objectStore("$meta").put(q._cfg.version,"version"))})}),function q(){return B.length?ie.resolve(B.shift()(I.idbtrans)).then(q):ie.resolve()}().then(function(){Zi(z,O)})):ie.resolve();var T,$,I,O,B,z}).catch(A)):(u(b).forEach(function(L){La(f,L,b[L].primKey,b[L].indexes)}),jo(s,f),void ie.follow(function(){return s.on.populate.fire(v)}).catch(A));var P,R})}function dp(s,c){Zi(s._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var f=No(0,s.idbdb,c);To(s,s._dbSchema,c);for(var m=0,b=Oa(f,s._dbSchema).change;m<b.length;m++){var v=function(A){if(A.change.length||A.recreate)return console.warn("Unable to patch indexes of table ".concat(A.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=c.objectStore(A.name);A.add.forEach(function(P){st&&console.debug("Dexie upgrade patch: Creating missing index ".concat(A.name,".").concat(P.src)),Do(N,P)})}(b[m]);if(typeof v=="object")return v.value}}function Oa(s,c){var f,m={del:[],add:[],change:[]};for(f in s)c[f]||m.del.push(f);for(f in c){var b=s[f],v=c[f];if(b){var A={name:f,def:v,recreate:!1,del:[],add:[],change:[]};if(""+(b.primKey.keyPath||"")!=""+(v.primKey.keyPath||"")||b.primKey.auto!==v.primKey.auto)A.recreate=!0,m.change.push(A);else{var N=b.idxByName,P=v.idxByName,R=void 0;for(R in N)P[R]||A.del.push(R);for(R in P){var L=N[R],T=P[R];L?L.src!==T.src&&A.change.push(T):A.add.push(T)}(0<A.del.length||0<A.add.length||0<A.change.length)&&m.change.push(A)}}else m.add.push([f,v])}return m}function La(s,c,f,m){var b=s.db.createObjectStore(c,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});return m.forEach(function(v){return Do(b,v)}),b}function Zi(s,c){u(s).forEach(function(f){c.db.objectStoreNames.contains(f)||(st&&console.debug("Dexie: Creating missing table",f),La(c,f,s[f].primKey,s[f].indexes))})}function Do(s,c){s.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function No(s,c,f){var m={};return _(c.objectStoreNames,0).forEach(function(b){for(var v=f.objectStore(b),A=Pa(Gi(R=v.keyPath),R||"",!0,!1,!!v.autoIncrement,R&&typeof R!="string",!0),N=[],P=0;P<v.indexNames.length;++P){var L=v.index(v.indexNames[P]),R=L.keyPath,L=Pa(L.name,R,!!L.unique,!!L.multiEntry,!1,R&&typeof R!="string",!1);N.push(L)}m[b]=Ia(b,A,N)}),m}function To(s,c,f){for(var m=f.db.objectStoreNames,b=0;b<m.length;++b){var v=m[b],A=f.objectStore(v);s._hasGetAll="getAll"in A;for(var N=0;N<A.indexNames.length;++N){var P=A.indexNames[N],R=A.index(P).keyPath,L=typeof R=="string"?R:"["+_(R).join("+")+"]";!c[v]||(R=c[v].idxByName[L])&&(R.name=P,delete c[v].idxByName[L],c[v].idxByName[P]=R)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Xi(s){return s.split(",").map(function(c,f){var v=c.split(":"),m=(b=v[1])===null||b===void 0?void 0:b.trim(),b=(c=v[0].trim()).replace(/([&*]|\+\+)/g,""),v=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return Pa(b,v||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),l(v),f===0,m)})}var fp=(ar.prototype._createTableSchema=Ia,ar.prototype._parseIndexSyntax=Xi,ar.prototype._parseStoresSpec=function(s,c){var f=this;u(s).forEach(function(m){if(s[m]!==null){var b=f._parseIndexSyntax(s[m]),v=b.shift();if(!v)throw new ue.Schema("Invalid schema for table "+m+": "+s[m]);if(v.unique=!0,v.multi)throw new ue.Schema("Primary key cannot be multiEntry*");b.forEach(function(A){if(A.auto)throw new ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!A.keyPath)throw new ue.Schema("Index must have a name and cannot be an empty string")}),b=f._createTableSchema(m,v,b),c[m]=b}})},ar.prototype.stores=function(f){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,f):f;var f=c._versions,m={},b={};return f.forEach(function(v){d(m,v._cfg.storesSource),b=v._cfg.dbschema={},v._parseStoresSpec(m,b)}),c._dbSchema=b,Fa(c,[c._allTables,c,c.Transaction.prototype]),Ao(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],u(b),b),c._storeNames=u(b),this},ar.prototype.upgrade=function(s){return this._cfg.contentUpgrade=yn(this._cfg.contentUpgrade||we,s),this},ar);function ar(){}function za(s,c){var f=s._dbNamesDB;return f||(f=s._dbNamesDB=new mn(wo,{addons:[],indexedDB:s,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Ba(s){return s&&typeof s.databases=="function"}function $a(s){return Cn(function(){return pe.letThrough=!0,s()})}function qa(s){return!("from"in s)}var pt=function(s,c){if(!this){var f=new pt;return s&&"d"in s&&d(f,s),f}d(this,arguments.length?{d:1,from:s,to:1<arguments.length?c:s}:{d:0})};function Or(s,c,f){var m=Ke(c,f);if(!isNaN(m)){if(0<m)throw RangeError();if(qa(s))return d(s,{from:c,to:f,d:1});var b=s.l,m=s.r;if(Ke(f,s.from)<0)return b?Or(b,c,f):s.l={from:c,to:f,d:1,l:null,r:null},Ji(s);if(0<Ke(c,s.to))return m?Or(m,c,f):s.r={from:c,to:f,d:1,l:null,r:null},Ji(s);Ke(c,s.from)<0&&(s.from=c,s.l=null,s.d=m?m.d+1:1),0<Ke(f,s.to)&&(s.to=f,s.r=null,s.d=s.l?s.l.d+1:1),f=!s.r,b&&!s.l&&Lr(s,b),m&&f&&Lr(s,m)}}function Lr(s,c){qa(c)||function f(m,P){var v=P.from,A=P.to,N=P.l,P=P.r;Or(m,v,A),N&&f(m,N),P&&f(m,P)}(s,c)}function Qi(s,c){var f=Mo(c),m=f.next();if(m.done)return!1;for(var b=m.value,v=Mo(s),A=v.next(b.from),N=A.value;!m.done&&!A.done;){if(Ke(N.from,b.to)<=0&&0<=Ke(N.to,b.from))return!0;Ke(b.from,N.from)<0?b=(m=f.next(N.from)).value:N=(A=v.next(b.from)).value}return!1}function Mo(s){var c=qa(s)?null:{s:0,n:s};return{next:function(f){for(var m=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,m)for(;c.n.l&&Ke(f,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!m||Ke(f,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function Ji(s){var c,f,m=(((c=s.r)===null||c===void 0?void 0:c.d)||0)-(((f=s.l)===null||f===void 0?void 0:f.d)||0),b=1<m?"r":m<-1?"l":"";b&&(c=b=="r"?"l":"r",f=r({},s),m=s[b],s.from=m.from,s.to=m.to,s[b]=m[b],f[b]=m[c],(s[c]=f).d=eu(f)),s.d=eu(s)}function eu(f){var c=f.r,f=f.l;return(c?f?Math.max(c.d,f.d):c.d:f?f.d:0)+1}function Po(s,c){return u(c).forEach(function(f){s[f]?Lr(s[f],c[f]):s[f]=function m(b){var v,A,N={};for(v in b)x(b,v)&&(A=b[v],N[v]=!A||typeof A!="object"||G.has(A.constructor)?A:m(A));return N}(c[f])}),s}function Ua(s,c){return s.all||c.all||Object.keys(s).some(function(f){return c[f]&&Qi(c[f],s[f])})}C(pt.prototype,((Lt={add:function(s){return Lr(this,s),this},addKey:function(s){return Or(this,s,s),this},addKeys:function(s){var c=this;return s.forEach(function(f){return Or(c,f,f)}),this},hasKey:function(s){var c=Mo(this).next(s).value;return c&&Ke(c.from,s)<=0&&0<=Ke(c.to,s)}})[be]=function(){return Mo(this)},Lt));var Vn={},Ka={},Ha=!1;function Io(s){Po(Ka,s),Ha||(Ha=!0,setTimeout(function(){Ha=!1,Va(Ka,!(Ka={}))},0))}function Va(s,c){c===void 0&&(c=!1);var f=new Set;if(s.all)for(var m=0,b=Object.values(Vn);m<b.length;m++)tu(A=b[m],s,f,c);else for(var v in s){var A,N=/^idb\:\/\/(.*)\/(.*)\//.exec(v);N&&(v=N[1],N=N[2],(A=Vn["idb://".concat(v,"/").concat(N)])&&tu(A,s,f,c))}f.forEach(function(P){return P()})}function tu(s,c,f,m){for(var b=[],v=0,A=Object.entries(s.queries.query);v<A.length;v++){for(var N=A[v],P=N[0],R=[],L=0,T=N[1];L<T.length;L++){var $=T[L];Ua(c,$.obsSet)?$.subscribers.forEach(function(z){return f.add(z)}):m&&R.push($)}m&&b.push([P,R])}if(m)for(var I=0,O=b;I<O.length;I++){var B=O[I],P=B[0],R=B[1];s.queries.query[P]=R}}function hp(s){var c=s._state,f=s._deps.indexedDB;if(c.isBeingOpened||s.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?nt(c.dbOpenError):s});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var m=c.openCanceller,b=Math.round(10*s.verno),v=!1;function A(){if(c.openCanceller!==m)throw new ue.DatabaseClosed("db.open() was cancelled")}function N(){return new ie(function($,I){if(A(),!f)throw new ue.MissingAPI;var O=s.name,B=c.autoSchema||!b?f.open(O):f.open(O,b);if(!B)throw new ue.MissingAPI;B.onerror=en(I),B.onblocked=$e(s._fireOnBlocked),B.onupgradeneeded=$e(function(z){var q;L=B.transaction,c.autoSchema&&!s._options.allowEmptyDB?(B.onerror=Pr,L.abort(),B.result.close(),(q=f.deleteDatabase(O)).onsuccess=q.onerror=$e(function(){I(new ue.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(L.onerror=en(I),z=z.oldVersion>Math.pow(2,62)?0:z.oldVersion,T=z<1,s.idbdb=B.result,v&&dp(s,L),cp(s,z/10,L,I))},I),B.onsuccess=$e(function(){L=null;var z,q,H,V,W,J=s.idbdb=B.result,ae=_(J.objectStoreNames);if(0<ae.length)try{var ee=J.transaction((V=ae).length===1?V[0]:V,"readonly");if(c.autoSchema)q=J,H=ee,(z=s).verno=q.version/10,H=z._dbSchema=No(0,q,H),z._storeNames=_(q.objectStoreNames,0),Ao(z,[z._allTables],u(H),H);else if(To(s,s._dbSchema,ee),((W=Oa(No(0,(W=s).idbdb,ee),W._dbSchema)).add.length||W.change.some(function(ne){return ne.add.length||ne.change.length}))&&!v)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),J.close(),b=J.version+1,v=!0,$(N());jo(s,ee)}catch{}nr.push(s),J.onversionchange=$e(function(ne){c.vcFired=!0,s.on("versionchange").fire(ne)}),J.onclose=$e(function(ne){s.on("close").fire(ne)}),T&&(W=s._deps,ee=O,J=W.indexedDB,W=W.IDBKeyRange,Ba(J)||ee===wo||za(J,W).put({name:ee}).catch(we)),$()},I)}).catch(function($){switch($?.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<b)return b=0,N()}return ie.reject($)})}var P,R=c.dbReadyResolve,L=null,T=!1;return ie.race([m,(typeof navigator>"u"?ie.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function($){function I(){return indexedDB.databases().finally($)}P=setInterval(I,100),I()}).finally(function(){return clearInterval(P)}):Promise.resolve()).then(N)]).then(function(){return A(),c.onReadyBeingFired=[],ie.resolve($a(function(){return s.on.ready.fire(s.vip)})).then(function $(){if(0<c.onReadyBeingFired.length){var I=c.onReadyBeingFired.reduce(yn,we);return c.onReadyBeingFired=[],ie.resolve($a(function(){return I(s.vip)})).then($)}})}).finally(function(){c.openCanceller===m&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function($){c.dbOpenError=$;try{L&&L.abort()}catch{}return m===c.openCanceller&&s._close(),nt($)}).finally(function(){c.openComplete=!0,R()}).then(function(){var $;return T&&($={},s.tables.forEach(function(I){I.schema.indexes.forEach(function(O){O.name&&($["idb://".concat(s.name,"/").concat(I.name,"/").concat(O.name)]=new pt(-1/0,[[[]]]))}),$["idb://".concat(s.name,"/").concat(I.name,"/")]=$["idb://".concat(s.name,"/").concat(I.name,"/:dels")]=new pt(-1/0,[[[]]])}),En(Ir).fire($),Va($,!0)),s})}function Wa(s){function c(v){return s.next(v)}var f=b(c),m=b(function(v){return s.throw(v)});function b(v){return function(P){var N=v(P),P=N.value;return N.done?P:P&&typeof P.then=="function"?P.then(f,m):l(P)?Promise.all(P).then(f,m):f(P)}}return b(c)()}function Ro(s,c,f){for(var m=l(s)?s.slice():[s],b=0;b<f;++b)m.push(c);return m}var pp={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(c){var f=s.table(c),m=f.schema,b={},v=[];function A(T,$,I){var O=Fr(T),B=b[O]=b[O]||[],z=T==null?0:typeof T=="string"?1:T.length,q=0<$,q=r(r({},I),{name:q?"".concat(O,"(virtual-from:").concat(I.name,")"):I.name,lowLevelIndex:I,isVirtual:q,keyTail:$,keyLength:z,extractKey:Ra(T),unique:!q&&I.unique});return B.push(q),q.isPrimaryKey||v.push(q),1<z&&A(z===2?T[0]:T.slice(0,z-1),$+1,I),B.sort(function(H,V){return H.keyTail-V.keyTail}),q}c=A(m.primaryKey.keyPath,0,m.primaryKey),b[":id"]=[c];for(var N=0,P=m.indexes;N<P.length;N++){var R=P[N];A(R.keyPath,0,R)}function L(T){var $,I=T.query.index;return I.isVirtual?r(r({},T),{query:{index:I.lowLevelIndex,range:($=T.query.range,I=I.keyTail,{type:$.type===1?2:$.type,lower:Ro($.lower,$.lowerOpen?s.MAX_KEY:s.MIN_KEY,I),lowerOpen:!0,upper:Ro($.upper,$.upperOpen?s.MIN_KEY:s.MAX_KEY,I),upperOpen:!0})}}):T}return r(r({},f),{schema:r(r({},m),{primaryKey:c,indexes:v,getIndexByKeyPath:function(T){return(T=b[Fr(T)])&&T[0]}}),count:function(T){return f.count(L(T))},query:function(T){return f.query(L(T))},openCursor:function(T){var $=T.query.index,I=$.keyTail,O=$.isVirtual,B=$.keyLength;return O?f.openCursor(L(T)).then(function(q){return q&&z(q)}):f.openCursor(T);function z(q){return Object.create(q,{continue:{value:function(H){H!=null?q.continue(Ro(H,T.reverse?s.MAX_KEY:s.MIN_KEY,I)):T.unique?q.continue(q.key.slice(0,B).concat(T.reverse?s.MIN_KEY:s.MAX_KEY,I)):q.continue()}},continuePrimaryKey:{value:function(H,V){q.continuePrimaryKey(Ro(H,s.MAX_KEY,I),V)}},primaryKey:{get:function(){return q.primaryKey}},key:{get:function(){var H=q.key;return B===1?H[0]:H.slice(0,B)}},value:{get:function(){return q.value}}})}}})}})}};function Ga(s,c,f,m){return f=f||{},m=m||"",u(s).forEach(function(b){var v,A,N;x(c,b)?(v=s[b],A=c[b],typeof v=="object"&&typeof A=="object"&&v&&A?(N=Ne(v))!==Ne(A)?f[m+b]=c[b]:N==="Object"?Ga(v,A,f,m+b+"."):v!==A&&(f[m+b]=c[b]):v!==A&&(f[m+b]=c[b])):f[m+b]=void 0}),u(c).forEach(function(b){x(s,b)||(f[m+b]=c[b])}),f}function Ya(s,c){return c.type==="delete"?c.keys:c.keys||c.values.map(s.extractKey)}var mp={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(c){var f=s.table(c),m=f.schema.primaryKey;return r(r({},f),{mutate:function(b){var v=pe.trans,A=v.table(c).hook,N=A.deleting,P=A.creating,R=A.updating;switch(b.type){case"add":if(P.fire===we)break;return v._promise("readwrite",function(){return L(b)},!0);case"put":if(P.fire===we&&R.fire===we)break;return v._promise("readwrite",function(){return L(b)},!0);case"delete":if(N.fire===we)break;return v._promise("readwrite",function(){return L(b)},!0);case"deleteRange":if(N.fire===we)break;return v._promise("readwrite",function(){return function T($,I,O){return f.query({trans:$,values:!1,query:{index:m,range:I},limit:O}).then(function(B){var z=B.result;return L({type:"delete",keys:z,trans:$}).then(function(q){return 0<q.numFailures?Promise.reject(q.failures[0]):z.length<O?{failures:[],numFailures:0,lastResult:void 0}:T($,r(r({},I),{lower:z[z.length-1],lowerOpen:!0}),O)})})}(b.trans,b.range,1e4)},!0)}return f.mutate(b);function L(T){var $,I,O,B=pe.trans,z=T.keys||Ya(m,T);if(!z)throw new Error("Keys missing");return(T=T.type==="add"||T.type==="put"?r(r({},T),{keys:z}):r({},T)).type!=="delete"&&(T.values=o([],T.values)),T.keys&&(T.keys=o([],T.keys)),$=f,O=z,((I=T).type==="add"?Promise.resolve([]):$.getMany({trans:I.trans,keys:O,cache:"immutable"})).then(function(q){var H=z.map(function(V,W){var J,ae,ee,ne=q[W],ce={onerror:null,onsuccess:null};return T.type==="delete"?N.fire.call(ce,V,ne,B):T.type==="add"||ne===void 0?(J=P.fire.call(ce,V,T.values[W],B),V==null&&J!=null&&(T.keys[W]=V=J,m.outbound||K(T.values[W],m.keyPath,V))):(J=Ga(ne,T.values[W]),(ae=R.fire.call(ce,J,V,ne,B))&&(ee=T.values[W],Object.keys(ae).forEach(function(le){x(ee,le)?ee[le]=ae[le]:K(ee,le,ae[le])}))),ce});return f.mutate(T).then(function(V){for(var W=V.failures,J=V.results,ae=V.numFailures,V=V.lastResult,ee=0;ee<z.length;++ee){var ne=(J||z)[ee],ce=H[ee];ne==null?ce.onerror&&ce.onerror(W[ee]):ce.onsuccess&&ce.onsuccess(T.type==="put"&&q[ee]?T.values[ee]:ne)}return{failures:W,results:J,numFailures:ae,lastResult:V}}).catch(function(V){return H.forEach(function(W){return W.onerror&&W.onerror(V)}),Promise.reject(V)})})}}})}})}};function nu(s,c,f){try{if(!c||c.keys.length<s.length)return null;for(var m=[],b=0,v=0;b<c.keys.length&&v<s.length;++b)Ke(c.keys[b],s[v])===0&&(m.push(f?je(c.values[b]):c.values[b]),++v);return m.length===s.length?m:null}catch{return null}}var gp={stack:"dbcore",level:-1,create:function(s){return{table:function(c){var f=s.table(c);return r(r({},f),{getMany:function(m){if(!m.cache)return f.getMany(m);var b=nu(m.keys,m.trans._cache,m.cache==="clone");return b?ie.resolve(b):f.getMany(m).then(function(v){return m.trans._cache={keys:m.keys,values:m.cache==="clone"?je(v):v},v})},mutate:function(m){return m.type!=="add"&&(m.trans._cache=null),f.mutate(m)}})}}}};function ru(s,c){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function ou(s,c){switch(s){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var bp={stack:"dbcore",level:0,name:"Observability",create:function(s){var c=s.schema.name,f=new pt(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(m,b,v){if(pe.subscr&&b!=="readonly")throw new ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(pe.querier));return s.transaction(m,b,v)},table:function(m){var b=s.table(m),v=b.schema,A=v.primaryKey,T=v.indexes,N=A.extractKey,P=A.outbound,R=A.autoIncrement&&T.filter(function(I){return I.compound&&I.keyPath.includes(A.keyPath)}),L=r(r({},b),{mutate:function(I){function O(le){return le="idb://".concat(c,"/").concat(m,"/").concat(le),V[le]||(V[le]=new pt)}var B,z,q,H=I.trans,V=I.mutatedParts||(I.mutatedParts={}),W=O(""),J=O(":dels"),ae=I.type,ce=I.type==="deleteRange"?[I.range]:I.type==="delete"?[I.keys]:I.values.length<50?[Ya(A,I).filter(function(le){return le}),I.values]:[],ee=ce[0],ne=ce[1],ce=I.trans._cache;return l(ee)?(W.addKeys(ee),(ce=ae==="delete"||ee.length===ne.length?nu(ee,ce):null)||J.addKeys(ee),(ce||ne)&&(B=O,z=ce,q=ne,v.indexes.forEach(function(le){var de=B(le.name||"");function Fe(Te){return Te!=null?le.extractKey(Te):null}function He(Te){return le.multiEntry&&l(Te)?Te.forEach(function(et){return de.addKey(et)}):de.addKey(Te)}(z||q).forEach(function(Te,mt){var De=z&&Fe(z[mt]),mt=q&&Fe(q[mt]);Ke(De,mt)!==0&&(De!=null&&He(De),mt!=null&&He(mt))})}))):ee?(ne={from:(ne=ee.lower)!==null&&ne!==void 0?ne:s.MIN_KEY,to:(ne=ee.upper)!==null&&ne!==void 0?ne:s.MAX_KEY},J.add(ne),W.add(ne)):(W.add(f),J.add(f),v.indexes.forEach(function(le){return O(le.name).add(f)})),b.mutate(I).then(function(le){return!ee||I.type!=="add"&&I.type!=="put"||(W.addKeys(le.results),R&&R.forEach(function(de){for(var Fe=I.values.map(function(De){return de.extractKey(De)}),He=de.keyPath.findIndex(function(De){return De===A.keyPath}),Te=0,et=le.results.length;Te<et;++Te)Fe[Te][He]=le.results[Te];O(de.name).addKeys(Fe)})),H.mutatedParts=Po(H.mutatedParts||{},V),le})}}),T=function(O){var B=O.query,O=B.index,B=B.range;return[O,new pt((O=B.lower)!==null&&O!==void 0?O:s.MIN_KEY,(B=B.upper)!==null&&B!==void 0?B:s.MAX_KEY)]},$={get:function(I){return[A,new pt(I.key)]},getMany:function(I){return[A,new pt().addKeys(I.keys)]},count:T,query:T,openCursor:T};return u($).forEach(function(I){L[I]=function(O){var B=pe.subscr,z=!!B,q=ru(pe,b)&&ou(I,O)?O.obsSet={}:B;if(z){var H=function(ne){return ne="idb://".concat(c,"/").concat(m,"/").concat(ne),q[ne]||(q[ne]=new pt)},V=H(""),W=H(":dels"),B=$[I](O),z=B[0],B=B[1];if((I==="query"&&z.isPrimaryKey&&!O.values?W:H(z.name||"")).add(B),!z.isPrimaryKey){if(I!=="count"){var J=I==="query"&&P&&O.values&&b.query(r(r({},O),{values:!1}));return b[I].apply(this,arguments).then(function(ne){if(I==="query"){if(P&&O.values)return J.then(function(Fe){return Fe=Fe.result,V.addKeys(Fe),ne});var ce=O.values?ne.result.map(N):ne.result;(O.values?V:W).addKeys(ce)}else if(I==="openCursor"){var le=ne,de=O.values;return le&&Object.create(le,{key:{get:function(){return W.addKey(le.primaryKey),le.key}},primaryKey:{get:function(){var Fe=le.primaryKey;return W.addKey(Fe),Fe}},value:{get:function(){return de&&V.addKey(le.primaryKey),le.value}}})}return ne})}W.add(f)}}return b[I].apply(this,arguments)}}),L}})}};function au(s,c,f){if(f.numFailures===0)return c;if(c.type==="deleteRange")return null;var m=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return f.numFailures===m?null:(c=r({},c),l(c.keys)&&(c.keys=c.keys.filter(function(b,v){return!(v in f.failures)})),"values"in c&&l(c.values)&&(c.values=c.values.filter(function(b,v){return!(v in f.failures)})),c)}function Za(s,c){return f=s,((m=c).lower===void 0||(m.lowerOpen?0<Ke(f,m.lower):0<=Ke(f,m.lower)))&&(s=s,(c=c).upper===void 0||(c.upperOpen?Ke(s,c.upper)<0:Ke(s,c.upper)<=0));var f,m}function su(s,c,$,m,b,v){if(!$||$.length===0)return s;var A=c.query.index,N=A.multiEntry,P=c.query.range,R=m.schema.primaryKey.extractKey,L=A.extractKey,T=(A.lowLevelIndex||A).extractKey,$=$.reduce(function(I,O){var B=I,z=[];if(O.type==="add"||O.type==="put")for(var q=new pt,H=O.values.length-1;0<=H;--H){var V,W=O.values[H],J=R(W);q.hasKey(J)||(V=L(W),(N&&l(V)?V.some(function(le){return Za(le,P)}):Za(V,P))&&(q.addKey(J),z.push(W)))}switch(O.type){case"add":var ae=new pt().addKeys(c.values?I.map(function(de){return R(de)}):I),B=I.concat(c.values?z.filter(function(de){return de=R(de),!ae.hasKey(de)&&(ae.addKey(de),!0)}):z.map(function(de){return R(de)}).filter(function(de){return!ae.hasKey(de)&&(ae.addKey(de),!0)}));break;case"put":var ee=new pt().addKeys(O.values.map(function(de){return R(de)}));B=I.filter(function(de){return!ee.hasKey(c.values?R(de):de)}).concat(c.values?z:z.map(function(de){return R(de)}));break;case"delete":var ne=new pt().addKeys(O.keys);B=I.filter(function(de){return!ne.hasKey(c.values?R(de):de)});break;case"deleteRange":var ce=O.range;B=I.filter(function(de){return!Za(R(de),ce)})}return B},s);return $===s?s:($.sort(function(I,O){return Ke(T(I),T(O))||Ke(R(I),R(O))}),c.limit&&c.limit<1/0&&($.length>c.limit?$.length=c.limit:s.length===c.limit&&$.length<c.limit&&(b.dirty=!0)),v?Object.freeze($):$)}function iu(s,c){return Ke(s.lower,c.lower)===0&&Ke(s.upper,c.upper)===0&&!!s.lowerOpen==!!c.lowerOpen&&!!s.upperOpen==!!c.upperOpen}function xp(s,c){return function(f,m,b,v){if(f===void 0)return m!==void 0?-1:0;if(m===void 0)return 1;if((m=Ke(f,m))===0){if(b&&v)return 0;if(b)return 1;if(v)return-1}return m}(s.lower,c.lower,s.lowerOpen,c.lowerOpen)<=0&&0<=function(f,m,b,v){if(f===void 0)return m!==void 0?1:0;if(m===void 0)return-1;if((m=Ke(f,m))===0){if(b&&v)return 0;if(b)return-1;if(v)return 1}return m}(s.upper,c.upper,s.upperOpen,c.upperOpen)}function yp(s,c,f,m){s.subscribers.add(f),m.addEventListener("abort",function(){var b,v;s.subscribers.delete(f),s.subscribers.size===0&&(b=s,v=c,setTimeout(function(){b.subscribers.size===0&&Ae(v,b)},3e3))})}var vp={stack:"dbcore",level:0,name:"Cache",create:function(s){var c=s.schema.name;return r(r({},s),{transaction:function(f,m,b){var v,A,N=s.transaction(f,m,b);return m==="readwrite"&&(A=(v=new AbortController).signal,b=function(P){return function(){if(v.abort(),m==="readwrite"){for(var R=new Set,L=0,T=f;L<T.length;L++){var $=T[L],I=Vn["idb://".concat(c,"/").concat($)];if(I){var O=s.table($),B=I.optimisticOps.filter(function(de){return de.trans===N});if(N._explicit&&P&&N.mutatedParts)for(var z=0,q=Object.values(I.queries.query);z<q.length;z++)for(var H=0,V=(ae=q[z]).slice();H<V.length;H++)Ua((ee=V[H]).obsSet,N.mutatedParts)&&(Ae(ae,ee),ee.subscribers.forEach(function(de){return R.add(de)}));else if(0<B.length){I.optimisticOps=I.optimisticOps.filter(function(de){return de.trans!==N});for(var W=0,J=Object.values(I.queries.query);W<J.length;W++)for(var ae,ee,ne,ce=0,le=(ae=J[W]).slice();ce<le.length;ce++)(ee=le[ce]).res!=null&&N.mutatedParts&&(P&&!ee.dirty?(ne=Object.isFrozen(ee.res),ne=su(ee.res,ee.req,B,O,ee,ne),ee.dirty?(Ae(ae,ee),ee.subscribers.forEach(function(de){return R.add(de)})):ne!==ee.res&&(ee.res=ne,ee.promise=ie.resolve({result:ne}))):(ee.dirty&&Ae(ae,ee),ee.subscribers.forEach(function(de){return R.add(de)})))}}}R.forEach(function(de){return de()})}}},N.addEventListener("abort",b(!1),{signal:A}),N.addEventListener("error",b(!1),{signal:A}),N.addEventListener("complete",b(!0),{signal:A})),N},table:function(f){var m=s.table(f),b=m.schema.primaryKey;return r(r({},m),{mutate:function(v){var A=pe.trans;if(b.outbound||A.db._options.cache==="disabled"||A.explicit||A.idbtrans.mode!=="readwrite")return m.mutate(v);var N=Vn["idb://".concat(c,"/").concat(f)];return N?(A=m.mutate(v),v.type!=="add"&&v.type!=="put"||!(50<=v.values.length||Ya(b,v).some(function(P){return P==null}))?(N.optimisticOps.push(v),v.mutatedParts&&Io(v.mutatedParts),A.then(function(P){0<P.numFailures&&(Ae(N.optimisticOps,v),(P=au(0,v,P))&&N.optimisticOps.push(P),v.mutatedParts&&Io(v.mutatedParts))}),A.catch(function(){Ae(N.optimisticOps,v),v.mutatedParts&&Io(v.mutatedParts)})):A.then(function(P){var R=au(0,r(r({},v),{values:v.values.map(function(L,T){var $;return P.failures[T]?L:(L=($=b.keyPath)!==null&&$!==void 0&&$.includes(".")?je(L):r({},L),K(L,b.keyPath,P.results[T]),L)})}),P);N.optimisticOps.push(R),queueMicrotask(function(){return v.mutatedParts&&Io(v.mutatedParts)})}),A):m.mutate(v)},query:function(v){if(!ru(pe,m)||!ou("query",v))return m.query(v);var A=((R=pe.trans)===null||R===void 0?void 0:R.db._options.cache)==="immutable",T=pe,N=T.requery,P=T.signal,R=function(O,B,z,q){var H=Vn["idb://".concat(O,"/").concat(B)];if(!H)return[];if(!(B=H.queries[z]))return[null,!1,H,null];var V=B[(q.query?q.query.index.name:null)||""];if(!V)return[null,!1,H,null];switch(z){case"query":var W=V.find(function(J){return J.req.limit===q.limit&&J.req.values===q.values&&iu(J.req.query.range,q.query.range)});return W?[W,!0,H,V]:[V.find(function(J){return("limit"in J.req?J.req.limit:1/0)>=q.limit&&(!q.values||J.req.values)&&xp(J.req.query.range,q.query.range)}),!1,H,V];case"count":return W=V.find(function(J){return iu(J.req.query.range,q.query.range)}),[W,!!W,H,V]}}(c,f,"query",v),L=R[0],T=R[1],$=R[2],I=R[3];return L&&T?L.obsSet=v.obsSet:(T=m.query(v).then(function(O){var B=O.result;if(L&&(L.res=B),A){for(var z=0,q=B.length;z<q;++z)Object.freeze(B[z]);Object.freeze(B)}else O.result=je(B);return O}).catch(function(O){return I&&L&&Ae(I,L),Promise.reject(O)}),L={obsSet:v.obsSet,promise:T,subscribers:new Set,type:"query",req:v,dirty:!1},I?I.push(L):(I=[L],($=$||(Vn["idb://".concat(c,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[v.query.index.name||""]=I)),yp(L,I,N,P),L.promise.then(function(O){return{result:su(O.result,v,$?.optimisticOps,m,L,A)}})}})}})}};function Fo(s,c){return new Proxy(s,{get:function(f,m,b){return m==="db"?c:Reflect.get(f,m,b)}})}var mn=(rt.prototype.version=function(s){if(isNaN(s)||s<.1)throw new ue.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var c=this._versions,f=c.filter(function(m){return m._cfg.version===s})[0];return f||(f=new this.Version(s),c.push(f),c.sort(lp),f.stores({}),this._state.autoSchema=!1,f)},rt.prototype._whenReady=function(s){var c=this;return this.idbdb&&(this._state.openComplete||pe.letThrough||this._vip)?s():new ie(function(f,m){if(c._state.openComplete)return m(new ue.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void m(new ue.DatabaseClosed);c.open().catch(we)}c._state.dbReadyPromise.then(f,m)}).then(s)},rt.prototype.use=function(s){var c=s.stack,f=s.create,m=s.level,b=s.name;return b&&this.unuse({stack:c,name:b}),s=this._middlewares[c]||(this._middlewares[c]=[]),s.push({stack:c,create:f,level:m??10,name:b}),s.sort(function(v,A){return v.level-A.level}),this},rt.prototype.unuse=function(s){var c=s.stack,f=s.name,m=s.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(b){return m?b.create!==m:!!f&&b.name!==f})),this},rt.prototype.open=function(){var s=this;return Un(Dt,function(){return hp(s)})},rt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,c=nr.indexOf(this);if(0<=c&&nr.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new ie(function(f){s.dbReadyResolve=f}),s.openCanceller=new ie(function(f,m){s.cancelOpen=m}))},rt.prototype.close=function(f){var c=(f===void 0?{disableAutoOpen:!0}:f).disableAutoOpen,f=this._state;c?(f.isBeingOpened&&f.cancelOpen(new ue.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new ue.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},rt.prototype.delete=function(s){var c=this;s===void 0&&(s={disableAutoOpen:!0});var f=0<arguments.length&&typeof arguments[0]!="object",m=this._state;return new ie(function(b,v){function A(){c.close(s);var N=c._deps.indexedDB.deleteDatabase(c.name);N.onsuccess=$e(function(){var P,R,L;P=c._deps,R=c.name,L=P.indexedDB,P=P.IDBKeyRange,Ba(L)||R===wo||za(L,P).delete(R).catch(we),b()}),N.onerror=en(v),N.onblocked=c._fireOnBlocked}if(f)throw new ue.InvalidArgument("Invalid closeOptions argument to db.delete()");m.isBeingOpened?m.dbReadyPromise.then(A):A()})},rt.prototype.backendDB=function(){return this.idbdb},rt.prototype.isOpen=function(){return this.idbdb!==null},rt.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},rt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},rt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(rt.prototype,"tables",{get:function(){var s=this;return u(this._allTables).map(function(c){return s._allTables[c]})},enumerable:!1,configurable:!0}),rt.prototype.transaction=function(){var s=function(c,f,m){var b=arguments.length;if(b<2)throw new ue.InvalidArgument("Too few arguments");for(var v=new Array(b-1);--b;)v[b-1]=arguments[b];return m=v.pop(),[c,he(v),m]}.apply(this,arguments);return this._transaction.apply(this,s)},rt.prototype._transaction=function(s,c,f){var m=this,b=pe.trans;b&&b.db===this&&s.indexOf("!")===-1||(b=null);var v,A,N=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(A=c.map(function(R){if(R=R instanceof m.Table?R.name:R,typeof R!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return R}),s=="r"||s===Aa)v=Aa;else{if(s!="rw"&&s!=Da)throw new ue.InvalidArgument("Invalid transaction mode: "+s);v=Da}if(b){if(b.mode===Aa&&v===Da){if(!N)throw new ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");b=null}b&&A.forEach(function(R){if(b&&b.storeNames.indexOf(R)===-1){if(!N)throw new ue.SubTransaction("Table "+R+" not included in parent transaction.");b=null}}),N&&b&&!b.active&&(b=null)}}catch(R){return b?b._promise(null,function(L,T){T(R)}):nt(R)}var P=function R(L,T,$,I,O){return ie.resolve().then(function(){var B=pe.transless||pe,z=L._createTransaction(T,$,L._dbSchema,I);if(z.explicit=!0,B={trans:z,transless:B},I)z.idbtrans=I.idbtrans;else try{z.create(),z.idbtrans._explicit=!0,L._state.PR1398_maxLoop=3}catch(V){return V.name===X.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return R(L,T,$,null,O)})):nt(V)}var q,H=xe(O);return H&&tr(),B=ie.follow(function(){var V;(q=O.call(z,z))&&(H?(V=_n.bind(null,null),q.then(V,V)):typeof q.next=="function"&&typeof q.throw=="function"&&(q=Wa(q)))},B),(q&&typeof q.then=="function"?ie.resolve(q).then(function(V){return z.active?V:nt(new ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):B.then(function(){return q})).then(function(V){return I&&z._resolve(),z._completion.then(function(){return V})}).catch(function(V){return z._reject(V),nt(V)})})}.bind(null,this,v,A,b,f);return b?b._promise(v,P,"lock"):pe.trans?Un(pe.transless,function(){return m._whenReady(P)}):this._whenReady(P)},rt.prototype.table=function(s){if(!x(this._allTables,s))throw new ue.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},rt);function rt(s,c){var f=this;this._middlewares={},this.verno=0;var m=rt.dependencies;this._options=c=r({addons:rt.addons,autoOpen:!0,indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},m=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var b,v,A,N,P,R={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:we,dbReadyPromise:null,cancelOpen:we,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};R.dbReadyPromise=new ie(function(T){R.dbReadyResolve=T}),R.openCanceller=new ie(function(T,$){R.cancelOpen=$}),this._state=R,this.name=s,this.on=Nr(this,"populate","blocked","versionchange","close",{ready:[yn,we]}),this.once=function(T,$){var I=function(){for(var O=[],B=0;B<arguments.length;B++)O[B]=arguments[B];f.on(T).unsubscribe(I),$.apply(f,O)};return f.on(T,I)},this.on.ready.subscribe=j(this.on.ready.subscribe,function(T){return function($,I){rt.vip(function(){var O,B=f._state;B.openComplete?(B.dbOpenError||ie.resolve().then($),I&&T($)):B.onReadyBeingFired?(B.onReadyBeingFired.push($),I&&T($)):(T($),O=f,I||T(function z(){O.on.ready.unsubscribe($),O.on.ready.unsubscribe(z)}))})}}),this.Collection=(b=this,Tr(np.prototype,function(q,z){this.db=b;var I=Oi,O=null;if(z)try{I=z()}catch(H){O=H}var B=q._ctx,z=B.table,q=z.hook.reading.fire;this._ctx={table:z,index:B.index,isPrimKey:!B.index||z.schema.primKey.keyPath&&B.index===z.schema.primKey.name,range:I,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:B.or,valueMapper:q!==at?q:null}})),this.Table=(v=this,Tr($i.prototype,function(T,$,I){this.db=v,this._tx=I,this.name=T,this.schema=$,this.hook=v._allTables[T]?v._allTables[T].hook:Nr(null,{creating:[Zt,we],reading:[At,at],updating:[$n,we],deleting:[dn,we]})})),this.Transaction=(A=this,Tr(ap.prototype,function(T,$,I,O,B){var z=this;T!=="readonly"&&$.forEach(function(q){q=(q=I[q])===null||q===void 0?void 0:q.yProps,q&&($=$.concat(q.map(function(H){return H.updatesTable})))}),this.db=A,this.mode=T,this.storeNames=$,this.schema=I,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=Nr(this,"complete","error","abort"),this.parent=B||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ie(function(q,H){z._resolve=q,z._reject=H}),this._completion.then(function(){z.active=!1,z.on.complete.fire()},function(q){var H=z.active;return z.active=!1,z.on.error.fire(q),z.parent?z.parent._reject(q):H&&z.idbtrans&&z.idbtrans.abort(),nt(q)})})),this.Version=(N=this,Tr(fp.prototype,function(T){this.db=N,this._cfg={version:T,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(P=this,Tr(Wi.prototype,function(T,$,I){if(this.db=P,this._ctx={table:T,index:$===":id"?null:$,or:I},this._cmp=this._ascending=Ke,this._descending=function(O,B){return Ke(B,O)},this._max=function(O,B){return 0<Ke(O,B)?O:B},this._min=function(O,B){return Ke(O,B)<0?O:B},this._IDBKeyRange=P._deps.IDBKeyRange,!this._IDBKeyRange)throw new ue.MissingAPI})),this.on("versionchange",function(T){0<T.newVersion?console.warn("Another connection wants to upgrade database '".concat(f.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(f.name,"'. Closing db now to resume the delete request.")),f.close({disableAutoOpen:!1})}),this.on("blocked",function(T){!T.newVersion||T.newVersion<T.oldVersion?console.warn("Dexie.delete('".concat(f.name,"') was blocked")):console.warn("Upgrade '".concat(f.name,"' blocked by other connection holding version ").concat(T.oldVersion/10))}),this._maxKey=Rr(c.IDBKeyRange),this._createTransaction=function(T,$,I,O){return new f.Transaction(T,$,I,f._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(T){f.on("blocked").fire(T),nr.filter(function($){return $.name===f.name&&$!==f&&!$._state.vcFired}).map(function($){return $.on("versionchange").fire(T)})},this.use(gp),this.use(vp),this.use(bp),this.use(pp),this.use(mp);var L=new Proxy(this,{get:function(T,$,I){if($==="_vip")return!0;if($==="table")return function(B){return Fo(f.table(B),L)};var O=Reflect.get(T,$,I);return O instanceof $i?Fo(O,L):$==="tables"?O.map(function(B){return Fo(B,L)}):$==="_createTransaction"?function(){return Fo(O.apply(this,arguments),L)}:O}});this.vip=L,m.forEach(function(T){return T(f)})}var Oo,Lt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",wp=(Xa.prototype.subscribe=function(s,c,f){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:c,complete:f})},Xa.prototype[Lt]=function(){return this},Xa);function Xa(s){this._subscribe=s}try{Oo={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Oo={indexedDB:null,IDBKeyRange:null}}function uu(s){var c,f=!1,m=new wp(function(b){var v=xe(s),A,N=!1,P={},R={},L={get closed(){return N},unsubscribe:function(){N||(N=!0,A&&A.abort(),T&&En.storagemutated.unsubscribe(I))}};b.start&&b.start(L);var T=!1,$=function(){return ja(O)},I=function(B){Po(P,B),Ua(R,P)&&$()},O=function(){var B,z,q;!N&&Oo.indexedDB&&(P={},B={},A&&A.abort(),A=new AbortController,q=function(H){var V=it();try{v&&tr();var W=Cn(s,H);return W=v?W.finally(_n):W}finally{V&&ut()}}(z={subscr:B,signal:A.signal,requery:$,querier:s,trans:null}),Promise.resolve(q).then(function(H){f=!0,c=H,N||z.signal.aborted||(P={},function(V){for(var W in V)if(x(V,W))return;return 1}(R=B)||T||(En(Ir,I),T=!0),ja(function(){return!N&&b.next&&b.next(H)}))},function(H){f=!1,["DatabaseClosedError","AbortError"].includes(H?.name)||N||ja(function(){N||b.error&&b.error(H)})}))};return setTimeout($,0),L});return m.hasValue=function(){return f},m.getValue=function(){return c},m}var Wn=mn;function Qa(s){var c=jn;try{jn=!0,En.storagemutated.fire(s),Va(s,!0)}finally{jn=c}}C(Wn,r(r({},Pe),{delete:function(s){return new Wn(s,{addons:[]}).delete()},exists:function(s){return new Wn(s,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return c=Wn.dependencies,f=c.indexedDB,c=c.IDBKeyRange,(Ba(f)?Promise.resolve(f.databases()).then(function(m){return m.map(function(b){return b.name}).filter(function(b){return b!==wo})}):za(f,c).toCollection().primaryKeys()).then(s)}catch{return nt(new ue.MissingAPI)}var c,f},defineClass:function(){return function(s){d(this,s)}},ignoreTransaction:function(s){return pe.trans?Un(pe.transless,s):s()},vip:$a,async:function(s){return function(){try{var c=Wa(s.apply(this,arguments));return c&&typeof c.then=="function"?c:ie.resolve(c)}catch(f){return nt(f)}}},spawn:function(s,c,f){try{var m=Wa(s.apply(f,c||[]));return m&&typeof m.then=="function"?m:ie.resolve(m)}catch(b){return nt(b)}},currentTransaction:{get:function(){return pe.trans||null}},waitFor:function(s,c){return c=ie.resolve(typeof s=="function"?Wn.ignoreTransaction(s):s).timeout(c||6e4),pe.trans?pe.trans.waitFor(c):c},Promise:ie,debug:{get:function(){return st},set:function(s){qn(s)}},derive:k,extend:d,props:C,override:j,Events:Nr,on:En,liveQuery:uu,extendObservabilitySet:Po,getByKeyPath:F,setByKeyPath:K,delByKeyPath:function(s,c){typeof c=="string"?K(s,c,void 0):"length"in c&&[].map.call(c,function(f){K(s,f,void 0)})},shallowClone:Y,deepClone:je,getObjectDiff:Ga,cmp:Ke,asap:M,minKey:-1/0,addons:[],connections:nr,errnames:X,dependencies:Oo,cache:Vn,semVer:"4.2.0",version:"4.2.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,c,f){return s+c/Math.pow(10,2*f)})})),Wn.maxKey=Rr(Wn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(En(Ir,function(s){jn||(s=new CustomEvent(Ma,{detail:s}),jn=!0,dispatchEvent(s),jn=!1)}),addEventListener(Ma,function(s){s=s.detail,jn||Qa(s)}));var sr,jn=!1,lu=function(){};return typeof BroadcastChannel<"u"&&((lu=function(){(sr=new BroadcastChannel(Ma)).onmessage=function(s){return s.data&&Qa(s.data)}})(),typeof sr.unref=="function"&&sr.unref(),En(Ir,function(s){jn||sr.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!mn.disableBfCache&&s.persisted){st&&console.debug("Dexie: handling persisted pagehide"),sr?.close();for(var c=0,f=nr;c<f.length;c++)f[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!mn.disableBfCache&&s.persisted&&(st&&console.debug("Dexie: handling persisted pageshow"),lu(),Qa({all:new pt(-1/0,[[]])}))})),ie.rejectionMapper=function(s,c){return!s||s instanceof ve||s instanceof TypeError||s instanceof SyntaxError||!s.name||!Ue[s.name]?s:(c=new Ue[s.name](c||s.message,s),"stack"in s&&w(c,"stack",{get:function(){return this.inner.stack}}),c)},qn(st),r(mn,Object.freeze({__proto__:null,Dexie:mn,liveQuery:uu,Entity:Li,cmp:Ke,PropModification:Mr,replacePrefix:function(s,c){return new Mr({replacePrefix:[s,c]})},add:function(s){return new Mr({add:s})},remove:function(s){return new Mr({remove:s})},default:mn,RangeSet:pt,mergeRanges:Lr,rangesOverlap:Qi}),{default:mn}),mn})})(Dl);var Zp=Dl.exports;const _s=jl(Zp),fu=Symbol.for("Dexie"),Wo=globalThis[fu]||(globalThis[fu]=_s);if(_s.semVer!==Wo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_s.semVer} and ${Wo.semVer}`);const{liveQuery:g_,mergeRanges:b_,rangesOverlap:x_,RangeSet:y_,cmp:v_,Entity:w_,PropModification:C_,replacePrefix:__,add:k_,remove:S_,DexieYProvider:E_}=Wo;class Xp extends Wo{cards;folders;tags;syncQueue;settings;constructor(){super("CardAllDatabase"),this.version(1).stores({cards:"++id, userId, folderId, createdAt, updatedAt, syncVersion, pendingSync",folders:"++id, userId, parentId, createdAt, updatedAt, syncVersion, pendingSync",tags:"++id, userId, name, createdAt, syncVersion, pendingSync",syncQueue:"++id, type, entity, entityId, timestamp, retryCount",settings:"++id, key, updatedAt"}),this.version(1).upgrade(async t=>{console.log("Initializing CardAll database..."),await t.table("settings").add({key:"storageMode",value:"hybrid",updatedAt:new Date}),await t.table("settings").add({key:"syncEnabled",value:!0,updatedAt:new Date}),await t.table("settings").add({key:"imageCompression",value:{enabled:!0,quality:.8,maxWidth:1920,maxHeight:1080,format:"webp"},updatedAt:new Date})})}async getSetting(t){return(await this.settings.where("key").equals(t).first())?.value}async updateSetting(t,n){await this.settings.where("key").equals(t).modify({value:n,updatedAt:new Date})}async clearAll(){await this.transaction("rw",this.cards,this.folders,this.tags,this.syncQueue,async()=>{await this.cards.clear(),await this.folders.clear(),await this.tags.clear(),await this.syncQueue.clear()})}async getStats(){const[t,n,r,o,a]=await Promise.all([this.cards.count(),this.folders.count(),this.tags.count(),0,this.syncQueue.count()]);return{cards:t,folders:n,tags:r,images:o,pendingSync:a}}async createCard(t){const n=crypto.randomUUID(),r=new Date;return await this.cards.add({...t,id:n,syncVersion:1,pendingSync:!0,updatedAt:r}),n}async updateCard(t,n){return await this.cards.update(t,{...n,syncVersion:n.syncVersion?n.syncVersion+1:void 0,pendingSync:!0,updatedAt:new Date})}async deleteCard(t){await this.cards.delete(t)}}const ye=new Xp;ye.on("blocked",()=>{console.warn("Database operation blocked")});ye.on("versionchange",()=>{console.warn("Database version changed")});ye.on("ready",()=>{console.log("Database is ready")});const Qp="https://elwnpejlwkgdacaugvvd.supabase.co",Jp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsd25wZWpsd2tnZGFjYXVndnZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzMzkxNTAsImV4cCI6MjA2ODkxNTE1MH0.XhVGgO2nf8uS1gC0V6jTMP0p0xN5KKV47t2rK2ncK90",ot=Tp(Qp,Jp,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});class em{syncQueue=[];isOnline=navigator.onLine;syncInProgress=!1;lastSyncTime=null;conflicts=[];listeners=[];authService=null;constructor(){this.initialize()}initialize(){window.addEventListener("online",()=>{this.isOnline=!0,this.notifyStatusChange(),this.processSyncQueue()}),window.addEventListener("offline",()=>{this.isOnline=!1,this.notifyStatusChange()}),setInterval(()=>{this.isOnline&&this.authService?.isAuthenticated()&&this.processSyncQueue()},5*60*1e3)}updateConfig(t){console.log("Cloud sync config updated:",t),t.enabled&&this.isOnline&&this.authService?.isAuthenticated()&&this.processSyncQueue()}setAuthService(t){this.authService=t,t.onAuthStateChange(n=>{n.user&&this.isOnline&&this.performFullSync()})}onStatusChange(t){return this.listeners.push(t),t(this.getCurrentStatus()),()=>{const n=this.listeners.indexOf(t);n>-1&&this.listeners.splice(n,1)}}notifyStatusChange(){const t=this.getCurrentStatus();this.listeners.forEach(n=>n(t))}getCurrentStatus(){return{isOnline:this.isOnline,lastSyncTime:this.lastSyncTime,pendingOperations:this.syncQueue.length,syncInProgress:this.syncInProgress,hasConflicts:this.conflicts.length>0}}async queueOperation(t){const n={...t,id:crypto.randomUUID(),timestamp:new Date,retryCount:0,maxRetries:3};this.syncQueue.push(n),await this.persistSyncQueue(),this.isOnline&&this.authService?.isAuthenticated()&&this.processSyncQueue(),this.notifyStatusChange()}async processSyncQueue(){if(!(this.syncInProgress||!this.isOnline||!this.authService?.isAuthenticated())){this.syncInProgress=!0,this.notifyStatusChange();try{const t=this.syncQueue.slice(0,10);let n=0,r=0;for(const o of t)try{await this.executeOperation(o);const a=this.syncQueue.findIndex(u=>u.id===o.id);a>-1&&(this.syncQueue.splice(a,1),n++)}catch(a){if(console.error("Sync operation failed:",a),r++,o.retryCount++,o.retryCount>3){const u=this.syncQueue.findIndex(l=>l.id===o.id);u>-1&&(this.syncQueue.splice(u,1),console.warn("❌ 同步操作失败超过最大重试次数，已移除:",o))}else{const u=Math.pow(2,o.retryCount)*1e3;o.nextRetry=new Date(Date.now()+u)}}await this.persistSyncQueue(),this.lastSyncTime=new Date,console.log(`🔄 同步完成: 成功 ${n} 个，失败 ${r} 个`),this.syncQueue.length>0&&!this.syncInProgress&&setTimeout(()=>{this.isOnline&&this.authService?.isAuthenticated()&&this.processSyncQueue()},5e3)}catch(t){console.error("❌ 同步队列处理失败:",t)}finally{this.syncInProgress=!1,this.notifyStatusChange()}}}async executeOperation(t){const n=this.authService?.getCurrentUser();if(!n)throw new Error("User not authenticated");switch(t.table){case"cards":await this.syncCard(t,n.id);break;case"folders":await this.syncFolder(t,n.id);break;case"tags":await this.syncTag(t,n.id);break;case"images":await this.syncImage(t,n.id);break}}async syncCard(t,n){const{type:r,data:o,localId:a}=t;if(!a||!a.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)){console.warn("⚠️ Invalid card ID format, skipping sync:",a);return}switch(r){case"create":case"update":console.log("📄 Syncing card:",{localId:a,data:o});const{error:u}=await ot.from("cards").upsert({id:a,user_id:n,front_content:o.frontContent,back_content:o.backContent,style:o.style,folder_id:o.folderId,updated_at:new Date().toISOString(),sync_version:o.syncVersion+1});if(u)throw u;break;case"delete":if(!a||!a.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)){console.warn("⚠️ Invalid card ID format for delete, skipping sync:",a);return}const{error:l}=await ot.from("cards").update({is_deleted:!0,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",n);if(l)throw l;break}}async syncFolder(t,n){const{type:r,data:o,localId:a}=t;if(!a||!a.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)){console.warn("⚠️ Invalid folder ID format, skipping sync:",a);return}switch(r){case"create":case"update":console.log("📁 Syncing folder:",{localId:a,data:o});const{error:u}=await ot.from("folders").upsert({id:a,user_id:n,name:o.name,parent_id:o.parentId,updated_at:new Date().toISOString(),sync_version:o.syncVersion+1});if(u)throw u;break;case"delete":if(!a||!a.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)){console.warn("⚠️ Invalid folder ID format for delete, skipping sync:",a);return}const{error:l}=await ot.from("folders").update({is_deleted:!0,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",n);if(l)throw l;break}}async syncTag(t,n){const{type:r,data:o,localId:a}=t;if(!a||!a.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)){console.warn("⚠️ Invalid tag ID format, skipping sync:",a);return}switch(r){case"create":case"update":console.log("🏷️ Syncing tag:",{localId:a,data:o});const{error:u}=await ot.from("tags").upsert({id:a,user_id:n,name:o.name,color:o.color,updated_at:new Date().toISOString(),sync_version:o.syncVersion+1});if(u)throw u;break;case"delete":if(!a||!a.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)){console.warn("⚠️ Invalid tag ID format for delete, skipping sync:",a);return}const{error:l}=await ot.from("tags").update({is_deleted:!0,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",n);if(l)throw l;break}}async syncImage(t,n){const{type:r,data:o,localId:a}=t;switch(r){case"create":case"update":const{error:u}=await ot.from("images").upsert({id:a,user_id:n,card_id:o.cardId,file_name:o.fileName,file_path:o.filePath,cloud_url:o.cloudUrl,metadata:o.metadata,updated_at:new Date().toISOString(),sync_version:o.syncVersion+1});if(u)throw u;break;case"delete":const{error:l}=await ot.from("images").update({is_deleted:!0,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",n);if(l)throw l;break}}async performFullSync(){if(!(!this.authService?.isAuthenticated()||!this.isOnline))try{this.syncInProgress=!0,this.notifyStatusChange();const t=this.authService.getCurrentUser();console.log("🔄 开始完整同步流程..."),await this.migrateLocalDataToCloud(t.id),await this.syncFromCloud(t.id),await this.processSyncQueue(),this.lastSyncTime=new Date,console.log("✅ 完整同步完成")}catch(t){throw console.error("❌ 完整同步失败:",t),t}finally{this.syncInProgress=!1,this.notifyStatusChange()}}async migrateLocalDataToCloud(t){console.log("📤 开始数据迁移...");try{await this.migrateCards(t),await this.migrateFolders(t),await this.migrateTags(t),console.log("✅ 数据迁移完成")}catch(n){throw console.error("❌ 数据迁移失败:",n),n}}async migrateCards(t){const n=await ye.cards.filter(r=>!r.userId||r.userId!==t).toArray();if(n.length===0){console.log("📄 没有需要迁移的卡片数据");return}console.log(`📄 迁移 ${n.length} 个卡片...`);for(const r of n)try{await ye.cards.update(r.id,{userId:t,updatedAt:new Date,syncVersion:(r.syncVersion||0)+1,pendingSync:!0}),await this.queueOperation({type:"create",table:"cards",data:{...r,userId:t},localId:r.id}),console.log(`📄 卡片 ${r.id} 迁移成功`)}catch(o){console.error(`❌ 卡片 ${r.id} 迁移失败:`,o)}}async migrateFolders(t){const n=await ye.folders.filter(r=>!r.userId||r.userId!==t).toArray();if(n.length===0){console.log("📁 没有需要迁移的文件夹数据");return}console.log(`📁 迁移 ${n.length} 个文件夹...`);for(const r of n)try{await ye.folders.update(r.id,{userId:t,updatedAt:new Date,syncVersion:(r.syncVersion||0)+1,pendingSync:!0}),await this.queueOperation({type:"create",table:"folders",data:{...r,userId:t},localId:r.id}),console.log(`📁 文件夹 ${r.id} 迁移成功`)}catch(o){console.error(`❌ 文件夹 ${r.id} 迁移失败:`,o)}}async migrateTags(t){const n=await ye.tags.filter(r=>!r.userId||r.userId!==t).toArray();if(n.length===0){console.log("🏷️ 没有需要迁移的标签数据");return}console.log(`🏷️ 迁移 ${n.length} 个标签...`);for(const r of n)try{await ye.tags.update(r.id,{userId:t,updatedAt:new Date,syncVersion:(r.syncVersion||0)+1,pendingSync:!0}),await this.queueOperation({type:"create",table:"tags",data:{...r,userId:t},localId:r.id}),console.log(`🏷️ 标签 ${r.id} 迁移成功`)}catch(o){console.error(`❌ 标签 ${r.id} 迁移失败:`,o)}}async syncFromCloud(t){const n=this.lastSyncTime||new Date(0),{data:r}=await ot.from("cards").select("*").eq("user_id",t).gte("updated_at",n.toISOString());if(r)for(const u of r)await this.mergeCloudCard(u);const{data:o}=await ot.from("folders").select("*").eq("user_id",t).gte("updated_at",n.toISOString());if(o)for(const u of o)await this.mergeCloudFolder(u);const{data:a}=await ot.from("tags").select("*").eq("user_id",t).gte("updated_at",n.toISOString());if(a)for(const u of a)await this.mergeCloudTag(u)}async mergeCloudCard(t){const n=await ye.cards?.get(t.id);if(!n)await ye.cards?.add({id:t.id,frontContent:t.front_content,backContent:t.back_content,style:t.style,folderId:t.folder_id||void 0,isFlipped:!1,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1});else{const r=new Date(n.updatedAt).getTime(),o=new Date(t.updated_at).getTime();o>r?await ye.cards?.update(t.id,{frontContent:t.front_content,backContent:t.back_content,style:t.style,folderId:t.folder_id||void 0,updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1}):r>o&&n.pendingSync&&await this.queueOperation({type:"update",table:"cards",data:n,localId:n.id})}}async mergeCloudFolder(t){const n=await ye.folders?.get(t.id);if(!n)await ye.folders?.add({id:t.id,name:t.name,color:"#3b82f6",icon:"Folder",cardIds:[],parentId:t.parent_id||void 0,isExpanded:!0,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1});else{const r=new Date(n.updatedAt).getTime(),o=new Date(t.updated_at).getTime();o>r?await ye.folders?.update(t.id,{name:t.name,parentId:t.parent_id||void 0,updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1}):r>o&&n.pendingSync&&await this.queueOperation({type:"update",table:"folders",data:n,localId:n.id})}}async mergeCloudTag(t){const n=await ye.tags?.get(t.id);if(!n)await ye.tags?.add({id:t.id,name:t.name,color:t.color,count:0,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1});else{const r=new Date(n.updatedAt).getTime(),o=new Date(t.updatedAt).getTime();o>r?await ye.tags?.update(t.id,{name:t.name,color:t.color,updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1}):r>o&&n.pendingSync&&await this.queueOperation({type:"update",table:"tags",data:n,localId:n.id})}}async persistSyncQueue(){try{this.syncQueue.length>0&&(await ye.syncQueue.clear(),await ye.syncQueue.bulkAdd(this.syncQueue.map(t=>({...t,timestamp:new Date(t.timestamp)}))))}catch(t){console.error("Failed to persist sync queue:",t);try{const n=JSON.stringify(this.syncQueue.slice(0,100));localStorage.setItem("cardall_sync_queue",n)}catch(n){console.error("Fallback to localStorage also failed:",n)}}}async restoreSyncQueue(){try{const t=await ye.syncQueue.toArray();if(t.length>0){this.syncQueue=t.map(r=>({...r,timestamp:new Date(r.timestamp)})),this.notifyStatusChange(),console.log(`📋 恢复了 ${this.syncQueue.length} 个同步操作`);return}const n=localStorage.getItem("cardall_sync_queue");n&&(this.syncQueue=JSON.parse(n),this.notifyStatusChange(),console.log(`📋 从localStorage恢复了 ${this.syncQueue.length} 个同步操作`),await this.persistSyncQueue(),localStorage.removeItem("cardall_sync_queue"))}catch(t){console.error("Failed to restore sync queue:",t)}}async clearSyncQueue(){this.syncQueue=[],await this.persistSyncQueue(),this.notifyStatusChange()}getConflicts(){return[...this.conflicts]}async resolveConflict(t,n){const r=this.conflicts.find(a=>a.id===t);if(!r)return;switch(n){case"local":await this.queueOperation({type:"update",table:r.table,data:r.localData,localId:r.localData.id});break}const o=this.conflicts.findIndex(a=>a.id===t);o>-1&&(this.conflicts.splice(o,1),this.notifyStatusChange())}}const tt=new em,ts=Object.freeze(Object.defineProperty({__proto__:null,cloudSyncService:tt},Symbol.toStringTag,{value:"Module"}));class tm{listeners=[];currentState={user:null,session:null,loading:!0,error:null};constructor(){this.initialize(),setTimeout(()=>{this.setupCloudSync()},0)}setupCloudSync(){try{es(async()=>{const{cloudSyncService:t}=await Promise.resolve().then(()=>ts);return{cloudSyncService:t}},void 0).then(({cloudSyncService:t})=>{t.setAuthService(this)}).catch(t=>{console.warn("Failed to setup cloud sync service:",t)})}catch(t){console.warn("Failed to setup cloud sync service:",t)}}async initialize(){try{const{data:{session:t},error:n}=await ot.auth.getSession();if(n){this.updateState({error:n.message,loading:!1});return}if(t?.user){const r=await this.fetchUserProfile(t.user.id);this.updateState({user:r,session:t,loading:!1,error:null})}else this.updateState({loading:!1});ot.auth.onAuthStateChange(async(r,o)=>{if(console.log("Auth state changed:",r,o?.user?.id),r==="SIGNED_OUT"){try{const{cloudSyncService:a}=await es(async()=>{const{cloudSyncService:u}=await Promise.resolve().then(()=>ts);return{cloudSyncService:u}},void 0);await a.clearSyncQueue()}catch(a){console.warn("Failed to clear sync queue on signout:",a)}this.updateState({user:null,session:null,loading:!1,error:null})}else if(o?.user){const a=await this.fetchUserProfile(o.user.id);if(this.updateState({user:a,session:o,loading:!1,error:null}),r==="SIGNED_IN")try{const{cloudSyncService:u}=await es(async()=>{const{cloudSyncService:l}=await Promise.resolve().then(()=>ts);return{cloudSyncService:l}},void 0);await u.performFullSync()}catch(u){console.warn("Failed to perform full sync after signin:",u)}}else this.updateState({user:null,session:null,loading:!1,error:null})})}catch(t){console.error("Auth initialization failed:",t),this.updateState({error:t instanceof Error?t.message:"Authentication failed",loading:!1})}}async fetchUserProfile(t){try{await new Promise(o=>setTimeout(o,100));const{data:n,error:r}=await ot.from("users").select("*").eq("id",t).single();return r?(console.error("Failed to fetch user profile:",r),null):n}catch(n){return console.error("Error fetching user profile:",n),null}}updateState(t){this.currentState={...this.currentState,...t},this.listeners.forEach(n=>n(this.currentState))}onAuthStateChange(t){return this.listeners.push(t),t(this.currentState),()=>{const n=this.listeners.indexOf(t);n>-1&&this.listeners.splice(n,1)}}getCurrentState(){return this.currentState}async signUpWithEmail(t,n,r){try{this.updateState({loading:!0,error:null});const{data:o,error:a}=await ot.auth.signUp({email:t,password:n,options:{data:{name:r?.name||t.split("@")[0],full_name:r?.name||t.split("@")[0]}}});return a?(this.updateState({error:a.message,loading:!1}),{error:a}):(this.updateState({loading:!1,error:null}),{error:null})}catch(o){const a=o instanceof Error?o.message:"Registration failed";return this.updateState({error:a,loading:!1}),{error:o}}}async signInWithEmail(t,n){try{this.updateState({loading:!0,error:null});const{error:r}=await ot.auth.signInWithPassword({email:t,password:n});return r?(this.updateState({error:r.message,loading:!1}),{error:r}):{error:null}}catch(r){const o=r instanceof Error?r.message:"Login failed";return this.updateState({error:o,loading:!1}),{error:r}}}async resetPassword(t){try{this.updateState({loading:!0,error:null});const{error:n}=await ot.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/auth/reset-password`});return n?(this.updateState({error:n.message,loading:!1}),{error:n}):(this.updateState({loading:!1,error:null}),{error:null})}catch(n){const r=n instanceof Error?n.message:"Password reset failed";return this.updateState({error:r,loading:!1}),{error:n}}}async signInWithGitHub(){try{this.updateState({loading:!0,error:null});const{error:t}=await ot.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}`}});return t?(this.updateState({error:t.message,loading:!1}),{error:t}):{error:null}}catch(t){const n=t instanceof Error?t.message:"Login failed";return this.updateState({error:n,loading:!1}),{error:t}}}async signOut(){try{this.updateState({loading:!0,error:null});const{error:t}=await ot.auth.signOut();return t?(this.updateState({error:t.message,loading:!1}),{error:t}):(this.updateState({user:null,session:null,loading:!1,error:null}),{error:null})}catch(t){const n=t instanceof Error?t.message:"Logout failed";return this.updateState({error:n,loading:!1}),{error:t}}}async upsertUserProfile(t){try{if(!this.currentState.session?.user.id)return console.error("No authenticated user found"),null;const{data:n,error:r}=await ot.from("users").upsert({id:this.currentState.session.user.id,...t,updated_at:new Date().toISOString()}).select().single();return r?(console.error("Failed to upsert user profile:",r),null):n}catch(n){return console.error("Error upserting user profile:",n),null}}isAuthenticated(){return!!this.currentState.user&&!!this.currentState.session}getCurrentUser(){return this.currentState.user}getCurrentSession(){return this.currentState.session}}const zt=new tm,nm=e=>{const{userId:t,syncVersion:n,lastSyncAt:r,pendingSync:o,...a}=e;return{...a,id:a.id||"",createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)}},hu=()=>zt.getCurrentUser()?.id||null;function rm(){const[e,t]=g.useState([]),[n,r]=g.useState({searchTerm:"",tags:[]}),[o,a]=g.useState({layout:"grid",cardSize:"medium",showTags:!0,showDates:!1,sortBy:"updated",sortOrder:"desc"}),[u,l]=g.useState([]),[d,h]=g.useState(!0),p=g.useCallback(async()=>{try{h(!0);const j=(await ye.cards.toArray()).map(nm);t(j)}catch(_){console.error("Failed to load cards:",_)}finally{h(!1)}},[]);g.useEffect(()=>{p()},[p]),g.useEffect(()=>{const _=ye.cards.hook("creating",(M,F,K)=>{console.log("Card creating:",M)}),j=ye.cards.hook("updating",(M,F,K,Y)=>{console.log("Card updating:",F)}),E=ye.cards.hook("deleting",(M,F,K)=>{console.log("Card deleting:",M)});return()=>{_?.unsubscribe(),j?.unsubscribe(),E?.unsubscribe()}},[]);const x=g.useCallback(()=>{let _=e.filter(j=>{if(n.searchTerm){const E=n.searchTerm.toLowerCase(),M=j.frontContent.title.toLowerCase().includes(E)||j.backContent.title.toLowerCase().includes(E),F=j.frontContent.text.toLowerCase().includes(E)||j.backContent.text.toLowerCase().includes(E),K=[...j.frontContent.tags,...j.backContent.tags].some(Y=>Y.toLowerCase().includes(E));if(!M&&!F&&!K)return!1}if(n.tags.length>0){const E=[...j.frontContent.tags,...j.backContent.tags];if(!n.tags.some(M=>E.includes(M)))return!1}if(n.folderId&&j.folderId!==n.folderId)return!1;if(n.dateRange){const E=new Date(j.updatedAt);if(E<n.dateRange.start||E>n.dateRange.end)return!1}return!(n.styleType&&j.style.type!==n.styleType||n.hasImages!==void 0&&(j.frontContent.images.length>0||j.backContent.images.length>0)!==n.hasImages)});return _.sort((j,E)=>{let M=0;switch(o.sortBy){case"created":M=new Date(j.createdAt).getTime()-new Date(E.createdAt).getTime();break;case"updated":M=new Date(j.updatedAt).getTime()-new Date(E.updatedAt).getTime();break;case"title":M=j.frontContent.title.localeCompare(E.frontContent.title);break;default:M=0}return o.sortOrder==="desc"?-M:M}),_},[e,n,o]),C=g.useCallback(async _=>{const j=hu();try{switch(_.type){case"CREATE_CARD":{const E=crypto.randomUUID(),M={..._.payload,id:E,userId:j,createdAt:new Date,updatedAt:new Date,syncVersion:1,pendingSync:!0};await ye.cards.add(M),await tt.queueOperation({type:"create",table:"cards",data:M,localId:E}),await p();break}case"UPDATE_CARD":{const E={..._.payload.updates,userId:j,updatedAt:new Date,syncVersion:1,pendingSync:!0};await ye.cards.update(_.payload.id,E),await tt.queueOperation({type:"update",table:"cards",data:{..._.payload.updates,userId:j},localId:_.payload.id}),await p();break}case"DELETE_CARD":{await ye.cards.delete(_.payload),await tt.queueOperation({type:"delete",table:"cards",data:{userId:j},localId:_.payload}),await p();break}case"FLIP_CARD":{const E=await ye.cards.get(_.payload);if(E){const M={isFlipped:!E.isFlipped,updatedAt:new Date,syncVersion:(E.syncVersion||0)+1,pendingSync:!0};await ye.cards.update(_.payload,M),await tt.queueOperation({type:"update",table:"cards",data:M,localId:_.payload}),await p()}break}case"SELECT_CARD":l(E=>E.includes(_.payload)?E.filter(M=>M!==_.payload):[...E,_.payload]);break;case"DESELECT_ALL":l([]);break;case"DUPLICATE_CARD":{const E=await ye.cards.get(_.payload);if(E){const M=crypto.randomUUID(),F={...E,id:M,userId:j,createdAt:new Date,updatedAt:new Date,syncVersion:1,pendingSync:!0};await ye.cards.add(F),await tt.queueOperation({type:"create",table:"cards",data:F,localId:M}),await p()}break}case"MOVE_TO_FOLDER":{const E={folderId:_.payload.folderId,userId:j,updatedAt:new Date,syncVersion:1,pendingSync:!0};await ye.cards.update(_.payload.cardId,E),await tt.queueOperation({type:"update",table:"cards",data:E,localId:_.payload.cardId}),await p();break}default:console.warn("Unknown card action:",_)}}catch(E){throw console.error("Card operation failed:",E),E}},[p]),y=g.useCallback(_=>e.find(j=>j.id===_),[e]),w=g.useCallback(()=>e.filter(_=>u.includes(_.id)),[e,u]),k=g.useCallback(()=>{const _=new Set;return e.forEach(j=>{j.frontContent.tags.forEach(E=>_.add(E)),j.backContent.tags.forEach(E=>_.add(E))}),Array.from(_).sort()},[e]),D=g.useCallback(async(_,j)=>{const E=hu();try{const M=await ye.cards.filter(F=>F.frontContent.tags.includes(_)||F.backContent.tags.includes(_)).toArray();for(const F of M){const K=G=>j?G.map(Z=>Z===_?j:Z):G.filter(Z=>Z!==_),Y=K(F.frontContent.tags),te=K(F.backContent.tags),he={frontContent:{...F.frontContent,tags:Y,lastModified:new Date},backContent:{...F.backContent,tags:te,lastModified:new Date},userId:E,updatedAt:new Date,syncVersion:(F.syncVersion||0)+1,pendingSync:!0};await ye.cards.update(F.id,he),await tt.queueOperation({type:"update",table:"cards",data:he,localId:F.id})}await p()}catch(M){throw console.error("Failed to update tags in cards:",M),M}},[p]),S=g.useCallback(_=>e.filter(j=>j.frontContent.tags.includes(_)||j.backContent.tags.includes(_)),[e]);return{cards:x(),allCards:e,filter:n,setFilter:r,viewSettings:o,setViewSettings:a,selectedCardIds:u,isLoading:d,dispatch:C,getCardById:y,getSelectedCards:w,getAllTags:k,updateTagsInAllCards:D,getCardsWithTag:S,loadCards:p}}const om=e=>{const{userId:t,syncVersion:n,pendingSync:r,...o}=e;return{...o,id:o.id||"",createdAt:new Date(o.createdAt),updatedAt:new Date(o.updatedAt)}},am=()=>zt.getCurrentUser()?.id||null;function sm(){const[e,t]=g.useState([]),[n,r]=g.useState({searchTerm:"",showEmpty:!0}),[o,a]=g.useState([]),[u,l]=g.useState(!0),d=g.useCallback(async()=>{try{l(!0);const _=(await ye.folders.toArray()).map(om);t(_)}catch(S){console.error("Failed to load folders:",S)}finally{l(!1)}},[]);g.useEffect(()=>{d()},[d]),g.useEffect(()=>{const S=ye.folders.hook("creating",(E,M,F)=>{console.log("Folder creating:",E)}),_=ye.folders.hook("updating",(E,M,F,K)=>{console.log("Folder updating:",M)}),j=ye.folders.hook("deleting",(E,M,F)=>{console.log("Folder deleting:",E)});return()=>{S?.unsubscribe(),_?.unsubscribe(),j?.unsubscribe()}},[]);const h=g.useCallback(()=>{let S=e.filter(_=>{if(n.searchTerm){const j=n.searchTerm.toLowerCase();if(!_.name.toLowerCase().includes(j))return!1}return!(n.parentId!==void 0&&_.parentId!==n.parentId)});return S.sort((_,j)=>new Date(j.createdAt).getTime()-new Date(_.createdAt).getTime()),S},[e,n]),p=g.useCallback(async S=>{const _=am();try{switch(S.type){case"CREATE_FOLDER":{const j=crypto.randomUUID(),E={...S.payload,id:j,userId:_,createdAt:new Date,updatedAt:new Date,syncVersion:1,pendingSync:!0};console.log("📁 useFoldersDb: Creating new folder",E);const M=await ye.folders.add(E);console.log("📁 useFoldersDb: Folder added to local DB with id",M),await tt.queueOperation({type:"create",table:"folders",data:E,localId:j}),console.log("📁 useFoldersDb: Sync operation queued"),await d();break}case"UPDATE_FOLDER":{const j={...S.payload.updates,userId:_,updatedAt:new Date,syncVersion:1,pendingSync:!0};await ye.folders.update(S.payload.id,j),await tt.queueOperation({type:"update",table:"folders",data:j,localId:S.payload.id}),await d();break}case"DELETE_FOLDER":{await ye.folders.delete(S.payload),await tt.queueOperation({type:"delete",table:"folders",data:{userId:_},localId:S.payload}),await d();break}case"SELECT_FOLDER":a(j=>j.includes(S.payload)?j.filter(E=>E!==S.payload):[...j,S.payload]);break;case"DESELECT_ALL_FOLDERS":a([]);break;case"TOGGLE_EXPAND":{const j=await ye.folders.get(S.payload);if(j){const E={isExpanded:!j.isExpanded,userId:_,updatedAt:new Date,syncVersion:(j.syncVersion||0)+1,pendingSync:!0};await ye.folders.update(S.payload,E),await tt.queueOperation({type:"update",table:"folders",data:E,localId:S.payload}),await d()}break}case"MOVE_CARDS_TO_FOLDER":{const j={userId:_,updatedAt:new Date,syncVersion:1,pendingSync:!0};await ye.folders.update(S.payload.folderId,j),await tt.queueOperation({type:"update",table:"folders",data:j,localId:S.payload.folderId}),await d();break}default:console.warn("Unknown folder action:",S)}}catch(j){throw console.error("Folder operation failed:",j),j}},[d]),x=g.useCallback(S=>e.find(_=>_.id===S),[e]),C=g.useCallback(()=>e.filter(S=>o.includes(S.id)),[e,o]),y=g.useCallback(()=>{const S=(_=null)=>h().filter(j=>j.parentId===_).map(j=>({...j,children:S(j.id)}));return S()},[h]),w=g.useCallback(()=>h().filter(S=>!S.parentId),[h]),k=g.useCallback(S=>h().filter(_=>_.parentId===S),[h]),D=g.useCallback(async S=>{try{return(await ye.cards.filter(j=>j.folderId===S&&!j.isDeleted).toArray()).length}catch(_){return console.error("Failed to get folder card count:",_),0}},[]);return{folders:h(),allFolders:e,folderTree:y(),filter:n,setFilter:r,selectedFolderIds:o,isLoading:u,dispatch:p,getFolderById:x,getSelectedFolders:C,getFolderHierarchy:y,getRootFolders:w,getChildFolders:k,getFolderCardCount:D,loadFolders:d}}const im=e=>{const{syncVersion:t,pendingSync:n,...r}=e;return{...r,id:r.id||"",createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)}},um=()=>zt.getCurrentUser()?.id||null;function lm(){const[e,t]=g.useState([]),[n,r]=g.useState({searchTerm:"",showUnused:!0}),[o,a]=g.useState([]),[u,l]=g.useState(!0),d=g.useCallback(async()=>{try{l(!0);const M=(await ye.tags.toArray()).map(im);t(M)}catch(E){console.error("Failed to load tags:",E)}finally{l(!1)}},[]);g.useEffect(()=>{d()},[d]),g.useEffect(()=>{const E=ye.tags.hook("creating",(K,Y,te)=>{console.log("Tag creating:",K)}),M=ye.tags.hook("updating",(K,Y,te,he)=>{console.log("Tag updating:",Y)}),F=ye.tags.hook("deleting",(K,Y,te)=>{console.log("Tag deleting:",K)});return()=>{E?.unsubscribe(),M?.unsubscribe(),F?.unsubscribe()}},[]);const h=g.useCallback(()=>{let E=e.filter(M=>{if(n.searchTerm){const F=n.searchTerm.toLowerCase();if(!M.name.toLowerCase().includes(F))return!1}return!(n.color&&M.color!==n.color)});return E.sort((M,F)=>M.count!==F.count?F.count-M.count:M.name.localeCompare(F.name)),E},[e,n]),p=g.useCallback(async E=>{const M=um();try{switch(E.type){case"CREATE_TAG":{const F=crypto.randomUUID(),K={...E.payload,id:F,userId:M,count:0,createdAt:new Date,updatedAt:new Date,syncVersion:1,pendingSync:!0};console.log("🏷️ useTagsDb: Creating new tag",K);const Y=await ye.tags.add(K);console.log("🏷️ useTagsDb: Tag added to local DB with id",Y),await tt.queueOperation({type:"create",table:"tags",data:K,localId:F}),console.log("🏷️ useTagsDb: Sync operation queued"),await d();break}case"UPDATE_TAG":{const F={...E.payload.updates,userId:M,updatedAt:new Date,syncVersion:1,pendingSync:!0};await ye.tags.update(E.payload.id,F),await tt.queueOperation({type:"update",table:"tags",data:F,localId:E.payload.id}),await d();break}case"DELETE_TAG":{await ye.tags.delete(E.payload),await tt.queueOperation({type:"delete",table:"tags",data:{userId:M},localId:E.payload}),await d();break}case"SELECT_TAG":a(F=>F.includes(E.payload)?F.filter(K=>K!==E.payload):[...F,E.payload]);break;case"DESELECT_ALL_TAGS":a([]);break;case"INCREMENT_COUNT":{const F=await ye.tags.get(E.payload);if(F){const K={count:(F.count||0)+1,userId:M,updatedAt:new Date,syncVersion:(F.syncVersion||0)+1,pendingSync:!0};await ye.tags.update(E.payload,K),await tt.queueOperation({type:"update",table:"tags",data:K,localId:E.payload}),await d()}break}case"DECREMENT_COUNT":{const F=await ye.tags.get(E.payload);if(F&&F.count>0){const K={count:Math.max(0,(F.count||0)-1),userId:M,updatedAt:new Date,syncVersion:(F.syncVersion||0)+1,pendingSync:!0};await ye.tags.update(E.payload,K),await tt.queueOperation({type:"update",table:"tags",data:K,localId:E.payload}),await d()}break}default:console.warn("Unknown tag action:",E)}}catch(F){throw console.error("Tag operation failed:",F),F}},[d]),x=g.useCallback(E=>e.find(M=>M.id===E),[e]),C=g.useCallback(()=>e.filter(E=>o.includes(E.id)),[e,o]),y=g.useCallback(()=>e.map(E=>E.name).sort(),[e]),w=g.useCallback(E=>e.filter(M=>M.color===E),[e]),k=g.useCallback((E=10)=>[...e].sort((M,F)=>F.count-M.count).slice(0,E),[e]),D=g.useCallback(async E=>{try{const M=await ye.tags.toArray(),F=new Set(M.map(Y=>Y.name)),K=new Set(E);for(const Y of M){const te=E.filter(he=>he===Y.name).length;te!==Y.count&&await p({type:"UPDATE_TAG",payload:{id:Y.id,updates:{count:te}}})}for(const Y of E)F.has(Y)||await p({type:"CREATE_TAG",payload:{name:Y,color:"#3b82f6",count:E.filter(te=>te===Y).length}});console.log("🏷️ Tags synchronized with cards")}catch(M){console.error("Failed to sync tags with cards:",M)}},[p]),S=g.useCallback(async(E,M)=>{try{const F=e.find(K=>K.name===E);F&&await p({type:"UPDATE_TAG",payload:{id:F.id,updates:{name:M}}})}catch(F){throw console.error("Failed to rename tag:",F),F}},[e,p]),_=g.useCallback(async()=>{try{const E=e.filter(M=>M.count===0);for(const M of E)await p({type:"DELETE_TAG",payload:M.id})}catch(E){throw console.error("Failed to delete unused tags:",E),E}},[e,p]),j=g.useCallback(E=>{try{const M=e.find(F=>F.name===E);return M?(p({type:"DELETE_TAG",payload:M.id}),!0):!1}catch(M){return console.error("Failed to delete tag by name:",M),!1}},[e,p]);return{tags:h(),allTags:e,popularTags:k,filter:n,setFilter:r,selectedTagIds:o,isLoading:u,dispatch:p,getTagById:x,getSelectedTags:C,getAllTagNames:y,getTagsByColor:w,getMostUsedTags:k,syncTagsWithCards:D,renameTag:S,deleteUnusedTags:_,deleteTagByName:j,loadTags:d}}const Nl=g.createContext(null);function cm({children:e}){const t=rm(),n=sm(),r=lm();re.useEffect(()=>{const a=[];t.allCards.forEach(u=>{a.push(...u.frontContent.tags,...u.backContent.tags)}),r.syncTagsWithCards(a)},[t.allCards,r.syncTagsWithCards]);const o={cards:t,folders:n,tags:r};return i.jsx(Nl.Provider,{value:o,children:e})}function Zs(){const e=g.useContext(Nl);if(!e)throw new Error("useCardAll must be used within a CardAllProvider");return e}function dm(){return Zs().cards}function Tl(){return Zs().folders}function Ml(){return Zs().tags}const Pl=g.createContext(void 0);function fm({children:e}){const[t,n]=g.useState(!1),r=()=>n(!0),o=()=>n(!1);return i.jsx(Pl.Provider,{value:{isOpen:t,openModal:r,closeModal:o},children:e})}function Il(){const e=g.useContext(Pl);if(e===void 0)throw new Error("useAuthModal must be used within an AuthModalProvider");return e}function Rl(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Rl(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fl(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Rl(e))&&(r&&(r+=" "),r+=t);return r}const pu=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mu=Fl,Xs=(e,t)=>n=>{var r;if(t?.variants==null)return mu(e,n?.class,n?.className);const{variants:o,defaultVariants:a}=t,u=Object.keys(o).map(h=>{const p=n?.[h],x=a?.[h];if(p===null)return null;const C=pu(p)||pu(x);return o[h][C]}),l=n&&Object.entries(n).reduce((h,p)=>{let[x,C]=p;return C===void 0||(h[x]=C),h},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:x,className:C,...y}=p;return Object.entries(y).every(w=>{let[k,D]=w;return Array.isArray(D)?D.includes({...a,...l}[k]):{...a,...l}[k]===D})?[...h,x,C]:h},[]);return mu(e,u,d,n?.class,n?.className)},Qs="-",hm=e=>{const t=mm(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const l=u.split(Qs);return l[0]===""&&l.length!==1&&l.shift(),Ol(l,t)||pm(u)},getConflictingClassGroupIds:(u,l)=>{const d=n[u]||[];return l&&r[u]?[...d,...r[u]]:d}}},Ol=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Ol(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Qs);return t.validators.find(({validator:u})=>u(a))?.classGroupId},gu=/^\[(.+)\]$/,pm=e=>{if(gu.test(e)){const t=gu.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},mm=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return bm(Object.entries(e.classGroups),n).forEach(([a,u])=>{ks(u,r,a,t)}),r},ks=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:bu(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(gm(o)){ks(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,u])=>{ks(u,bu(t,a),n,r)})})},bu=(e,t)=>{let n=e;return t.split(Qs).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gm=e=>e.isThemeGetter,bm=(e,t)=>t?e.map(([n,r])=>{const o=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,l])=>[t+u,l])):a);return[n,o]}):e,xm=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,u)=>{n.set(a,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let u=n.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return o(a,u),u},set(a,u){n.has(a)?n.set(a,u):o(a,u)}}},Ll="!",ym=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],a=t.length,u=l=>{const d=[];let h=0,p=0,x;for(let D=0;D<l.length;D++){let S=l[D];if(h===0){if(S===o&&(r||l.slice(D,D+a)===t)){d.push(l.slice(p,D)),p=D+a;continue}if(S==="/"){x=D;continue}}S==="["?h++:S==="]"&&h--}const C=d.length===0?l:l.substring(p),y=C.startsWith(Ll),w=y?C.substring(1):C,k=x&&x>p?x-p:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:k}};return n?l=>n({className:l,parseClassName:u}):u},vm=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},wm=e=>({cache:xm(e.cacheSize),parseClassName:ym(e),...hm(e)}),Cm=/\s+/,_m=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,a=[],u=e.trim().split(Cm);let l="";for(let d=u.length-1;d>=0;d-=1){const h=u[d],{modifiers:p,hasImportantModifier:x,baseClassName:C,maybePostfixModifierPosition:y}=n(h);let w=!!y,k=r(w?C.substring(0,y):C);if(!k){if(!w){l=h+(l.length>0?" "+l:l);continue}if(k=r(C),!k){l=h+(l.length>0?" "+l:l);continue}w=!1}const D=vm(p).join(":"),S=x?D+Ll:D,_=S+k;if(a.includes(_))continue;a.push(_);const j=o(k,w);for(let E=0;E<j.length;++E){const M=j[E];a.push(S+M)}l=h+(l.length>0?" "+l:l)}return l};function km(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=zl(t))&&(r&&(r+=" "),r+=n);return r}const zl=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=zl(e[r]))&&(n&&(n+=" "),n+=t);return n};function Sm(e,...t){let n,r,o,a=u;function u(d){const h=t.reduce((p,x)=>x(p),e());return n=wm(h),r=n.cache.get,o=n.cache.set,a=l,l(d)}function l(d){const h=r(d);if(h)return h;const p=_m(d,n);return o(d,p),p}return function(){return a(km.apply(null,arguments))}}const Qe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Bl=/^\[(?:([a-z-]+):)?(.+)\]$/i,Em=/^\d+\/\d+$/,jm=new Set(["px","full","screen"]),Am=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Tm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gn=e=>cr(e)||jm.has(e)||Em.test(e),An=e=>Cr(e,"length",Bm),cr=e=>!!e&&!Number.isNaN(Number(e)),ns=e=>Cr(e,"number",cr),zr=e=>!!e&&Number.isInteger(Number(e)),Pm=e=>e.endsWith("%")&&cr(e.slice(0,-1)),Le=e=>Bl.test(e),Dn=e=>Am.test(e),Im=new Set(["length","size","percentage"]),Rm=e=>Cr(e,Im,$l),Fm=e=>Cr(e,"position",$l),Om=new Set(["image","url"]),Lm=e=>Cr(e,Om,qm),zm=e=>Cr(e,"",$m),Br=()=>!0,Cr=(e,t,n)=>{const r=Bl.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Bm=e=>Dm.test(e)&&!Nm.test(e),$l=()=>!1,$m=e=>Tm.test(e),qm=e=>Mm.test(e),Um=()=>{const e=Qe("colors"),t=Qe("spacing"),n=Qe("blur"),r=Qe("brightness"),o=Qe("borderColor"),a=Qe("borderRadius"),u=Qe("borderSpacing"),l=Qe("borderWidth"),d=Qe("contrast"),h=Qe("grayscale"),p=Qe("hueRotate"),x=Qe("invert"),C=Qe("gap"),y=Qe("gradientColorStops"),w=Qe("gradientColorStopPositions"),k=Qe("inset"),D=Qe("margin"),S=Qe("opacity"),_=Qe("padding"),j=Qe("saturate"),E=Qe("scale"),M=Qe("sepia"),F=Qe("skew"),K=Qe("space"),Y=Qe("translate"),te=()=>["auto","contain","none"],he=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",Le,t],Z=()=>[Le,t],je=()=>["",gn,An],Me=()=>["auto",cr,Le],Ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],be=()=>["solid","dashed","dotted","double","none"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Le],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],xe=()=>[cr,Le];return{cacheSize:500,separator:":",theme:{colors:[Br],spacing:[gn,An],blur:["none","",Dn,Le],brightness:xe(),borderColor:[e],borderRadius:["none","","full",Dn,Le],borderSpacing:Z(),borderWidth:je(),contrast:xe(),grayscale:U(),hueRotate:xe(),invert:U(),gap:Z(),gradientColorStops:[e],gradientColorStopPositions:[Pm,An],inset:G(),margin:G(),opacity:xe(),padding:Z(),saturate:xe(),scale:xe(),sepia:U(),skew:xe(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[Dn]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ne(),Le]}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:te()}],"overscroll-x":[{"overscroll-x":te()}],"overscroll-y":[{"overscroll-y":te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zr,Le]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",zr,Le]}],"grid-cols":[{"grid-cols":[Br]}],"col-start-end":[{col:["auto",{span:["full",zr,Le]},Le]}],"col-start":[{"col-start":Me()}],"col-end":[{"col-end":Me()}],"grid-rows":[{"grid-rows":[Br]}],"row-start-end":[{row:["auto",{span:[zr,Le]},Le]}],"row-start":[{"row-start":Me()}],"row-end":[{"row-end":Me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...Ae()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Ae(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Ae(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[D]}],mx:[{mx:[D]}],my:[{my:[D]}],ms:[{ms:[D]}],me:[{me:[D]}],mt:[{mt:[D]}],mr:[{mr:[D]}],mb:[{mb:[D]}],ml:[{ml:[D]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,t]}],"min-w":[{"min-w":[Le,t,"min","max","fit"]}],"max-w":[{"max-w":[Le,t,"none","full","min","max","fit","prose",{screen:[Dn]},Dn]}],h:[{h:[Le,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dn,An]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ns]}],"font-family":[{font:[Br]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",cr,ns]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gn,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gn,An]}],"underline-offset":[{"underline-offset":["auto",gn,Le]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ne(),Fm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Rm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Lm]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...be(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:be()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...be()]}],"outline-offset":[{"outline-offset":[gn,Le]}],"outline-w":[{outline:[gn,An]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:je()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[gn,An]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dn,zm]}],"shadow-color":[{shadow:[Br]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Dn,Le]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[x]}],saturate:[{saturate:[j]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:xe()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:xe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[zr,Le]}],"translate-x":[{"translate-x":[Y]}],"translate-y":[{"translate-y":[Y]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[gn,An,ns]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Km=Sm(Um);function oe(...e){return Km(Fl(e))}const Js=Xs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ke=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},a)=>{const u=r?Zr:"button";return i.jsx(u,{className:oe(Js({variant:t,size:n,className:e})),ref:a,...o})});ke.displayName="Button";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ql=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...l},d)=>g.createElement("svg",{ref:d,...Vm,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ql("lucide",o),...l},[...u.map(([h,p])=>g.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const n=g.forwardRef(({className:r,...o},a)=>g.createElement(Wm,{ref:a,iconNode:t,className:ql(`lucide-${Hm(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Se("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Se("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Se("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Se("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Se("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Se("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Se("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Se("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Se("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Se("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=Se("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=Se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=Se("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=Se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Se("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Se("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=Se("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function sa(e){const t=e+"CollectionProvider",[n,r]=an(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=y=>{const{scope:w,children:k}=y,D=re.useRef(null),S=re.useRef(new Map).current;return i.jsx(o,{scope:w,itemMap:S,collectionRef:D,children:k})};u.displayName=t;const l=e+"CollectionSlot",d=re.forwardRef((y,w)=>{const{scope:k,children:D}=y,S=a(l,k),_=We(w,S.collectionRef);return i.jsx(Zr,{ref:_,children:D})});d.displayName=l;const h=e+"CollectionItemSlot",p="data-radix-collection-item",x=re.forwardRef((y,w)=>{const{scope:k,children:D,...S}=y,_=re.useRef(null),j=We(w,_),E=a(h,k);return re.useEffect(()=>(E.itemMap.set(_,{ref:_,...S}),()=>void E.itemMap.delete(_))),i.jsx(Zr,{[p]:"",ref:j,children:D})});x.displayName=h;function C(y){const w=a(e+"CollectionConsumer",y);return re.useCallback(()=>{const D=w.collectionRef.current;if(!D)return[];const S=Array.from(D.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((E,M)=>S.indexOf(E.ref.current)-S.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:u,Slot:d,ItemSlot:x},C,r]}var bg=g.createContext(void 0);function uo(e){const t=g.useContext(bg);return e||t||"ltr"}var as="rovingFocusGroup.onEntryFocus",xg={bubbles:!1,cancelable:!0},ia="RovingFocusGroup",[js,Xl,yg]=sa(ia),[vg,Ql]=an(ia,[yg]),[wg,Cg]=vg(ia),Jl=g.forwardRef((e,t)=>i.jsx(js.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(js.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(_g,{...e,ref:t})})}));Jl.displayName=ia;var _g=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...x}=e,C=g.useRef(null),y=We(t,C),w=uo(a),[k=null,D]=Xr({prop:u,defaultProp:l,onChange:d}),[S,_]=g.useState(!1),j=Mt(h),E=Xl(n),M=g.useRef(!1),[F,K]=g.useState(0);return g.useEffect(()=>{const Y=C.current;if(Y)return Y.addEventListener(as,j),()=>Y.removeEventListener(as,j)},[j]),i.jsx(wg,{scope:n,orientation:r,dir:w,loop:o,currentTabStopId:k,onItemFocus:g.useCallback(Y=>D(Y),[D]),onItemShiftTab:g.useCallback(()=>_(!0),[]),onFocusableItemAdd:g.useCallback(()=>K(Y=>Y+1),[]),onFocusableItemRemove:g.useCallback(()=>K(Y=>Y-1),[]),children:i.jsx(qe.div,{tabIndex:S||F===0?-1:0,"data-orientation":r,...x,ref:y,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{M.current=!0}),onFocus:me(e.onFocus,Y=>{const te=!M.current;if(Y.target===Y.currentTarget&&te&&!S){const he=new CustomEvent(as,xg);if(Y.currentTarget.dispatchEvent(he),!he.defaultPrevented){const G=E().filter(be=>be.focusable),Z=G.find(be=>be.active),je=G.find(be=>be.id===k),Ne=[Z,je,...G].filter(Boolean).map(be=>be.ref.current);nc(Ne,p)}}M.current=!1}),onBlur:me(e.onBlur,()=>_(!1))})})}),ec="RovingFocusGroupItem",tc=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,...u}=e,l=mr(),d=a||l,h=Cg(ec,n),p=h.currentTabStopId===d,x=Xl(n),{onFocusableItemAdd:C,onFocusableItemRemove:y}=h;return g.useEffect(()=>{if(r)return C(),()=>y()},[r,C,y]),i.jsx(js.ItemSlot,{scope:n,id:d,focusable:r,active:o,children:i.jsx(qe.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...u,ref:t,onMouseDown:me(e.onMouseDown,w=>{r?h.onItemFocus(d):w.preventDefault()}),onFocus:me(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:me(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const k=Eg(w,h.orientation,h.dir);if(k!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=x().filter(_=>_.focusable).map(_=>_.ref.current);if(k==="last")S.reverse();else if(k==="prev"||k==="next"){k==="prev"&&S.reverse();const _=S.indexOf(w.currentTarget);S=h.loop?jg(S,_+1):S.slice(_+1)}setTimeout(()=>nc(S))}})})})});tc.displayName=ec;var kg={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Sg(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Eg(e,t,n){const r=Sg(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return kg[r]}function nc(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function jg(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Ag=Jl,Dg=tc,As=["Enter"," "],Ng=["ArrowDown","PageUp","Home"],rc=["ArrowUp","PageDown","End"],Tg=[...Ng,...rc],Mg={ltr:[...As,"ArrowRight"],rtl:[...As,"ArrowLeft"]},Pg={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lo="Menu",[Qr,Ig,Rg]=sa(lo),[Qn,ua]=an(lo,[Rg,aa,Ql]),la=aa(),oc=Ql(),[Fg,Jn]=Qn(lo),[Og,co]=Qn(lo),ac=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:a,modal:u=!0}=e,l=la(t),[d,h]=g.useState(null),p=g.useRef(!1),x=Mt(a),C=uo(o);return g.useEffect(()=>{const y=()=>{p.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>p.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),i.jsx(wl,{...l,children:i.jsx(Fg,{scope:t,open:n,onOpenChange:x,content:d,onContentChange:h,children:i.jsx(Og,{scope:t,onClose:g.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:p,dir:C,modal:u,children:r})})})};ac.displayName=lo;var Lg="MenuAnchor",ni=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=la(n);return i.jsx(pl,{...o,...r,ref:t})});ni.displayName=Lg;var ri="MenuPortal",[zg,sc]=Qn(ri,{forceMount:void 0}),ic=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,a=Jn(ri,t);return i.jsx(zg,{scope:t,forceMount:n,children:i.jsx(Ln,{present:n||a.open,children:i.jsx(hl,{asChild:!0,container:o,children:r})})})};ic.displayName=ri;var Bt="MenuContent",[Bg,oi]=Qn(Bt),uc=g.forwardRef((e,t)=>{const n=sc(Bt,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=Jn(Bt,e.__scopeMenu),u=co(Bt,e.__scopeMenu);return i.jsx(Qr.Provider,{scope:e.__scopeMenu,children:i.jsx(Ln,{present:r||a.open,children:i.jsx(Qr.Slot,{scope:e.__scopeMenu,children:u.modal?i.jsx($g,{...o,ref:t}):i.jsx(qg,{...o,ref:t})})})})}),$g=g.forwardRef((e,t)=>{const n=Jn(Bt,e.__scopeMenu),r=g.useRef(null),o=We(t,r);return g.useEffect(()=>{const a=r.current;if(a)return vl(a)},[]),i.jsx(ai,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),qg=g.forwardRef((e,t)=>{const n=Jn(Bt,e.__scopeMenu);return i.jsx(ai,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ai=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:C,onDismiss:y,disableOutsideScroll:w,...k}=e,D=Jn(Bt,n),S=co(Bt,n),_=la(n),j=oc(n),E=Ig(n),[M,F]=g.useState(null),K=g.useRef(null),Y=We(t,K,D.onContentChange),te=g.useRef(0),he=g.useRef(""),G=g.useRef(0),Z=g.useRef(null),je=g.useRef("right"),Me=g.useRef(0),Ne=w?gl:g.Fragment,be=w?{as:Zr,allowPinchZoom:!0}:void 0,Ie=U=>{const fe=he.current+U,xe=E().filter(X=>!X.disabled),Ce=document.activeElement,ve=xe.find(X=>X.ref.current===Ce)?.textValue,Ee=xe.map(X=>X.textValue),Be=e1(Ee,fe,ve),se=xe.find(X=>X.textValue===Be)?.ref.current;(function X(Oe){he.current=Oe,window.clearTimeout(te.current),Oe!==""&&(te.current=window.setTimeout(()=>X(""),1e3))})(fe),se&&setTimeout(()=>se.focus())};g.useEffect(()=>()=>window.clearTimeout(te.current),[]),ml();const Ae=g.useCallback(U=>je.current===Z.current?.side&&n1(U,Z.current?.area),[]);return i.jsx(Bg,{scope:n,searchRef:he,onItemEnter:g.useCallback(U=>{Ae(U)&&U.preventDefault()},[Ae]),onItemLeave:g.useCallback(U=>{Ae(U)||(K.current?.focus(),F(null))},[Ae]),onTriggerLeave:g.useCallback(U=>{Ae(U)&&U.preventDefault()},[Ae]),pointerGraceTimerRef:G,onPointerGraceIntentChange:g.useCallback(U=>{Z.current=U},[]),children:i.jsx(Ne,{...be,children:i.jsx(bl,{asChild:!0,trapped:o,onMountAutoFocus:me(a,U=>{U.preventDefault(),K.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:i.jsx(xl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:C,onDismiss:y,children:i.jsx(Ag,{asChild:!0,...j,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:F,onEntryFocus:me(d,U=>{S.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(yl,{role:"menu","aria-orientation":"vertical","data-state":kc(D.open),"data-radix-menu-content":"",dir:S.dir,..._,...k,ref:Y,style:{outline:"none",...k.style},onKeyDown:me(k.onKeyDown,U=>{const xe=U.target.closest("[data-radix-menu-content]")===U.currentTarget,Ce=U.ctrlKey||U.altKey||U.metaKey,ve=U.key.length===1;xe&&(U.key==="Tab"&&U.preventDefault(),!Ce&&ve&&Ie(U.key));const Ee=K.current;if(U.target!==Ee||!Tg.includes(U.key))return;U.preventDefault();const se=E().filter(X=>!X.disabled).map(X=>X.ref.current);rc.includes(U.key)&&se.reverse(),Qg(se)}),onBlur:me(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(te.current),he.current="")}),onPointerMove:me(e.onPointerMove,Jr(U=>{const fe=U.target,xe=Me.current!==U.clientX;if(U.currentTarget.contains(fe)&&xe){const Ce=U.clientX>Me.current?"right":"left";je.current=Ce,Me.current=U.clientX}}))})})})})})})});uc.displayName=Bt;var Ug="MenuGroup",si=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(qe.div,{role:"group",...r,ref:t})});si.displayName=Ug;var Kg="MenuLabel",lc=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(qe.div,{...r,ref:t})});lc.displayName=Kg;var Go="MenuItem",ku="menu.itemSelect",ca=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,a=g.useRef(null),u=co(Go,e.__scopeMenu),l=oi(Go,e.__scopeMenu),d=We(t,a),h=g.useRef(!1),p=()=>{const x=a.current;if(!n&&x){const C=new CustomEvent(ku,{bubbles:!0,cancelable:!0});x.addEventListener(ku,y=>r?.(y),{once:!0}),Cp(x,C),C.defaultPrevented?h.current=!1:u.onClose()}};return i.jsx(cc,{...o,ref:d,disabled:n,onClick:me(e.onClick,p),onPointerDown:x=>{e.onPointerDown?.(x),h.current=!0},onPointerUp:me(e.onPointerUp,x=>{h.current||x.currentTarget?.click()}),onKeyDown:me(e.onKeyDown,x=>{const C=l.searchRef.current!=="";n||C&&x.key===" "||As.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});ca.displayName=Go;var cc=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...a}=e,u=oi(Go,n),l=oc(n),d=g.useRef(null),h=We(t,d),[p,x]=g.useState(!1),[C,y]=g.useState("");return g.useEffect(()=>{const w=d.current;w&&y((w.textContent??"").trim())},[a.children]),i.jsx(Qr.ItemSlot,{scope:n,disabled:r,textValue:o??C,children:i.jsx(Dg,{asChild:!0,...l,focusable:!r,children:i.jsx(qe.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:h,onPointerMove:me(e.onPointerMove,Jr(w=>{r?u.onItemLeave(w):(u.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,Jr(w=>u.onItemLeave(w))),onFocus:me(e.onFocus,()=>x(!0)),onBlur:me(e.onBlur,()=>x(!1))})})})}),Hg="MenuCheckboxItem",dc=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return i.jsx(gc,{scope:e.__scopeMenu,checked:n,children:i.jsx(ca,{role:"menuitemcheckbox","aria-checked":Yo(n)?"mixed":n,...o,ref:t,"data-state":ui(n),onSelect:me(o.onSelect,()=>r?.(Yo(n)?!0:!n),{checkForDefaultPrevented:!1})})})});dc.displayName=Hg;var fc="MenuRadioGroup",[Vg,Wg]=Qn(fc,{value:void 0,onValueChange:()=>{}}),hc=g.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,a=Mt(r);return i.jsx(Vg,{scope:e.__scopeMenu,value:n,onValueChange:a,children:i.jsx(si,{...o,ref:t})})});hc.displayName=fc;var pc="MenuRadioItem",mc=g.forwardRef((e,t)=>{const{value:n,...r}=e,o=Wg(pc,e.__scopeMenu),a=n===o.value;return i.jsx(gc,{scope:e.__scopeMenu,checked:a,children:i.jsx(ca,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":ui(a),onSelect:me(r.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});mc.displayName=pc;var ii="MenuItemIndicator",[gc,Gg]=Qn(ii,{checked:!1}),bc=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,a=Gg(ii,n);return i.jsx(Ln,{present:r||Yo(a.checked)||a.checked===!0,children:i.jsx(qe.span,{...o,ref:t,"data-state":ui(a.checked)})})});bc.displayName=ii;var Yg="MenuSeparator",xc=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});xc.displayName=Yg;var Zg="MenuArrow",yc=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=la(n);return i.jsx(Cl,{...o,...r,ref:t})});yc.displayName=Zg;var Xg="MenuSub",[j_,vc]=Qn(Xg),Kr="MenuSubTrigger",wc=g.forwardRef((e,t)=>{const n=Jn(Kr,e.__scopeMenu),r=co(Kr,e.__scopeMenu),o=vc(Kr,e.__scopeMenu),a=oi(Kr,e.__scopeMenu),u=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=a,h={__scopeMenu:e.__scopeMenu},p=g.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return g.useEffect(()=>p,[p]),g.useEffect(()=>{const x=l.current;return()=>{window.clearTimeout(x),d(null)}},[l,d]),i.jsx(ni,{asChild:!0,...h,children:i.jsx(cc,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":kc(n.open),...e,ref:fl(t,o.onTriggerChange),onClick:x=>{e.onClick?.(x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,Jr(x=>{a.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:me(e.onPointerLeave,Jr(x=>{p();const C=n.content?.getBoundingClientRect();if(C){const y=n.content?.dataset.side,w=y==="right",k=w?-5:5,D=C[w?"left":"right"],S=C[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:x.clientX+k,y:x.clientY},{x:D,y:C.top},{x:S,y:C.top},{x:S,y:C.bottom},{x:D,y:C.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(x),x.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,x=>{const C=a.searchRef.current!=="";e.disabled||C&&x.key===" "||Mg[r.dir].includes(x.key)&&(n.onOpenChange(!0),n.content?.focus(),x.preventDefault())})})})});wc.displayName=Kr;var Cc="MenuSubContent",_c=g.forwardRef((e,t)=>{const n=sc(Bt,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=Jn(Bt,e.__scopeMenu),u=co(Bt,e.__scopeMenu),l=vc(Cc,e.__scopeMenu),d=g.useRef(null),h=We(t,d);return i.jsx(Qr.Provider,{scope:e.__scopeMenu,children:i.jsx(Ln,{present:r||a.open,children:i.jsx(Qr.Slot,{scope:e.__scopeMenu,children:i.jsx(ai,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:h,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{u.isUsingKeyboardRef.current&&d.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:me(e.onFocusOutside,p=>{p.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,p=>{u.onClose(),p.preventDefault()}),onKeyDown:me(e.onKeyDown,p=>{const x=p.currentTarget.contains(p.target),C=Pg[u.dir].includes(p.key);x&&C&&(a.onOpenChange(!1),l.trigger?.focus(),p.preventDefault())})})})})})});_c.displayName=Cc;function kc(e){return e?"open":"closed"}function Yo(e){return e==="indeterminate"}function ui(e){return Yo(e)?"indeterminate":e?"checked":"unchecked"}function Qg(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Jg(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function e1(e,t,n){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let u=Jg(e,Math.max(a,0));o.length===1&&(u=u.filter(h=>h!==n));const d=u.find(h=>h.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function t1(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const l=t[a].x,d=t[a].y,h=t[u].x,p=t[u].y;d>r!=p>r&&n<(h-l)*(r-d)/(p-d)+l&&(o=!o)}return o}function n1(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return t1(n,t)}function Jr(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Sc=ac,Ec=ni,jc=ic,Ac=uc,Dc=si,Nc=lc,Tc=ca,Mc=dc,Pc=hc,Ic=mc,Rc=bc,Fc=xc,Oc=yc,Lc=wc,zc=_c,li="DropdownMenu",[r1,A_]=an(li,[ua]),wt=ua(),[o1,Bc]=r1(li),$c=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:a,onOpenChange:u,modal:l=!0}=e,d=wt(t),h=g.useRef(null),[p=!1,x]=Xr({prop:o,defaultProp:a,onChange:u});return i.jsx(o1,{scope:t,triggerId:mr(),triggerRef:h,contentId:mr(),open:p,onOpenChange:x,onOpenToggle:g.useCallback(()=>x(C=>!C),[x]),modal:l,children:i.jsx(Sc,{...d,open:p,onOpenChange:x,dir:r,modal:l,children:n})})};$c.displayName=li;var qc="DropdownMenuTrigger",Uc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,a=Bc(qc,n),u=wt(n);return i.jsx(Ec,{asChild:!0,...u,children:i.jsx(qe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:fl(t,a.triggerRef),onPointerDown:me(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:me(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Uc.displayName=qc;var a1="DropdownMenuPortal",Kc=e=>{const{__scopeDropdownMenu:t,...n}=e,r=wt(t);return i.jsx(jc,{...r,...n})};Kc.displayName=a1;var Hc="DropdownMenuContent",Vc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Bc(Hc,n),a=wt(n),u=g.useRef(!1);return i.jsx(Ac,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...r,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,l=>{u.current||o.triggerRef.current?.focus(),u.current=!1,l.preventDefault()}),onInteractOutside:me(e.onInteractOutside,l=>{const d=l.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,p=d.button===2||h;(!o.modal||p)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vc.displayName=Hc;var s1="DropdownMenuGroup",i1=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return i.jsx(Dc,{...o,...r,ref:t})});i1.displayName=s1;var u1="DropdownMenuLabel",Wc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return i.jsx(Nc,{...o,...r,ref:t})});Wc.displayName=u1;var l1="DropdownMenuItem",Gc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return i.jsx(Tc,{...o,...r,ref:t})});Gc.displayName=l1;var c1="DropdownMenuCheckboxItem",Yc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return i.jsx(Mc,{...o,...r,ref:t})});Yc.displayName=c1;var d1="DropdownMenuRadioGroup",f1=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return i.jsx(Pc,{...o,...r,ref:t})});f1.displayName=d1;var h1="DropdownMenuRadioItem",Zc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return i.jsx(Ic,{...o,...r,ref:t})});Zc.displayName=h1;var p1="DropdownMenuItemIndicator",Xc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return i.jsx(Rc,{...o,...r,ref:t})});Xc.displayName=p1;var m1="DropdownMenuSeparator",Qc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return i.jsx(Fc,{...o,...r,ref:t})});Qc.displayName=m1;var g1="DropdownMenuArrow",b1=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return i.jsx(Oc,{...o,...r,ref:t})});b1.displayName=g1;var x1="DropdownMenuSubTrigger",Jc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return i.jsx(Lc,{...o,...r,ref:t})});Jc.displayName=x1;var y1="DropdownMenuSubContent",ed=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return i.jsx(zc,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ed.displayName=y1;var v1=$c,w1=Uc,C1=Kc,td=Vc,nd=Wc,rd=Gc,od=Yc,ad=Zc,sd=Xc,id=Qc,ud=Jc,ld=ed;const _1=v1,k1=w1,S1=g.forwardRef(({className:e,inset:t,children:n,...r},o)=>i.jsxs(ud,{ref:o,className:oe("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,i.jsx(ei,{className:"ml-auto"})]}));S1.displayName=ud.displayName;const E1=g.forwardRef(({className:e,...t},n)=>i.jsx(ld,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));E1.displayName=ld.displayName;const cd=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(C1,{children:i.jsx(td,{ref:r,sideOffset:t,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));cd.displayName=td.displayName;const bn=g.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(rd,{ref:r,className:oe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));bn.displayName=rd.displayName;const j1=g.forwardRef(({className:e,children:t,checked:n,...r},o)=>i.jsxs(od,{ref:o,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(sd,{children:i.jsx(In,{className:"h-4 w-4"})})}),t]}));j1.displayName=od.displayName;const A1=g.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(ad,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(sd,{children:i.jsx(Kl,{className:"h-2 w-2 fill-current"})})}),t]}));A1.displayName=ad.displayName;const D1=g.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(nd,{ref:r,className:oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));D1.displayName=nd.displayName;const Ds=g.forwardRef(({className:e,...t},n)=>i.jsx(id,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));Ds.displayName=id.displayName;var N1=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,T1=bt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Pp(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[Mp({find:N1,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),M1=T1,P1=Ip,I1=Rp,R1=Fp;const Su={};function F1(e){let t=Su[e];if(t)return t;t=Su[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);t.push(r)}for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}function gr(e,t){typeof t!="string"&&(t=gr.defaultChars);const n=F1(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(r){let o="";for(let a=0,u=r.length;a<u;a+=3){const l=parseInt(r.slice(a+1,a+3),16);if(l<128){o+=n[l];continue}if((l&224)===192&&a+3<u){const d=parseInt(r.slice(a+4,a+6),16);if((d&192)===128){const h=l<<6&1984|d&63;h<128?o+="��":o+=String.fromCharCode(h),a+=3;continue}}if((l&240)===224&&a+6<u){const d=parseInt(r.slice(a+4,a+6),16),h=parseInt(r.slice(a+7,a+9),16);if((d&192)===128&&(h&192)===128){const p=l<<12&61440|d<<6&4032|h&63;p<2048||p>=55296&&p<=57343?o+="���":o+=String.fromCharCode(p),a+=6;continue}}if((l&248)===240&&a+9<u){const d=parseInt(r.slice(a+4,a+6),16),h=parseInt(r.slice(a+7,a+9),16),p=parseInt(r.slice(a+10,a+12),16);if((d&192)===128&&(h&192)===128&&(p&192)===128){let x=l<<18&1835008|d<<12&258048|h<<6&4032|p&63;x<65536||x>1114111?o+="����":(x-=65536,o+=String.fromCharCode(55296+(x>>10),56320+(x&1023))),a+=9;continue}}o+="�"}return o})}gr.defaultChars=";/?:@&=+$,#";gr.componentChars="";const Eu={};function O1(e){let t=Eu[e];if(t)return t;t=Eu[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?t.push(r):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function fo(e,t,n){typeof t!="string"&&(n=t,t=fo.defaultChars),typeof n>"u"&&(n=!0);const r=O1(t);let o="";for(let a=0,u=e.length;a<u;a++){const l=e.charCodeAt(a);if(n&&l===37&&a+2<u&&/^[0-9a-f]{2}$/i.test(e.slice(a+1,a+3))){o+=e.slice(a,a+3),a+=2;continue}if(l<128){o+=r[l];continue}if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&a+1<u){const d=e.charCodeAt(a+1);if(d>=56320&&d<=57343){o+=encodeURIComponent(e[a]+e[a+1]),a++;continue}}o+="%EF%BF%BD";continue}o+=encodeURIComponent(e[a])}return o}fo.defaultChars=";/?:@&=+$,-_.!~*'()#";fo.componentChars="-_.!~*'()";function ci(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Zo(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const L1=/^([a-z0-9.+-]+:)/i,z1=/:[0-9]*$/,B1=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,$1=["<",">",'"',"`"," ","\r",`
`,"	"],q1=["{","}","|","\\","^","`"].concat($1),U1=["'"].concat(q1),ju=["%","/","?",";","#"].concat(U1),Au=["/","?","#"],K1=255,Du=/^[+a-z0-9A-Z_-]{0,63}$/,H1=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Nu={javascript:!0,"javascript:":!0},Tu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function di(e,t){if(e&&e instanceof Zo)return e;const n=new Zo;return n.parse(e,t),n}Zo.prototype.parse=function(e,t){let n,r,o,a=e;if(a=a.trim(),!t&&e.split("#").length===1){const h=B1.exec(a);if(h)return this.pathname=h[1],h[2]&&(this.search=h[2]),this}let u=L1.exec(a);if(u&&(u=u[0],n=u.toLowerCase(),this.protocol=u,a=a.substr(u.length)),(t||u||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(o=a.substr(0,2)==="//",o&&!(u&&Nu[u])&&(a=a.substr(2),this.slashes=!0)),!Nu[u]&&(o||u&&!Tu[u])){let h=-1;for(let w=0;w<Au.length;w++)r=a.indexOf(Au[w]),r!==-1&&(h===-1||r<h)&&(h=r);let p,x;h===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",h),x!==-1&&(p=a.slice(0,x),a=a.slice(x+1),this.auth=p),h=-1;for(let w=0;w<ju.length;w++)r=a.indexOf(ju[w]),r!==-1&&(h===-1||r<h)&&(h=r);h===-1&&(h=a.length),a[h-1]===":"&&h--;const C=a.slice(0,h);a=a.slice(h),this.parseHost(C),this.hostname=this.hostname||"";const y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y){const w=this.hostname.split(/\./);for(let k=0,D=w.length;k<D;k++){const S=w[k];if(S&&!S.match(Du)){let _="";for(let j=0,E=S.length;j<E;j++)S.charCodeAt(j)>127?_+="x":_+=S[j];if(!_.match(Du)){const j=w.slice(0,k),E=w.slice(k+1),M=S.match(H1);M&&(j.push(M[1]),E.unshift(M[2])),E.length&&(a=E.join(".")+a),this.hostname=j.join(".");break}}}}this.hostname.length>K1&&(this.hostname=""),y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const l=a.indexOf("#");l!==-1&&(this.hash=a.substr(l),a=a.slice(0,l));const d=a.indexOf("?");return d!==-1&&(this.search=a.substr(d),a=a.slice(0,d)),a&&(this.pathname=a),Tu[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Zo.prototype.parseHost=function(e){let t=z1.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const V1=Object.freeze(Object.defineProperty({__proto__:null,decode:gr,encode:fo,format:ci,parse:di},Symbol.toStringTag,{value:"Module"})),dd=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,fd=/[\0-\x1F\x7F-\x9F]/,W1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,fi=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,hd=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,pd=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,G1=Object.freeze(Object.defineProperty({__proto__:null,Any:dd,Cc:fd,Cf:W1,P:fi,S:hd,Z:pd},Symbol.toStringTag,{value:"Module"})),Y1=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),Z1=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0)));var ss;const X1=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Q1=(ss=String.fromCodePoint)!==null&&ss!==void 0?ss:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function J1(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=X1.get(e))!==null&&t!==void 0?t:e}var dt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(dt||(dt={}));const eb=32;var Mn;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Mn||(Mn={}));function Ns(e){return e>=dt.ZERO&&e<=dt.NINE}function tb(e){return e>=dt.UPPER_A&&e<=dt.UPPER_F||e>=dt.LOWER_A&&e<=dt.LOWER_F}function nb(e){return e>=dt.UPPER_A&&e<=dt.UPPER_Z||e>=dt.LOWER_A&&e<=dt.LOWER_Z||Ns(e)}function rb(e){return e===dt.EQUALS||nb(e)}var ct;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ct||(ct={}));var Tn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Tn||(Tn={}));class ob{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=ct.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Tn.Strict}startEntity(t){this.decodeMode=t,this.state=ct.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case ct.EntityStart:return t.charCodeAt(n)===dt.NUM?(this.state=ct.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=ct.NamedEntity,this.stateNamedEntity(t,n));case ct.NumericStart:return this.stateNumericStart(t,n);case ct.NumericDecimal:return this.stateNumericDecimal(t,n);case ct.NumericHex:return this.stateNumericHex(t,n);case ct.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|eb)===dt.LOWER_X?(this.state=ct.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=ct.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,o){if(n!==r){const a=r-n;this.result=this.result*Math.pow(o,a)+parseInt(t.substr(n,a),o),this.consumed+=a}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const o=t.charCodeAt(n);if(Ns(o)||tb(o))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(o,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const o=t.charCodeAt(n);if(Ns(o))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(o,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===dt.SEMI)this.consumed+=1;else if(this.decodeMode===Tn.Strict)return 0;return this.emitCodePoint(J1(this.result),this.consumed),this.errors&&(t!==dt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let o=r[this.treeIndex],a=(o&Mn.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const u=t.charCodeAt(n);if(this.treeIndex=ab(r,o,this.treeIndex+Math.max(1,a),u),this.treeIndex<0)return this.result===0||this.decodeMode===Tn.Attribute&&(a===0||rb(u))?0:this.emitNotTerminatedNamedEntity();if(o=r[this.treeIndex],a=(o&Mn.VALUE_LENGTH)>>14,a!==0){if(u===dt.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==Tn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,o=(r[n]&Mn.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,o,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:o}=this;return this.emitCodePoint(n===1?o[t]&~Mn.VALUE_LENGTH:o[t+1],r),n===3&&this.emitCodePoint(o[t+2],r),r}end(){var t;switch(this.state){case ct.NamedEntity:return this.result!==0&&(this.decodeMode!==Tn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ct.NumericDecimal:return this.emitNumericEntity(0,2);case ct.NumericHex:return this.emitNumericEntity(0,3);case ct.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ct.EntityStart:return 0}}}function md(e){let t="";const n=new ob(e,r=>t+=Q1(r));return function(o,a){let u=0,l=0;for(;(l=o.indexOf("&",l))>=0;){t+=o.slice(u,l),n.startEntity(a);const h=n.write(o,l+1);if(h<0){u=l+n.end();break}u=l+h,l=h===0?u+1:u}const d=t+o.slice(u);return t="",d}}function ab(e,t,n,r){const o=(t&Mn.BRANCH_LENGTH)>>7,a=t&Mn.JUMP_TABLE;if(o===0)return a!==0&&r===a?n:-1;if(a){const d=r-a;return d<0||d>=o?-1:e[n+d]-1}let u=n,l=u+o-1;for(;u<=l;){const d=u+l>>>1,h=e[d];if(h<r)u=d+1;else if(h>r)l=d-1;else return e[d+o]}return-1}const sb=md(Y1);md(Z1);function gd(e,t=Tn.Legacy){return sb(e,t)}function ib(e){return Object.prototype.toString.call(e)}function hi(e){return ib(e)==="[object String]"}const ub=Object.prototype.hasOwnProperty;function lb(e,t){return ub.call(e,t)}function da(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){e[r]=n[r]})}}),e}function bd(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function pi(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function Xo(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const xd=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,cb=/&([a-z#][a-z0-9]{1,31});/gi,db=new RegExp(xd.source+"|"+cb.source,"gi"),fb=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function hb(e,t){if(t.charCodeAt(0)===35&&fb.test(t)){const r=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return pi(r)?Xo(r):e}const n=gd(e);return n!==e?n:e}function pb(e){return e.indexOf("\\")<0?e:e.replace(xd,"$1")}function br(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(db,function(t,n,r){return n||hb(t,r)})}const mb=/[&<>"]/,gb=/[&<>"]/g,bb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function xb(e){return bb[e]}function Rn(e){return mb.test(e)?e.replace(gb,xb):e}const yb=/[.?*+^$[\]\\(){}|-]/g;function vb(e){return e.replace(yb,"\\$&")}function Ze(e){switch(e){case 9:case 32:return!0}return!1}function eo(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function to(e){return fi.test(e)||hd.test(e)}function no(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function fa(e){return e=e.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}const wb={mdurl:V1,ucmicro:G1},Cb=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:bd,assign:da,escapeHtml:Rn,escapeRE:vb,fromCodePoint:Xo,has:lb,isMdAsciiPunct:no,isPunctChar:to,isSpace:Ze,isString:hi,isValidEntityCode:pi,isWhiteSpace:eo,lib:wb,normalizeReference:fa,unescapeAll:br,unescapeMd:pb},Symbol.toStringTag,{value:"Module"}));function _b(e,t,n){let r,o,a,u;const l=e.posMax,d=e.pos;for(e.pos=t+1,r=1;e.pos<l;){if(a=e.src.charCodeAt(e.pos),a===93&&(r--,r===0)){o=!0;break}if(u=e.pos,e.md.inline.skipToken(e),a===91){if(u===e.pos-1)r++;else if(n)return e.pos=d,-1}}let h=-1;return o&&(h=e.pos),e.pos=d,h}function kb(e,t,n){let r,o=t;const a={ok:!1,pos:0,str:""};if(e.charCodeAt(o)===60){for(o++;o<n;){if(r=e.charCodeAt(o),r===10||r===60)return a;if(r===62)return a.pos=o+1,a.str=br(e.slice(t+1,o)),a.ok=!0,a;if(r===92&&o+1<n){o+=2;continue}o++}return a}let u=0;for(;o<n&&(r=e.charCodeAt(o),!(r===32||r<32||r===127));){if(r===92&&o+1<n){if(e.charCodeAt(o+1)===32)break;o+=2;continue}if(r===40&&(u++,u>32))return a;if(r===41){if(u===0)break;u--}o++}return t===o||u!==0||(a.str=br(e.slice(t,o)),a.pos=o,a.ok=!0),a}function Sb(e,t,n,r){let o,a=t;const u={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)u.str=r.str,u.marker=r.marker;else{if(a>=n)return u;let l=e.charCodeAt(a);if(l!==34&&l!==39&&l!==40)return u;t++,a++,l===40&&(l=41),u.marker=l}for(;a<n;){if(o=e.charCodeAt(a),o===u.marker)return u.pos=a+1,u.str+=br(e.slice(t,a)),u.ok=!0,u;if(o===40&&u.marker===41)return u;o===92&&a+1<n&&a++,a++}return u.can_continue=!0,u.str+=br(e.slice(t,a)),u}const Eb=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:kb,parseLinkLabel:_b,parseLinkTitle:Sb},Symbol.toStringTag,{value:"Module"})),sn={};sn.code_inline=function(e,t,n,r,o){const a=e[t];return"<code"+o.renderAttrs(a)+">"+Rn(a.content)+"</code>"};sn.code_block=function(e,t,n,r,o){const a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+Rn(e[t].content)+`</code></pre>
`};sn.fence=function(e,t,n,r,o){const a=e[t],u=a.info?br(a.info).trim():"";let l="",d="";if(u){const p=u.split(/(\s+)/g);l=p[0],d=p.slice(2).join("")}let h;if(n.highlight?h=n.highlight(a.content,l,d)||Rn(a.content):h=Rn(a.content),h.indexOf("<pre")===0)return h+`
`;if(u){const p=a.attrIndex("class"),x=a.attrs?a.attrs.slice():[];p<0?x.push(["class",n.langPrefix+l]):(x[p]=x[p].slice(),x[p][1]+=" "+n.langPrefix+l);const C={attrs:x};return`<pre><code${o.renderAttrs(C)}>${h}</code></pre>
`}return`<pre><code${o.renderAttrs(a)}>${h}</code></pre>
`};sn.image=function(e,t,n,r,o){const a=e[t];return a.attrs[a.attrIndex("alt")][1]=o.renderInlineAsText(a.children,n,r),o.renderToken(e,t,n)};sn.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};sn.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};sn.text=function(e,t){return Rn(e[t].content)};sn.html_block=function(e,t){return e[t].content};sn.html_inline=function(e,t){return e[t].content};function _r(){this.rules=da({},sn)}_r.prototype.renderAttrs=function(t){let n,r,o;if(!t.attrs)return"";for(o="",n=0,r=t.attrs.length;n<r;n++)o+=" "+Rn(t.attrs[n][0])+'="'+Rn(t.attrs[n][1])+'"';return o};_r.prototype.renderToken=function(t,n,r){const o=t[n];let a="";if(o.hidden)return"";o.block&&o.nesting!==-1&&n&&t[n-1].hidden&&(a+=`
`),a+=(o.nesting===-1?"</":"<")+o.tag,a+=this.renderAttrs(o),o.nesting===0&&r.xhtmlOut&&(a+=" /");let u=!1;if(o.block&&(u=!0,o.nesting===1&&n+1<t.length)){const l=t[n+1];(l.type==="inline"||l.hidden||l.nesting===-1&&l.tag===o.tag)&&(u=!1)}return a+=u?`>
`:">",a};_r.prototype.renderInline=function(e,t,n){let r="";const o=this.rules;for(let a=0,u=e.length;a<u;a++){const l=e[a].type;typeof o[l]<"u"?r+=o[l](e,a,t,n,this):r+=this.renderToken(e,a,t)}return r};_r.prototype.renderInlineAsText=function(e,t,n){let r="";for(let o=0,a=e.length;o<a;o++)switch(e[o].type){case"text":r+=e[o].content;break;case"image":r+=this.renderInlineAsText(e[o].children,t,n);break;case"html_inline":case"html_block":r+=e[o].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};_r.prototype.render=function(e,t,n){let r="";const o=this.rules;for(let a=0,u=e.length;a<u;a++){const l=e[a].type;l==="inline"?r+=this.renderInline(e[a].children,t,n):typeof o[l]<"u"?r+=o[l](e,a,t,n,this):r+=this.renderToken(e,a,t,n)}return r};function Et(){this.__rules__=[],this.__cache__=null}Et.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Et.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn))})})};Et.prototype.at=function(e,t,n){const r=this.__find__(e),o=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null};Et.prototype.before=function(e,t,n,r){const o=this.__find__(e),a=r||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null};Et.prototype.after=function(e,t,n,r){const o=this.__find__(e),a=r||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null};Et.prototype.push=function(e,t,n){const r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};Et.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const o=this.__find__(r);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!0,n.push(r)},this),this.__cache__=null,n};Et.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};Et.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const o=this.__find__(r);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!1,n.push(r)},this),this.__cache__=null,n};Et.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Yt(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Yt.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,o=n.length;r<o;r++)if(n[r][0]===t)return r;return-1};Yt.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Yt.prototype.attrSet=function(t,n){const r=this.attrIndex(t),o=[t,n];r<0?this.attrPush(o):this.attrs[r]=o};Yt.prototype.attrGet=function(t){const n=this.attrIndex(t);let r=null;return n>=0&&(r=this.attrs[n][1]),r};Yt.prototype.attrJoin=function(t,n){const r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function yd(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}yd.prototype.Token=Yt;const jb=/\r\n?|\n/g,Ab=/\0/g;function Db(e){let t;t=e.src.replace(jb,`
`),t=t.replace(Ab,"�"),e.src=t}function Nb(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function Tb(e){const t=e.tokens;for(let n=0,r=t.length;n<r;n++){const o=t[n];o.type==="inline"&&e.md.inline.parse(o.content,e.md,e.env,o.children)}}function Mb(e){return/^<a[>\s]/i.test(e)}function Pb(e){return/^<\/a\s*>/i.test(e)}function Ib(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,r=t.length;n<r;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let o=t[n].children,a=0;for(let u=o.length-1;u>=0;u--){const l=o[u];if(l.type==="link_close"){for(u--;o[u].level!==l.level&&o[u].type!=="link_open";)u--;continue}if(l.type==="html_inline"&&(Mb(l.content)&&a>0&&a--,Pb(l.content)&&a++),!(a>0)&&l.type==="text"&&e.md.linkify.test(l.content)){const d=l.content;let h=e.md.linkify.match(d);const p=[];let x=l.level,C=0;h.length>0&&h[0].index===0&&u>0&&o[u-1].type==="text_special"&&(h=h.slice(1));for(let y=0;y<h.length;y++){const w=h[y].url,k=e.md.normalizeLink(w);if(!e.md.validateLink(k))continue;let D=h[y].text;h[y].schema?h[y].schema==="mailto:"&&!/^mailto:/i.test(D)?D=e.md.normalizeLinkText("mailto:"+D).replace(/^mailto:/,""):D=e.md.normalizeLinkText(D):D=e.md.normalizeLinkText("http://"+D).replace(/^http:\/\//,"");const S=h[y].index;if(S>C){const M=new e.Token("text","",0);M.content=d.slice(C,S),M.level=x,p.push(M)}const _=new e.Token("link_open","a",1);_.attrs=[["href",k]],_.level=x++,_.markup="linkify",_.info="auto",p.push(_);const j=new e.Token("text","",0);j.content=D,j.level=x,p.push(j);const E=new e.Token("link_close","a",-1);E.level=--x,E.markup="linkify",E.info="auto",p.push(E),C=h[y].lastIndex}if(C<d.length){const y=new e.Token("text","",0);y.content=d.slice(C),y.level=x,p.push(y)}t[n].children=o=bd(o,u,p)}}}}const vd=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Rb=/\((c|tm|r)\)/i,Fb=/\((c|tm|r)\)/ig,Ob={c:"©",r:"®",tm:"™"};function Lb(e,t){return Ob[t.toLowerCase()]}function zb(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&(r.content=r.content.replace(Fb,Lb)),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function Bb(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&vd.test(r.content)&&(r.content=r.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function $b(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(Rb.test(e.tokens[t].content)&&zb(e.tokens[t].children),vd.test(e.tokens[t].content)&&Bb(e.tokens[t].children))}const qb=/['"]/,Mu=/['"]/g,Pu="’";function zo(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function Ub(e,t){let n;const r=[];for(let o=0;o<e.length;o++){const a=e[o],u=e[o].level;for(n=r.length-1;n>=0&&!(r[n].level<=u);n--);if(r.length=n+1,a.type!=="text")continue;let l=a.content,d=0,h=l.length;e:for(;d<h;){Mu.lastIndex=d;const p=Mu.exec(l);if(!p)break;let x=!0,C=!0;d=p.index+1;const y=p[0]==="'";let w=32;if(p.index-1>=0)w=l.charCodeAt(p.index-1);else for(n=o-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){w=e[n].content.charCodeAt(e[n].content.length-1);break}let k=32;if(d<h)k=l.charCodeAt(d);else for(n=o+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){k=e[n].content.charCodeAt(0);break}const D=no(w)||to(String.fromCharCode(w)),S=no(k)||to(String.fromCharCode(k)),_=eo(w),j=eo(k);if(j?x=!1:S&&(_||D||(x=!1)),_?C=!1:D&&(j||S||(C=!1)),k===34&&p[0]==='"'&&w>=48&&w<=57&&(C=x=!1),x&&C&&(x=D,C=S),!x&&!C){y&&(a.content=zo(a.content,p.index,Pu));continue}if(C)for(n=r.length-1;n>=0;n--){let E=r[n];if(r[n].level<u)break;if(E.single===y&&r[n].level===u){E=r[n];let M,F;y?(M=t.md.options.quotes[2],F=t.md.options.quotes[3]):(M=t.md.options.quotes[0],F=t.md.options.quotes[1]),a.content=zo(a.content,p.index,F),e[E.token].content=zo(e[E.token].content,E.pos,M),d+=F.length-1,E.token===o&&(d+=M.length-1),l=a.content,h=l.length,r.length=n;continue e}}x?r.push({token:o,pos:p.index,single:y,level:u}):C&&y&&(a.content=zo(a.content,p.index,Pu))}}}function Kb(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!qb.test(e.tokens[t].content)||Ub(e.tokens[t].children,e)}function Hb(e){let t,n;const r=e.tokens,o=r.length;for(let a=0;a<o;a++){if(r[a].type!=="inline")continue;const u=r[a].children,l=u.length;for(t=0;t<l;t++)u[t].type==="text_special"&&(u[t].type="text");for(t=n=0;t<l;t++)u[t].type==="text"&&t+1<l&&u[t+1].type==="text"?u[t+1].content=u[t].content+u[t+1].content:(t!==n&&(u[n]=u[t]),n++);t!==n&&(u.length=n)}}const is=[["normalize",Db],["block",Nb],["inline",Tb],["linkify",Ib],["replacements",$b],["smartquotes",Kb],["text_join",Hb]];function mi(){this.ruler=new Et;for(let e=0;e<is.length;e++)this.ruler.push(is[e][0],is[e][1])}mi.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)};mi.prototype.State=yd;function un(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const o=this.src;for(let a=0,u=0,l=0,d=0,h=o.length,p=!1;u<h;u++){const x=o.charCodeAt(u);if(!p)if(Ze(x)){l++,x===9?d+=4-d%4:d++;continue}else p=!0;(x===10||u===h-1)&&(x!==10&&u++,this.bMarks.push(a),this.eMarks.push(u),this.tShift.push(l),this.sCount.push(d),this.bsCount.push(0),p=!1,l=0,d=0,a=u+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}un.prototype.push=function(e,t,n){const r=new Yt(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};un.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};un.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};un.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const r=this.src.charCodeAt(t);if(!Ze(r))break}return t};un.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Ze(this.src.charCodeAt(--t)))return t+1;return t};un.prototype.skipChars=function(t,n){for(let r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};un.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};un.prototype.getLines=function(t,n,r,o){if(t>=n)return"";const a=new Array(n-t);for(let u=0,l=t;l<n;l++,u++){let d=0;const h=this.bMarks[l];let p=h,x;for(l+1<n||o?x=this.eMarks[l]+1:x=this.eMarks[l];p<x&&d<r;){const C=this.src.charCodeAt(p);if(Ze(C))C===9?d+=4-(d+this.bsCount[l])%4:d++;else if(p-h<this.tShift[l])d++;else break;p++}d>r?a[u]=new Array(d-r+1).join(" ")+this.src.slice(p,x):a[u]=this.src.slice(p,x)}return a.join("")};un.prototype.Token=Yt;const Vb=65536;function us(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function Iu(e){const t=[],n=e.length;let r=0,o=e.charCodeAt(r),a=!1,u=0,l="";for(;r<n;)o===124&&(a?(l+=e.substring(u,r-1),u=r):(t.push(l+e.substring(u,r)),l="",u=r+1)),a=o===92,r++,o=e.charCodeAt(r);return t.push(l+e.substring(u)),t}function Wb(e,t,n,r){if(t+2>n)return!1;let o=t+1;if(e.sCount[o]<e.blkIndent||e.sCount[o]-e.blkIndent>=4)return!1;let a=e.bMarks[o]+e.tShift[o];if(a>=e.eMarks[o])return!1;const u=e.src.charCodeAt(a++);if(u!==124&&u!==45&&u!==58||a>=e.eMarks[o])return!1;const l=e.src.charCodeAt(a++);if(l!==124&&l!==45&&l!==58&&!Ze(l)||u===45&&Ze(l))return!1;for(;a<e.eMarks[o];){const E=e.src.charCodeAt(a);if(E!==124&&E!==45&&E!==58&&!Ze(E))return!1;a++}let d=us(e,t+1),h=d.split("|");const p=[];for(let E=0;E<h.length;E++){const M=h[E].trim();if(!M){if(E===0||E===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(M))return!1;M.charCodeAt(M.length-1)===58?p.push(M.charCodeAt(0)===58?"center":"right"):M.charCodeAt(0)===58?p.push("left"):p.push("")}if(d=us(e,t).trim(),d.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;h=Iu(d),h.length&&h[0]===""&&h.shift(),h.length&&h[h.length-1]===""&&h.pop();const x=h.length;if(x===0||x!==p.length)return!1;if(r)return!0;const C=e.parentType;e.parentType="table";const y=e.md.block.ruler.getRules("blockquote"),w=e.push("table_open","table",1),k=[t,0];w.map=k;const D=e.push("thead_open","thead",1);D.map=[t,t+1];const S=e.push("tr_open","tr",1);S.map=[t,t+1];for(let E=0;E<h.length;E++){const M=e.push("th_open","th",1);p[E]&&(M.attrs=[["style","text-align:"+p[E]]]);const F=e.push("inline","",0);F.content=h[E].trim(),F.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let _,j=0;for(o=t+2;o<n&&!(e.sCount[o]<e.blkIndent);o++){let E=!1;for(let F=0,K=y.length;F<K;F++)if(y[F](e,o,n,!0)){E=!0;break}if(E||(d=us(e,o).trim(),!d)||e.sCount[o]-e.blkIndent>=4||(h=Iu(d),h.length&&h[0]===""&&h.shift(),h.length&&h[h.length-1]===""&&h.pop(),j+=x-h.length,j>Vb))break;if(o===t+2){const F=e.push("tbody_open","tbody",1);F.map=_=[t+2,0]}const M=e.push("tr_open","tr",1);M.map=[o,o+1];for(let F=0;F<x;F++){const K=e.push("td_open","td",1);p[F]&&(K.attrs=[["style","text-align:"+p[F]]]);const Y=e.push("inline","",0);Y.content=h[F]?h[F].trim():"",Y.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return _&&(e.push("tbody_close","tbody",-1),_[1]=o),e.push("table_close","table",-1),k[1]=o,e.parentType=C,e.line=o,!0}function Gb(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,o=r;for(;r<n;){if(e.isEmpty(r)){r++;continue}if(e.sCount[r]-e.blkIndent>=4){r++,o=r;continue}break}e.line=o;const a=e.push("code_block","code",0);return a.content=e.getLines(t,o,4+e.blkIndent,!1)+`
`,a.map=[t,e.line],!0}function Yb(e,t,n,r){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||o+3>a)return!1;const u=e.src.charCodeAt(o);if(u!==126&&u!==96)return!1;let l=o;o=e.skipChars(o,u);let d=o-l;if(d<3)return!1;const h=e.src.slice(l,o),p=e.src.slice(o,a);if(u===96&&p.indexOf(String.fromCharCode(u))>=0)return!1;if(r)return!0;let x=t,C=!1;for(;x++,!(x>=n||(o=l=e.bMarks[x]+e.tShift[x],a=e.eMarks[x],o<a&&e.sCount[x]<e.blkIndent));)if(e.src.charCodeAt(o)===u&&!(e.sCount[x]-e.blkIndent>=4)&&(o=e.skipChars(o,u),!(o-l<d)&&(o=e.skipSpaces(o),!(o<a)))){C=!0;break}d=e.sCount[t],e.line=x+(C?1:0);const y=e.push("fence","code",0);return y.info=p,y.content=e.getLines(t+1,x,d,!0),y.markup=h,y.map=[t,e.line],!0}function Zb(e,t,n,r){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];const u=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==62)return!1;if(r)return!0;const l=[],d=[],h=[],p=[],x=e.md.block.ruler.getRules("blockquote"),C=e.parentType;e.parentType="blockquote";let y=!1,w;for(w=t;w<n;w++){const j=e.sCount[w]<e.blkIndent;if(o=e.bMarks[w]+e.tShift[w],a=e.eMarks[w],o>=a)break;if(e.src.charCodeAt(o++)===62&&!j){let M=e.sCount[w]+1,F,K;e.src.charCodeAt(o)===32?(o++,M++,K=!1,F=!0):e.src.charCodeAt(o)===9?(F=!0,(e.bsCount[w]+M)%4===3?(o++,M++,K=!1):K=!0):F=!1;let Y=M;for(l.push(e.bMarks[w]),e.bMarks[w]=o;o<a;){const te=e.src.charCodeAt(o);if(Ze(te))te===9?Y+=4-(Y+e.bsCount[w]+(K?1:0))%4:Y++;else break;o++}y=o>=a,d.push(e.bsCount[w]),e.bsCount[w]=e.sCount[w]+1+(F?1:0),h.push(e.sCount[w]),e.sCount[w]=Y-M,p.push(e.tShift[w]),e.tShift[w]=o-e.bMarks[w];continue}if(y)break;let E=!1;for(let M=0,F=x.length;M<F;M++)if(x[M](e,w,n,!0)){E=!0;break}if(E){e.lineMax=w,e.blkIndent!==0&&(l.push(e.bMarks[w]),d.push(e.bsCount[w]),p.push(e.tShift[w]),h.push(e.sCount[w]),e.sCount[w]-=e.blkIndent);break}l.push(e.bMarks[w]),d.push(e.bsCount[w]),p.push(e.tShift[w]),h.push(e.sCount[w]),e.sCount[w]=-1}const k=e.blkIndent;e.blkIndent=0;const D=e.push("blockquote_open","blockquote",1);D.markup=">";const S=[t,0];D.map=S,e.md.block.tokenize(e,t,w);const _=e.push("blockquote_close","blockquote",-1);_.markup=">",e.lineMax=u,e.parentType=C,S[1]=e.line;for(let j=0;j<p.length;j++)e.bMarks[j+t]=l[j],e.tShift[j+t]=p[j],e.sCount[j+t]=h[j],e.bsCount[j+t]=d[j];return e.blkIndent=k,!0}function Xb(e,t,n,r){const o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.bMarks[t]+e.tShift[t];const u=e.src.charCodeAt(a++);if(u!==42&&u!==45&&u!==95)return!1;let l=1;for(;a<o;){const h=e.src.charCodeAt(a++);if(h!==u&&!Ze(h))return!1;h===u&&l++}if(l<3)return!1;if(r)return!0;e.line=t+1;const d=e.push("hr","hr",0);return d.map=[t,e.line],d.markup=Array(l+1).join(String.fromCharCode(u)),!0}function Ru(e,t){const n=e.eMarks[t];let r=e.bMarks[t]+e.tShift[t];const o=e.src.charCodeAt(r++);if(o!==42&&o!==45&&o!==43)return-1;if(r<n){const a=e.src.charCodeAt(r);if(!Ze(a))return-1}return r}function Fu(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];let o=n;if(o+1>=r)return-1;let a=e.src.charCodeAt(o++);if(a<48||a>57)return-1;for(;;){if(o>=r)return-1;if(a=e.src.charCodeAt(o++),a>=48&&a<=57){if(o-n>=10)return-1;continue}if(a===41||a===46)break;return-1}return o<r&&(a=e.src.charCodeAt(o),!Ze(a))?-1:o}function Qb(e,t){const n=e.level+2;for(let r=t+2,o=e.tokens.length-2;r<o;r++)e.tokens[r].level===n&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}function Jb(e,t,n,r){let o,a,u,l,d=t,h=!0;if(e.sCount[d]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[d]-e.listIndent>=4&&e.sCount[d]<e.blkIndent)return!1;let p=!1;r&&e.parentType==="paragraph"&&e.sCount[d]>=e.blkIndent&&(p=!0);let x,C,y;if((y=Fu(e,d))>=0){if(x=!0,u=e.bMarks[d]+e.tShift[d],C=Number(e.src.slice(u,y-1)),p&&C!==1)return!1}else if((y=Ru(e,d))>=0)x=!1;else return!1;if(p&&e.skipSpaces(y)>=e.eMarks[d])return!1;if(r)return!0;const w=e.src.charCodeAt(y-1),k=e.tokens.length;x?(l=e.push("ordered_list_open","ol",1),C!==1&&(l.attrs=[["start",C]])):l=e.push("bullet_list_open","ul",1);const D=[d,0];l.map=D,l.markup=String.fromCharCode(w);let S=!1;const _=e.md.block.ruler.getRules("list"),j=e.parentType;for(e.parentType="list";d<n;){a=y,o=e.eMarks[d];const E=e.sCount[d]+y-(e.bMarks[d]+e.tShift[d]);let M=E;for(;a<o;){const Ne=e.src.charCodeAt(a);if(Ne===9)M+=4-(M+e.bsCount[d])%4;else if(Ne===32)M++;else break;a++}const F=a;let K;F>=o?K=1:K=M-E,K>4&&(K=1);const Y=E+K;l=e.push("list_item_open","li",1),l.markup=String.fromCharCode(w);const te=[d,0];l.map=te,x&&(l.info=e.src.slice(u,y-1));const he=e.tight,G=e.tShift[d],Z=e.sCount[d],je=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=Y,e.tight=!0,e.tShift[d]=F-e.bMarks[d],e.sCount[d]=M,F>=o&&e.isEmpty(d+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,d,n,!0),(!e.tight||S)&&(h=!1),S=e.line-d>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=je,e.tShift[d]=G,e.sCount[d]=Z,e.tight=he,l=e.push("list_item_close","li",-1),l.markup=String.fromCharCode(w),d=e.line,te[1]=d,d>=n||e.sCount[d]<e.blkIndent||e.sCount[d]-e.blkIndent>=4)break;let Me=!1;for(let Ne=0,be=_.length;Ne<be;Ne++)if(_[Ne](e,d,n,!0)){Me=!0;break}if(Me)break;if(x){if(y=Fu(e,d),y<0)break;u=e.bMarks[d]+e.tShift[d]}else if(y=Ru(e,d),y<0)break;if(w!==e.src.charCodeAt(y-1))break}return x?l=e.push("ordered_list_close","ol",-1):l=e.push("bullet_list_close","ul",-1),l.markup=String.fromCharCode(w),D[1]=d,e.line=d,e.parentType=j,h&&Qb(e,k),!0}function ex(e,t,n,r){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t],u=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==91)return!1;function l(_){const j=e.lineMax;if(_>=j||e.isEmpty(_))return null;let E=!1;if(e.sCount[_]-e.blkIndent>3&&(E=!0),e.sCount[_]<0&&(E=!0),!E){const K=e.md.block.ruler.getRules("reference"),Y=e.parentType;e.parentType="reference";let te=!1;for(let he=0,G=K.length;he<G;he++)if(K[he](e,_,j,!0)){te=!0;break}if(e.parentType=Y,te)return null}const M=e.bMarks[_]+e.tShift[_],F=e.eMarks[_];return e.src.slice(M,F+1)}let d=e.src.slice(o,a+1);a=d.length;let h=-1;for(o=1;o<a;o++){const _=d.charCodeAt(o);if(_===91)return!1;if(_===93){h=o;break}else if(_===10){const j=l(u);j!==null&&(d+=j,a=d.length,u++)}else if(_===92&&(o++,o<a&&d.charCodeAt(o)===10)){const j=l(u);j!==null&&(d+=j,a=d.length,u++)}}if(h<0||d.charCodeAt(h+1)!==58)return!1;for(o=h+2;o<a;o++){const _=d.charCodeAt(o);if(_===10){const j=l(u);j!==null&&(d+=j,a=d.length,u++)}else if(!Ze(_))break}const p=e.md.helpers.parseLinkDestination(d,o,a);if(!p.ok)return!1;const x=e.md.normalizeLink(p.str);if(!e.md.validateLink(x))return!1;o=p.pos;const C=o,y=u,w=o;for(;o<a;o++){const _=d.charCodeAt(o);if(_===10){const j=l(u);j!==null&&(d+=j,a=d.length,u++)}else if(!Ze(_))break}let k=e.md.helpers.parseLinkTitle(d,o,a);for(;k.can_continue;){const _=l(u);if(_===null)break;d+=_,o=a,a=d.length,u++,k=e.md.helpers.parseLinkTitle(d,o,a,k)}let D;for(o<a&&w!==o&&k.ok?(D=k.str,o=k.pos):(D="",o=C,u=y);o<a;){const _=d.charCodeAt(o);if(!Ze(_))break;o++}if(o<a&&d.charCodeAt(o)!==10&&D)for(D="",o=C,u=y;o<a;){const _=d.charCodeAt(o);if(!Ze(_))break;o++}if(o<a&&d.charCodeAt(o)!==10)return!1;const S=fa(d.slice(1,h));return S?(r||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[S]>"u"&&(e.env.references[S]={title:D,href:x}),e.line=u),!0):!1}const tx=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nx="[a-zA-Z_:][a-zA-Z0-9:._-]*",rx="[^\"'=<>`\\x00-\\x20]+",ox="'[^']*'",ax='"[^"]*"',sx="(?:"+rx+"|"+ox+"|"+ax+")",ix="(?:\\s+"+nx+"(?:\\s*=\\s*"+sx+")?)",wd="<[A-Za-z][A-Za-z0-9\\-]*"+ix+"*\\s*\\/?>",Cd="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",ux="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",lx="<[?][\\s\\S]*?[?]>",cx="<![A-Za-z][^>]*>",dx="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",fx=new RegExp("^(?:"+wd+"|"+Cd+"|"+ux+"|"+lx+"|"+cx+"|"+dx+")"),hx=new RegExp("^(?:"+wd+"|"+Cd+")"),ir=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+tx.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(hx.source+"\\s*$"),/^$/,!1]];function px(e,t,n,r){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(o)!==60)return!1;let u=e.src.slice(o,a),l=0;for(;l<ir.length&&!ir[l][0].test(u);l++);if(l===ir.length)return!1;if(r)return ir[l][2];let d=t+1;if(!ir[l][1].test(u)){for(;d<n&&!(e.sCount[d]<e.blkIndent);d++)if(o=e.bMarks[d]+e.tShift[d],a=e.eMarks[d],u=e.src.slice(o,a),ir[l][1].test(u)){u.length!==0&&d++;break}}e.line=d;const h=e.push("html_block","",0);return h.map=[t,d],h.content=e.getLines(t,d,e.blkIndent,!0),!0}function mx(e,t,n,r){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let u=e.src.charCodeAt(o);if(u!==35||o>=a)return!1;let l=1;for(u=e.src.charCodeAt(++o);u===35&&o<a&&l<=6;)l++,u=e.src.charCodeAt(++o);if(l>6||o<a&&!Ze(u))return!1;if(r)return!0;a=e.skipSpacesBack(a,o);const d=e.skipCharsBack(a,35,o);d>o&&Ze(e.src.charCodeAt(d-1))&&(a=d),e.line=t+1;const h=e.push("heading_open","h"+String(l),1);h.markup="########".slice(0,l),h.map=[t,e.line];const p=e.push("inline","",0);p.content=e.src.slice(o,a).trim(),p.map=[t,e.line],p.children=[];const x=e.push("heading_close","h"+String(l),-1);return x.markup="########".slice(0,l),!0}function gx(e,t,n){const r=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const o=e.parentType;e.parentType="paragraph";let a=0,u,l=t+1;for(;l<n&&!e.isEmpty(l);l++){if(e.sCount[l]-e.blkIndent>3)continue;if(e.sCount[l]>=e.blkIndent){let y=e.bMarks[l]+e.tShift[l];const w=e.eMarks[l];if(y<w&&(u=e.src.charCodeAt(y),(u===45||u===61)&&(y=e.skipChars(y,u),y=e.skipSpaces(y),y>=w))){a=u===61?1:2;break}}if(e.sCount[l]<0)continue;let C=!1;for(let y=0,w=r.length;y<w;y++)if(r[y](e,l,n,!0)){C=!0;break}if(C)break}if(!a)return!1;const d=e.getLines(t,l,e.blkIndent,!1).trim();e.line=l+1;const h=e.push("heading_open","h"+String(a),1);h.markup=String.fromCharCode(u),h.map=[t,e.line];const p=e.push("inline","",0);p.content=d,p.map=[t,e.line-1],p.children=[];const x=e.push("heading_close","h"+String(a),-1);return x.markup=String.fromCharCode(u),e.parentType=o,!0}function bx(e,t,n){const r=e.md.block.ruler.getRules("paragraph"),o=e.parentType;let a=t+1;for(e.parentType="paragraph";a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3||e.sCount[a]<0)continue;let h=!1;for(let p=0,x=r.length;p<x;p++)if(r[p](e,a,n,!0)){h=!0;break}if(h)break}const u=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a;const l=e.push("paragraph_open","p",1);l.map=[t,e.line];const d=e.push("inline","",0);return d.content=u,d.map=[t,e.line],d.children=[],e.push("paragraph_close","p",-1),e.parentType=o,!0}const Bo=[["table",Wb,["paragraph","reference"]],["code",Gb],["fence",Yb,["paragraph","reference","blockquote","list"]],["blockquote",Zb,["paragraph","reference","blockquote","list"]],["hr",Xb,["paragraph","reference","blockquote","list"]],["list",Jb,["paragraph","reference","blockquote"]],["reference",ex],["html_block",px,["paragraph","reference","blockquote"]],["heading",mx,["paragraph","reference","blockquote"]],["lheading",gx],["paragraph",bx]];function ha(){this.ruler=new Et;for(let e=0;e<Bo.length;e++)this.ruler.push(Bo[e][0],Bo[e][1],{alt:(Bo[e][2]||[]).slice()})}ha.prototype.tokenize=function(e,t,n){const r=this.ruler.getRules(""),o=r.length,a=e.md.options.maxNesting;let u=t,l=!1;for(;u<n&&(e.line=u=e.skipEmptyLines(u),!(u>=n||e.sCount[u]<e.blkIndent));){if(e.level>=a){e.line=n;break}const d=e.line;let h=!1;for(let p=0;p<o;p++)if(h=r[p](e,u,n,!1),h){if(d>=e.line)throw new Error("block rule didn't increment state.line");break}if(!h)throw new Error("none of the block rules matched");e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),u=e.line,u<n&&e.isEmpty(u)&&(l=!0,u++,e.line=u)}};ha.prototype.parse=function(e,t,n,r){if(!e)return;const o=new this.State(e,t,n,r);this.tokenize(o,o.line,o.lineMax)};ha.prototype.State=un;function ho(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}ho.prototype.pushPending=function(){const e=new Yt("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};ho.prototype.push=function(e,t,n){this.pending&&this.pushPending();const r=new Yt(e,t,n);let o=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(o),r};ho.prototype.scanDelims=function(e,t){const n=this.posMax,r=this.src.charCodeAt(e),o=e>0?this.src.charCodeAt(e-1):32;let a=e;for(;a<n&&this.src.charCodeAt(a)===r;)a++;const u=a-e,l=a<n?this.src.charCodeAt(a):32,d=no(o)||to(String.fromCharCode(o)),h=no(l)||to(String.fromCharCode(l)),p=eo(o),x=eo(l),C=!x&&(!h||p||d),y=!p&&(!d||x||h);return{can_open:C&&(t||!y||d),can_close:y&&(t||!C||h),length:u}};ho.prototype.Token=Yt;function xx(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function yx(e,t){let n=e.pos;for(;n<e.posMax&&!xx(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const vx=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function wx(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,r=e.posMax;if(n+3>r||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const o=e.pending.match(vx);if(!o)return!1;const a=o[1],u=e.md.linkify.matchAtStart(e.src.slice(n-a.length));if(!u)return!1;let l=u.url;if(l.length<=a.length)return!1;l=l.replace(/\*+$/,"");const d=e.md.normalizeLink(l);if(!e.md.validateLink(d))return!1;if(!t){e.pending=e.pending.slice(0,-a.length);const h=e.push("link_open","a",1);h.attrs=[["href",d]],h.markup="linkify",h.info="auto";const p=e.push("text","",0);p.content=e.md.normalizeLinkText(l);const x=e.push("link_close","a",-1);x.markup="linkify",x.info="auto"}return e.pos+=l.length-a.length,!0}function Cx(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const r=e.pending.length-1,o=e.posMax;if(!t)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){let a=r-1;for(;a>=1&&e.pending.charCodeAt(a-1)===32;)a--;e.pending=e.pending.slice(0,a),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<o&&Ze(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const gi=[];for(let e=0;e<256;e++)gi.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){gi[e.charCodeAt(0)]=1});function _x(e,t){let n=e.pos;const r=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let o=e.src.charCodeAt(n);if(o===10){for(t||e.push("hardbreak","br",0),n++;n<r&&(o=e.src.charCodeAt(n),!!Ze(o));)n++;return e.pos=n,!0}let a=e.src[n];if(o>=55296&&o<=56319&&n+1<r){const l=e.src.charCodeAt(n+1);l>=56320&&l<=57343&&(a+=e.src[n+1],n++)}const u="\\"+a;if(!t){const l=e.push("text_special","",0);o<256&&gi[o]!==0?l.content=a:l.content=u,l.markup=u,l.info="escape"}return e.pos=n+1,!0}function kx(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const o=n;n++;const a=e.posMax;for(;n<a&&e.src.charCodeAt(n)===96;)n++;const u=e.src.slice(o,n),l=u.length;if(e.backticksScanned&&(e.backticks[l]||0)<=o)return t||(e.pending+=u),e.pos+=l,!0;let d=n,h;for(;(h=e.src.indexOf("`",d))!==-1;){for(d=h+1;d<a&&e.src.charCodeAt(d)===96;)d++;const p=d-h;if(p===l){if(!t){const x=e.push("code_inline","code",0);x.markup=u,x.content=e.src.slice(n,h).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=d,!0}e.backticks[p]=h}return e.backticksScanned=!0,t||(e.pending+=u),e.pos+=l,!0}function Sx(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==126)return!1;const o=e.scanDelims(e.pos,!0);let a=o.length;const u=String.fromCharCode(r);if(a<2)return!1;let l;a%2&&(l=e.push("text","",0),l.content=u,a--);for(let d=0;d<a;d+=2)l=e.push("text","",0),l.content=u+u,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0}function Ou(e,t){let n;const r=[],o=t.length;for(let a=0;a<o;a++){const u=t[a];if(u.marker!==126||u.end===-1)continue;const l=t[u.end];n=e.tokens[u.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[l.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[l.token-1].type==="text"&&e.tokens[l.token-1].content==="~"&&r.push(l.token-1)}for(;r.length;){const a=r.pop();let u=a+1;for(;u<e.tokens.length&&e.tokens[u].type==="s_close";)u++;u--,a!==u&&(n=e.tokens[u],e.tokens[u]=e.tokens[a],e.tokens[a]=n)}}function Ex(e){const t=e.tokens_meta,n=e.tokens_meta.length;Ou(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&Ou(e,t[r].delimiters)}const _d={tokenize:Sx,postProcess:Ex};function jx(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==95&&r!==42)return!1;const o=e.scanDelims(e.pos,r===42);for(let a=0;a<o.length;a++){const u=e.push("text","",0);u.content=String.fromCharCode(r),e.delimiters.push({marker:r,length:o.length,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close})}return e.pos+=o.length,!0}function Lu(e,t){const n=t.length;for(let r=n-1;r>=0;r--){const o=t[r];if(o.marker!==95&&o.marker!==42||o.end===-1)continue;const a=t[o.end],u=r>0&&t[r-1].end===o.end+1&&t[r-1].marker===o.marker&&t[r-1].token===o.token-1&&t[o.end+1].token===a.token+1,l=String.fromCharCode(o.marker),d=e.tokens[o.token];d.type=u?"strong_open":"em_open",d.tag=u?"strong":"em",d.nesting=1,d.markup=u?l+l:l,d.content="";const h=e.tokens[a.token];h.type=u?"strong_close":"em_close",h.tag=u?"strong":"em",h.nesting=-1,h.markup=u?l+l:l,h.content="",u&&(e.tokens[t[r-1].token].content="",e.tokens[t[o.end+1].token].content="",r--)}}function Ax(e){const t=e.tokens_meta,n=e.tokens_meta.length;Lu(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&Lu(e,t[r].delimiters)}const kd={tokenize:jx,postProcess:Ax};function Dx(e,t){let n,r,o,a,u="",l="",d=e.pos,h=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const p=e.pos,x=e.posMax,C=e.pos+1,y=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(y<0)return!1;let w=y+1;if(w<x&&e.src.charCodeAt(w)===40){for(h=!1,w++;w<x&&(n=e.src.charCodeAt(w),!(!Ze(n)&&n!==10));w++);if(w>=x)return!1;if(d=w,o=e.md.helpers.parseLinkDestination(e.src,w,e.posMax),o.ok){for(u=e.md.normalizeLink(o.str),e.md.validateLink(u)?w=o.pos:u="",d=w;w<x&&(n=e.src.charCodeAt(w),!(!Ze(n)&&n!==10));w++);if(o=e.md.helpers.parseLinkTitle(e.src,w,e.posMax),w<x&&d!==w&&o.ok)for(l=o.str,w=o.pos;w<x&&(n=e.src.charCodeAt(w),!(!Ze(n)&&n!==10));w++);}(w>=x||e.src.charCodeAt(w)!==41)&&(h=!0),w++}if(h){if(typeof e.env.references>"u")return!1;if(w<x&&e.src.charCodeAt(w)===91?(d=w+1,w=e.md.helpers.parseLinkLabel(e,w),w>=0?r=e.src.slice(d,w++):w=y+1):w=y+1,r||(r=e.src.slice(C,y)),a=e.env.references[fa(r)],!a)return e.pos=p,!1;u=a.href,l=a.title}if(!t){e.pos=C,e.posMax=y;const k=e.push("link_open","a",1),D=[["href",u]];k.attrs=D,l&&D.push(["title",l]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=w,e.posMax=x,!0}function Nx(e,t){let n,r,o,a,u,l,d,h,p="";const x=e.pos,C=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const y=e.pos+2,w=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(w<0)return!1;if(a=w+1,a<C&&e.src.charCodeAt(a)===40){for(a++;a<C&&(n=e.src.charCodeAt(a),!(!Ze(n)&&n!==10));a++);if(a>=C)return!1;for(h=a,l=e.md.helpers.parseLinkDestination(e.src,a,e.posMax),l.ok&&(p=e.md.normalizeLink(l.str),e.md.validateLink(p)?a=l.pos:p=""),h=a;a<C&&(n=e.src.charCodeAt(a),!(!Ze(n)&&n!==10));a++);if(l=e.md.helpers.parseLinkTitle(e.src,a,e.posMax),a<C&&h!==a&&l.ok)for(d=l.str,a=l.pos;a<C&&(n=e.src.charCodeAt(a),!(!Ze(n)&&n!==10));a++);else d="";if(a>=C||e.src.charCodeAt(a)!==41)return e.pos=x,!1;a++}else{if(typeof e.env.references>"u")return!1;if(a<C&&e.src.charCodeAt(a)===91?(h=a+1,a=e.md.helpers.parseLinkLabel(e,a),a>=0?o=e.src.slice(h,a++):a=w+1):a=w+1,o||(o=e.src.slice(y,w)),u=e.env.references[fa(o)],!u)return e.pos=x,!1;p=u.href,d=u.title}if(!t){r=e.src.slice(y,w);const k=[];e.md.inline.parse(r,e.md,e.env,k);const D=e.push("image","img",0),S=[["src",p],["alt",""]];D.attrs=S,D.children=k,D.content=r,d&&S.push(["title",d])}return e.pos=a,e.posMax=C,!0}const Tx=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Mx=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function Px(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const r=e.pos,o=e.posMax;for(;;){if(++n>=o)return!1;const u=e.src.charCodeAt(n);if(u===60)return!1;if(u===62)break}const a=e.src.slice(r+1,n);if(Mx.test(a)){const u=e.md.normalizeLink(a);if(!e.md.validateLink(u))return!1;if(!t){const l=e.push("link_open","a",1);l.attrs=[["href",u]],l.markup="autolink",l.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(a);const h=e.push("link_close","a",-1);h.markup="autolink",h.info="auto"}return e.pos+=a.length+2,!0}if(Tx.test(a)){const u=e.md.normalizeLink("mailto:"+a);if(!e.md.validateLink(u))return!1;if(!t){const l=e.push("link_open","a",1);l.attrs=[["href",u]],l.markup="autolink",l.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(a);const h=e.push("link_close","a",-1);h.markup="autolink",h.info="auto"}return e.pos+=a.length+2,!0}return!1}function Ix(e){return/^<a[>\s]/i.test(e)}function Rx(e){return/^<\/a\s*>/i.test(e)}function Fx(e){const t=e|32;return t>=97&&t<=122}function Ox(e,t){if(!e.md.options.html)return!1;const n=e.posMax,r=e.pos;if(e.src.charCodeAt(r)!==60||r+2>=n)return!1;const o=e.src.charCodeAt(r+1);if(o!==33&&o!==63&&o!==47&&!Fx(o))return!1;const a=e.src.slice(r).match(fx);if(!a)return!1;if(!t){const u=e.push("html_inline","",0);u.content=a[0],Ix(u.content)&&e.linkLevel++,Rx(u.content)&&e.linkLevel--}return e.pos+=a[0].length,!0}const Lx=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,zx=/^&([a-z][a-z0-9]{1,31});/i;function Bx(e,t){const n=e.pos,r=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=r)return!1;if(e.src.charCodeAt(n+1)===35){const a=e.src.slice(n).match(Lx);if(a){if(!t){const u=a[1][0].toLowerCase()==="x"?parseInt(a[1].slice(1),16):parseInt(a[1],10),l=e.push("text_special","",0);l.content=pi(u)?Xo(u):Xo(65533),l.markup=a[0],l.info="entity"}return e.pos+=a[0].length,!0}}else{const a=e.src.slice(n).match(zx);if(a){const u=gd(a[0]);if(u!==a[0]){if(!t){const l=e.push("text_special","",0);l.content=u,l.markup=a[0],l.info="entity"}return e.pos+=a[0].length,!0}}}return!1}function zu(e){const t={},n=e.length;if(!n)return;let r=0,o=-2;const a=[];for(let u=0;u<n;u++){const l=e[u];if(a.push(0),(e[r].marker!==l.marker||o!==l.token-1)&&(r=u),o=l.token,l.length=l.length||0,!l.close)continue;t.hasOwnProperty(l.marker)||(t[l.marker]=[-1,-1,-1,-1,-1,-1]);const d=t[l.marker][(l.open?3:0)+l.length%3];let h=r-a[r]-1,p=h;for(;h>d;h-=a[h]+1){const x=e[h];if(x.marker===l.marker&&x.open&&x.end<0){let C=!1;if((x.close||l.open)&&(x.length+l.length)%3===0&&(x.length%3!==0||l.length%3!==0)&&(C=!0),!C){const y=h>0&&!e[h-1].open?a[h-1]+1:0;a[u]=u-h+y,a[h]=y,l.open=!1,x.end=u,x.close=!1,p=-1,o=-2;break}}}p!==-1&&(t[l.marker][(l.open?3:0)+(l.length||0)%3]=p)}}function $x(e){const t=e.tokens_meta,n=e.tokens_meta.length;zu(e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&zu(t[r].delimiters)}function qx(e){let t,n,r=0;const o=e.tokens,a=e.tokens.length;for(t=n=0;t<a;t++)o[t].nesting<0&&r--,o[t].level=r,o[t].nesting>0&&r++,o[t].type==="text"&&t+1<a&&o[t+1].type==="text"?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}const ls=[["text",yx],["linkify",wx],["newline",Cx],["escape",_x],["backticks",kx],["strikethrough",_d.tokenize],["emphasis",kd.tokenize],["link",Dx],["image",Nx],["autolink",Px],["html_inline",Ox],["entity",Bx]],cs=[["balance_pairs",$x],["strikethrough",_d.postProcess],["emphasis",kd.postProcess],["fragments_join",qx]];function po(){this.ruler=new Et;for(let e=0;e<ls.length;e++)this.ruler.push(ls[e][0],ls[e][1]);this.ruler2=new Et;for(let e=0;e<cs.length;e++)this.ruler2.push(cs[e][0],cs[e][1])}po.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),r=n.length,o=e.md.options.maxNesting,a=e.cache;if(typeof a[t]<"u"){e.pos=a[t];return}let u=!1;if(e.level<o){for(let l=0;l<r;l++)if(e.level++,u=n[l](e,!0),e.level--,u){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;u||e.pos++,a[t]=e.pos};po.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,r=e.posMax,o=e.md.options.maxNesting;for(;e.pos<r;){const a=e.pos;let u=!1;if(e.level<o){for(let l=0;l<n;l++)if(u=t[l](e,!1),u){if(a>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(u){if(e.pos>=r)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};po.prototype.parse=function(e,t,n,r){const o=new this.State(e,t,n,r);this.tokenize(o);const a=this.ruler2.getRules(""),u=a.length;for(let l=0;l<u;l++)a[l](o)};po.prototype.State=ho;function Ux(e){const t={};e=e||{},t.src_Any=dd.source,t.src_Cc=fd.source,t.src_Z=pd.source,t.src_P=fi.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><｜]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function Ts(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function pa(e){return Object.prototype.toString.call(e)}function Kx(e){return pa(e)==="[object String]"}function Hx(e){return pa(e)==="[object Object]"}function Vx(e){return pa(e)==="[object RegExp]"}function Bu(e){return pa(e)==="[object Function]"}function Wx(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Sd={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Gx(e){return Object.keys(e||{}).reduce(function(t,n){return t||Sd.hasOwnProperty(n)},!1)}const Yx={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},Zx="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Xx="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function Qx(e){e.__index__=-1,e.__text_cache__=""}function Jx(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function $u(){return function(e,t){t.normalize(e)}}function Qo(e){const t=e.re=Ux(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(Zx),n.push(t.src_xn),t.src_tlds=n.join("|");function r(l){return l.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const o=[];e.__compiled__={};function a(l,d){throw new Error('(LinkifyIt) Invalid schema "'+l+'": '+d)}Object.keys(e.__schemas__).forEach(function(l){const d=e.__schemas__[l];if(d===null)return;const h={validate:null,link:null};if(e.__compiled__[l]=h,Hx(d)){Vx(d.validate)?h.validate=Jx(d.validate):Bu(d.validate)?h.validate=d.validate:a(l,d),Bu(d.normalize)?h.normalize=d.normalize:d.normalize?a(l,d):h.normalize=$u();return}if(Kx(d)){o.push(l);return}a(l,d)}),o.forEach(function(l){e.__compiled__[e.__schemas__[l]]&&(e.__compiled__[l].validate=e.__compiled__[e.__schemas__[l]].validate,e.__compiled__[l].normalize=e.__compiled__[e.__schemas__[l]].normalize)}),e.__compiled__[""]={validate:null,normalize:$u()};const u=Object.keys(e.__compiled__).filter(function(l){return l.length>0&&e.__compiled__[l]}).map(Wx).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Qx(e)}function ey(e,t){const n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function Ms(e,t){const n=new ey(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function It(e,t){if(!(this instanceof It))return new It(e,t);t||Gx(e)&&(t=e,e={}),this.__opts__=Ts({},Sd,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Ts({},Yx,e),this.__compiled__={},this.__tlds__=Xx,this.__tlds_replaced__=!1,this.re={},Qo(this)}It.prototype.add=function(t,n){return this.__schemas__[t]=n,Qo(this),this};It.prototype.set=function(t){return this.__opts__=Ts(this.__opts__,t),this};It.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,r,o,a,u,l,d,h,p;if(this.re.schema_test.test(t)){for(d=this.re.schema_search,d.lastIndex=0;(n=d.exec(t))!==null;)if(a=this.testSchemaAt(t,n[2],d.lastIndex),a){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+a;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(h=t.search(this.re.host_fuzzy_test),h>=0&&(this.__index__<0||h<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(u=r.index+r[1].length,(this.__index__<0||u<this.__index__)&&(this.__schema__="",this.__index__=u,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(p=t.indexOf("@"),p>=0&&(o=t.match(this.re.email_fuzzy))!==null&&(u=o.index+o[1].length,l=o.index+o[0].length,(this.__index__<0||u<this.__index__||u===this.__index__&&l>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=u,this.__last_index__=l))),this.__index__>=0};It.prototype.pretest=function(t){return this.re.pretest.test(t)};It.prototype.testSchemaAt=function(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};It.prototype.match=function(t){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(Ms(this,r)),r=this.__last_index__);let o=r?t.slice(r):t;for(;this.test(o);)n.push(Ms(this,r)),o=o.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};It.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const r=this.testSchemaAt(t,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,Ms(this,0)):null};It.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,o,a){return r!==a[o-1]}).reverse(),Qo(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Qo(this),this)};It.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};It.prototype.onCompile=function(){};const dr=2147483647,nn=36,bi=1,ro=26,ty=38,ny=700,Ed=72,jd=128,Ad="-",ry=/^xn--/,oy=/[^\0-\x7F]/,ay=/[\x2E\u3002\uFF0E\uFF61]/g,sy={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ds=nn-bi,rn=Math.floor,fs=String.fromCharCode;function Nn(e){throw new RangeError(sy[e])}function iy(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}function Dd(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(ay,".");const o=e.split("."),a=iy(o,t).join(".");return r+a}function Nd(e){const t=[];let n=0;const r=e.length;for(;n<r;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){const a=e.charCodeAt(n++);(a&64512)==56320?t.push(((o&1023)<<10)+(a&1023)+65536):(t.push(o),n--)}else t.push(o)}return t}const uy=e=>String.fromCodePoint(...e),ly=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:nn},qu=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Td=function(e,t,n){let r=0;for(e=n?rn(e/ny):e>>1,e+=rn(e/t);e>ds*ro>>1;r+=nn)e=rn(e/ds);return rn(r+(ds+1)*e/(e+ty))},Md=function(e){const t=[],n=e.length;let r=0,o=jd,a=Ed,u=e.lastIndexOf(Ad);u<0&&(u=0);for(let l=0;l<u;++l)e.charCodeAt(l)>=128&&Nn("not-basic"),t.push(e.charCodeAt(l));for(let l=u>0?u+1:0;l<n;){const d=r;for(let p=1,x=nn;;x+=nn){l>=n&&Nn("invalid-input");const C=ly(e.charCodeAt(l++));C>=nn&&Nn("invalid-input"),C>rn((dr-r)/p)&&Nn("overflow"),r+=C*p;const y=x<=a?bi:x>=a+ro?ro:x-a;if(C<y)break;const w=nn-y;p>rn(dr/w)&&Nn("overflow"),p*=w}const h=t.length+1;a=Td(r-d,h,d==0),rn(r/h)>dr-o&&Nn("overflow"),o+=rn(r/h),r%=h,t.splice(r++,0,o)}return String.fromCodePoint(...t)},Pd=function(e){const t=[];e=Nd(e);const n=e.length;let r=jd,o=0,a=Ed;for(const d of e)d<128&&t.push(fs(d));const u=t.length;let l=u;for(u&&t.push(Ad);l<n;){let d=dr;for(const p of e)p>=r&&p<d&&(d=p);const h=l+1;d-r>rn((dr-o)/h)&&Nn("overflow"),o+=(d-r)*h,r=d;for(const p of e)if(p<r&&++o>dr&&Nn("overflow"),p===r){let x=o;for(let C=nn;;C+=nn){const y=C<=a?bi:C>=a+ro?ro:C-a;if(x<y)break;const w=x-y,k=nn-y;t.push(fs(qu(y+w%k,0))),x=rn(w/k)}t.push(fs(qu(x,0))),a=Td(o,h,l===u),o=0,++l}++o,++r}return t.join("")},cy=function(e){return Dd(e,function(t){return ry.test(t)?Md(t.slice(4).toLowerCase()):t})},dy=function(e){return Dd(e,function(t){return oy.test(t)?"xn--"+Pd(t):t})},Id={version:"2.3.1",ucs2:{decode:Nd,encode:uy},decode:Md,encode:Pd,toASCII:dy,toUnicode:cy},fy={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},hy={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},py={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},my={default:fy,zero:hy,commonmark:py},gy=/^(vbscript|javascript|file|data):/,by=/^data:image\/(gif|png|jpeg|webp);/;function xy(e){const t=e.trim().toLowerCase();return gy.test(t)?by.test(t):!0}const Rd=["http:","https:","mailto:"];function yy(e){const t=di(e,!0);if(t.hostname&&(!t.protocol||Rd.indexOf(t.protocol)>=0))try{t.hostname=Id.toASCII(t.hostname)}catch{}return fo(ci(t))}function vy(e){const t=di(e,!0);if(t.hostname&&(!t.protocol||Rd.indexOf(t.protocol)>=0))try{t.hostname=Id.toUnicode(t.hostname)}catch{}return gr(ci(t),gr.defaultChars+"%")}function jt(e,t){if(!(this instanceof jt))return new jt(e,t);t||hi(e)||(t=e||{},e="default"),this.inline=new po,this.block=new ha,this.core=new mi,this.renderer=new _r,this.linkify=new It,this.validateLink=xy,this.normalizeLink=yy,this.normalizeLinkText=vy,this.utils=Cb,this.helpers=da({},Eb),this.options={},this.configure(e),t&&this.set(t)}jt.prototype.set=function(e){return da(this.options,e),this};jt.prototype.configure=function(e){const t=this;if(hi(e)){const n=e;if(e=my[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};jt.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const r=e.filter(function(o){return n.indexOf(o)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};jt.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const r=e.filter(function(o){return n.indexOf(o)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};jt.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};jt.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};jt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};jt.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};jt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const wy=new Op({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>({params:e.getAttribute("data-params")||""})}],toDOM(e){return["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")}}}],toDOM(e){return["ol",{start:e.attrs.order==1?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>({tight:e.hasAttribute("data-tight")})}],toDOM(e){return["ul",{"data-tight":e.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM(e){return["img",e.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>e.type.name=="em"}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM(e){return["a",e.attrs]}},code:{code:!0,parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function Cy(e,t){if(e.isText&&t.isText&&ws.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}class _y{constructor(t,n){this.schema=t,this.tokenHandlers=n,this.stack=[{type:t.topNodeType,attrs:null,content:[],marks:ws.none}]}top(){return this.stack[this.stack.length-1]}push(t){this.stack.length&&this.top().content.push(t)}addText(t){if(!t)return;let n=this.top(),r=n.content,o=r[r.length-1],a=this.schema.text(t,n.marks),u;o&&(u=Cy(o,a))?r[r.length-1]=u:r.push(a)}openMark(t){let n=this.top();n.marks=t.addToSet(n.marks)}closeMark(t){let n=this.top();n.marks=t.removeFromSet(n.marks)}parseTokens(t){for(let n=0;n<t.length;n++){let r=t[n],o=this.tokenHandlers[r.type];if(!o)throw new Error("Token type `"+r.type+"` not supported by Markdown parser");o(this,r,t,n)}}addNode(t,n,r){let o=this.top(),a=t.createAndFill(n,r,o?o.marks:[]);return a?(this.push(a),a):null}openNode(t,n){this.stack.push({type:t,attrs:n,content:[],marks:ws.none})}closeNode(){let t=this.stack.pop();return this.addNode(t.type,t.attrs,t.content)}}function Ur(e,t,n,r){return e.getAttrs?e.getAttrs(t,n,r):e.attrs instanceof Function?e.attrs(t):e.attrs}function hs(e,t){return e.noCloseToken||t=="code_inline"||t=="code_block"||t=="fence"}function Uu(e){return e[e.length-1]==`
`?e.slice(0,e.length-1):e}function ps(){}function ky(e,t){let n=Object.create(null);for(let r in t){let o=t[r];if(o.block){let a=e.nodeType(o.block);hs(o,r)?n[r]=(u,l,d,h)=>{u.openNode(a,Ur(o,l,d,h)),u.addText(Uu(l.content)),u.closeNode()}:(n[r+"_open"]=(u,l,d,h)=>u.openNode(a,Ur(o,l,d,h)),n[r+"_close"]=u=>u.closeNode())}else if(o.node){let a=e.nodeType(o.node);n[r]=(u,l,d,h)=>u.addNode(a,Ur(o,l,d,h))}else if(o.mark){let a=e.marks[o.mark];hs(o,r)?n[r]=(u,l,d,h)=>{u.openMark(a.create(Ur(o,l,d,h))),u.addText(Uu(l.content)),u.closeMark(a)}:(n[r+"_open"]=(u,l,d,h)=>u.openMark(a.create(Ur(o,l,d,h))),n[r+"_close"]=u=>u.closeMark(a))}else if(o.ignore)hs(o,r)?n[r]=ps:(n[r+"_open"]=ps,n[r+"_close"]=ps);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(o))}return n.text=(r,o)=>r.addText(o.content),n.inline=(r,o)=>r.parseTokens(o.children),n.softbreak=n.softbreak||(r=>r.addText(" ")),n}let Sy=class{constructor(t,n,r){this.schema=t,this.tokenizer=n,this.tokens=r,this.tokenHandlers=ky(t,r)}parse(t,n={}){let r=new _y(this.schema,this.tokenHandlers),o;r.parseTokens(this.tokenizer.parse(t,n));do o=r.closeNode();while(r.stack.length);return o||this.schema.topNodeType.createAndFill()}};function Ku(e,t){for(;++t<e.length;)if(e[t].type!="list_item_open")return e[t].hidden;return!1}new Sy(wy,jt("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(e,t,n)=>({tight:Ku(t,n)})},ordered_list:{block:"ordered_list",getAttrs:(e,t,n)=>({order:+e.attrGet("start")||1,tight:Ku(t,n)})},heading:{block:"heading",getAttrs:e=>({level:+e.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:e=>({params:e.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:e=>({src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const Ey={open:"",close:"",mixable:!0};let jy=class{constructor(t,n,r={}){this.nodes=t,this.marks=n,this.options=r}serialize(t,n={}){n=Object.assign({},this.options,n);let r=new Fd(this.nodes,this.marks,n);return r.renderContent(t),r.out}};const ln=new jy({blockquote(e,t){e.wrapBlock("> ",null,t,()=>e.renderContent(t))},code_block(e,t){const n=t.textContent.match(/`{3,}/gm),r=n?n.sort().slice(-1)[0]+"`":"```";e.write(r+(t.attrs.params||"")+`
`),e.text(t.textContent,!1),e.write(`
`),e.write(r),e.closeBlock(t)},heading(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t,!1),e.closeBlock(t)},horizontal_rule(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list(e,t){e.renderList(t,"  ",()=>(t.attrs.bullet||"*")+" ")},ordered_list(e,t){let n=t.attrs.order||1,r=String(n+t.childCount-1).length,o=e.repeat(" ",r+2);e.renderList(t,o,a=>{let u=String(n+a);return e.repeat(" ",r-u.length)+u+". "})},list_item(e,t){e.renderContent(t)},paragraph(e,t){e.renderInline(t),e.closeBlock(t)},image(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+t.attrs.src.replace(/[\(\)]/g,"\\$&")+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(e,t,n,r){for(let o=r+1;o<n.childCount;o++)if(n.child(o).type!=t.type){e.write(`\\
`);return}},text(e,t){e.text(t.text,!e.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open(e,t,n,r){return e.inAutolink=Ay(t,n,r),e.inAutolink?"<":"["},close(e,t,n,r){let{inAutolink:o}=e;return e.inAutolink=void 0,o?">":"]("+t.attrs.href.replace(/[\(\)"]/g,"\\$&")+(t.attrs.title?` "${t.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open(e,t,n,r){return Hu(n.child(r),-1)},close(e,t,n,r){return Hu(n.child(r-1),1)},escape:!1}});function Hu(e,t){let n=/`+/g,r,o=0;if(e.isText)for(;r=n.exec(e.text);)o=Math.max(o,r[0].length);let a=o>0&&t>0?" `":"`";for(let u=0;u<o;u++)a+="`";return o>0&&t<0&&(a+=" "),a}function Ay(e,t,n){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;let r=t.child(n);return!r.isText||r.text!=e.attrs.href||r.marks[r.marks.length-1]!=e?!1:n==t.childCount-1||!e.isInSet(t.child(n+1).marks)}let Fd=class{constructor(t,n,r){this.nodes=t,this.marks=n,this.options=r,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists>"u"&&(this.options.tightLists=!1),typeof this.options.hardBreakNodeName>"u"&&(this.options.hardBreakNodeName="hard_break")}flushClose(t=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),t>1){let n=this.delim,r=/\s+$/.exec(n);r&&(n=n.slice(0,n.length-r[0].length));for(let o=1;o<t;o++)this.out+=n+`
`}this.closed=null}}getMark(t){let n=this.marks[t];if(!n){if(this.options.strict!==!1)throw new Error(`Mark type \`${t}\` not supported by Markdown renderer`);n=Ey}return n}wrapBlock(t,n,r,o){let a=this.delim;this.write(n??t),this.delim+=t,o(),this.delim=a,this.closeBlock(r)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(t){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),t&&(this.out+=t)}closeBlock(t){this.closed=t}text(t,n=!0){let r=t.split(`
`);for(let o=0;o<r.length;o++)this.write(),!n&&r[o][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=n?this.esc(r[o],this.atBlockStart):r[o],o!=r.length-1&&(this.out+=`
`)}render(t,n,r){if(this.nodes[t.type.name])this.nodes[t.type.name](this,t,n,r);else{if(this.options.strict!==!1)throw new Error("Token type `"+t.type.name+"` not supported by Markdown renderer");t.type.isLeaf||(t.type.inlineContent?this.renderInline(t):this.renderContent(t),t.isBlock&&this.closeBlock(t))}}renderContent(t){t.forEach((n,r,o)=>this.render(n,t,o))}renderInline(t,n=!0){this.atBlockStart=n;let r=[],o="",a=(u,l,d)=>{let h=u?u.marks:[];u&&u.type.name===this.options.hardBreakNodeName&&(h=h.filter(k=>{if(d+1==t.childCount)return!1;let D=t.child(d+1);return k.isInSet(D.marks)&&(!D.isText||/\S/.test(D.text))}));let p=o;if(o="",u&&u.isText&&h.some(k=>{let D=this.getMark(k.type.name);return D&&D.expelEnclosingWhitespace&&!k.isInSet(r)})){let[k,D,S]=/^(\s*)(.*)$/m.exec(u.text);D&&(p+=D,u=S?u.withText(S):null,u||(h=r))}if(u&&u.isText&&h.some(k=>{let D=this.getMark(k.type.name);return D&&D.expelEnclosingWhitespace&&(d==t.childCount-1||!k.isInSet(t.child(d+1).marks))})){let[k,D,S]=/^(.*?)(\s*)$/m.exec(u.text);S&&(o=S,u=D?u.withText(D):null,u||(h=r))}let x=h.length?h[h.length-1]:null,C=x&&this.getMark(x.type.name).escape===!1,y=h.length-(C?1:0);e:for(let k=0;k<y;k++){let D=h[k];if(!this.getMark(D.type.name).mixable)break;for(let S=0;S<r.length;S++){let _=r[S];if(!this.getMark(_.type.name).mixable)break;if(D.eq(_)){k>S?h=h.slice(0,S).concat(D).concat(h.slice(S,k)).concat(h.slice(k+1,y)):S>k&&(h=h.slice(0,k).concat(h.slice(k+1,S)).concat(D).concat(h.slice(S,y)));continue e}}}let w=0;for(;w<Math.min(r.length,y)&&h[w].eq(r[w]);)++w;for(;w<r.length;)this.text(this.markString(r.pop(),!1,t,d),!1);if(p&&this.text(p),u){for(;r.length<y;){let k=h[r.length];r.push(k),this.text(this.markString(k,!0,t,d),!1),this.atBlockStart=!1}C&&u.isText?this.text(this.markString(x,!0,t,d)+u.text+this.markString(x,!1,t,d+1),!1):this.render(u,t,d),this.atBlockStart=!1}u?.isText&&u.nodeSize>0&&(this.atBlockStart=!1)};t.forEach(a),a(null,0,t.childCount),this.atBlockStart=!1}renderList(t,n,r){this.closed&&this.closed.type==t.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let o=typeof t.attrs.tight<"u"?t.attrs.tight:this.options.tightLists,a=this.inTightList;this.inTightList=o,t.forEach((u,l,d)=>{d&&o&&this.flushClose(1),this.wrapBlock(n,r(d),t,()=>this.render(u,t,d))}),this.inTightList=a}esc(t,n=!1){return t=t.replace(/[`*\\~\[\]_]/g,(r,o)=>r=="_"&&o>0&&o+1<t.length&&t[o-1].match(/\w/)&&t[o+1].match(/\w/)?r:"\\"+r),n&&(t=t.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(t=t.replace(this.options.escapeExtraCharacters,"\\$&")),t}quote(t){let n=t.indexOf('"')==-1?'""':t.indexOf("'")==-1?"''":"()";return n[0]+t+n[1]}repeat(t,n){let r="";for(let o=0;o<n;o++)r+=t;return r}markString(t,n,r,o){let a=this.getMark(t.type.name),u=n?a.open:a.close;return typeof u=="string"?u:u(this,t,r,o)}getEnclosingWhitespace(t){return{leading:(t.match(/^(\s+)/)||[void 0])[0],trailing:(t.match(/(\s+)$/)||[void 0])[0]}}};var Ps=!0,Od=!1,Ld=!1,Dy=function(e,t){t&&(Ps=!t.enabled,Od=!!t.label,Ld=!!t.labelAfter),e.core.ruler.after("inline","github-task-lists",function(n){for(var r=n.tokens,o=2;o<r.length;o++)Ty(r,o)&&(My(r[o],n.Token),Vu(r[o-2],"class","task-list-item"+(Ps?"":" enabled")),Vu(r[Ny(r,o-2)],"class","contains-task-list"))})};function Vu(e,t,n){var r=e.attrIndex(t),o=[t,n];r<0?e.attrPush(o):e.attrs[r]=o}function Ny(e,t){for(var n=e[t].level-1,r=t-1;r>=0;r--)if(e[r].level===n)return r;return-1}function Ty(e,t){return Oy(e[t])&&Ly(e[t-1])&&zy(e[t-2])&&By(e[t])}function My(e,t){if(e.children.unshift(Py(e,t)),e.children[1].content=e.children[1].content.slice(3),e.content=e.content.slice(3),Od)if(Ld){e.children.pop();var n="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);e.children[0].content=e.children[0].content.slice(0,-1)+' id="'+n+'">',e.children.push(Fy(e.content,n,t))}else e.children.unshift(Iy(t)),e.children.push(Ry(t))}function Py(e,t){var n=new t("html_inline","",0),r=Ps?' disabled="" ':"";return e.content.indexOf("[ ] ")===0?n.content='<input class="task-list-item-checkbox"'+r+'type="checkbox">':(e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0)&&(n.content='<input class="task-list-item-checkbox" checked=""'+r+'type="checkbox">'),n}function Iy(e){var t=new e("html_inline","",0);return t.content="<label>",t}function Ry(e){var t=new e("html_inline","",0);return t.content="</label>",t}function Fy(e,t,n){var r=new n("html_inline","",0);return r.content='<label class="task-list-item-label" for="'+t+'">'+e+"</label>",r.attrs=[{for:t}],r}function Oy(e){return e.type==="inline"}function Ly(e){return e.type==="paragraph_open"}function zy(e){return e.type==="list_item_open"}function By(e){return e.content.indexOf("[ ] ")===0||e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0}const $y=jl(Dy);var qy=Object.defineProperty,Uy=(e,t,n)=>t in e?qy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jo=(e,t,n)=>Uy(e,typeof t!="symbol"?t+"":t,n);const Ky=Ys.create({name:"markdownTightLists",addOptions:()=>({tight:!0,tightClass:"tight",listTypes:["bulletList","orderedList"]}),addGlobalAttributes(){return[{types:this.options.listTypes,attributes:{tight:{default:this.options.tight,parseHTML:e=>e.getAttribute("data-tight")==="true"||!e.querySelector("p"),renderHTML:e=>({class:e.tight?this.options.tightClass:null,"data-tight":e.tight?"true":null})}}}]},addCommands(){var e=this;return{toggleTight:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return n=>{let{editor:r,commands:o}=n;function a(u){if(!r.isActive(u))return!1;const l=r.getAttributes(u);return o.updateAttributes(u,{tight:t??!(l!=null&&l.tight)})}return e.options.listTypes.some(u=>a(u))}}}}}),Wu=jt();function zd(e,t){return Wu.inline.State.prototype.scanDelims.call({src:e,posMax:e.length}),new Wu.inline.State(e,null,null,[]).scanDelims(t,!0)}function Bd(e,t,n,r){let o=e.substring(0,n)+e.substring(n+t.length);return o=o.substring(0,n+r)+t+o.substring(n+r),o}function Hy(e,t,n,r){let o=n,a=e;for(;o<r&&!zd(a,o).can_open;)a=Bd(a,t,o,1),o++;return{text:a,from:o,to:r}}function Vy(e,t,n,r){let o=r,a=e;for(;o>n&&!zd(a,o).can_close;)a=Bd(a,t,o,-1),o--;return{text:a,from:n,to:o}}function Wy(e,t,n,r){let o={text:e,from:n,to:r};return o=Hy(o.text,t,o.from,o.to),o=Vy(o.text,t,o.from,o.to),o.to-o.from<t.length+1&&(o.text=o.text.substring(0,o.from)+o.text.substring(o.to+t.length)),o.text}class Gy extends Fd{constructor(t,n,r){super(t,n,r??{}),Jo(this,"inTable",!1),this.inlines=[]}render(t,n,r){super.render(t,n,r);const o=this.inlines[this.inlines.length-1];if(o!=null&&o.start&&o!==null&&o!==void 0&&o.end){const{delimiter:a,start:u,end:l}=this.normalizeInline(o);this.out=Wy(this.out,a,u,l),this.inlines.pop()}}markString(t,n,r,o){const a=this.marks[t.type.name];if(a.expelEnclosingWhitespace)if(n)this.inlines.push({start:this.out.length,delimiter:a.open});else{const u=this.inlines.pop();this.inlines.push({...u,end:this.out.length})}return super.markString(t,n,r,o)}normalizeInline(t){let{start:n,end:r}=t;for(;this.out.charAt(n).match(/\s/);)n++;return{...t,start:n}}}const $d=wr.create({name:"markdownHTMLMark",addStorage(){return{markdown:{serialize:{open(e,t){var n,r;return this.editor.storage.markdown.options.html?(n=(r=Gu(t))===null||r===void 0?void 0:r[0])!==null&&n!==void 0?n:"":(console.warn(`Tiptap Markdown: "${t.type.name}" mark is only available in html mode`),"")},close(e,t){var n,r;return this.editor.storage.markdown.options.html&&(n=(r=Gu(t))===null||r===void 0?void 0:r[1])!==null&&n!==void 0?n:""}},parse:{}}}}});function Gu(e){const t=e.type.schema,n=t.text(" ",[e]),o=Al(Cs.from(n),t).match(/^(<.*?>) (<\/.*?>)$/);return o?[o[1],o[2]]:null}function xi(e){const t=`<body>${e}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function Yy(e){return e?.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Zy(e){const t=e.parentElement,n=t.cloneNode();for(;t.firstChild&&t.firstChild!==e;)n.appendChild(t.firstChild);n.childNodes.length>0&&t.parentElement.insertBefore(n,t),t.parentElement.insertBefore(e,t),t.childNodes.length===0&&t.remove()}function Xy(e){const t=e.parentNode;for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}const ma=bt.create({name:"markdownHTMLNode",addStorage(){return{markdown:{serialize(e,t,n){this.editor.storage.markdown.options.html?e.write(Qy(t,n)):(console.warn(`Tiptap Markdown: "${t.type.name}" node is only available in html mode`),e.write(`[${t.type.name}]`)),t.isBlock&&e.closeBlock(t)},parse:{}}}}});function Qy(e,t){const n=e.type.schema,r=Al(Cs.from(e),n);return e.isBlock&&(t instanceof Cs||t.type.name===n.topNodeType.name)?Jy(r):r}function Jy(e){const n=xi(e).firstElementChild;return n.innerHTML=n.innerHTML.trim()?`
${n.innerHTML}
`:`
`,n.outerHTML}const e2=bt.create({name:"blockquote"}),t2=e2.extend({addStorage(){return{markdown:{serialize:ln.nodes.blockquote,parse:{}}}}}),n2=bt.create({name:"bulletList"}),qd=n2.extend({addStorage(){return{markdown:{serialize(e,t){return e.renderList(t,"  ",()=>(this.editor.storage.markdown.options.bulletListMarker||"-")+" ")},parse:{}}}}}),r2=bt.create({name:"codeBlock"}),o2=r2.extend({addStorage(){return{markdown:{serialize(e,t){e.write("```"+(t.attrs.language||"")+`
`),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},parse:{setup(e){var t;e.set({langPrefix:(t=this.options.languageClassPrefix)!==null&&t!==void 0?t:"language-"})},updateDOM(e){e.innerHTML=e.innerHTML.replace(/\n<\/code><\/pre>/g,"</code></pre>")}}}}}}),a2=bt.create({name:"hardBreak"}),Ud=a2.extend({addStorage(){return{markdown:{serialize(e,t,n,r){for(let o=r+1;o<n.childCount;o++)if(n.child(o).type!=t.type){e.write(e.inTable?ma.storage.markdown.serialize.call(this,e,t,n):`\\
`);return}},parse:{}}}}}),s2=bt.create({name:"heading"}),i2=s2.extend({addStorage(){return{markdown:{serialize:ln.nodes.heading,parse:{}}}}}),u2=bt.create({name:"horizontalRule"}),l2=u2.extend({addStorage(){return{markdown:{serialize:ln.nodes.horizontal_rule,parse:{}}}}}),c2=bt.create({name:"image"}),d2=c2.extend({addStorage(){return{markdown:{serialize:ln.nodes.image,parse:{}}}}}),f2=bt.create({name:"listItem"}),h2=f2.extend({addStorage(){return{markdown:{serialize:ln.nodes.list_item,parse:{}}}}}),p2=bt.create({name:"orderedList"});function m2(e,t,n){let r=0;for(;n-r>0&&t.child(n-r-1).type.name===e.type.name;r++);return r}const g2=p2.extend({addStorage(){return{markdown:{serialize(e,t,n,r){const o=t.attrs.start||1,a=String(o+t.childCount-1).length,u=e.repeat(" ",a+2),d=m2(t,n,r)%2?") ":". ";e.renderList(t,u,h=>{const p=String(o+h);return e.repeat(" ",a-p.length)+p+d})},parse:{}}}}}),b2=bt.create({name:"paragraph"}),x2=b2.extend({addStorage(){return{markdown:{serialize:ln.nodes.paragraph,parse:{}}}}});function ms(e){var t,n;return(t=e==null||(n=e.content)===null||n===void 0?void 0:n.content)!==null&&t!==void 0?t:[]}const y2=bt.create({name:"table"}),v2=y2.extend({addStorage(){return{markdown:{serialize(e,t,n){if(!w2(t)){ma.storage.markdown.serialize.call(this,e,t,n);return}e.inTable=!0,t.forEach((r,o,a)=>{if(e.write("| "),r.forEach((u,l,d)=>{d&&e.write(" | ");const h=u.firstChild;h.textContent.trim()&&e.renderInline(h)}),e.write(" |"),e.ensureNewLine(),!a){const u=Array.from({length:r.childCount}).map(()=>"---").join(" | ");e.write(`| ${u} |`),e.ensureNewLine()}}),e.closeBlock(t),e.inTable=!1},parse:{}}}}});function Yu(e){return e.attrs.colspan>1||e.attrs.rowspan>1}function w2(e){const t=ms(e),n=t[0],r=t.slice(1);return!(ms(n).some(o=>o.type.name!=="tableHeader"||Yu(o)||o.childCount>1)||r.some(o=>ms(o).some(a=>a.type.name==="tableHeader"||Yu(a)||a.childCount>1)))}const C2=bt.create({name:"taskItem"}),_2=C2.extend({addStorage(){return{markdown:{serialize(e,t){const n=t.attrs.checked?"[x]":"[ ]";e.write(`${n} `),e.renderContent(t)},parse:{updateDOM(e){[...e.querySelectorAll(".task-list-item")].forEach(t=>{const n=t.querySelector("input");t.setAttribute("data-type","taskItem"),n&&(t.setAttribute("data-checked",n.checked),n.remove())})}}}}}}),k2=bt.create({name:"taskList"}),S2=k2.extend({addStorage(){return{markdown:{serialize:qd.storage.markdown.serialize,parse:{setup(e){e.use($y)},updateDOM(e){[...e.querySelectorAll(".contains-task-list")].forEach(t=>{t.setAttribute("data-type","taskList")})}}}}}}),E2=bt.create({name:"text"}),j2=E2.extend({addStorage(){return{markdown:{serialize(e,t){e.text(Yy(t.text))},parse:{}}}}}),A2=wr.create({name:"bold"}),D2=A2.extend({addStorage(){return{markdown:{serialize:ln.marks.strong,parse:{}}}}}),N2=wr.create({name:"code"}),T2=N2.extend({addStorage(){return{markdown:{serialize:ln.marks.code,parse:{}}}}}),M2=wr.create({name:"italic"}),P2=M2.extend({addStorage(){return{markdown:{serialize:ln.marks.em,parse:{}}}}}),I2=wr.create({name:"link"}),R2=I2.extend({addStorage(){return{markdown:{serialize:ln.marks.link,parse:{}}}}}),F2=wr.create({name:"strike"}),O2=F2.extend({addStorage(){return{markdown:{serialize:{open:"~~",close:"~~",expelEnclosingWhitespace:!0},parse:{}}}}}),L2=[t2,qd,o2,Ud,i2,l2,ma,d2,h2,g2,x2,v2,_2,S2,j2,D2,T2,$d,P2,R2,O2];function ea(e){var t,n;const r=(t=e.storage)===null||t===void 0?void 0:t.markdown,o=(n=L2.find(a=>a.name===e.name))===null||n===void 0?void 0:n.storage.markdown;return r||o?{...o,...r}:null}class z2{constructor(t){Jo(this,"editor",null),this.editor=t}serialize(t){const n=new Gy(this.nodes,this.marks,{hardBreakNodeName:Ud.name});return n.renderContent(t),n.out}get nodes(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.nodes).map(n=>[n,this.serializeNode(ma)])),...Object.fromEntries((t=this.editor.extensionManager.extensions.filter(n=>n.type==="node"&&this.serializeNode(n)).map(n=>[n.name,this.serializeNode(n)]))!==null&&t!==void 0?t:[])}}get marks(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.marks).map(n=>[n,this.serializeMark($d)])),...Object.fromEntries((t=this.editor.extensionManager.extensions.filter(n=>n.type==="mark"&&this.serializeMark(n)).map(n=>[n.name,this.serializeMark(n)]))!==null&&t!==void 0?t:[])}}serializeNode(t){var n;return(n=ea(t))===null||n===void 0||(n=n.serialize)===null||n===void 0?void 0:n.bind({editor:this.editor,options:t.options})}serializeMark(t){var n;const r=(n=ea(t))===null||n===void 0?void 0:n.serialize;return r?{...r,open:typeof r.open=="function"?r.open.bind({editor:this.editor,options:t.options}):r.open,close:typeof r.close=="function"?r.close.bind({editor:this.editor,options:t.options}):r.close}:null}}class B2{constructor(t,n){Jo(this,"editor",null),Jo(this,"md",null);let{html:r,linkify:o,breaks:a}=n;this.editor=t,this.md=this.withPatchedRenderer(jt({html:r,linkify:o,breaks:a}))}parse(t){let{inline:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="string"){this.editor.extensionManager.extensions.forEach(a=>{var u;return(u=ea(a))===null||u===void 0||(u=u.parse)===null||u===void 0||(u=u.setup)===null||u===void 0?void 0:u.call({editor:this.editor,options:a.options},this.md)});const r=this.md.render(t),o=xi(r);return this.editor.extensionManager.extensions.forEach(a=>{var u;return(u=ea(a))===null||u===void 0||(u=u.parse)===null||u===void 0||(u=u.updateDOM)===null||u===void 0?void 0:u.call({editor:this.editor,options:a.options},o)}),this.normalizeDOM(o,{inline:n,content:t}),o.innerHTML}return t}normalizeDOM(t,n){let{inline:r,content:o}=n;return this.normalizeBlocks(t),t.querySelectorAll("*").forEach(a=>{var u;((u=a.nextSibling)===null||u===void 0?void 0:u.nodeType)===Node.TEXT_NODE&&!a.closest("pre")&&(a.nextSibling.textContent=a.nextSibling.textContent.replace(/^\n/,""))}),r&&this.normalizeInline(t,o),t}normalizeBlocks(t){const r=Object.values(this.editor.schema.nodes).filter(o=>o.isBlock).map(o=>{var a;return(a=o.spec.parseDOM)===null||a===void 0?void 0:a.map(u=>u.tag)}).flat().filter(Boolean).join(",");r&&[...t.querySelectorAll(r)].forEach(o=>{o.parentElement.matches("p")&&Zy(o)})}normalizeInline(t,n){var r;if((r=t.firstElementChild)!==null&&r!==void 0&&r.matches("p")){var o,a,u,l;const d=t.firstElementChild,{nextElementSibling:h}=d,p=(o=(a=n.match(/^\s+/))===null||a===void 0?void 0:a[0])!==null&&o!==void 0?o:"",x=h?"":(u=(l=n.match(/\s+$/))===null||l===void 0?void 0:l[0])!==null&&u!==void 0?u:"";if(n.match(/^\n\n/)){d.innerHTML=`${d.innerHTML}${x}`;return}Xy(d),t.innerHTML=`${p}${t.innerHTML}${x}`}}withPatchedRenderer(t){const n=r=>function(){const o=r(...arguments);return o===`
`?o:o[o.length-1]===`
`?o.slice(0,-1):o};return t.renderer.rules.hardbreak=n(t.renderer.rules.hardbreak),t.renderer.rules.softbreak=n(t.renderer.rules.softbreak),t.renderer.rules.fence=n(t.renderer.rules.fence),t.renderer.rules.code_block=n(t.renderer.rules.code_block),t.renderer.renderToken=n(t.renderer.renderToken.bind(t.renderer)),t}}const $2=Ys.create({name:"markdownClipboard",addOptions(){return{transformPastedText:!1,transformCopiedText:!1}},addProseMirrorPlugins(){return[new zp({key:new Bp("markdownClipboard"),props:{clipboardTextParser:(e,t,n)=>{if(n||!this.options.transformPastedText)return null;const r=this.editor.storage.markdown.parser.parse(e,{inline:!0});return $p.fromSchema(this.editor.schema).parseSlice(xi(r),{preserveWhitespace:!0,context:t})},clipboardTextSerializer:e=>this.options.transformCopiedText?this.editor.storage.markdown.serializer.serialize(e.content):null}})]}}),q2=Ys.create({name:"markdown",priority:50,addOptions(){return{html:!0,tightLists:!0,tightListClass:"tight",bulletListMarker:"-",linkify:!1,breaks:!1,transformPastedText:!1,transformCopiedText:!1}},addCommands(){const e=Lp.Commands.config.addCommands();return{setContent:(t,n,r)=>o=>e.setContent(o.editor.storage.markdown.parser.parse(t),n,r)(o),insertContentAt:(t,n,r)=>o=>e.insertContentAt(t,o.editor.storage.markdown.parser.parse(n,{inline:!0}),r)(o)}},onBeforeCreate(){this.editor.storage.markdown={options:{...this.options},parser:new B2(this.editor,this.options),serializer:new z2(this.editor),getMarkdown:()=>this.editor.storage.markdown.serializer.serialize(this.editor.state.doc)},this.editor.options.initialContent=this.editor.options.content,this.editor.options.content=this.editor.storage.markdown.parser.parse(this.editor.options.content)},onCreate(){this.editor.options.content=this.editor.options.initialContent,delete this.editor.options.initialContent},addStorage(){return{}},addExtensions(){return[Ky.configure({tight:this.options.tightLists,tightClass:this.options.tightListClass}),$2.configure({transformPastedText:this.options.transformPastedText,transformCopiedText:this.options.transformCopiedText})]}}),gs=[{emoji:"😀",name:"grinning"},{emoji:"😃",name:"smiley"},{emoji:"😄",name:"smile"},{emoji:"😁",name:"grin"},{emoji:"😆",name:"laughing"},{emoji:"😅",name:"sweat_smile"},{emoji:"🤣",name:"rofl"},{emoji:"😂",name:"joy"},{emoji:"🙂",name:"slightly_smiling_face"},{emoji:"🙃",name:"upside_down_face"},{emoji:"😉",name:"wink"},{emoji:"😊",name:"blush"},{emoji:"😇",name:"innocent"},{emoji:"🥰",name:"smiling_face_with_hearts"},{emoji:"😍",name:"heart_eyes"},{emoji:"🤩",name:"star_struck"},{emoji:"😘",name:"kissing_heart"},{emoji:"😗",name:"kissing"},{emoji:"😚",name:"kissing_closed_eyes"},{emoji:"😙",name:"kissing_smiling_eyes"},{emoji:"🥲",name:"smiling_face_with_tear"},{emoji:"😋",name:"yum"},{emoji:"😛",name:"stuck_out_tongue"},{emoji:"😜",name:"stuck_out_tongue_winking_eye"},{emoji:"🤪",name:"zany_face"},{emoji:"😝",name:"stuck_out_tongue_closed_eyes"},{emoji:"🤑",name:"money_mouth_face"},{emoji:"🤗",name:"hugs"},{emoji:"🤭",name:"hand_over_mouth"},{emoji:"🤫",name:"shushing_face"},{emoji:"🤔",name:"thinking"},{emoji:"🤐",name:"zipper_mouth_face"},{emoji:"🤨",name:"raised_eyebrow"},{emoji:"😐",name:"neutral_face"},{emoji:"😑",name:"expressionless"},{emoji:"😶",name:"no_mouth"},{emoji:"😏",name:"smirk"},{emoji:"😒",name:"unamused"},{emoji:"🙄",name:"roll_eyes"},{emoji:"😬",name:"grimacing"},{emoji:"🤥",name:"lying_face"},{emoji:"😔",name:"pensive"},{emoji:"😪",name:"sleepy"},{emoji:"🤤",name:"drooling_face"},{emoji:"😴",name:"sleeping"},{emoji:"😷",name:"mask"},{emoji:"🤒",name:"face_with_thermometer"},{emoji:"🤕",name:"face_with_head_bandage"},{emoji:"🤢",name:"nauseated_face"},{emoji:"🤮",name:"vomiting_face"},{emoji:"🤧",name:"sneezing_face"},{emoji:"🥵",name:"hot_face"},{emoji:"🥶",name:"cold_face"},{emoji:"🥴",name:"woozy_face"},{emoji:"😵",name:"dizzy_face"},{emoji:"🤯",name:"exploding_head"},{emoji:"🤠",name:"cowboy_hat_face"},{emoji:"🥳",name:"partying_face"},{emoji:"🥸",name:"disguised_face"},{emoji:"😎",name:"sunglasses"},{emoji:"🤓",name:"nerd_face"},{emoji:"🧐",name:"monocle_face"},{emoji:"😕",name:"confused"},{emoji:"😟",name:"worried"},{emoji:"🙁",name:"slightly_frowning_face"},{emoji:"☹️",name:"frowning_face"},{emoji:"😮",name:"open_mouth"},{emoji:"😯",name:"hushed"},{emoji:"😲",name:"astonished"},{emoji:"😳",name:"flushed"},{emoji:"🥺",name:"pleading_face"},{emoji:"😦",name:"frowning"},{emoji:"😧",name:"anguished"},{emoji:"😨",name:"fearful"},{emoji:"😰",name:"cold_sweat"},{emoji:"😥",name:"disappointed_relieved"},{emoji:"😢",name:"cry"},{emoji:"😭",name:"sob"},{emoji:"😱",name:"scream"},{emoji:"😖",name:"confounded"},{emoji:"😣",name:"persevere"},{emoji:"😞",name:"disappointed"},{emoji:"😓",name:"sweat"},{emoji:"😩",name:"weary"},{emoji:"😫",name:"tired_face"},{emoji:"🥱",name:"yawning_face"},{emoji:"😤",name:"triumph"},{emoji:"😡",name:"rage"},{emoji:"😠",name:"angry"},{emoji:"🤬",name:"cursing_face"},{emoji:"😈",name:"smiling_imp"},{emoji:"👿",name:"imp"},{emoji:"💀",name:"skull"},{emoji:"☠️",name:"skull_and_crossbones"},{emoji:"💩",name:"poop"},{emoji:"🤡",name:"clown_face"},{emoji:"👹",name:"ogre"},{emoji:"👺",name:"goblin"},{emoji:"👻",name:"ghost"},{emoji:"👽",name:"alien"},{emoji:"👾",name:"space_invader"},{emoji:"🤖",name:"robot"},{emoji:"😺",name:"smiley_cat"},{emoji:"😸",name:"smile_cat"},{emoji:"😹",name:"joy_cat"},{emoji:"😻",name:"heart_eyes_cat"},{emoji:"😼",name:"smirk_cat"},{emoji:"😽",name:"kissing_cat"},{emoji:"🙀",name:"scream_cat"},{emoji:"😿",name:"crying_cat_face"},{emoji:"😾",name:"pouting_cat"},{emoji:"👋",name:"wave"},{emoji:"🤚",name:"raised_back_of_hand"},{emoji:"🖐️",name:"raised_hand_with_fingers_splayed"},{emoji:"✋",name:"hand"},{emoji:"🖖",name:"vulcan_salute"},{emoji:"👌",name:"ok_hand"},{emoji:"🤌",name:"pinched_fingers"},{emoji:"🤏",name:"pinching_hand"},{emoji:"✌️",name:"v"},{emoji:"🤞",name:"crossed_fingers"},{emoji:"🤟",name:"love_you_gesture"},{emoji:"🤘",name:"metal"},{emoji:"🤙",name:"call_me_hand"},{emoji:"👈",name:"point_left"},{emoji:"👉",name:"point_right"},{emoji:"👆",name:"point_up_2"},{emoji:"🖕",name:"middle_finger"},{emoji:"👇",name:"point_down"},{emoji:"☝️",name:"point_up"},{emoji:"👍",name:"thumbsup"},{emoji:"👎",name:"thumbsdown"},{emoji:"✊",name:"fist"},{emoji:"👊",name:"facepunch"},{emoji:"🤛",name:"fist_left"},{emoji:"🤜",name:"fist_right"},{emoji:"👏",name:"clap"},{emoji:"🙌",name:"raised_hands"},{emoji:"👐",name:"open_hands"},{emoji:"🤲",name:"palms_up_together"},{emoji:"🤝",name:"handshake"},{emoji:"🙏",name:"pray"},{emoji:"❤️",name:"heart"},{emoji:"🧡",name:"orange_heart"},{emoji:"💛",name:"yellow_heart"},{emoji:"💚",name:"green_heart"},{emoji:"💙",name:"blue_heart"},{emoji:"💜",name:"purple_heart"},{emoji:"🖤",name:"black_heart"},{emoji:"🤍",name:"white_heart"},{emoji:"🤎",name:"brown_heart"},{emoji:"💔",name:"broken_heart"},{emoji:"❣️",name:"heavy_heart_exclamation"},{emoji:"💕",name:"two_hearts"},{emoji:"💞",name:"revolving_hearts"},{emoji:"💓",name:"heartbeat"},{emoji:"💗",name:"heartpulse"},{emoji:"💖",name:"sparkling_heart"},{emoji:"💘",name:"cupid"},{emoji:"💝",name:"gift_heart"},{emoji:"💟",name:"heart_decoration"},{emoji:"☮️",name:"peace_symbol"},{emoji:"✝️",name:"latin_cross"},{emoji:"☪️",name:"star_and_crescent"},{emoji:"🕉️",name:"om"},{emoji:"☸️",name:"wheel_of_dharma"},{emoji:"✡️",name:"star_of_david"},{emoji:"🔯",name:"six_pointed_star"},{emoji:"🕎",name:"menorah"},{emoji:"☯️",name:"yin_yang"},{emoji:"☦️",name:"orthodox_cross"},{emoji:"🛐",name:"place_of_worship"},{emoji:"⛎",name:"ophiuchus"},{emoji:"♈",name:"aries"},{emoji:"♉",name:"taurus"},{emoji:"♊",name:"gemini"},{emoji:"♋",name:"cancer"},{emoji:"♌",name:"leo"},{emoji:"♍",name:"virgo"},{emoji:"♎",name:"libra"},{emoji:"♏",name:"scorpius"},{emoji:"♐",name:"sagittarius"},{emoji:"♑",name:"capricorn"},{emoji:"♒",name:"aquarius"},{emoji:"♓",name:"pisces"},{emoji:"🆔",name:"id"},{emoji:"⚡",name:"zap"},{emoji:"💥",name:"boom"},{emoji:"💫",name:"dizzy"},{emoji:"💦",name:"sweat_drops"},{emoji:"💨",name:"dash"},{emoji:"🕳️",name:"hole"},{emoji:"💣",name:"bomb"},{emoji:"💬",name:"speech_balloon"},{emoji:"👁️‍🗨️",name:"eye_speech_bubble"},{emoji:"🗨️",name:"left_speech_bubble"},{emoji:"🗯️",name:"right_anger_bubble"},{emoji:"💭",name:"thought_balloon"},{emoji:"💤",name:"zzz"}];function U2({onEmojiSelect:e,onClose:t,query:n="",position:r}){const[o,a]=g.useState(gs);g.useEffect(()=>{if(n&&n.trim()){const p=n.toLowerCase().trim(),x=gs.filter(C=>C.name.toLowerCase().includes(p)||C.emoji.includes(n)||C.name.toLowerCase().startsWith(p));a(x.slice(0,20))}else a(gs.slice(0,40))},[n]);const u=p=>{e(p),t()},l=p=>{p.key==="Escape"&&t()},d=()=>{if(!r)return{};const p=window.innerWidth,x=window.innerHeight,C=320,y=240;let w=r.x,k=r.y;return w+C>p&&(w=p-C-20),k+y>x&&(k=r.y-y-10),{left:Math.max(10,w),top:Math.max(10,k)}},h=i.jsxs("div",{className:"fixed bg-white border border-border rounded-lg shadow-xl p-3 w-80",style:{...d(),zIndex:2147483647},onKeyDown:l,children:[n&&i.jsxs("div",{className:"text-xs text-blue-600 mb-2 font-medium",children:['"',n,'"']}),i.jsx("div",{className:"grid grid-cols-10 gap-1 max-h-52 overflow-y-auto",children:o.map((p,x)=>i.jsx(ke,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50 text-lg transition-colors",onClick:()=>u(p.emoji),title:p.name,children:p.emoji},`${p.emoji}-${x}`))}),o.length===0&&n&&i.jsx("div",{className:"text-center text-muted-foreground text-sm py-6",children:"No emojis found"})]});return vr.createPortal(h,document.body)}function K2({content:e,placeholder:t="Start typing...",onUpdate:n,onSave:r,onCancel:o,className:a,autoFocus:u=!1}){const[l,d]=g.useState(!1),[h,p]=g.useState(""),[x,C]=g.useState(null),y=g.useRef(null),w=qp({extensions:[Up.configure({strike:!1,code:!1,blockquote:!1}),q2.configure({html:!0,transformPastedText:!0,transformCopiedText:!1}),I1,R1.configure({nested:!0}),Kp.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline hover:text-blue-800 cursor-pointer",target:"_blank",rel:"noopener noreferrer"},protocols:["http","https","ftp","mailto"],validate:_=>/^https?:\/\//.test(_)}),Hp.configure({HTMLAttributes:{class:"border-l-4 border-gray-300 pl-4 italic"}}),Vp.configure({HTMLAttributes:{class:"inline-code"}}),Wp.configure({HTMLAttributes:{class:"code-block"}}),Gp.configure({HTMLAttributes:{class:"line-through"}}),M1.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:"rounded-md max-w-full h-auto"}}),P1.configure({placeholder:t})],content:e,onUpdate:({editor:_})=>{n(_.getHTML())},editorProps:{attributes:{class:"tiptap-editor text-sm leading-relaxed focus:outline-none min-h-[100px] w-full"},handleKeyDown:(_,j)=>{if(j.key==="/"&&!l){const{selection:E}=_.state,{from:M}=E,F=_.state.doc.resolve(M),K=F.parent.textBetween(0,F.parentOffset);if(!K.trim()||K.endsWith(" ")){const te=_.coordsAtPos(M);return C({x:te.left,y:te.bottom+5}),d(!0),p(""),j.preventDefault(),!0}}if(l){if(j.key==="Escape")return d(!1),p(""),!0;if(j.key==="Backspace")return h.length>0?p(E=>E.slice(0,-1)):d(!1),!0;if(j.key.length===1&&!j.ctrlKey&&!j.metaKey&&j.key!==" ")return p(E=>E+j.key),!0;if(j.key===" ")return d(!1),p(""),!0}return!1}}}),k=g.useCallback(()=>{const _=document.createElement("input");_.type="file",_.accept="image/*",_.onchange=j=>{const E=j.target.files?.[0];if(E&&w){const M=new FileReader;M.onload=F=>{const K=F.target?.result;w.chain().focus().setImage({src:K}).run()},M.readAsDataURL(E)}},_.click()},[w]);g.useEffect(()=>{if(!w)return;const _=E=>{const M=E.clipboardData?.items;if(M)for(let F=0;F<M.length;F++){const K=M[F];if(K.type.indexOf("image")!==-1){E.preventDefault();const Y=K.getAsFile();if(Y){const te=new FileReader;te.onload=he=>{const G=he.target?.result;w.chain().focus().setImage({src:G}).run()},te.readAsDataURL(Y)}}}},j=w.view.dom;return j.addEventListener("paste",_),()=>{j.removeEventListener("paste",_)}},[w]);const D=g.useCallback(_=>{w&&w.chain().focus().insertContent(_).run(),d(!1),p("")},[w]),S=g.useCallback(()=>{d(!1),p("")},[]);return g.useEffect(()=>{if(!w)return;const _=E=>{E.key==="Escape"?l?(d(!1),p("")):o():E.key==="Enter"&&(E.ctrlKey||E.metaKey)&&r()},j=w.view.dom;return j.addEventListener("keydown",_),()=>{j.removeEventListener("keydown",_)}},[w,r,o,l]),g.useEffect(()=>{w&&u&&w.commands.focus()},[w,u]),w?i.jsxs("div",{className:oe("relative z-20",a),ref:y,children:[i.jsxs("div",{className:"relative p-2 -m-2",children:[i.jsx(Yp,{editor:w,className:"min-h-[100px]"}),i.jsxs("div",{className:"absolute top-0 right-0 flex gap-1 opacity-60 hover:opacity-100 transition-opacity",children:[i.jsx(ke,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 bg-white/90 hover:bg-white shadow-sm rounded",onClick:()=>d(!l),title:"Insert Emoji (Press / to open)",children:i.jsx(dg,{className:"h-3 w-3"})}),i.jsx(ke,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 bg-white/90 hover:bg-white shadow-sm rounded",onClick:k,title:"Insert Image",children:i.jsx(Vl,{className:"h-3 w-3"})})]})]}),l&&i.jsx(U2,{onEmojiSelect:D,onClose:S,query:h,position:x||void 0}),i.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t border-border/30",children:[i.jsxs(ke,{size:"sm",variant:"ghost",onClick:o,className:"h-7 px-3 text-xs",children:[i.jsx(Xn,{className:"h-3 w-3 mr-1"}),"Cancel"]}),i.jsxs(ke,{size:"sm",onClick:r,className:"h-7 px-3 text-xs",children:[i.jsx(In,{className:"h-3 w-3 mr-1"}),"Accept"]})]}),w&&i.jsxs("div",{className:"absolute top-0 right-0 text-xs text-muted-foreground bg-white/90 px-2 py-1 rounded shadow-sm opacity-0 hover:opacity-100 transition-opacity pointer-events-none z-10 max-w-xs",children:["**bold** *italic* # heading - list ",">"," quote `code` ~~strike~~ [link](url) [] task / emoji"]})]}):null}function H2({content:e,onUpdate:t,onSave:n,onCancel:r,className:o,autoFocus:a=!1}){const[u,l]=g.useState(e),d=g.useRef(null);g.useEffect(()=>{l(e)},[e]),g.useEffect(()=>{a&&d.current&&(d.current.focus(),d.current.select())},[a]);const h=x=>{l(x.target.value),t(x.target.value)},p=x=>{x.key==="Enter"?n():x.key==="Escape"&&r()};return i.jsxs("div",{className:oe("relative",o),children:[i.jsx("input",{ref:d,type:"text",value:u,onChange:h,onKeyDown:p,className:"w-full bg-transparent border-none outline-none text-lg font-semibold resize-none pr-16",placeholder:"Card title..."}),i.jsxs("div",{className:"absolute right-0 top-0 flex gap-1",children:[i.jsx(ke,{size:"sm",variant:"ghost",onClick:r,className:"h-6 w-6 p-0 bg-white/80 hover:bg-white shadow-sm",children:i.jsx(Xn,{className:"h-3 w-3"})}),i.jsx(ke,{size:"sm",onClick:n,className:"h-6 w-6 p-0 bg-white/80 hover:bg-white shadow-sm",children:i.jsx(In,{className:"h-3 w-3"})})]})]})}const V2=e=>{const t=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#06b6d4","#8b5a2b","#6b7280","#ec4899","#84cc16","#f97316","#6366f1"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]},W2=({tags:e,className:t,maxTags:n=5,size:r="sm"})=>{if(!e||e.length===0)return null;const o=e.slice(0,n),a=e.length-n,u={sm:"text-xs px-2 py-1",md:"text-sm px-2.5 py-1.5",lg:"text-base px-3 py-2"};return i.jsxs("div",{className:oe("flex flex-wrap gap-1.5 mt-3",t),children:[o.map((l,d)=>i.jsx("span",{className:oe("inline-flex items-center rounded-full font-medium text-white","shadow-sm transition-all duration-200 hover:scale-105",u[r]),style:{backgroundColor:V2(l),fontSize:r==="sm"?"0.75rem":r==="md"?"0.875rem":"1rem"},children:l},`${l}-${d}`)),a>0&&i.jsxs("span",{className:oe("inline-flex items-center rounded-full bg-gray-500 text-white font-medium",u[r]),children:["+",a]})]})};function G2({card:e,onFlip:t,onUpdate:n,onCopy:r,onScreenshot:o,onShare:a,onDelete:u,onStyleChange:l,onTagsChange:d,onMoveToFolder:h,className:p,size:x="md"}){const[C,y]=g.useState(!1),[w,k]=g.useState(!1),[D,S]=g.useState(null),[_,j]=g.useState(null),[E,M]=g.useState(null),[F,K]=g.useState(!1),Y=g.useRef(null),te=e.isFlipped?e.backContent:e.frontContent,he={sm:"w-full",md:"w-full",lg:"w-full"},G={sm:"p-3",md:"p-4",lg:"p-5"},Z=()=>{const{style:se}=e,X={borderRadius:"1rem",fontFamily:se.fontFamily,fontSize:se.fontSize==="sm"?"0.875rem":se.fontSize==="lg"?"1.125rem":"1rem",fontWeight:se.fontWeight,color:se.textColor,borderWidth:se.borderWidth||0,borderColor:se.borderColor};let Oe="";return se.type==="gradient"&&se.gradientColors?(X.background=`linear-gradient(135deg, ${se.gradientColors.join(", ")})`,se.gradientColors.includes("#8a2be2")&&se.gradientColors.includes("#00ffff")?(Oe="gradient-wave-animation",X.position="relative"):se.gradientColors.includes("#ee7752")&&se.gradientColors.includes("#23d5ab")?Oe="moving-gradient-animation":se.gradientColors.includes("#667eea")&&(Oe="gradient-mesh-animation")):se.type==="glass"?(X.background=se.backgroundColor||"rgba(255, 255, 255, 0.15)",X.backdropFilter="blur(20px) saturate(180%)",X.WebkitBackdropFilter="blur(20px) saturate(180%)",X.border=`1px solid ${se.borderColor||"rgba(255, 255, 255, 0.18)"}`,Oe="glass-morphism"):se.backgroundColor&&se.backgroundColor.includes("linear-gradient")?(X.background=se.backgroundColor,X.backgroundSize="400% 400%",se.backgroundColor.includes("#667eea")&&(Oe="gradient-mesh-animation")):(X.backgroundColor=se.backgroundColor,se.backgroundColor==="#1a1a2e"&&se.borderColor==="#4361ee"?Oe="pulse-border-animation":se.backgroundColor==="#0f172a"&&(Oe="glow-hover-animation")),{style:X,shadowClass:{sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl",none:"","2xl":"shadow-2xl",glass:"shadow-lg"}[se.shadow||"md"]||"shadow-md",specialClasses:Oe}},{style:je,shadowClass:Me,specialClasses:Ne}=Z(),be=g.useCallback(se=>{se.stopPropagation(),se.preventDefault(),!F&&(K(!0),t(e.id),setTimeout(()=>{K(!1)},600))},[e.id,t,F]),Ie=se=>{se.stopPropagation(),U("content")},Ae=se=>{U(se)},U=se=>{j(te),M(te),S(se),k(!0)},fe=(se,X)=>{E&&M({...E,[se]:X,lastModified:new Date})},xe=()=>{if(E){const X={[e.isFlipped?"backContent":"frontContent"]:E};n(e.id,X)}k(!1),S(null),j(null),M(null)},Ce=()=>{k(!1),S(null),j(null),M(null)},ve=se=>{fe("title",se.target.value)},Ee=se=>{fe("text",se.target.value)},Be=se=>{se.key==="Escape"&&Ce(),se.key==="Enter"&&se.ctrlKey&&xe()};return i.jsx("div",{className:oe("relative group",p),"data-card-id":e.id,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:i.jsx("div",{className:"flip-card-container",style:{perspective:"1000px",width:"100%",minHeight:"fit-content"},children:i.jsxs("div",{ref:Y,className:oe("flip-card-inner relative transition-all duration-700 ease-in-out",he[x]),style:{minHeight:"fit-content",width:"100%",transformStyle:"preserve-3d",transform:e.isFlipped?"rotateY(180deg)":"rotateY(0deg)"},children:[i.jsx("div",{className:oe("flip-card-face flip-card-front w-full flex flex-col transition-all duration-300 relative",Me,Ne,G[x]),style:{...je,borderRadius:je.borderRadius,backfaceVisibility:"hidden",position:e.isFlipped?"absolute":"relative",opacity:e.isFlipped?0:1},children:i.jsx(Zu,{content:E||e.frontContent,isEditing:w&&!e.isFlipped,editingField:D,onTitleChange:ve,onTextChange:Ee,onTempContentUpdate:fe,onSaveEdit:xe,onCancelEdit:Ce,onDoubleClick:Ae,onKeyDown:Be,sideLabel:"Front",isHovered:C,onEdit:Ie,onFlip:be,onCopy:()=>r(e.id),onScreenshot:()=>o(e.id),onShare:()=>a(e.id),onDelete:()=>u(e.id),onStyleChange:l?()=>l(e.id):void 0,onTagsChange:d?()=>d(e.id):void 0,onMoveToFolder:h,card:e,isFlipping:F})}),i.jsx("div",{className:oe("flip-card-face flip-card-back w-full flex flex-col transition-all duration-300 relative",Me,Ne,G[x]),style:{...je,borderRadius:je.borderRadius,backfaceVisibility:"hidden",transform:"rotateY(180deg)",position:e.isFlipped?"relative":"absolute",top:e.isFlipped?"auto":"0",opacity:e.isFlipped?1:0},children:i.jsx(Zu,{content:E||e.backContent,isEditing:w&&e.isFlipped,editingField:D,onTitleChange:ve,onTextChange:Ee,onTempContentUpdate:fe,onSaveEdit:xe,onCancelEdit:Ce,onDoubleClick:Ae,onKeyDown:Be,sideLabel:"Back",isHovered:C,onEdit:Ie,onFlip:be,onCopy:()=>r(e.id),onScreenshot:()=>o(e.id),onShare:()=>a(e.id),onDelete:()=>u(e.id),onStyleChange:l?()=>l(e.id):void 0,onTagsChange:d?()=>d(e.id):void 0,onMoveToFolder:h,card:e,isFlipping:F})})]})})})}function Y2({images:e}){const t=e.slice(0,4),n=t.length,r=a=>{switch(a){case 1:return"flex justify-center";case 2:return"grid grid-cols-2 gap-2";case 3:return"grid grid-cols-2 gap-2";case 4:default:return"grid grid-cols-2 gap-2"}},o=(a,u)=>{const l="relative aspect-video rounded-md overflow-hidden bg-muted transition-all duration-200 hover:scale-[1.02]";return a===1?`${l} max-w-xs w-full`:a===3&&u===2?`${l} col-span-2 max-w-xs mx-auto`:l};return i.jsx("div",{className:r(n),children:t.map((a,u)=>i.jsx("div",{className:o(n,u),children:i.jsx("img",{src:a.url,alt:a.alt||`Image ${u+1}`,className:"w-full h-full object-cover transition-transform duration-200",loading:"lazy"})},u))})}function Zu({content:e,isEditing:t,editingField:n,onTitleChange:r,onTextChange:o,onTempContentUpdate:a,onSaveEdit:u,onCancelEdit:l,onDoubleClick:d,onKeyDown:h,sideLabel:p,isHovered:x,onEdit:C,onFlip:y,onCopy:w,onScreenshot:k,onShare:D,onDelete:S,onStyleChange:_,onTagsChange:j,onMoveToFolder:E,card:M,isFlipping:F}){return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("div",{className:"flex-1 mr-2",children:t&&n==="title"?i.jsx(H2,{content:e.title,onUpdate:K=>a("title",K),onSave:u,onCancel:l,autoFocus:!0}):i.jsx("h3",{className:"text-lg font-semibold text-left cursor-pointer hover:bg-black/5 rounded px-1 py-0.5 -mx-1 transition-colors",onDoubleClick:()=>d("title"),children:e.title||"Untitled Card"})}),i.jsxs("div",{className:oe("flex gap-1 transition-all duration-200 flex-shrink-0",x||t?"opacity-100":"opacity-60"),children:[i.jsx(ke,{size:"sm",variant:"ghost",className:oe("h-7 w-7 p-0 rounded-md hover:bg-black/10 transition-all duration-200",F&&"animate-pulse"),onClick:y,title:`Flip to ${M.isFlipped?"Front":"Back"}`,disabled:F,children:i.jsx(Ym,{className:oe("h-3.5 w-3.5 transition-transform duration-200",F&&"scale-110")})}),i.jsxs(_1,{modal:!1,children:[i.jsx(k1,{asChild:!0,children:i.jsx("div",{className:"h-7 w-7 rounded-md hover:bg-black/10 flex items-center justify-center cursor-pointer transition-colors group",onMouseEnter:K=>{K.stopPropagation();const Y=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});K.currentTarget.dispatchEvent(Y)},onClick:K=>K.stopPropagation(),children:i.jsx(tg,{className:"h-3.5 w-3.5"})})}),i.jsxs(cd,{align:"end",className:"w-48",children:[i.jsxs(bn,{onClick:C,children:[i.jsx(ig,{className:"h-4 w-4 mr-2"}),"Edit Content"]}),i.jsxs(bn,{onClick:w,children:[i.jsx(eg,{className:"h-4 w-4 mr-2"}),"Copy Text"]}),i.jsxs(bn,{onClick:k,children:[i.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Screenshot"]}),i.jsxs(bn,{onClick:D,children:[i.jsx(ug,{className:"h-4 w-4 mr-2"}),"Share"]}),i.jsx(Ds,{}),_&&i.jsxs(bn,{onClick:_,children:[i.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Change Style"]}),j&&i.jsxs(bn,{onClick:j,children:[i.jsx(Yl,{className:"h-4 w-4 mr-2"}),"Manage Tags"]}),E&&i.jsxs(bn,{onClick:E,children:[i.jsx(Hl,{className:"h-4 w-4 mr-2"}),"Move to Folder"]}),i.jsx(Ds,{}),i.jsxs(bn,{onClick:S,className:"text-destructive focus:text-destructive",children:[i.jsx(ti,{className:"h-4 w-4 mr-2"}),"Delete Card"]})]})]})]})]}),e.images.length>0&&i.jsxs("div",{className:"mb-3 flex-shrink-0",children:[i.jsx(Y2,{images:e.images}),e.images.length>4&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-center",children:["+",e.images.length-4," more images"]})]}),i.jsx("div",{className:"flex-1 mb-3 relative z-10",children:t&&n==="content"?i.jsx(K2,{content:e.text,placeholder:"Add your content here...",onUpdate:K=>a("text",K),onSave:u,onCancel:l,autoFocus:!0}):i.jsx("div",{className:"text-sm leading-relaxed text-left cursor-pointer hover:bg-black/5 rounded p-2 -m-2 transition-colors min-h-[100px] tiptap-editor relative z-10",onDoubleClick:K=>{K.target.tagName!=="A"&&d("content")},onClick:K=>{const Y=K.target;if(Y.tagName==="A"){K.stopPropagation();const te=Y.getAttribute("href");te&&window.open(te,"_blank","noopener,noreferrer")}},children:i.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:e.text||'<span class="text-muted-foreground">Click to add content...</span>'}})})}),i.jsxs("div",{className:"mt-auto",children:[i.jsx(W2,{tags:e.tags,size:"sm"}),e.images.length>0&&i.jsx("div",{className:"flex items-center justify-end text-xs text-muted-foreground mt-2",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Vl,{className:"h-3 w-3"}),i.jsx("span",{children:e.images.length})]})})]})]})}const $t=({title:e="Sample Card",content:t="This is a preview of how your card will look with this style.",style:n,isSelected:r=!1,onClick:o,className:a})=>{console.log("Rendering StylePreviewCard (Simplified):",{title:e,isSelected:r,style:n});const u=()=>{const l={minHeight:"60px",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"8px",borderRadius:"8px",cursor:"pointer",border:r?"2px solid #3b82f6":"1px solid #e5e7eb",position:"relative",fontSize:"10px",textAlign:"center",boxShadow:r?"0 4px 12px rgba(59, 130, 246, 0.3)":"0 2px 4px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease",backgroundColor:"#ffffff"};if(typeof n=="object"&&n!==null){if("background"in n||"backgroundColor"in n)return{...l,...n,cursor:"pointer",border:r?"3px solid #3b82f6":n.border||"2px solid #e5e7eb",boxShadow:r?"0 4px 12px rgba(59, 130, 246, 0.3)":n.boxShadow||"0 2px 4px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease"};if("type"in n){if(n.type==="solid")return{...l,backgroundColor:n.backgroundColor||"#ffffff",color:n.textColor||"#374151"};if(n.type==="gradient"&&n.gradientColors){const h=`linear-gradient(${n.gradientDirection||"to bottom right"}, ${n.gradientColors.join(", ")})`;return{...l,background:h,color:n.textColor||"#ffffff"}}}}return l};return i.jsxs("div",{style:u(),onClick:o,className:a,children:[i.jsx("div",{style:{fontWeight:"600",marginBottom:"2px",fontSize:"11px"},children:e}),i.jsx("div",{style:{fontSize:"9px",opacity:.8,lineHeight:"1.1"},children:t})]})},Z2=({isSelected:e,onClick:t,className:n})=>{const r={background:"#ffffff",color:"#1f2937",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"400",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"1px solid #e5e7eb"};return i.jsx($t,{title:"Classic White",content:"Clean and professional",style:r,isSelected:e,onClick:t,className:n})},X2={id:"classic-white",name:"Classic White",category:"business",description:"Clean and professional white background with subtle shadows",style:{type:"solid",backgroundColor:"#ffffff",fontFamily:"system-ui",fontSize:"base",fontWeight:"normal",textColor:"#1f2937",borderRadius:"2xl",shadow:"md",borderWidth:1,borderColor:"#e5e7eb"},previewComponent:Z2},Q2=({isSelected:e,onClick:t,className:n})=>{const r={background:"linear-gradient(135deg, #1f2937 0%, #111827 50%, #030712 100%)",color:"#f9fafb",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"600",borderRadius:"12px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.1)"};return i.jsx($t,{title:"Deep Dark",content:"Bold and mysterious",style:r,isSelected:e,onClick:t,className:n})},J2={id:"deep-dark",name:"Deep Dark",category:"personality",description:"Bold dark gradient with mysterious depth",style:{type:"gradient",gradientColors:["#1f2937","#111827","#030712"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"semibold",textColor:"#f9fafb",borderRadius:"2xl",shadow:"2xl",borderWidth:1,borderColor:"rgba(255, 255, 255, 0.1)"},previewComponent:Q2},ev=({isSelected:e,onClick:t,className:n})=>{const r={background:"linear-gradient(135deg, #8b5cf6 0%, #a855f7 50%, #c084fc 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"20px",boxShadow:"0 20px 25px -5px rgba(139, 92, 246, 0.25), 0 10px 10px -5px rgba(139, 92, 246, 0.1)",border:"none"};return i.jsx($t,{title:"Elegant Purple",content:"Artistic and inspiring",style:r,isSelected:e,onClick:t,className:n})},tv={id:"elegant-purple",name:"Elegant Purple",category:"creative",description:"Artistic purple gradient with elegant curves and shadows",style:{type:"gradient",gradientColors:["#8b5cf6","#a855f7","#c084fc"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"2xl",borderWidth:0},previewComponent:ev},nv=({isSelected:e,onClick:t,className:n})=>{const r={background:"linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(16, 185, 129, 0.2), 0 10px 10px -5px rgba(16, 185, 129, 0.1)",border:"none"};return i.jsx($t,{title:"Fresh Green",content:"Natural and harmonious",style:r,isSelected:e,onClick:t,className:n})},rv={id:"fresh-green",name:"Fresh Green",category:"natural",description:"Natural green gradient with organic harmony",style:{type:"gradient",gradientColors:["#10b981","#059669","#047857"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"2xl",borderWidth:0},previewComponent:nv},ov=({isSelected:e,onClick:t,className:n})=>{const r={background:"linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%)",backgroundSize:"400% 400%",animation:"gradientShift 8s ease infinite",color:"#ffffff",fontFamily:'"Inter", system-ui, -apple-system, sans-serif',fontSize:"14px",fontWeight:"500",borderRadius:"12px",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3), 0 4px 16px rgba(118, 75, 162, 0.2)",border:"none",position:"relative",overflow:"hidden"},o={position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",pointerEvents:"none"};return i.jsxs("div",{style:{position:"relative"},children:[i.jsx($t,{title:"Gradient Mesh",content:"Dynamic gradient background",style:r,isSelected:e,onClick:t,className:n}),i.jsx("div",{style:o}),i.jsx("style",{jsx:!0,children:`
        @keyframes gradientShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
      `})]})},av={id:"gradient-mesh",name:"Gradient Mesh",category:"creative",description:"Dynamic gradient background with animated mesh effect",style:{type:"solid",backgroundColor:"linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%)",fontFamily:"Inter",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"xl",borderWidth:0,borderColor:"transparent"},previewComponent:ov},sv=({isSelected:e,onClick:t,className:n})=>{const r={background:"linear-gradient(90deg, #fb923c 0%, #8b5cf6 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"600",borderRadius:"24px",boxShadow:"0 25px 50px -12px rgba(251, 146, 60, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2)",border:"none"};return i.jsx($t,{title:"Gradient Sunset",content:"Vibrant and expressive",style:r,isSelected:e,onClick:t,className:n})},iv={id:"gradient-sunset",name:"Gradient Sunset",category:"personality",description:"Warm orange to violet gradient with magical sunset vibes",style:{type:"gradient",gradientColors:["#fb923c","#8b5cf6"],gradientDirection:"to-r",fontFamily:"system-ui",fontSize:"base",fontWeight:"semibold",textColor:"#ffffff",borderRadius:"2xl",shadow:"2xl",borderWidth:0},previewComponent:sv},uv=({isSelected:e,onClick:t,className:n})=>{const r={background:"linear-gradient(135deg, #8a2be2 0%, #4b0082 25%, #9370db 50%, #00ffff 75%, #00bfff 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"600",borderRadius:"24px",boxShadow:"0 25px 50px -12px rgba(138, 43, 226, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2)",border:"none",position:"relative",overflow:"hidden"};return i.jsx("div",{className:"relative",children:i.jsx($t,{title:"Gradient Wave",content:"Dynamic wave effect",style:r,isSelected:e,onClick:t,className:`${n} gradient-wave-animation`})})},lv={id:"gradient-wave",name:"Gradient Wave",category:"creative",description:"Purple to cyan gradient with dynamic wave effect",style:{type:"gradient",gradientColors:["#8a2be2","#4b0082","#9370db","#00ffff","#00bfff"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"semibold",textColor:"#ffffff",borderRadius:"2xl",shadow:"2xl",borderWidth:0},previewComponent:uv},cv=({isSelected:e,onClick:t,className:n})=>{const r={background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"16px",boxShadow:"0 10px 15px -3px rgba(59, 130, 246, 0.3), 0 4px 6px -2px rgba(59, 130, 246, 0.1)",border:"none"};return i.jsx($t,{title:"Modern Blue",content:"Contemporary gradient design",style:r,isSelected:e,onClick:t,className:n})},dv={id:"modern-blue",name:"Modern Blue",category:"business",description:"Contemporary blue gradient with professional appeal",style:{type:"gradient",gradientColors:["#3b82f6","#1d4ed8","#1e40af"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"lg",borderWidth:0},previewComponent:cv},fv=({isSelected:e,onClick:t,className:n})=>{const r={background:"linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)",backgroundSize:"400% 400%",color:"#ffffff",fontFamily:'"Poppins", system-ui, sans-serif',fontSize:"14px",fontWeight:"600",borderRadius:"16px",boxShadow:"0 15px 30px -10px rgba(0, 0, 0, 0.25)",border:"none",position:"relative",overflow:"hidden"};return i.jsx("div",{className:"relative",children:i.jsx($t,{title:"Moving Gradient",content:"Flowing color effect",style:r,isSelected:e,onClick:t,className:`${n} moving-gradient-animation`})})},hv={id:"moving-gradient",name:"Moving Gradient",category:"creative",description:"Colorful gradient with flowing animation effect",style:{type:"gradient",gradientColors:["#ee7752","#e73c7e","#23a6d5","#23d5ab"],gradientDirection:"to-br",fontFamily:"Poppins",fontSize:"base",fontWeight:"semibold",textColor:"#ffffff",borderRadius:"xl",shadow:"xl",borderWidth:0},previewComponent:fv},pv=({isSelected:e,onClick:t,className:n})=>{const r={background:"linear-gradient(90deg, #34d399 0%, #0d9488 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"20px",boxShadow:"0 10px 15px -3px rgba(52, 211, 153, 0.3), 0 4px 6px -2px rgba(13, 148, 136, 0.1)",border:"1px solid rgba(52, 211, 153, 0.3)"};return i.jsx($t,{title:"Ocean Breeze",content:"Fresh and refreshing",style:r,isSelected:e,onClick:t,className:n})},mv={id:"ocean-breeze",name:"Ocean Breeze",category:"natural",description:"Fresh emerald to teal gradient with tropical vibes",style:{type:"gradient",gradientColors:["#34d399","#0d9488"],gradientDirection:"to-r",fontFamily:"system-ui",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"lg",borderWidth:1,borderColor:"rgba(52, 211, 153, 0.3)"},previewComponent:pv},gv=({isSelected:e,onClick:t,className:n})=>{const r={background:"linear-gradient(90deg, #fda4af 0%, #f87171 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"20px",boxShadow:"0 10px 15px -3px rgba(253, 164, 175, 0.3), 0 4px 6px -2px rgba(248, 113, 113, 0.1)",border:"1px solid rgba(253, 164, 175, 0.3)"};return i.jsx($t,{title:"Soft Pink",content:"Gentle and soothing",style:r,isSelected:e,onClick:t,className:n})},bv={id:"soft-pink",name:"Soft Pink",category:"natural",description:"Warm pink to red gradient with romantic tones",style:{type:"gradient",gradientColors:["#fda4af","#f87171"],gradientDirection:"to-r",fontFamily:"system-ui",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"lg",borderWidth:1,borderColor:"rgba(253, 164, 175, 0.3)"},previewComponent:gv},xv=({isSelected:e,onClick:t,className:n})=>{const r={background:"linear-gradient(135deg, #ff7e5f 0%, #feb47b 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"600",borderRadius:"18px",boxShadow:"0 25px 50px -12px rgba(255, 126, 95, 0.25), 0 0 0 1px rgba(255, 126, 95, 0.1)",border:"none"};return i.jsx($t,{title:"Warm Orange",content:"Energetic and vibrant",style:r,isSelected:e,onClick:t,className:n})},yv={id:"warm-orange",name:"Warm Orange",category:"creative",description:"Energetic warm orange gradient with peachy tones",style:{type:"gradient",gradientColors:["#ff7e5f","#feb47b"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"semibold",textColor:"#ffffff",borderRadius:"2xl",shadow:"2xl",borderWidth:0},previewComponent:xv};class ur{static instance;presets=new Map;categories=new Map;constructor(){this.initializeCategories()}static getInstance(){return ur.instance||(ur.instance=new ur),ur.instance}initializeCategories(){["business","creative","natural","personality"].forEach(n=>{this.categories.set(n,[])})}register(t){this.presets.set(t.id,t);const n=this.categories.get(t.category)||[];n.push(t),this.categories.set(t.category,n)}unregister(t){const n=this.presets.get(t);if(n){this.presets.delete(t);const o=(this.categories.get(n.category)||[]).filter(a=>a.id!==t);this.categories.set(n.category,o)}}getByCategory(t){return this.categories.get(t)||[]}getById(t){return this.presets.get(t)}getAll(){return Array.from(this.presets.values())}getAllByOrder(){const t=[];return["business","creative","natural","personality"].forEach(r=>{const o=this.getByCategory(r);t.push(...o)}),t}getCategoryCount(t){return this.categories.get(t)?.length||0}getTotalCount(){return this.presets.size}clear(){this.presets.clear(),this.initializeCategories()}}const yi=ur.getInstance(),vv=()=>yi.getAllByOrder();class lr{static instance;STORAGE_KEYS={USER_PREFERENCES:"cardall_style_preferences",RECENT_STYLES:"cardall_recent_styles",DEFAULT_STYLE:"cardall_default_style"};constructor(){}static getInstance(){return lr.instance||(lr.instance=new lr),lr.instance}saveUserPreference(t,n){try{const r=this.getUserPreferences();r[t]={styleId:n,appliedAt:new Date().toISOString()},localStorage.setItem(this.STORAGE_KEYS.USER_PREFERENCES,JSON.stringify(r)),this.addToRecentStyles(n)}catch(r){console.error("Failed to save user style preference:",r)}}getUserPreference(t){try{return this.getUserPreferences()[t]?.styleId||null}catch(n){return console.error("Failed to get user style preference:",n),null}}getRecentStyles(t=10){try{const n=localStorage.getItem(this.STORAGE_KEYS.RECENT_STYLES);return n?JSON.parse(n).slice(0,t):[]}catch(n){return console.error("Failed to get recent styles:",n),[]}}clearPreferences(){try{localStorage.removeItem(this.STORAGE_KEYS.USER_PREFERENCES),localStorage.removeItem(this.STORAGE_KEYS.RECENT_STYLES)}catch(t){console.error("Failed to clear style preferences:",t)}}setDefaultStyle(t){try{localStorage.setItem(this.STORAGE_KEYS.DEFAULT_STYLE,t)}catch(n){console.error("Failed to set default style:",n)}}getDefaultStyle(){try{return localStorage.getItem(this.STORAGE_KEYS.DEFAULT_STYLE)}catch(t){return console.error("Failed to get default style:",t),null}}getUserPreferences(){try{const t=localStorage.getItem(this.STORAGE_KEYS.USER_PREFERENCES);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to parse user preferences:",t),{}}}addToRecentStyles(t){try{const r=this.getRecentStyles().filter(a=>a!==t),o=[t,...r].slice(0,10);localStorage.setItem(this.STORAGE_KEYS.RECENT_STYLES,JSON.stringify(o))}catch(n){console.error("Failed to update recent styles:",n)}}getStyleUsageStats(){try{const t=this.getUserPreferences(),n={};return Object.values(t).forEach(({styleId:r})=>{n[r]=(n[r]||0)+1}),n}catch(t){return console.error("Failed to get style usage stats:",t),{}}}getMostUsedStyles(t=5){try{const n=this.getStyleUsageStats();return Object.entries(n).sort(([,r],[,o])=>o-r).slice(0,t).map(([r])=>r)}catch(n){return console.error("Failed to get most used styles:",n),[]}}}const Xu=lr.getInstance(),wv=()=>{const e=[X2,dv,tv,yv,rv,bv,mv,J2,iv,av,lv,hv];e.forEach(t=>{yi.register(t)}),console.log(`Registered ${e.length} card style presets`)};wv();const Cv=({isOpen:e,onClose:t,context:n})=>{const[r,o]=g.useState(null),[a,u]=g.useState([]);g.useEffect(()=>{const h=vv();console.log("Loaded style presets:",h.length,h),u(h);const p=Xu.getUserPreference(n.targetCardId);p&&o(p)},[n.targetCardId]);const l=h=>{const p=yi.getById(h);p&&(o(h),n.onStyleApply(p.style),Xu.saveUserPreference(n.targetCardId,h))},d=()=>{o(null),t()};return e?i.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.1)",backdropFilter:"blur(2px)"},children:[i.jsx("div",{className:"absolute inset-0",onClick:d}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl border border-gray-200 p-6 w-full max-w-md sm:max-w-2xl lg:max-w-4xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Card Styles"}),i.jsx("button",{onClick:d,className:"p-1 rounded-lg hover:bg-gray-100 transition-colors",children:i.jsx(Xn,{className:"w-5 h-5 text-gray-500"})})]}),i.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3 mb-6",style:{minHeight:"300px",maxHeight:"70vh",overflowY:"auto"},children:a.map(h=>{const p=h.previewComponent;return console.log("Rendering preset:",h.id,h.name,p),i.jsxs("div",{className:"relative",children:[i.jsx(p,{isSelected:r===h.id,onClick:()=>l(h.id),className:"w-full"}),i.jsxs("div",{className:"mt-2 text-center",children:[i.jsx("div",{className:"text-xs font-medium text-gray-700 truncate",children:h.name}),i.jsx("div",{className:"text-xs text-gray-500 capitalize",children:h.category})]})]},h.id)})}),i.jsxs("div",{className:"text-xs text-gray-400 text-center mb-2",children:["Loaded ",a.length," presets"]}),i.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Click any style to apply it instantly to your card"})]})]}):null},Kd=g.createContext(void 0),_v=()=>{const e=g.useContext(Kd);if(!e)throw new Error("useStylePanel must be used within a StylePanelProvider");return e},kv=({children:e})=>{const[t,n]=g.useState({isOpen:!1,context:null}),r=u=>{n({isOpen:!0,context:u})},o=()=>{n({isOpen:!1,context:null})},a={openStylePanel:r,closeStylePanel:o,isOpen:t.isOpen};return i.jsxs(Kd.Provider,{value:a,children:[e,typeof window<"u"&&t.isOpen&&t.context&&vr.createPortal(i.jsx(Cv,{isOpen:t.isOpen,onClose:o,context:t.context}),document.body)]})},Hd=g.createContext(void 0);function Sv({children:e}){const[t,n]=g.useState(!1),[r,o]=g.useState(null),[a,u]=g.useState([]),[l,d]=g.useState(null),x={isOpen:t,currentCardId:r,currentCardTags:a,onTagsChange:l,openTagPanel:C=>{o(C.targetCardId),u(C.currentTags),d(()=>C.onTagsApply),n(!0)},closeTagPanel:()=>{n(!1),o(null),u([]),d(null)}};return i.jsx(Hd.Provider,{value:x,children:e})}function Vd(){const e=g.useContext(Hd);if(e===void 0)throw new Error("useTagPanel must be used within a TagPanelProvider");return e}const kt=g.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));kt.displayName="Input";function oo(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ev(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var vi="ScrollArea",[Wd,M_]=an(vi),[jv,qt]=Wd(vi),Gd=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:a=600,...u}=e,[l,d]=g.useState(null),[h,p]=g.useState(null),[x,C]=g.useState(null),[y,w]=g.useState(null),[k,D]=g.useState(null),[S,_]=g.useState(0),[j,E]=g.useState(0),[M,F]=g.useState(!1),[K,Y]=g.useState(!1),te=We(t,G=>d(G)),he=uo(o);return i.jsx(jv,{scope:n,type:r,dir:he,scrollHideDelay:a,scrollArea:l,viewport:h,onViewportChange:p,content:x,onContentChange:C,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:M,onScrollbarXEnabledChange:F,scrollbarY:k,onScrollbarYChange:D,scrollbarYEnabled:K,onScrollbarYEnabledChange:Y,onCornerWidthChange:_,onCornerHeightChange:E,children:i.jsx(qe.div,{dir:he,...u,ref:te,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});Gd.displayName=vi;var Yd="ScrollAreaViewport",Zd=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...a}=e,u=qt(Yd,n),l=g.useRef(null),d=We(t,l,u.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Zd.displayName=Yd;var cn="ScrollAreaScrollbar",wi=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=qt(cn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:u}=o,l=e.orientation==="horizontal";return g.useEffect(()=>(l?a(!0):u(!0),()=>{l?a(!1):u(!1)}),[l,a,u]),o.type==="hover"?i.jsx(Av,{...r,ref:t,forceMount:n}):o.type==="scroll"?i.jsx(Dv,{...r,ref:t,forceMount:n}):o.type==="auto"?i.jsx(Xd,{...r,ref:t,forceMount:n}):o.type==="always"?i.jsx(Ci,{...r,ref:t}):null});wi.displayName=cn;var Av=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=qt(cn,e.__scopeScrollArea),[a,u]=g.useState(!1);return g.useEffect(()=>{const l=o.scrollArea;let d=0;if(l){const h=()=>{window.clearTimeout(d),u(!0)},p=()=>{d=window.setTimeout(()=>u(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",h),l.addEventListener("pointerleave",p),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",h),l.removeEventListener("pointerleave",p)}}},[o.scrollArea,o.scrollHideDelay]),i.jsx(Ln,{present:n||a,children:i.jsx(Xd,{"data-state":a?"visible":"hidden",...r,ref:t})})}),Dv=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=qt(cn,e.__scopeScrollArea),a=e.orientation==="horizontal",u=ba(()=>d("SCROLL_END"),100),[l,d]=Ev("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const h=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(h)}},[l,o.scrollHideDelay,d]),g.useEffect(()=>{const h=o.viewport,p=a?"scrollLeft":"scrollTop";if(h){let x=h[p];const C=()=>{const y=h[p];x!==y&&(d("SCROLL"),u()),x=y};return h.addEventListener("scroll",C),()=>h.removeEventListener("scroll",C)}},[o.viewport,a,d,u]),i.jsx(Ln,{present:n||l!=="hidden",children:i.jsx(Ci,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:me(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:me(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Xd=g.forwardRef((e,t)=>{const n=qt(cn,e.__scopeScrollArea),{forceMount:r,...o}=e,[a,u]=g.useState(!1),l=e.orientation==="horizontal",d=ba(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;u(l?h:p)}},10);return xr(n.viewport,d),xr(n.content,d),i.jsx(Ln,{present:r||a,children:i.jsx(Ci,{"data-state":a?"visible":"hidden",...o,ref:t})})}),Ci=g.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=qt(cn,e.__scopeScrollArea),a=g.useRef(null),u=g.useRef(0),[l,d]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=nf(l.viewport,l.content),p={...r,sizes:l,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:C=>a.current=C,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:C=>u.current=C};function x(C,y){return Rv(C,u.current,l,y)}return n==="horizontal"?i.jsx(Nv,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const C=o.viewport.scrollLeft,y=Qu(C,l,o.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:C=>{o.viewport&&(o.viewport.scrollLeft=C)},onDragScroll:C=>{o.viewport&&(o.viewport.scrollLeft=x(C,o.dir))}}):n==="vertical"?i.jsx(Tv,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const C=o.viewport.scrollTop,y=Qu(C,l);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:C=>{o.viewport&&(o.viewport.scrollTop=C)},onDragScroll:C=>{o.viewport&&(o.viewport.scrollTop=x(C))}}):null}),Nv=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,a=qt(cn,e.__scopeScrollArea),[u,l]=g.useState(),d=g.useRef(null),h=We(t,d,a.onScrollbarXChange);return g.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),i.jsx(Jd,{"data-orientation":"horizontal",...o,ref:h,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ga(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,x)=>{if(a.viewport){const C=a.viewport.scrollLeft+p.deltaX;e.onWheelScroll(C),of(C,x)&&p.preventDefault()}},onResize:()=>{d.current&&a.viewport&&u&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:na(u.paddingLeft),paddingEnd:na(u.paddingRight)}})}})}),Tv=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,a=qt(cn,e.__scopeScrollArea),[u,l]=g.useState(),d=g.useRef(null),h=We(t,d,a.onScrollbarYChange);return g.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),i.jsx(Jd,{"data-orientation":"vertical",...o,ref:h,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ga(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,x)=>{if(a.viewport){const C=a.viewport.scrollTop+p.deltaY;e.onWheelScroll(C),of(C,x)&&p.preventDefault()}},onResize:()=>{d.current&&a.viewport&&u&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:na(u.paddingTop),paddingEnd:na(u.paddingBottom)}})}})}),[Mv,Qd]=Wd(cn),Jd=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:a,onThumbPointerUp:u,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:p,onResize:x,...C}=e,y=qt(cn,n),[w,k]=g.useState(null),D=We(t,te=>k(te)),S=g.useRef(null),_=g.useRef(""),j=y.viewport,E=r.content-r.viewport,M=Mt(p),F=Mt(d),K=ba(x,10);function Y(te){if(S.current){const he=te.clientX-S.current.left,G=te.clientY-S.current.top;h({x:he,y:G})}}return g.useEffect(()=>{const te=he=>{const G=he.target;w?.contains(G)&&M(he,E)};return document.addEventListener("wheel",te,{passive:!1}),()=>document.removeEventListener("wheel",te,{passive:!1})},[j,w,E,M]),g.useEffect(F,[r,F]),xr(w,K),xr(y.content,K),i.jsx(Mv,{scope:n,scrollbar:w,hasThumb:o,onThumbChange:Mt(a),onThumbPointerUp:Mt(u),onThumbPositionChange:F,onThumbPointerDown:Mt(l),children:i.jsx(qe.div,{...C,ref:D,style:{position:"absolute",...C.style},onPointerDown:me(e.onPointerDown,te=>{te.button===0&&(te.target.setPointerCapture(te.pointerId),S.current=w.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),Y(te))}),onPointerMove:me(e.onPointerMove,Y),onPointerUp:me(e.onPointerUp,te=>{const he=te.target;he.hasPointerCapture(te.pointerId)&&he.releasePointerCapture(te.pointerId),document.body.style.webkitUserSelect=_.current,y.viewport&&(y.viewport.style.scrollBehavior=""),S.current=null})})})}),ta="ScrollAreaThumb",ef=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Qd(ta,e.__scopeScrollArea);return i.jsx(Ln,{present:n||o.hasThumb,children:i.jsx(Pv,{ref:t,...r})})}),Pv=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,a=qt(ta,n),u=Qd(ta,n),{onThumbPositionChange:l}=u,d=We(t,x=>u.onThumbChange(x)),h=g.useRef(void 0),p=ba(()=>{h.current&&(h.current(),h.current=void 0)},100);return g.useEffect(()=>{const x=a.viewport;if(x){const C=()=>{if(p(),!h.current){const y=Fv(x,l);h.current=y,l()}};return l(),x.addEventListener("scroll",C),()=>x.removeEventListener("scroll",C)}},[a.viewport,p,l]),i.jsx(qe.div,{"data-state":u.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:me(e.onPointerDownCapture,x=>{const y=x.target.getBoundingClientRect(),w=x.clientX-y.left,k=x.clientY-y.top;u.onThumbPointerDown({x:w,y:k})}),onPointerUp:me(e.onPointerUp,u.onThumbPointerUp)})});ef.displayName=ta;var _i="ScrollAreaCorner",tf=g.forwardRef((e,t)=>{const n=qt(_i,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(Iv,{...e,ref:t}):null});tf.displayName=_i;var Iv=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=qt(_i,n),[a,u]=g.useState(0),[l,d]=g.useState(0),h=!!(a&&l);return xr(o.scrollbarX,()=>{const p=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(p),d(p)}),xr(o.scrollbarY,()=>{const p=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(p),u(p)}),h?i.jsx(qe.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function na(e){return e?parseInt(e,10):0}function nf(e,t){const n=e/t;return isNaN(n)?0:n}function ga(e){const t=nf(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Rv(e,t,n,r="ltr"){const o=ga(n),a=o/2,u=t||a,l=o-u,d=n.scrollbar.paddingStart+u,h=n.scrollbar.size-n.scrollbar.paddingEnd-l,p=n.content-n.viewport,x=r==="ltr"?[0,p]:[p*-1,0];return rf([d,h],x)(e)}function Qu(e,t,n="ltr"){const r=ga(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,u=t.content-t.viewport,l=a-r,d=n==="ltr"?[0,u]:[u*-1,0],h=oo(e,d);return rf([0,u],[0,l])(h)}function rf(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function of(e,t){return e>0&&e<t}var Fv=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},u=n.left!==a.left,l=n.top!==a.top;(u||l)&&t(),n=a,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function ba(e,t){const n=Mt(e),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function xr(e,t){const n=Mt(t);Gt(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var af=Gd,Ov=Zd,Lv=tf;const sf=g.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(af,{ref:r,className:oe("relative overflow-hidden",e),...n,children:[i.jsx(Ov,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(uf,{}),i.jsx(Lv,{})]}));sf.displayName=af.displayName;const uf=g.forwardRef(({className:e,orientation:t="vertical",...n},r)=>i.jsx(wi,{ref:r,orientation:t,className:oe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(ef,{className:"relative flex-1 rounded-full bg-border"})}));uf.displayName=wi.displayName;const zv=Xs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pt({className:e,variant:t,...n}){return i.jsx("div",{className:oe(zv({variant:t}),e),...n})}const Yn=kl,Bv=_l,lf=g.forwardRef(({className:e,...t},n)=>i.jsx(Ks,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lf.displayName=Ks.displayName;const Fn=g.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(Bv,{children:[i.jsx(lf,{}),i.jsxs(Hs,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(Vs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Xn,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fn.displayName=Hs.displayName;const kr=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});kr.displayName="DialogHeader";const Sr=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Sr.displayName="DialogFooter";const Er=g.forwardRef(({className:e,...t},n)=>i.jsx(Ws,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));Er.displayName=Ws.displayName;const xa=g.forwardRef(({className:e,...t},n)=>i.jsx(Gs,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));xa.displayName=Gs.displayName;function $v({isOpen:e,onClose:t,currentCardId:n,currentFolderId:r,onFolderSelect:o}){const{folders:a,getFolderById:u}=Tl(),[l,d]=g.useState(""),[h,p]=g.useState(r);g.useEffect(()=>{e&&(p(r),d(""))},[e,r]);const x=a.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())),C=r?u(r):null,y=S=>{p(S)},w=()=>{o&&o(h),t()},k=()=>{p(r),t()},D=h!==r;return i.jsx(Yn,{open:e,onOpenChange:t,children:i.jsxs(Fn,{className:"sm:max-w-md",children:[i.jsx(kr,{children:i.jsxs(Er,{className:"flex items-center gap-2",children:[i.jsx(Pn,{className:"h-5 w-5"}),"Move Card to Folder"]})}),i.jsxs("div",{className:"space-y-4",children:[C&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i.jsx(Hl,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Currently in:"}),i.jsx(Pt,{variant:"secondary",children:C.name})]}),!C&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i.jsx(wu,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Currently in: Root"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{placeholder:"Search folders...",value:l,onChange:S=>d(S.target.value),className:"pl-10"})]}),i.jsx(sf,{className:"h-64 w-full border rounded-md",children:i.jsxs("div",{className:"p-2 space-y-1",children:[i.jsxs("div",{className:oe("flex items-center gap-3 p-2 rounded-md cursor-pointer transition-colors",h===null?"bg-primary text-primary-foreground":"hover:bg-muted"),onClick:()=>y(null),children:[i.jsx(wu,{className:"h-4 w-4 flex-shrink-0"}),i.jsx("span",{className:"flex-1",children:"Root"}),h===null&&i.jsx(In,{className:"h-4 w-4 flex-shrink-0"}),r===null&&i.jsx(Pt,{variant:"outline",className:"text-xs",children:"Current"})]}),x.map(S=>i.jsxs("div",{className:oe("flex items-center gap-3 p-2 rounded-md cursor-pointer transition-colors",h===S.id?"bg-primary text-primary-foreground":"hover:bg-muted",r===S.id&&"opacity-60"),onClick:()=>y(S.id),children:[i.jsx(Pn,{className:"h-4 w-4 flex-shrink-0"}),i.jsx("span",{className:"flex-1",children:S.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pt,{variant:"outline",className:"text-xs",children:S.cardIds.length}),h===S.id&&i.jsx(In,{className:"h-4 w-4 flex-shrink-0"}),r===S.id&&i.jsx(Pt,{variant:"outline",className:"text-xs",children:"Current"})]})]},S.id)),x.length===0&&l&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Pn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No folders found"})]})]})})]}),i.jsxs(Sr,{children:[i.jsx(ke,{variant:"outline",onClick:k,children:"Cancel"}),i.jsx(ke,{onClick:w,disabled:!D,children:D?"Move Card":"No Change"})]})]})})}const cf=g.createContext(void 0);function qv({children:e}){const[t,n]=g.useState(!1),[r,o]=g.useState(null),[a,u]=g.useState(null),[l,d]=g.useState(null),h=C=>{o(C.targetCardId),u(C.currentFolderId||null),d(()=>C.onFolderApply),n(!0)},p=()=>{n(!1),o(null),u(null),d(null)},x={isOpen:t,currentCardId:r,currentFolderId:a,onFolderSelect:l,openFolderPanel:h,closeFolderPanel:p};return i.jsxs(cf.Provider,{value:x,children:[e,typeof window<"u"&&t&&r&&vr.createPortal(i.jsx($v,{isOpen:t,onClose:p,currentCardId:r,currentFolderId:a,onFolderSelect:l}),document.body)]})}function Uv(){const e=g.useContext(cf);if(e===void 0)throw new Error("useFolderPanel must be used within a FolderPanelProvider");return e}function Kv({card:e,onFlip:t,onUpdate:n,onCopy:r,onScreenshot:o,onShare:a,onDelete:u,onMoveToFolder:l,className:d,size:h="md"}){const{openStylePanel:p}=_v(),{openTagPanel:x}=Vd(),{openFolderPanel:C}=Uv(),y=(_,j)=>{n(_,{style:j,updatedAt:new Date})},w=()=>{p({targetCardId:e.id,currentStyle:e.style,onStyleApply:_=>y(e.id,_),onPanelClose:()=>{}})},k=(_,j)=>{const E=e.isFlipped?e.backContent:e.frontContent,M=e.isFlipped?"backContent":"frontContent";n(_,{[M]:{...E,tags:j,lastModified:new Date},updatedAt:new Date})},D=()=>{const _=e.isFlipped?e.backContent:e.frontContent;x({targetCardId:e.id,currentTags:_.tags,onTagsApply:j=>k(e.id,j),onPanelClose:()=>{}})},S=()=>{l&&C({targetCardId:e.id,currentFolderId:e.folderId,onFolderApply:_=>l(e.id,_),onPanelClose:()=>{}})};return i.jsx(G2,{card:e,onFlip:t,onUpdate:n,onCopy:r,onScreenshot:o,onShare:a,onDelete:u,onStyleChange:w,onTagsChange:D,onMoveToFolder:l?S:void 0,className:d,size:h})}function Hv({items:e,gap:t=16,minColumnWidth:n=280,maxColumns:r=5,breakpoints:o={sm:640,md:768,lg:1024,xl:1280,"2xl":1536}}){const a=g.useRef(null),[u,l]=g.useState(new Map),[d,h]=g.useState(0),[p,x]=g.useState({columns:1,gap:t,containerWidth:0}),C=g.useCallback(S=>{if(S===0)return 1;let _=r;S<o.sm?_=1:S<o.md?_=2:S<o.lg?_=3:S<o.xl&&(_=4);const j=S-t,E=Math.floor(j/(n+t));return Math.min(Math.max(1,E),_)},[t,n,r,o]),y=g.useCallback((S,_,j,E)=>{if(_===0||j===0)return{positions:new Map,totalHeight:0};const M=E*(_-1),F=j-M,K=Math.floor(F/_),Y=new Array(_).fill(0),te=new Map;S.forEach(G=>{const Z=Y.indexOf(Math.min(...Y)),je=Z*(K+E),Me=Y[Z];te.set(G.id,{x:je,y:Me,width:K,height:G.height}),Y[Z]+=G.height+E});const he=Math.max(...Y)-E;return{positions:te,totalHeight:he}},[]),w=g.useCallback(S=>{const _=S[0];if(!_)return;const j=_.contentRect.width,E=C(j);x(M=>({...M,columns:E,containerWidth:j}))},[C]);g.useEffect(()=>{const S=a.current;if(!S)return;const _=new ResizeObserver(j=>{w(j)});return _.observe(S),()=>{_.disconnect()}},[w]),g.useEffect(()=>{if(e.length===0||p.containerWidth===0){l(new Map),h(0);return}const{positions:S,totalHeight:_}=y(e,p.columns,p.containerWidth,t);l(S),h(_)},[e,p,t,y]);const k=g.useCallback(S=>u.get(S),[u]),D=g.useCallback((S,_)=>{const j=e.findIndex(K=>K.id===S);if(j===-1)return;const E=[...e];E[j]={...E[j],height:_};const{positions:M,totalHeight:F}=y(E,p.columns,p.containerWidth,t);l(M),h(F)},[e,p,t,y]);return{containerRef:a,positions:u,containerHeight:d,config:p,getItemPosition:k,updateItemHeight:D}}function Vv({cards:e,onCardFlip:t,onCardUpdate:n,onCardCopy:r,onCardScreenshot:o,onCardShare:a,onCardDelete:u,onMoveToFolder:l,onCardStyleChange:d,cardSize:h="md",className:p,gap:x=16,enableVirtualization:C=!0,overscan:y=5}){const[w,k]=g.useState(new Map),[D,S]=g.useState(!1),[_,j]=g.useState(0),[E,M]=g.useState(0),F=g.useRef(new Map),K=g.useRef(null),Y=g.useMemo(()=>[...e].sort((U,fe)=>new Date(fe.createdAt).getTime()-new Date(U.createdAt).getTime()),[e]),te=g.useCallback(U=>{const xe={sm:.8,md:1,lg:1.3}[h],Ce=200*xe,ve=Math.min(Math.ceil(U.frontContent.title.length/25),3)*24*xe,Ee=Math.min(Math.ceil(U.frontContent.text.length/40),8)*18*xe,Be=U.frontContent.images.length>0?120*xe:0,se=U.frontContent.tags.length>0?32*xe:0,X=32*xe;return Math.round(Ce+ve+Ee+Be+se+X)},[h]),he=g.useMemo(()=>Y.map(U=>({id:U.id,height:w.get(U.id)||te(U)})),[Y,w,te]),G=g.useMemo(()=>({sm:{minColumnWidth:240,maxColumns:5},md:{minColumnWidth:280,maxColumns:4},lg:{minColumnWidth:320,maxColumns:3}})[h],[h]),{containerRef:Z,positions:je,containerHeight:Me,updateItemHeight:Ne}=Hv({items:he,gap:x,...G,breakpoints:{sm:640,md:768,lg:1024,xl:1280,"2xl":1536}}),be=g.useMemo(()=>{if(!C||!K.current)return Y;const U=K.current.clientHeight,fe=_-y*100,xe=_+U+y*100;return Y.filter(Ce=>{const ve=je.get(Ce.id);return ve?ve.y+ve.height>=fe&&ve.y<=xe:!0})},[Y,je,_,C,y]);g.useCallback(U=>{C&&j(U.currentTarget.scrollTop)},[C]);const Ie=g.useCallback(U=>{const fe=F.current.get(U);if(!fe)return;const xe=new ResizeObserver(Ce=>{const ve=Ce[0];if(ve){const Ee=ve.contentRect.height,Be=w.get(U);Math.abs(Ee-(Be||0))>3&&(k(se=>{const X=new Map(se);return X.set(U,Ee),X}),Ne(U,Ee))}});return xe.observe(fe),()=>xe.disconnect()},[w,Ne]);g.useEffect(()=>{if(!D&&Y.length>0){const U=new Map;Y.forEach(fe=>{U.set(fe.id,te(fe))}),k(U),S(!0)}},[Y,te,D]),g.useEffect(()=>{const U=[];return be.forEach(fe=>{const xe=Ie(fe.id);xe&&U.push(xe)}),()=>{U.forEach(fe=>fe())}},[be,Ie]);const Ae=g.useCallback((U,fe)=>{fe?F.current.set(U,fe):F.current.delete(U)},[]);return g.useEffect(()=>{K.current&&M(K.current.clientHeight)},[]),Y.length===0?i.jsx("div",{className:"flex-1 flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-24 h-24 mx-auto rounded-full bg-muted flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-lg",children:"+"})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"No cards yet"}),i.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Create your first knowledge card to get started. Click the + button to begin."})]})]})}):i.jsx("div",{ref:Z,className:oe("relative w-full",p),style:{height:Me},children:be.map(U=>{const fe=je.get(U.id);return fe?i.jsx("div",{ref:xe=>Ae(U.id,xe),className:"absolute transition-all duration-300 ease-out",style:{transform:`translate3d(${fe.x}px, ${fe.y}px, 0)`,width:fe.width,willChange:"transform"},children:i.jsx(Kv,{card:U,onFlip:t,onUpdate:n,onCopy:r,onScreenshot:o,onShare:a,onDelete:u,onMoveToFolder:l,size:h,className:"w-full"})},U.id):null})})}function df(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ff=["PageUp","PageDown"],hf=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],pf={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},jr="Slider",[Is,Wv,Gv]=sa(jr),[mf,P_]=an(jr,[Gv]),[Yv,ya]=mf(jr),gf=g.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:a=1,orientation:u="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[r],value:p,onValueChange:x=()=>{},onValueCommit:C=()=>{},inverted:y=!1,form:w,...k}=e,D=g.useRef(new Set),S=g.useRef(0),j=u==="horizontal"?Zv:Xv,[E=[],M]=Xr({prop:p,defaultProp:h,onChange:G=>{[...D.current][S.current]?.focus(),x(G)}}),F=g.useRef(E);function K(G){const Z=nw(E,G);he(G,Z)}function Y(G){he(G,S.current)}function te(){const G=F.current[S.current];E[S.current]!==G&&C(E)}function he(G,Z,{commit:je}={commit:!1}){const Me=sw(a),Ne=iw(Math.round((G-r)/a)*a+r,Me),be=oo(Ne,[r,o]);M((Ie=[])=>{const Ae=ew(Ie,be,Z);if(aw(Ae,d*a)){S.current=Ae.indexOf(be);const U=String(Ae)!==String(Ie);return U&&je&&C(Ae),U?Ae:Ie}else return Ie})}return i.jsx(Yv,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:o,valueIndexToChangeRef:S,thumbs:D.current,values:E,orientation:u,form:w,children:i.jsx(Is.Provider,{scope:e.__scopeSlider,children:i.jsx(Is.Slot,{scope:e.__scopeSlider,children:i.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...k,ref:t,onPointerDown:me(k.onPointerDown,()=>{l||(F.current=E)}),min:r,max:o,inverted:y,onSlideStart:l?void 0:K,onSlideMove:l?void 0:Y,onSlideEnd:l?void 0:te,onHomeKeyDown:()=>!l&&he(r,0,{commit:!0}),onEndKeyDown:()=>!l&&he(o,E.length-1,{commit:!0}),onStepKeyDown:({event:G,direction:Z})=>{if(!l){const Ne=ff.includes(G.key)||G.shiftKey&&hf.includes(G.key)?10:1,be=S.current,Ie=E[be],Ae=a*Ne*Z;he(Ie+Ae,be,{commit:!0})}}})})})})});gf.displayName=jr;var[bf,xf]=mf(jr,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Zv=g.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:a,onSlideStart:u,onSlideMove:l,onSlideEnd:d,onStepKeyDown:h,...p}=e,[x,C]=g.useState(null),y=We(t,j=>C(j)),w=g.useRef(void 0),k=uo(o),D=k==="ltr",S=D&&!a||!D&&a;function _(j){const E=w.current||x.getBoundingClientRect(),M=[0,E.width],K=ki(M,S?[n,r]:[r,n]);return w.current=E,K(j-E.left)}return i.jsx(bf,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:i.jsx(yf,{dir:k,"data-orientation":"horizontal",...p,ref:y,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const E=_(j.clientX);u?.(E)},onSlideMove:j=>{const E=_(j.clientX);l?.(E)},onSlideEnd:()=>{w.current=void 0,d?.()},onStepKeyDown:j=>{const M=pf[S?"from-left":"from-right"].includes(j.key);h?.({event:j,direction:M?-1:1})}})})}),Xv=g.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:a,onSlideMove:u,onSlideEnd:l,onStepKeyDown:d,...h}=e,p=g.useRef(null),x=We(t,p),C=g.useRef(void 0),y=!o;function w(k){const D=C.current||p.current.getBoundingClientRect(),S=[0,D.height],j=ki(S,y?[r,n]:[n,r]);return C.current=D,j(k-D.top)}return i.jsx(bf,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:i.jsx(yf,{"data-orientation":"vertical",...h,ref:x,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:k=>{const D=w(k.clientY);a?.(D)},onSlideMove:k=>{const D=w(k.clientY);u?.(D)},onSlideEnd:()=>{C.current=void 0,l?.()},onStepKeyDown:k=>{const S=pf[y?"from-bottom":"from-top"].includes(k.key);d?.({event:k,direction:S?-1:1})}})})}),yf=g.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:a,onHomeKeyDown:u,onEndKeyDown:l,onStepKeyDown:d,...h}=e,p=ya(jr,n);return i.jsx(qe.span,{...h,ref:t,onKeyDown:me(e.onKeyDown,x=>{x.key==="Home"?(u(x),x.preventDefault()):x.key==="End"?(l(x),x.preventDefault()):ff.concat(hf).includes(x.key)&&(d(x),x.preventDefault())}),onPointerDown:me(e.onPointerDown,x=>{const C=x.target;C.setPointerCapture(x.pointerId),x.preventDefault(),p.thumbs.has(C)?C.focus():r(x)}),onPointerMove:me(e.onPointerMove,x=>{x.target.hasPointerCapture(x.pointerId)&&o(x)}),onPointerUp:me(e.onPointerUp,x=>{const C=x.target;C.hasPointerCapture(x.pointerId)&&(C.releasePointerCapture(x.pointerId),a(x))})})}),vf="SliderTrack",wf=g.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=ya(vf,n);return i.jsx(qe.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});wf.displayName=vf;var Rs="SliderRange",Cf=g.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=ya(Rs,n),a=xf(Rs,n),u=g.useRef(null),l=We(t,u),d=o.values.length,h=o.values.map(C=>kf(C,o.min,o.max)),p=d>1?Math.min(...h):0,x=100-Math.max(...h);return i.jsx(qe.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:p+"%",[a.endEdge]:x+"%"}})});Cf.displayName=Rs;var Fs="SliderThumb",_f=g.forwardRef((e,t)=>{const n=Wv(e.__scopeSlider),[r,o]=g.useState(null),a=We(t,l=>o(l)),u=g.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return i.jsx(Qv,{...e,ref:a,index:u})}),Qv=g.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...a}=e,u=ya(Fs,n),l=xf(Fs,n),[d,h]=g.useState(null),p=We(t,_=>h(_)),x=d?u.form||!!d.closest("form"):!0,C=_p(d),y=u.values[r],w=y===void 0?0:kf(y,u.min,u.max),k=tw(r,u.values.length),D=C?.[l.size],S=D?rw(D,w,l.direction):0;return g.useEffect(()=>{if(d)return u.thumbs.add(d),()=>{u.thumbs.delete(d)}},[d,u.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${S}px)`},children:[i.jsx(Is.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(qe.span,{role:"slider","aria-label":e["aria-label"]||k,"aria-valuemin":u.min,"aria-valuenow":y,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...a,ref:p,style:y===void 0?{display:"none"}:e.style,onFocus:me(e.onFocus,()=>{u.valueIndexToChangeRef.current=r})})}),x&&i.jsx(Jv,{name:o??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:y},r)]})});_f.displayName=Fs;var Jv=e=>{const{value:t,...n}=e,r=g.useRef(null),o=df(t);return g.useEffect(()=>{const a=r.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==t&&d){const h=new Event("input",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[o,t]),i.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function ew(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,a)=>o-a)}function kf(e,t,n){const a=100/(n-t)*(e-t);return oo(a,[0,100])}function tw(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function nw(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function rw(e,t,n){const r=e/2,a=ki([0,50],[0,r]);return(r-a(t)*n)*n}function ow(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function aw(e,t){if(t>0){const n=ow(e);return Math.min(...n)>=t}return!0}function ki(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function sw(e){return(String(e).split(".")[1]||"").length}function iw(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Sf=gf,uw=wf,lw=Cf,cw=_f;const Ef=g.forwardRef(({className:e,...t},n)=>i.jsxs(Sf,{ref:n,className:oe("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(uw,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(lw,{className:"absolute h-full bg-primary"})}),i.jsx(cw,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ef.displayName=Sf.displayName;var dw="Label",jf=g.forwardRef((e,t)=>i.jsx(qe.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jf.displayName=dw;var Af=jf;const fw=Xs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),St=g.forwardRef(({className:e,...t},n)=>i.jsx(Af,{ref:n,className:oe(fw(),e),...t}));St.displayName=Af.displayName;var hw="Separator",Ju="horizontal",pw=["horizontal","vertical"],Df=g.forwardRef((e,t)=>{const{decorative:n,orientation:r=Ju,...o}=e,a=mw(r)?r:Ju,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(qe.div,{"data-orientation":a,...l,...o,ref:t})});Df.displayName=hw;function mw(e){return pw.includes(e)}var Nf=Df;const Hr=g.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>i.jsx(Nf,{ref:o,decorative:n,orientation:t,className:oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Hr.displayName=Nf.displayName;const gw=Sp,bw=Ep,Tf=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>i.jsx(kp,{children:i.jsx(Sl,{ref:o,align:t,sideOffset:n,className:oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Tf.displayName=Sl.displayName;function el(e){if(!e)return"";try{const t=new DOMParser().parseFromString(e,"text/html");t.querySelectorAll("img").forEach(u=>u.remove()),t.querySelectorAll("br").forEach(u=>{u.replaceWith(`
`)}),t.querySelectorAll("p, div, h1, h2, h3, h4, h5, h6, li, blockquote").forEach(u=>{u.insertAdjacentText("afterend",`
`)});let a=t.body.textContent||t.body.innerText||"";return a=a.replace(/[ \t]+/g," ").replace(/[ \t]*\n[ \t]*/g,`
`).replace(/\n{3,}/g,`

`).trim(),a}catch(t){return console.warn("Failed to parse HTML, falling back to regex cleanup:",t),e.replace(/<img[^>]*>/gi,"").replace(/<br\s*\/?>/gi,`
`).replace(/<\/?(p|div|h[1-6]|li|blockquote)[^>]*>/gi,`
`).replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/[ \t]+/g," ").replace(/[ \t]*\n[ \t]*/g,`
`).replace(/\n{3,}/g,`

`).trim()}}function xw(e,t){const n=el(e),r=el(t);return`${n}

${r}`}async function yw(e){try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(e),!0;{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();const n=document.execCommand("copy");return document.body.removeChild(t),n}}catch(t){return console.error("Failed to copy text to clipboard:",t),!1}}function vw(e,t){return e[13]=1,e[14]=t>>8,e[15]=t&255,e[16]=t>>8,e[17]=t&255,e}const Mf=112,Pf=72,If=89,Rf=115;let bs;function ww(){const e=new Int32Array(256);for(let t=0;t<256;t++){let n=t;for(let r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e}function Cw(e){let t=-1;bs||(bs=ww());for(let n=0;n<e.length;n++)t=bs[(t^e[n])&255]^t>>>8;return t^-1}function _w(e){const t=e.length-1;for(let n=t;n>=4;n--)if(e[n-4]===9&&e[n-3]===Mf&&e[n-2]===Pf&&e[n-1]===If&&e[n]===Rf)return n-3;return 0}function kw(e,t,n=!1){const r=new Uint8Array(13);t*=39.3701,r[0]=Mf,r[1]=Pf,r[2]=If,r[3]=Rf,r[4]=t>>>24,r[5]=t>>>16,r[6]=t>>>8,r[7]=t&255,r[8]=r[4],r[9]=r[5],r[10]=r[6],r[11]=r[7],r[12]=1;const o=Cw(r),a=new Uint8Array(4);if(a[0]=o>>>24,a[1]=o>>>16,a[2]=o>>>8,a[3]=o&255,n){const u=_w(e);return e.set(r,u),e.set(a,u+13),e}else{const u=new Uint8Array(4);u[0]=0,u[1]=0,u[2]=0,u[3]=9;const l=new Uint8Array(54);return l.set(e,0),l.set(u,33),l.set(r,37),l.set(a,50),l}}const Sw="AAlwSFlz",Ew="AAAJcEhZ",jw="AAAACXBI";function Aw(e){let t=e.indexOf(Sw);return t===-1&&(t=e.indexOf(Ew)),t===-1&&(t=e.indexOf(jw)),t}const Ff="[modern-screenshot]",On=typeof window<"u",Dw=On&&"Worker"in window,Nw=On&&"atob"in window,Tw=On&&"btoa"in window,Si=On?window.navigator?.userAgent:"",Of=Si.includes("Chrome"),ra=Si.includes("AppleWebKit")&&!Of,Ei=Si.includes("Firefox"),Mw=e=>e&&"__CONTEXT__"in e,Pw=e=>e.constructor.name==="CSSFontFaceRule",Iw=e=>e.constructor.name==="CSSImportRule",on=e=>e.nodeType===1,mo=e=>typeof e.className=="object",Lf=e=>e.tagName==="image",Rw=e=>e.tagName==="use",ao=e=>on(e)&&typeof e.style<"u"&&!mo(e),Fw=e=>e.nodeType===8,Ow=e=>e.nodeType===3,yr=e=>e.tagName==="IMG",va=e=>e.tagName==="VIDEO",Lw=e=>e.tagName==="CANVAS",zw=e=>e.tagName==="TEXTAREA",Bw=e=>e.tagName==="INPUT",$w=e=>e.tagName==="STYLE",qw=e=>e.tagName==="SCRIPT",Uw=e=>e.tagName==="SELECT",Kw=e=>e.tagName==="SLOT",Hw=e=>e.tagName==="IFRAME",Vw=(...e)=>console.warn(Ff,...e);function Ww(e){const t=e?.createElement?.("canvas");return t&&(t.height=t.width=1),!!t&&"toDataURL"in t&&!!t.toDataURL("image/webp").includes("image/webp")}const Os=e=>e.startsWith("data:");function zf(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(On&&e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i)||!On)return e;const n=wa().implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}function wa(e){return(e&&on(e)?e?.ownerDocument:e)??window.document}const Ca="http://www.w3.org/2000/svg";function Gw(e,t,n){const r=wa(n).createElementNS(Ca,"svg");return r.setAttributeNS(null,"width",e.toString()),r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"viewBox",`0 0 ${e} ${t}`),r}function Yw(e,t){let n=new XMLSerializer().serializeToString(e);return t&&(n=n.replace(/[\u0000-\u0008\v\f\u000E-\u001F\uD800-\uDFFF\uFFFE\uFFFF]/gu,"")),`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}function Zw(e,t){return new Promise((n,r)=>{const o=new FileReader;o.onload=()=>n(o.result),o.onerror=()=>r(o.error),o.onabort=()=>r(new Error(`Failed read blob to ${t}`)),o.readAsDataURL(e)})}const Xw=e=>Zw(e,"dataUrl");function fr(e,t){const n=wa(t).createElement("img");return n.decoding="sync",n.loading="eager",n.src=e,n}function so(e,t){return new Promise(n=>{const{timeout:r,ownerDocument:o,onError:a,onWarn:u}=t??{},l=typeof e=="string"?fr(e,wa(o)):e;let d=null,h=null;function p(){n(l),d&&clearTimeout(d),h?.()}if(r&&(d=setTimeout(p,r)),va(l)){const x=l.currentSrc||l.src;if(!x)return l.poster?so(l.poster,t).then(n):p();if(l.readyState>=2)return p();const C=p,y=w=>{u?.("Failed video load",x,w),a?.(w),p()};h=()=>{l.removeEventListener("loadeddata",C),l.removeEventListener("error",y)},l.addEventListener("loadeddata",C,{once:!0}),l.addEventListener("error",y,{once:!0})}else{const x=Lf(l)?l.href.baseVal:l.currentSrc||l.src;if(!x)return p();const C=async()=>{if(yr(l)&&"decode"in l)try{await l.decode()}catch(w){u?.("Failed to decode image, trying to render anyway",l.dataset.originalSrc||x,w)}p()},y=w=>{u?.("Failed image load",l.dataset.originalSrc||x,w),p()};if(yr(l)&&l.complete)return C();h=()=>{l.removeEventListener("load",C),l.removeEventListener("error",y)},l.addEventListener("load",C,{once:!0}),l.addEventListener("error",y,{once:!0})}})}async function Qw(e,t){ao(e)&&(yr(e)||va(e)?await so(e,t):await Promise.all(["img","video"].flatMap(n=>Array.from(e.querySelectorAll(n)).map(r=>so(r,t)))))}const Bf=function(){let t=0;const n=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${n()}${t}`)}();function $f(e){return e?.split(",").map(t=>t.trim().replace(/"|'/g,"").toLowerCase()).filter(Boolean)}let tl=0;function Jw(e){const t=`${Ff}[#${tl}]`;return tl++,{time:n=>e&&console.time(`${t} ${n}`),timeEnd:n=>e&&console.timeEnd(`${t} ${n}`),warn:(...n)=>e&&Vw(...n)}}function e3(e){return{cache:e?"no-cache":"force-cache"}}async function _a(e,t){return Mw(e)?e:t3(e,{...t,autoDestruct:!0})}async function t3(e,t){const{scale:n=1,workerUrl:r,workerNumber:o=1}=t||{},a=!!t?.debug,u=t?.features??!0,l=e.ownerDocument??(On?window.document:void 0),d=e.ownerDocument?.defaultView??(On?window:void 0),h=new Map,p={width:0,height:0,quality:1,type:"image/png",scale:n,backgroundColor:null,style:null,filter:null,maximumCanvasSize:0,timeout:3e4,progress:null,debug:a,fetch:{requestInit:e3(t?.fetch?.bypassingCache),placeholderImage:"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bypassingCache:!1,...t?.fetch},fetchFn:null,font:{},drawImageInterval:100,workerUrl:null,workerNumber:o,onCloneEachNode:null,onCloneNode:null,onEmbedNode:null,onCreateForeignObjectSvg:null,includeStyleProperties:null,autoDestruct:!1,...t,__CONTEXT__:!0,log:Jw(a),node:e,ownerDocument:l,ownerWindow:d,dpi:n===1?null:96*n,svgStyleElement:qf(l),svgDefsElement:l?.createElementNS(Ca,"defs"),svgStyles:new Map,defaultComputedStyles:new Map,workers:[...Array.from({length:Dw&&r&&o?o:0})].map(()=>{try{const y=new Worker(r);return y.onmessage=async w=>{const{url:k,result:D}=w.data;D?h.get(k)?.resolve?.(D):h.get(k)?.reject?.(new Error(`Error receiving message from worker: ${k}`))},y.onmessageerror=w=>{const{url:k}=w.data;h.get(k)?.reject?.(new Error(`Error receiving message from worker: ${k}`))},y}catch(y){return p.log.warn("Failed to new Worker",y),null}}).filter(Boolean),fontFamilies:new Map,fontCssTexts:new Map,acceptOfImage:`${[Ww(l)&&"image/webp","image/svg+xml","image/*","*/*"].filter(Boolean).join(",")};q=0.8`,requests:h,drawImageCount:0,tasks:[],features:u,isEnable:y=>y==="restoreScrollPosition"?typeof u=="boolean"?!1:u[y]??!1:typeof u=="boolean"?u:u[y]??!0,shadowRoots:[]};p.log.time("wait until load"),await Qw(e,{timeout:p.timeout,onWarn:p.log.warn}),p.log.timeEnd("wait until load");const{width:x,height:C}=n3(e,p);return p.width=x,p.height=C,p}function qf(e){if(!e)return;const t=e.createElement("style"),n=t.ownerDocument.createTextNode(`
.______background-clip--text {
  background-clip: text;
  -webkit-background-clip: text;
}
`);return t.appendChild(n),t}function n3(e,t){let{width:n,height:r}=t;if(on(e)&&(!n||!r)){const o=e.getBoundingClientRect();n=n||o.width||Number(e.getAttribute("width"))||0,r=r||o.height||Number(e.getAttribute("height"))||0}return{width:n,height:r}}async function r3(e,t){const{log:n,timeout:r,drawImageCount:o,drawImageInterval:a}=t;n.time("image to canvas");const u=await so(e,{timeout:r,onWarn:t.log.warn}),{canvas:l,context2d:d}=o3(e.ownerDocument,t),h=()=>{try{d?.drawImage(u,0,0,l.width,l.height)}catch(p){t.log.warn("Failed to drawImage",p)}};if(h(),t.isEnable("fixSvgXmlDecode"))for(let p=0;p<o;p++)await new Promise(x=>{setTimeout(()=>{d?.clearRect(0,0,l.width,l.height),h(),x()},p+a)});return t.drawImageCount=0,n.timeEnd("image to canvas"),l}function o3(e,t){const{width:n,height:r,scale:o,backgroundColor:a,maximumCanvasSize:u}=t,l=e.createElement("canvas");l.width=Math.floor(n*o),l.height=Math.floor(r*o),l.style.width=`${n}px`,l.style.height=`${r}px`,u&&(l.width>u||l.height>u)&&(l.width>u&&l.height>u?l.width>l.height?(l.height*=u/l.width,l.width=u):(l.width*=u/l.height,l.height=u):l.width>u?(l.height*=u/l.width,l.width=u):(l.width*=u/l.height,l.height=u));const d=l.getContext("2d");return d&&a&&(d.fillStyle=a,d.fillRect(0,0,l.width,l.height)),{canvas:l,context2d:d}}function Uf(e,t){if(e.ownerDocument)try{const a=e.toDataURL();if(a!=="data:,")return fr(a,e.ownerDocument)}catch(a){t.log.warn("Failed to clone canvas",a)}const n=e.cloneNode(!1),r=e.getContext("2d"),o=n.getContext("2d");try{return r&&o&&o.putImageData(r.getImageData(0,0,e.width,e.height),0,0),n}catch(a){t.log.warn("Failed to clone canvas",a)}return n}function a3(e,t){try{if(e?.contentDocument?.body)return ji(e.contentDocument.body,t)}catch(n){t.log.warn("Failed to clone iframe",n)}return e.cloneNode(!1)}function s3(e){const t=e.cloneNode(!1);return e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager"),t}async function i3(e,t){if(e.ownerDocument&&!e.currentSrc&&e.poster)return fr(e.poster,e.ownerDocument);const n=e.cloneNode(!1);n.crossOrigin="anonymous",e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc);const r=n.ownerDocument;if(r){let o=!0;if(await so(n,{onError:()=>o=!1,onWarn:t.log.warn}),!o)return e.poster?fr(e.poster,e.ownerDocument):n;n.currentTime=e.currentTime,await new Promise(u=>{n.addEventListener("seeked",u,{once:!0})});const a=r.createElement("canvas");a.width=e.offsetWidth,a.height=e.offsetHeight;try{const u=a.getContext("2d");u&&u.drawImage(n,0,0,a.width,a.height)}catch(u){return t.log.warn("Failed to clone video",u),e.poster?fr(e.poster,e.ownerDocument):n}return Uf(a,t)}return n}function u3(e,t){return Lw(e)?Uf(e,t):Hw(e)?a3(e,t):yr(e)?s3(e):va(e)?i3(e,t):e.cloneNode(!1)}function l3(e){let t=e.sandbox;if(!t){const{ownerDocument:n}=e;try{n&&(t=n.createElement("iframe"),t.id=`__SANDBOX__${Bf()}`,t.width="0",t.height="0",t.style.visibility="hidden",t.style.position="fixed",n.body.appendChild(t),t.srcdoc='<!DOCTYPE html><meta charset="UTF-8"><title></title><body>',e.sandbox=t)}catch(r){e.log.warn("Failed to getSandBox",r)}}return t}const c3=["width","height","-webkit-text-fill-color"],d3=["stroke","fill"];function Kf(e,t,n){const{defaultComputedStyles:r}=n,o=e.nodeName.toLowerCase(),a=mo(e)&&o!=="svg",u=a?d3.map(k=>[k,e.getAttribute(k)]).filter(([,k])=>k!==null):[],l=[a&&"svg",o,u.map((k,D)=>`${k}=${D}`).join(","),t].filter(Boolean).join(":");if(r.has(l))return r.get(l);const h=l3(n)?.contentWindow;if(!h)return new Map;const p=h?.document;let x,C;a?(x=p.createElementNS(Ca,"svg"),C=x.ownerDocument.createElementNS(x.namespaceURI,o),u.forEach(([k,D])=>{C.setAttributeNS(null,k,D)}),x.appendChild(C)):x=C=p.createElement(o),C.textContent=" ",p.body.appendChild(x);const y=h.getComputedStyle(C,t),w=new Map;for(let k=y.length,D=0;D<k;D++){const S=y.item(D);c3.includes(S)||w.set(S,y.getPropertyValue(S))}return p.body.removeChild(x),r.set(l,w),w}function Hf(e,t,n){const r=new Map,o=[],a=new Map;if(n)for(const l of n)u(l);else for(let l=e.length,d=0;d<l;d++){const h=e.item(d);u(h)}for(let l=o.length,d=0;d<l;d++)a.get(o[d])?.forEach((h,p)=>r.set(p,h));function u(l){const d=e.getPropertyValue(l),h=e.getPropertyPriority(l),p=l.lastIndexOf("-"),x=p>-1?l.substring(0,p):void 0;if(x){let C=a.get(x);C||(C=new Map,a.set(x,C)),C.set(l,[d,h])}t.get(l)===d&&!h||(x?o.push(x):r.set(l,[d,h]))}return r}function f3(e,t,n,r){const{ownerWindow:o,includeStyleProperties:a,currentParentNodeStyle:u}=r,l=t.style,d=o.getComputedStyle(e),h=Kf(e,null,r);u?.forEach((x,C)=>{h.delete(C)});const p=Hf(d,h,a);p.delete("transition-property"),p.delete("all"),p.delete("d"),p.delete("content"),n&&(p.delete("margin-top"),p.delete("margin-right"),p.delete("margin-bottom"),p.delete("margin-left"),p.delete("margin-block-start"),p.delete("margin-block-end"),p.delete("margin-inline-start"),p.delete("margin-inline-end"),p.set("box-sizing",["border-box",""])),p.get("background-clip")?.[0]==="text"&&t.classList.add("______background-clip--text"),Of&&(p.has("font-kerning")||p.set("font-kerning",["normal",""]),(p.get("overflow-x")?.[0]==="hidden"||p.get("overflow-y")?.[0]==="hidden")&&p.get("text-overflow")?.[0]==="ellipsis"&&e.scrollWidth===e.clientWidth&&p.set("text-overflow",["clip",""]));for(let x=l.length,C=0;C<x;C++)l.removeProperty(l.item(C));return p.forEach(([x,C],y)=>{l.setProperty(y,x,C)}),p}function h3(e,t){(zw(e)||Bw(e)||Uw(e))&&t.setAttribute("value",e.value)}const p3=[":before",":after"],m3=[":-webkit-scrollbar",":-webkit-scrollbar-button",":-webkit-scrollbar-thumb",":-webkit-scrollbar-track",":-webkit-scrollbar-track-piece",":-webkit-scrollbar-corner",":-webkit-resizer"];function g3(e,t,n,r,o){const{ownerWindow:a,svgStyleElement:u,svgStyles:l,currentNodeStyle:d}=r;if(!u||!a)return;function h(p){const x=a.getComputedStyle(e,p);let C=x.getPropertyValue("content");if(!C||C==="none")return;o?.(C),C=C.replace(/(')|(")|(counter\(.+\))/g,"");const y=[Bf()],w=Kf(e,p,r);d?.forEach((j,E)=>{w.delete(E)});const k=Hf(x,w,r.includeStyleProperties);k.delete("content"),k.delete("-webkit-locale"),k.get("background-clip")?.[0]==="text"&&t.classList.add("______background-clip--text");const D=[`content: '${C}';`];if(k.forEach(([j,E],M)=>{D.push(`${M}: ${j}${E?" !important":""};`)}),D.length===1)return;try{t.className=[t.className,...y].join(" ")}catch(j){r.log.warn("Failed to copyPseudoClass",j);return}const S=D.join(`
  `);let _=l.get(S);_||(_=[],l.set(S,_)),_.push(`.${y[0]}:${p}`)}p3.forEach(h),n&&m3.forEach(h)}const nl=new Set(["symbol"]);async function rl(e,t,n,r,o){if(on(n)&&($w(n)||qw(n))||r.filter&&!r.filter(n))return;nl.has(t.nodeName)||nl.has(n.nodeName)?r.currentParentNodeStyle=void 0:r.currentParentNodeStyle=r.currentNodeStyle;const a=await ji(n,r,!1,o);r.isEnable("restoreScrollPosition")&&b3(e,a),t.appendChild(a)}async function ol(e,t,n,r){let o=e.firstChild;on(e)&&e.shadowRoot&&(o=e.shadowRoot?.firstChild,n.shadowRoots.push(e.shadowRoot));for(let a=o;a;a=a.nextSibling)if(!Fw(a))if(on(a)&&Kw(a)&&typeof a.assignedNodes=="function"){const u=a.assignedNodes();for(let l=0;l<u.length;l++)await rl(e,t,u[l],n,r)}else await rl(e,t,a,n,r)}function b3(e,t){if(!ao(e)||!ao(t))return;const{scrollTop:n,scrollLeft:r}=e;if(!n&&!r)return;const{transform:o}=t.style,a=new DOMMatrix(o),{a:u,b:l,c:d,d:h}=a;a.a=1,a.b=0,a.c=0,a.d=1,a.translateSelf(-r,-n),a.a=u,a.b=l,a.c=d,a.d=h,t.style.transform=a.toString()}function x3(e,t){const{backgroundColor:n,width:r,height:o,style:a}=t,u=e.style;if(n&&u.setProperty("background-color",n,"important"),r&&u.setProperty("width",`${r}px`,"important"),o&&u.setProperty("height",`${o}px`,"important"),a)for(const l in a)u[l]=a[l]}const y3=/^[\w-:]+$/;async function ji(e,t,n=!1,r){const{ownerDocument:o,ownerWindow:a,fontFamilies:u,onCloneEachNode:l}=t;if(o&&Ow(e))return r&&/\S/.test(e.data)&&r(e.data),o.createTextNode(e.data);if(o&&a&&on(e)&&(ao(e)||mo(e))){const h=await u3(e,t);if(t.isEnable("removeAbnormalAttributes")){const k=h.getAttributeNames();for(let D=k.length,S=0;S<D;S++){const _=k[S];y3.test(_)||h.removeAttribute(_)}}const p=t.currentNodeStyle=f3(e,h,n,t);n&&x3(h,t);let x=!1;if(t.isEnable("copyScrollbar")){const k=[p.get("overflow-x")?.[0],p.get("overflow-y")?.[0]];x=k.includes("scroll")||(k.includes("auto")||k.includes("overlay"))&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}const C=p.get("text-transform")?.[0],y=$f(p.get("font-family")?.[0]),w=y?k=>{C==="uppercase"?k=k.toUpperCase():C==="lowercase"?k=k.toLowerCase():C==="capitalize"&&(k=k[0].toUpperCase()+k.substring(1)),y.forEach(D=>{let S=u.get(D);S||u.set(D,S=new Set),k.split("").forEach(_=>S.add(_))})}:void 0;return g3(e,h,x,t,w),h3(e,h),va(e)||await ol(e,h,t,w),await l?.(h),h}const d=e.cloneNode(!1);return await ol(e,d,t),await l?.(d),d}function v3(e){if(e.ownerDocument=void 0,e.ownerWindow=void 0,e.svgStyleElement=void 0,e.svgDefsElement=void 0,e.svgStyles.clear(),e.defaultComputedStyles.clear(),e.sandbox){try{e.sandbox.remove()}catch(t){e.log.warn("Failed to destroyContext",t)}e.sandbox=void 0}e.workers=[],e.fontFamilies.clear(),e.fontCssTexts.clear(),e.requests.clear(),e.tasks=[],e.shadowRoots=[]}function w3(e){const{url:t,timeout:n,responseType:r,...o}=e,a=new AbortController,u=n?setTimeout(()=>a.abort(),n):void 0;return fetch(t,{signal:a.signal,...o}).then(l=>{if(!l.ok)throw new Error("Failed fetch, not 2xx response",{cause:l});switch(r){case"arrayBuffer":return l.arrayBuffer();case"dataUrl":return l.blob().then(Xw);case"text":default:return l.text()}}).finally(()=>clearTimeout(u))}function io(e,t){const{url:n,requestType:r="text",responseType:o="text",imageDom:a}=t;let u=n;const{timeout:l,acceptOfImage:d,requests:h,fetchFn:p,fetch:{requestInit:x,bypassingCache:C,placeholderImage:y},font:w,workers:k,fontFamilies:D}=e;r==="image"&&(ra||Ei)&&e.drawImageCount++;let S=h.get(n);if(!S){C&&C instanceof RegExp&&C.test(u)&&(u+=(/\?/.test(u)?"&":"?")+new Date().getTime());const _=r.startsWith("font")&&w&&w.minify,j=new Set;_&&r.split(";")[1].split(",").forEach(K=>{D.has(K)&&D.get(K).forEach(Y=>j.add(Y))});const E=_&&j.size,M={url:u,timeout:l,responseType:E?"arrayBuffer":o,headers:r==="image"?{accept:d}:void 0,...x};S={type:r,resolve:void 0,reject:void 0,response:null},S.response=(async()=>{if(p&&r==="image"){const F=await p(n);if(F)return F}return!ra&&n.startsWith("http")&&k.length?new Promise((F,K)=>{k[h.size&k.length-1].postMessage({rawUrl:n,...M}),S.resolve=F,S.reject=K}):w3(M)})().catch(F=>{if(h.delete(n),r==="image"&&y)return e.log.warn("Failed to fetch image base64, trying to use placeholder image",u),typeof y=="string"?y:y(a);throw F}),h.set(n,S)}return S.response}async function Vf(e,t,n,r){if(!Wf(e))return e;for(const[o,a]of C3(e,t))try{const u=await io(n,{url:a,requestType:r?"image":"text",responseType:"dataUrl"});e=e.replace(_3(o),`$1${u}$3`)}catch(u){n.log.warn("Failed to fetch css data url",o,u)}return e}function Wf(e){return/url\((['"]?)([^'"]+?)\1\)/.test(e)}const Gf=/url\((['"]?)([^'"]+?)\1\)/g;function C3(e,t){const n=[];return e.replace(Gf,(r,o,a)=>(n.push([a,zf(a,t)]),r)),n.filter(([r])=>!Os(r))}function _3(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}const k3=["background-image","border-image-source","-webkit-border-image","-webkit-mask-image","list-style-image"];function S3(e,t){return k3.map(n=>{const r=e.getPropertyValue(n);return!r||r==="none"?null:((ra||Ei)&&t.drawImageCount++,Vf(r,null,t,!0).then(o=>{!o||r===o||e.setProperty(n,o,e.getPropertyPriority(n))}))}).filter(Boolean)}function E3(e,t){if(yr(e)){const n=e.currentSrc||e.src;if(!Os(n))return[io(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(r=>{r&&(e.srcset="",e.dataset.originalSrc=n,e.src=r||"")})];(ra||Ei)&&t.drawImageCount++}else if(mo(e)&&!Os(e.href.baseVal)){const n=e.href.baseVal;return[io(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(r=>{r&&(e.dataset.originalSrc=n,e.href.baseVal=r||"")})]}return[]}function j3(e,t){const{ownerDocument:n,svgDefsElement:r}=t,o=e.getAttribute("href")??e.getAttribute("xlink:href");if(!o)return[];const[a,u]=o.split("#");if(u){const l=`#${u}`,d=t.shadowRoots.reduce((h,p)=>h??p.querySelector(`svg ${l}`),n?.querySelector(`svg ${l}`));if(a&&e.setAttribute("href",l),r?.querySelector(l))return[];if(d)return r?.appendChild(d.cloneNode(!0)),[];if(a)return[io(t,{url:a,responseType:"text"}).then(h=>{r?.insertAdjacentHTML("beforeend",h)})]}return[]}function Yf(e,t){const{tasks:n}=t;on(e)&&((yr(e)||Lf(e))&&n.push(...E3(e,t)),Rw(e)&&n.push(...j3(e,t))),ao(e)&&n.push(...S3(e.style,t)),e.childNodes.forEach(r=>{Yf(r,t)})}async function A3(e,t){const{ownerDocument:n,svgStyleElement:r,fontFamilies:o,fontCssTexts:a,tasks:u,font:l}=t;if(!(!n||!r||!o.size))if(l&&l.cssText){const d=sl(l.cssText,t);r.appendChild(n.createTextNode(`${d}
`))}else{const d=Array.from(n.styleSheets).filter(p=>{try{return"cssRules"in p&&!!p.cssRules.length}catch(x){return t.log.warn(`Error while reading CSS rules from ${p.href}`,x),!1}});await Promise.all(d.flatMap(p=>Array.from(p.cssRules).map(async(x,C)=>{if(Iw(x)){let y=C+1;const w=x.href;let k="";try{k=await io(t,{url:w,requestType:"text",responseType:"text"})}catch(S){t.log.warn(`Error fetch remote css import from ${w}`,S)}const D=k.replace(Gf,(S,_,j)=>S.replace(j,zf(j,w)));for(const S of N3(D))try{p.insertRule(S,S.startsWith("@import")?y+=1:p.cssRules.length)}catch(_){t.log.warn("Error inserting rule from remote css import",{rule:S,error:_})}}}))),d.flatMap(p=>Array.from(p.cssRules)).filter(p=>Pw(p)&&Wf(p.style.getPropertyValue("src"))&&$f(p.style.getPropertyValue("font-family"))?.some(x=>o.has(x))).forEach(p=>{const x=p,C=a.get(x.cssText);C?r.appendChild(n.createTextNode(`${C}
`)):u.push(Vf(x.cssText,x.parentStyleSheet?x.parentStyleSheet.href:null,t).then(y=>{y=sl(y,t),a.set(x.cssText,y),r.appendChild(n.createTextNode(`${y}
`))}))})}}const D3=/(\/\*[\s\S]*?\*\/)/g,al=/((@.*?keyframes [\s\S]*?){([\s\S]*?}\s*?)})/gi;function N3(e){if(e==null)return[];const t=[];let n=e.replace(D3,"");for(;;){const a=al.exec(n);if(!a)break;t.push(a[0])}n=n.replace(al,"");const r=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let a=r.exec(n);if(a)o.lastIndex=r.lastIndex;else if(a=o.exec(n),a)r.lastIndex=o.lastIndex;else break;t.push(a[0])}return t}const T3=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,M3=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function sl(e,t){const{font:n}=t,r=n?n?.preferredFormat:void 0;return r?e.replace(M3,o=>{for(;;){const[a,,u]=T3.exec(o)||[];if(!u)return"";if(u===r)return`src: ${a};`}}):e}async function P3(e,t){const n=await _a(e,t);if(on(n.node)&&mo(n.node))return n.node;const{ownerDocument:r,log:o,tasks:a,svgStyleElement:u,svgDefsElement:l,svgStyles:d,font:h,progress:p,autoDestruct:x,onCloneNode:C,onEmbedNode:y,onCreateForeignObjectSvg:w}=n;o.time("clone node");const k=await ji(n.node,n,!0);if(u&&r){let E="";d.forEach((M,F)=>{E+=`${M.join(`,
`)} {
  ${F}
}
`}),u.appendChild(r.createTextNode(E))}o.timeEnd("clone node"),await C?.(k),h!==!1&&on(k)&&(o.time("embed web font"),await A3(k,n),o.timeEnd("embed web font")),o.time("embed node"),Yf(k,n);const D=a.length;let S=0;const _=async()=>{for(;;){const E=a.pop();if(!E)break;try{await E}catch(M){n.log.warn("Failed to run task",M)}p?.(++S,D)}};p?.(S,D),await Promise.all([...Array.from({length:4})].map(_)),o.timeEnd("embed node"),await y?.(k);const j=I3(k,n);return l&&j.insertBefore(l,j.children[0]),u&&j.insertBefore(u,j.children[0]),x&&v3(n),await w?.(j),j}function I3(e,t){const{width:n,height:r}=t,o=Gw(n,r,e.ownerDocument),a=o.ownerDocument.createElementNS(o.namespaceURI,"foreignObject");return a.setAttributeNS(null,"x","0%"),a.setAttributeNS(null,"y","0%"),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.append(e),o.appendChild(a),o}async function R3(e,t){const n=await _a(e,t),r=await P3(n),o=Yw(r,n.isEnable("removeControlCharacter"));n.autoDestruct||(n.svgStyleElement=qf(n.ownerDocument),n.svgDefsElement=n.ownerDocument?.createElementNS(Ca,"defs"),n.svgStyles.clear());const a=fr(o,r.ownerDocument);return await r3(a,n)}async function F3(e,t){const n=await _a(e,t),{log:r,quality:o,type:a,dpi:u}=n,l=await R3(n);r.time("canvas to data url");let d=l.toDataURL(a,o);if(["image/png","image/jpeg"].includes(a)&&u&&Nw&&Tw){const[h,p]=d.split(",");let x=0,C=!1;if(a==="image/png"){const j=Aw(p);j>=0?(x=Math.ceil((j+28)/3)*4,C=!0):x=33/3*4}else a==="image/jpeg"&&(x=18/3*4);const y=p.substring(0,x),w=p.substring(x),k=window.atob(y),D=new Uint8Array(k.length);for(let j=0;j<D.length;j++)D[j]=k.charCodeAt(j);const S=a==="image/png"?kw(D,u,C):vw(D,u),_=window.btoa(String.fromCharCode(...S));d=[h,",",_,w].join("")}return r.timeEnd("canvas to data url"),d}async function O3(e,t){return F3(await _a(e,{...t,type:"image/png"}))}function L3(e,t=30){if(!e||e.trim()==="")return"untitled-card";let n=e.replace(/[^\w\s\u4e00-\u9fff\u3400-\u4dbf\u20000-\u2a6df\u2a700-\u2b73f\u2b740-\u2b81f\u2b820-\u2ceaf\uf900-\ufaff\u3300-\u33ff-]/g,"").replace(/\s+/g," ").trim();return n?(n.length>t&&(n=n.substring(0,t).trim()),n):"untitled-card"}async function z3(e,t={}){const{quality:n=1,pixelRatio:r=2,backgroundColor:o="transparent",includeStyles:a=!0}=t;try{const u=await O3(e,{quality:n,pixelRatio:r,backgroundColor:o,style:a?void 0:{},filter:d=>{if(d instanceof HTMLElement){const h=d.classList;return!h.contains("tooltip")&&!h.contains("dropdown-menu")&&!h.contains("popover")}return!0}});return await(await fetch(u)).blob()}catch(u){throw console.error("Screenshot capture failed:",u),new Error("Failed to capture screenshot")}}function B3(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=`${t}.png`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}async function $3(e,t,n={}){const r=L3(t);return{blob:await z3(e,{quality:1,pixelRatio:2,backgroundColor:"transparent",...n}),fileName:r}}function q3(e={}){const[t,n]=g.useState(!1),[r,o]=g.useState(!1),[a,u]=g.useState(null),[l,d]=g.useState(!1),[h,p]=g.useState(null),x=g.useCallback(async(k,D)=>{n(!0),p(null);try{const{blob:S,fileName:_}=await $3(k,D),j=URL.createObjectURL(S);u({blob:S,fileName:_,previewUrl:j}),d(!0)}catch(S){const _=S instanceof Error?S:new Error("Screenshot failed");p(_.message),e.onError?.(_)}finally{n(!1)}},[e]),C=g.useCallback(async()=>{if(a){o(!0);try{await new Promise(k=>setTimeout(k,500)),B3(a.blob,a.fileName),e.onSuccess?.(a.fileName),d(!1),setTimeout(()=>{a.previewUrl&&URL.revokeObjectURL(a.previewUrl),u(null)},100)}catch(k){const D=k instanceof Error?k:new Error("Download failed");p(D.message),e.onError?.(D)}finally{o(!1)}}},[a,e]),y=g.useCallback(()=>{d(!1),setTimeout(()=>{a?.previewUrl&&URL.revokeObjectURL(a.previewUrl),u(null)},100)},[a]),w=g.useCallback(()=>{p(null)},[]);return{isCapturing:t,isDownloading:r,showPreview:l,previewData:a,error:h,captureScreenshot:x,confirmDownload:C,cancelPreview:y,clearError:w}}function U3({isOpen:e,onClose:t,onConfirm:n,previewUrl:r,fileName:o,isDownloading:a=!1}){const[u,l]=g.useState(!1),d=()=>{l(!0),setTimeout(()=>{n(),l(!1)},800)};return i.jsx(Yn,{open:e,onOpenChange:t,children:i.jsxs(Fn,{className:"max-w-2xl max-h-[90vh] overflow-hidden",children:[i.jsx(kr,{children:i.jsxs(Er,{className:"flex items-center gap-2",children:[i.jsx(Ss,{className:"h-5 w-5"}),"Screenshot Preview"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Pt,{variant:"secondary",className:"font-mono text-xs",children:[o,".png"]}),i.jsx(Pt,{variant:"outline",className:"text-xs",children:"High Quality"})]})}),i.jsx("div",{className:"relative bg-checkered rounded-lg overflow-hidden border",children:r?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:r,alt:"Screenshot preview",className:oe("w-full h-auto max-h-[60vh] object-contain transition-all duration-300",u&&"scale-95 opacity-80")}),u&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-purple-600/20 flex items-center justify-center",children:i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-6 shadow-lg animate-pulse",children:i.jsxs("div",{className:"relative",children:[i.jsx(Wr,{className:"h-8 w-8 text-blue-600 animate-bounce"}),i.jsx(Cu,{className:"h-4 w-4 text-purple-500 absolute -top-1 -right-1 animate-spin"})]})})})]}):i.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx(Ss,{className:"h-12 w-12 mx-auto opacity-50"}),i.jsx("p",{children:"Loading preview..."})]})})}),a&&i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"}),"Preparing download..."]})]}),i.jsxs(Sr,{className:"gap-2",children:[i.jsxs(ke,{variant:"outline",onClick:t,disabled:u||a,children:[i.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Cancel"]}),i.jsx(ke,{onClick:d,disabled:u||a||!r,className:oe("relative overflow-hidden",u&&"bg-gradient-to-r from-blue-500 to-purple-600"),children:u?i.jsxs(i.Fragment,{children:[i.jsx(Cu,{className:"h-4 w-4 mr-2 animate-spin"}),"Downloading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Download PNG"]})})]})]})})}const K3=`
.bg-checkered {
  background-image: 
    linear-gradient(45deg, #f1f5f9 25%, transparent 25%), 
    linear-gradient(-45deg, #f1f5f9 25%, transparent 25%), 
    linear-gradient(45deg, transparent 75%, #f1f5f9 75%), 
    linear-gradient(-45deg, transparent 75%, #f1f5f9 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
}
`;if(typeof document<"u"){const e=document.createElement("style");e.textContent=K3,document.head.appendChild(e)}const H3=1,V3=1e6;let xs=0;function W3(){return xs=(xs+1)%Number.MAX_SAFE_INTEGER,xs.toString()}const ys=new Map,il=e=>{if(ys.has(e))return;const t=setTimeout(()=>{ys.delete(e),Yr({type:"REMOVE_TOAST",toastId:e})},V3);ys.set(e,t)},G3=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,H3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?il(n):e.toasts.forEach(r=>{il(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ko=[];let Ho={toasts:[]};function Yr(e){Ho=G3(Ho,e),Ko.forEach(t=>{t(Ho)})}function Y3({...e}){const t=W3(),n=o=>Yr({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Yr({type:"DISMISS_TOAST",toastId:t});return Yr({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Z3(){const[e,t]=g.useState(Ho);return g.useEffect(()=>(Ko.push(t),()=>{const n=Ko.indexOf(t);n>-1&&Ko.splice(n,1)}),[e]),{...e,toast:Y3,dismiss:n=>Yr({type:"DISMISS_TOAST",toastId:n})}}var Ai="Avatar",[X3,I_]=an(Ai),[Q3,Zf]=X3(Ai),Xf=g.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,a]=g.useState("idle");return i.jsx(Q3,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:i.jsx(qe.span,{...r,ref:t})})});Xf.displayName=Ai;var Qf="AvatarImage",Jf=g.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...a}=e,u=Zf(Qf,n),l=J3(r,a.referrerPolicy),d=Mt(h=>{o(h),u.onImageLoadingStatusChange(h)});return Gt(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?i.jsx(qe.img,{...a,ref:t,src:r}):null});Jf.displayName=Qf;var e0="AvatarFallback",t0=g.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,a=Zf(e0,n),[u,l]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(d)}},[r]),u&&a.imageLoadingStatus!=="loaded"?i.jsx(qe.span,{...o,ref:t}):null});t0.displayName=e0;function J3(e,t){const[n,r]=g.useState("idle");return Gt(()=>{if(!e){r("error");return}let o=!0;const a=new window.Image,u=l=>()=>{o&&r(l)};return r("loading"),a.onload=u("loaded"),a.onerror=u("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{o=!1}},[e,t]),n}var n0=Xf,r0=Jf,o0=t0;const a0=g.forwardRef(({className:e,...t},n)=>i.jsx(n0,{ref:n,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));a0.displayName=n0.displayName;const s0=g.forwardRef(({className:e,...t},n)=>i.jsx(r0,{ref:n,className:oe("aspect-square h-full w-full",e),...t}));s0.displayName=r0.displayName;const i0=g.forwardRef(({className:e,...t},n)=>i.jsx(o0,{ref:n,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));i0.displayName=o0.displayName;const u0=["from-violet-500 to-pink-500","from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-pink-500 to-rose-600","from-indigo-500 to-blue-600","from-yellow-500 to-orange-600","from-purple-500 to-pink-600","from-teal-500 to-green-600","from-red-500 to-pink-600","from-cyan-500 to-blue-600"];function e6(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return Math.abs(t)%u0.length}function t6(e){return e?e.username?e.username.charAt(0).toUpperCase():e.email?e.email.charAt(0).toUpperCase():"?":"?"}function n6(e){return e&&(e.username||e.email)||"anonymous"}function l0({user:e,size:t="md",className:n,onClick:r,showHoverEffect:o=!0}){const a=t6(e),u=n6(e),l=e6(u),d=u0[l],p=oe({sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-sm",lg:"h-10 w-10 text-base"}[t],o&&r&&"cursor-pointer transition-transform hover:scale-105",n),x=oe("bg-gradient-to-br text-white font-semibold flex items-center justify-center",d,o&&r&&"transition-all duration-200 hover:shadow-md");return i.jsxs(a0,{className:p,onClick:r,children:[i.jsx(s0,{src:e?.avatar_url,alt:e?.username||e?.email||"User"}),i.jsx(i0,{className:x,children:a})]})}var Di="ContextMenu",[r6,R_]=an(Di,[ua]),Ct=ua(),[o6,c0]=r6(Di),d0=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:o,modal:a=!0}=e,[u,l]=g.useState(!1),d=Ct(t),h=Mt(r),p=g.useCallback(x=>{l(x),h(x)},[h]);return i.jsx(o6,{scope:t,open:u,onOpenChange:p,modal:a,children:i.jsx(Sc,{...d,dir:o,open:u,onOpenChange:p,modal:a,children:n})})};d0.displayName=Di;var f0="ContextMenuTrigger",h0=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:r=!1,...o}=e,a=c0(f0,n),u=Ct(n),l=g.useRef({x:0,y:0}),d=g.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),h=g.useRef(0),p=g.useCallback(()=>window.clearTimeout(h.current),[]),x=C=>{l.current={x:C.clientX,y:C.clientY},a.onOpenChange(!0)};return g.useEffect(()=>p,[p]),g.useEffect(()=>void(r&&p()),[r,p]),i.jsxs(i.Fragment,{children:[i.jsx(Ec,{...u,virtualRef:d}),i.jsx(qe.span,{"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,...o,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:me(e.onContextMenu,C=>{p(),x(C),C.preventDefault()}),onPointerDown:r?e.onPointerDown:me(e.onPointerDown,$o(C=>{p(),h.current=window.setTimeout(()=>x(C),700)})),onPointerMove:r?e.onPointerMove:me(e.onPointerMove,$o(p)),onPointerCancel:r?e.onPointerCancel:me(e.onPointerCancel,$o(p)),onPointerUp:r?e.onPointerUp:me(e.onPointerUp,$o(p))})]})});h0.displayName=f0;var a6="ContextMenuPortal",p0=e=>{const{__scopeContextMenu:t,...n}=e,r=Ct(t);return i.jsx(jc,{...r,...n})};p0.displayName=a6;var m0="ContextMenuContent",g0=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=c0(m0,n),a=Ct(n),u=g.useRef(!1);return i.jsx(Ac,{...a,...r,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),!l.defaultPrevented&&u.current&&l.preventDefault(),u.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),!l.defaultPrevented&&!o.modal&&(u.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});g0.displayName=m0;var s6="ContextMenuGroup",i6=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Ct(n);return i.jsx(Dc,{...o,...r,ref:t})});i6.displayName=s6;var u6="ContextMenuLabel",b0=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Ct(n);return i.jsx(Nc,{...o,...r,ref:t})});b0.displayName=u6;var l6="ContextMenuItem",x0=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Ct(n);return i.jsx(Tc,{...o,...r,ref:t})});x0.displayName=l6;var c6="ContextMenuCheckboxItem",y0=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Ct(n);return i.jsx(Mc,{...o,...r,ref:t})});y0.displayName=c6;var d6="ContextMenuRadioGroup",f6=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Ct(n);return i.jsx(Pc,{...o,...r,ref:t})});f6.displayName=d6;var h6="ContextMenuRadioItem",v0=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Ct(n);return i.jsx(Ic,{...o,...r,ref:t})});v0.displayName=h6;var p6="ContextMenuItemIndicator",w0=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Ct(n);return i.jsx(Rc,{...o,...r,ref:t})});w0.displayName=p6;var m6="ContextMenuSeparator",C0=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Ct(n);return i.jsx(Fc,{...o,...r,ref:t})});C0.displayName=m6;var g6="ContextMenuArrow",b6=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Ct(n);return i.jsx(Oc,{...o,...r,ref:t})});b6.displayName=g6;var x6="ContextMenuSubTrigger",_0=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Ct(n);return i.jsx(Lc,{...o,...r,ref:t})});_0.displayName=x6;var y6="ContextMenuSubContent",k0=g.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Ct(n);return i.jsx(zc,{...o,...r,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k0.displayName=y6;function $o(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var v6=d0,w6=h0,C6=p0,S0=g0,E0=b0,j0=x0,A0=y0,D0=v0,N0=w0,T0=C0,M0=_0,P0=k0;const I0=v6,R0=w6,_6=g.forwardRef(({className:e,inset:t,children:n,...r},o)=>i.jsxs(M0,{ref:o,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...r,children:[n,i.jsx(ei,{className:"ml-auto h-4 w-4"})]}));_6.displayName=M0.displayName;const k6=g.forwardRef(({className:e,...t},n)=>i.jsx(P0,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));k6.displayName=P0.displayName;const Ni=g.forwardRef(({className:e,...t},n)=>i.jsx(C6,{children:i.jsx(S0,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Ni.displayName=S0.displayName;const hr=g.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(j0,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));hr.displayName=j0.displayName;const S6=g.forwardRef(({className:e,children:t,checked:n,...r},o)=>i.jsxs(A0,{ref:o,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(N0,{children:i.jsx(In,{className:"h-4 w-4"})})}),t]}));S6.displayName=A0.displayName;const E6=g.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(D0,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(N0,{children:i.jsx(Kl,{className:"h-2 w-2 fill-current"})})}),t]}));E6.displayName=D0.displayName;const j6=g.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(E0,{ref:r,className:oe("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...n}));j6.displayName=E0.displayName;const F0=g.forwardRef(({className:e,...t},n)=>i.jsx(T0,{ref:n,className:oe("-mx-1 my-1 h-px bg-border",e),...t}));F0.displayName=T0.displayName;function ul({children:e,folderId:t,folderName:n,onRename:r,onDelete:o,onCreateSubfolder:a,disabled:u=!1}){return u?i.jsx(i.Fragment,{children:e}):i.jsxs(I0,{children:[i.jsx(R0,{asChild:!0,children:e}),i.jsxs(Ni,{className:"w-48",children:[i.jsxs(hr,{onClick:()=>r(t),children:[i.jsx(Gl,{className:"h-4 w-4 mr-2"}),"Rename Folder"]}),i.jsxs(hr,{onClick:()=>a(t),children:[i.jsx(Es,{className:"h-4 w-4 mr-2"}),"New Subfolder"]}),i.jsx(F0,{}),i.jsxs(hr,{onClick:()=>o(t),className:"text-destructive focus:text-destructive",children:[i.jsx(ti,{className:"h-4 w-4 mr-2"}),"Delete Folder"]})]})]})}var A6="VisuallyHidden",O0=g.forwardRef((e,t)=>i.jsx(qe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));O0.displayName=A6;var D6=[" ","Enter","ArrowUp","ArrowDown"],N6=[" ","Enter"],go="Select",[ka,Sa,T6]=sa(go),[Ar,F_]=an(go,[T6,aa]),Ea=aa(),[M6,zn]=Ar(go),[P6,I6]=Ar(go),L0=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:u,defaultValue:l,onValueChange:d,dir:h,name:p,autoComplete:x,disabled:C,required:y,form:w}=e,k=Ea(t),[D,S]=g.useState(null),[_,j]=g.useState(null),[E,M]=g.useState(!1),F=uo(h),[K=!1,Y]=Xr({prop:r,defaultProp:o,onChange:a}),[te,he]=Xr({prop:u,defaultProp:l,onChange:d}),G=g.useRef(null),Z=D?w||!!D.closest("form"):!0,[je,Me]=g.useState(new Set),Ne=Array.from(je).map(be=>be.props.value).join(";");return i.jsx(wl,{...k,children:i.jsxs(M6,{required:y,scope:t,trigger:D,onTriggerChange:S,valueNode:_,onValueNodeChange:j,valueNodeHasChildren:E,onValueNodeHasChildrenChange:M,contentId:mr(),value:te,onValueChange:he,open:K,onOpenChange:Y,dir:F,triggerPointerDownPosRef:G,disabled:C,children:[i.jsx(ka.Provider,{scope:t,children:i.jsx(P6,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(be=>{Me(Ie=>new Set(Ie).add(be))},[]),onNativeOptionRemove:g.useCallback(be=>{Me(Ie=>{const Ae=new Set(Ie);return Ae.delete(be),Ae})},[]),children:n})}),Z?i.jsxs(lh,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:x,value:te,onChange:be=>he(be.target.value),disabled:C,form:w,children:[te===void 0?i.jsx("option",{value:""}):null,Array.from(je)]},Ne):null]})})};L0.displayName=go;var z0="SelectTrigger",B0=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=Ea(n),u=zn(z0,n),l=u.disabled||r,d=We(t,u.onTriggerChange),h=Sa(n),p=g.useRef("touch"),[x,C,y]=ch(k=>{const D=h().filter(j=>!j.disabled),S=D.find(j=>j.value===u.value),_=dh(D,k,S);_!==void 0&&u.onValueChange(_.value)}),w=k=>{l||(u.onOpenChange(!0),y()),k&&(u.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return i.jsx(pl,{asChild:!0,...a,children:i.jsx(qe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":uh(u.value)?"":void 0,...o,ref:d,onClick:me(o.onClick,k=>{k.currentTarget.focus(),p.current!=="mouse"&&w(k)}),onPointerDown:me(o.onPointerDown,k=>{p.current=k.pointerType;const D=k.target;D.hasPointerCapture(k.pointerId)&&D.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(w(k),k.preventDefault())}),onKeyDown:me(o.onKeyDown,k=>{const D=x.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&C(k.key),!(D&&k.key===" ")&&D6.includes(k.key)&&(w(),k.preventDefault())})})})});B0.displayName=z0;var $0="SelectValue",q0=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:u="",...l}=e,d=zn($0,n),{onValueNodeHasChildrenChange:h}=d,p=a!==void 0,x=We(t,d.onValueNodeChange);return Gt(()=>{h(p)},[h,p]),i.jsx(qe.span,{...l,ref:x,style:{pointerEvents:"none"},children:uh(d.value)?i.jsx(i.Fragment,{children:u}):a})});q0.displayName=$0;var R6="SelectIcon",U0=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return i.jsx(qe.span,{"aria-hidden":!0,...o,ref:t,children:r||"▼"})});U0.displayName=R6;var F6="SelectPortal",K0=e=>i.jsx(hl,{asChild:!0,...e});K0.displayName=F6;var Zn="SelectContent",H0=g.forwardRef((e,t)=>{const n=zn(Zn,e.__scopeSelect),[r,o]=g.useState();if(Gt(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?vr.createPortal(i.jsx(V0,{scope:e.__scopeSelect,children:i.jsx(ka.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(W0,{...e,ref:t})});H0.displayName=Zn;var Wt=10,[V0,Bn]=Ar(Zn),O6="SelectContentImpl",W0=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:u,side:l,sideOffset:d,align:h,alignOffset:p,arrowPadding:x,collisionBoundary:C,collisionPadding:y,sticky:w,hideWhenDetached:k,avoidCollisions:D,...S}=e,_=zn(Zn,n),[j,E]=g.useState(null),[M,F]=g.useState(null),K=We(t,X=>E(X)),[Y,te]=g.useState(null),[he,G]=g.useState(null),Z=Sa(n),[je,Me]=g.useState(!1),Ne=g.useRef(!1);g.useEffect(()=>{if(j)return vl(j)},[j]),ml();const be=g.useCallback(X=>{const[Oe,...ue]=Z().map(we=>we.ref.current),[Ue]=ue.slice(-1),Pe=document.activeElement;for(const we of X)if(we===Pe||(we?.scrollIntoView({block:"nearest"}),we===Oe&&M&&(M.scrollTop=0),we===Ue&&M&&(M.scrollTop=M.scrollHeight),we?.focus(),document.activeElement!==Pe))return},[Z,M]),Ie=g.useCallback(()=>be([Y,j]),[be,Y,j]);g.useEffect(()=>{je&&Ie()},[je,Ie]);const{onOpenChange:Ae,triggerPointerDownPosRef:U}=_;g.useEffect(()=>{if(j){let X={x:0,y:0};const Oe=Ue=>{X={x:Math.abs(Math.round(Ue.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(Ue.pageY)-(U.current?.y??0))}},ue=Ue=>{X.x<=10&&X.y<=10?Ue.preventDefault():j.contains(Ue.target)||Ae(!1),document.removeEventListener("pointermove",Oe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",ue,{capture:!0})}}},[j,Ae,U]),g.useEffect(()=>{const X=()=>Ae(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[Ae]);const[fe,xe]=ch(X=>{const Oe=Z().filter(Pe=>!Pe.disabled),ue=Oe.find(Pe=>Pe.ref.current===document.activeElement),Ue=dh(Oe,X,ue);Ue&&setTimeout(()=>Ue.ref.current.focus())}),Ce=g.useCallback((X,Oe,ue)=>{const Ue=!Ne.current&&!ue;(_.value!==void 0&&_.value===Oe||Ue)&&(te(X),Ue&&(Ne.current=!0))},[_.value]),ve=g.useCallback(()=>j?.focus(),[j]),Ee=g.useCallback((X,Oe,ue)=>{const Ue=!Ne.current&&!ue;(_.value!==void 0&&_.value===Oe||Ue)&&G(X)},[_.value]),Be=r==="popper"?Ls:G0,se=Be===Ls?{side:l,sideOffset:d,align:h,alignOffset:p,arrowPadding:x,collisionBoundary:C,collisionPadding:y,sticky:w,hideWhenDetached:k,avoidCollisions:D}:{};return i.jsx(V0,{scope:n,content:j,viewport:M,onViewportChange:F,itemRefCallback:Ce,selectedItem:Y,onItemLeave:ve,itemTextRefCallback:Ee,focusSelectedItem:Ie,selectedItemText:he,position:r,isPositioned:je,searchRef:fe,children:i.jsx(gl,{as:Zr,allowPinchZoom:!0,children:i.jsx(bl,{asChild:!0,trapped:_.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:me(o,X=>{_.trigger?.focus({preventScroll:!0}),X.preventDefault()}),children:i.jsx(xl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:i.jsx(Be,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:X=>X.preventDefault(),...S,...se,onPlaced:()=>Me(!0),ref:K,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:me(S.onKeyDown,X=>{const Oe=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!Oe&&X.key.length===1&&xe(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Ue=Z().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Pe=X.target,we=Ue.indexOf(Pe);Ue=Ue.slice(we+1)}setTimeout(()=>be(Ue)),X.preventDefault()}})})})})})})});W0.displayName=O6;var L6="SelectItemAlignedPosition",G0=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=zn(Zn,n),u=Bn(Zn,n),[l,d]=g.useState(null),[h,p]=g.useState(null),x=We(t,K=>p(K)),C=Sa(n),y=g.useRef(!1),w=g.useRef(!0),{viewport:k,selectedItem:D,selectedItemText:S,focusSelectedItem:_}=u,j=g.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&h&&k&&D&&S){const K=a.trigger.getBoundingClientRect(),Y=h.getBoundingClientRect(),te=a.valueNode.getBoundingClientRect(),he=S.getBoundingClientRect();if(a.dir!=="rtl"){const Pe=he.left-Y.left,we=te.left-Pe,at=K.left-we,At=K.width+at,ht=Math.max(At,Y.width),Zt=window.innerWidth-Wt,dn=oo(we,[Wt,Math.max(Wt,Zt-ht)]);l.style.minWidth=At+"px",l.style.left=dn+"px"}else{const Pe=Y.right-he.right,we=window.innerWidth-te.right-Pe,at=window.innerWidth-K.right-we,At=K.width+at,ht=Math.max(At,Y.width),Zt=window.innerWidth-Wt,dn=oo(we,[Wt,Math.max(Wt,Zt-ht)]);l.style.minWidth=At+"px",l.style.right=dn+"px"}const G=C(),Z=window.innerHeight-Wt*2,je=k.scrollHeight,Me=window.getComputedStyle(h),Ne=parseInt(Me.borderTopWidth,10),be=parseInt(Me.paddingTop,10),Ie=parseInt(Me.borderBottomWidth,10),Ae=parseInt(Me.paddingBottom,10),U=Ne+be+je+Ae+Ie,fe=Math.min(D.offsetHeight*5,U),xe=window.getComputedStyle(k),Ce=parseInt(xe.paddingTop,10),ve=parseInt(xe.paddingBottom,10),Ee=K.top+K.height/2-Wt,Be=Z-Ee,se=D.offsetHeight/2,X=D.offsetTop+se,Oe=Ne+be+X,ue=U-Oe;if(Oe<=Ee){const Pe=G.length>0&&D===G[G.length-1].ref.current;l.style.bottom="0px";const we=h.clientHeight-k.offsetTop-k.offsetHeight,at=Math.max(Be,se+(Pe?ve:0)+we+Ie),At=Oe+at;l.style.height=At+"px"}else{const Pe=G.length>0&&D===G[0].ref.current;l.style.top="0px";const at=Math.max(Ee,Ne+k.offsetTop+(Pe?Ce:0)+se)+ue;l.style.height=at+"px",k.scrollTop=Oe-Ee+k.offsetTop}l.style.margin=`${Wt}px 0`,l.style.minHeight=fe+"px",l.style.maxHeight=Z+"px",r?.(),requestAnimationFrame(()=>y.current=!0)}},[C,a.trigger,a.valueNode,l,h,k,D,S,a.dir,r]);Gt(()=>j(),[j]);const[E,M]=g.useState();Gt(()=>{h&&M(window.getComputedStyle(h).zIndex)},[h]);const F=g.useCallback(K=>{K&&w.current===!0&&(j(),_?.(),w.current=!1)},[j,_]);return i.jsx(B6,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:F,children:i.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:i.jsx(qe.div,{...o,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});G0.displayName=L6;var z6="SelectPopperPosition",Ls=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Wt,...a}=e,u=Ea(n);return i.jsx(yl,{...u,...a,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ls.displayName=z6;var[B6,Ti]=Ar(Zn,{}),zs="SelectViewport",Y0=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,a=Bn(zs,n),u=Ti(zs,n),l=We(t,a.onViewportChange),d=g.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(ka.Slot,{scope:n,children:i.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:me(o.onScroll,h=>{const p=h.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:C}=u;if(C?.current&&x){const y=Math.abs(d.current-p.scrollTop);if(y>0){const w=window.innerHeight-Wt*2,k=parseFloat(x.style.minHeight),D=parseFloat(x.style.height),S=Math.max(k,D);if(S<w){const _=S+y,j=Math.min(w,_),E=_-j;x.style.height=j+"px",x.style.bottom==="0px"&&(p.scrollTop=E>0?E:0,x.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});Y0.displayName=zs;var Z0="SelectGroup",[$6,q6]=Ar(Z0),U6=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=mr();return i.jsx($6,{scope:n,id:o,children:i.jsx(qe.div,{role:"group","aria-labelledby":o,...r,ref:t})})});U6.displayName=Z0;var X0="SelectLabel",Q0=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=q6(X0,n);return i.jsx(qe.div,{id:o.id,...r,ref:t})});Q0.displayName=X0;var oa="SelectItem",[K6,J0]=Ar(oa),eh=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...u}=e,l=zn(oa,n),d=Bn(oa,n),h=l.value===r,[p,x]=g.useState(a??""),[C,y]=g.useState(!1),w=We(t,_=>d.itemRefCallback?.(_,r,o)),k=mr(),D=g.useRef("touch"),S=()=>{o||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(K6,{scope:n,value:r,disabled:o,textId:k,isSelected:h,onItemTextChange:g.useCallback(_=>{x(j=>j||(_?.textContent??"").trim())},[]),children:i.jsx(ka.ItemSlot,{scope:n,value:r,disabled:o,textValue:p,children:i.jsx(qe.div,{role:"option","aria-labelledby":k,"data-highlighted":C?"":void 0,"aria-selected":h&&C,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:w,onFocus:me(u.onFocus,()=>y(!0)),onBlur:me(u.onBlur,()=>y(!1)),onClick:me(u.onClick,()=>{D.current!=="mouse"&&S()}),onPointerUp:me(u.onPointerUp,()=>{D.current==="mouse"&&S()}),onPointerDown:me(u.onPointerDown,_=>{D.current=_.pointerType}),onPointerMove:me(u.onPointerMove,_=>{D.current=_.pointerType,o?d.onItemLeave?.():D.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(u.onPointerLeave,_=>{_.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:me(u.onKeyDown,_=>{d.searchRef?.current!==""&&_.key===" "||(N6.includes(_.key)&&S(),_.key===" "&&_.preventDefault())})})})})});eh.displayName=oa;var Vr="SelectItemText",th=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,u=zn(Vr,n),l=Bn(Vr,n),d=J0(Vr,n),h=I6(Vr,n),[p,x]=g.useState(null),C=We(t,S=>x(S),d.onItemTextChange,S=>l.itemTextRefCallback?.(S,d.value,d.disabled)),y=p?.textContent,w=g.useMemo(()=>i.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:k,onNativeOptionRemove:D}=h;return Gt(()=>(k(w),()=>D(w)),[k,D,w]),i.jsxs(i.Fragment,{children:[i.jsx(qe.span,{id:d.textId,...a,ref:C}),d.isSelected&&u.valueNode&&!u.valueNodeHasChildren?vr.createPortal(a.children,u.valueNode):null]})});th.displayName=Vr;var nh="SelectItemIndicator",rh=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return J0(nh,n).isSelected?i.jsx(qe.span,{"aria-hidden":!0,...r,ref:t}):null});rh.displayName=nh;var Bs="SelectScrollUpButton",oh=g.forwardRef((e,t)=>{const n=Bn(Bs,e.__scopeSelect),r=Ti(Bs,e.__scopeSelect),[o,a]=g.useState(!1),u=We(t,r.onScrollButtonChange);return Gt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const h=d.scrollTop>0;a(h)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?i.jsx(sh,{...e,ref:u,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});oh.displayName=Bs;var $s="SelectScrollDownButton",ah=g.forwardRef((e,t)=>{const n=Bn($s,e.__scopeSelect),r=Ti($s,e.__scopeSelect),[o,a]=g.useState(!1),u=We(t,r.onScrollButtonChange);return Gt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const h=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<h;a(p)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?i.jsx(sh,{...e,ref:u,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});ah.displayName=$s;var sh=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,a=Bn("SelectScrollButton",n),u=g.useRef(null),l=Sa(n),d=g.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return g.useEffect(()=>()=>d(),[d]),Gt(()=>{l().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),i.jsx(qe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:me(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:me(o.onPointerMove,()=>{a.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:me(o.onPointerLeave,()=>{d()})})}),H6="SelectSeparator",ih=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(qe.div,{"aria-hidden":!0,...r,ref:t})});ih.displayName=H6;var qs="SelectArrow",V6=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Ea(n),a=zn(qs,n),u=Bn(qs,n);return a.open&&u.position==="popper"?i.jsx(Cl,{...o,...r,ref:t}):null});V6.displayName=qs;function uh(e){return e===""||e===void 0}var lh=g.forwardRef((e,t)=>{const{value:n,...r}=e,o=g.useRef(null),a=We(t,o),u=df(n);return g.useEffect(()=>{const l=o.current,d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==n&&p){const x=new Event("change",{bubbles:!0});p.call(l,n),l.dispatchEvent(x)}},[u,n]),i.jsx(O0,{asChild:!0,children:i.jsx("select",{...r,ref:a,defaultValue:n})})});lh.displayName="BubbleSelect";function ch(e){const t=Mt(e),n=g.useRef(""),r=g.useRef(0),o=g.useCallback(u=>{const l=n.current+u;t(l),function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),a=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function dh(e,t,n){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let u=W6(e,Math.max(a,0));o.length===1&&(u=u.filter(h=>h!==n));const d=u.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function W6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var G6=L0,fh=B0,Y6=q0,Z6=U0,X6=K0,hh=H0,Q6=Y0,ph=Q0,mh=eh,J6=th,eC=rh,gh=oh,bh=ah,xh=ih;const tC=G6,nC=Y6,yh=g.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(fh,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(Z6,{asChild:!0,children:i.jsx(Ul,{className:"h-4 w-4 opacity-50"})})]}));yh.displayName=fh.displayName;const vh=g.forwardRef(({className:e,...t},n)=>i.jsx(gh,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Xm,{className:"h-4 w-4"})}));vh.displayName=gh.displayName;const wh=g.forwardRef(({className:e,...t},n)=>i.jsx(bh,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Ul,{className:"h-4 w-4"})}));wh.displayName=bh.displayName;const Ch=g.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>i.jsx(X6,{children:i.jsxs(hh,{ref:o,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(vh,{}),i.jsx(Q6,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(wh,{})]})}));Ch.displayName=hh.displayName;const rC=g.forwardRef(({className:e,...t},n)=>i.jsx(ph,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));rC.displayName=ph.displayName;const _h=g.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(mh,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(eC,{children:i.jsx(In,{className:"h-4 w-4"})})}),i.jsx(J6,{children:t})]}));_h.displayName=mh.displayName;const oC=g.forwardRef(({className:e,...t},n)=>i.jsx(xh,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));oC.displayName=xh.displayName;const aC=[{value:"#3b82f6",label:"Blue"},{value:"#8b5cf6",label:"Purple"},{value:"#10b981",label:"Green"},{value:"#f59e0b",label:"Orange"},{value:"#ef4444",label:"Red"},{value:"#06b6d4",label:"Cyan"},{value:"#84cc16",label:"Lime"},{value:"#f97316",label:"Orange"}],vs=[{value:"Folder",label:"Folder",icon:Pn},{value:"Code",label:"Code",icon:Qm},{value:"Palette",label:"Design",icon:Wl},{value:"BookOpen",label:"Learning",icon:Gm},{value:"Star",label:"Favorites",icon:fg},{value:"Heart",label:"Personal",icon:rg},{value:"Zap",label:"Quick",icon:gg},{value:"Target",label:"Goals",icon:hg},{value:"Lightbulb",label:"Ideas",icon:og},{value:"Coffee",label:"Work",icon:Jm}];function sC({isOpen:e,onClose:t,onConfirm:n,parentId:r,initialData:o,mode:a="create"}){const[u,l]=g.useState(""),[d,h]=g.useState("#3b82f6"),[p,x]=g.useState("Folder");g.useEffect(()=>{e&&(o?(l(o.name),h(o.color),x(o.icon)):(l(""),h("#3b82f6"),x("Folder")))},[e]),g.useEffect(()=>{e&&o&&(l(o.name),h(o.color),x(o.icon))},[o,e]);const C=w=>{w.preventDefault(),u.trim()&&(n({name:u.trim(),color:d,icon:p,parentId:r}),t())},y=vs.find(w=>w.value===p)?.icon||Pn;return i.jsx(Yn,{open:e,onOpenChange:t,children:i.jsxs(Fn,{className:"sm:max-w-md",children:[i.jsxs(kr,{children:[i.jsx(Er,{children:a==="create"?"Create New Folder":"Edit Folder"}),i.jsx(xa,{children:a==="create"?"Create a new folder to organize your cards.":"Update folder details."})]}),i.jsxs("form",{onSubmit:C,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"folder-name",children:"Folder Name"}),i.jsx(kt,{id:"folder-name",value:u,onChange:w=>l(w.target.value),placeholder:"Enter folder name...",autoFocus:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{children:"Color"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:aC.map(w=>i.jsx("button",{type:"button",onClick:()=>h(w.value),className:`w-8 h-8 rounded-full border-2 transition-all ${d===w.value?"border-foreground scale-110":"border-muted hover:scale-105"}`,style:{backgroundColor:w.value},title:w.label},w.value))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{children:"Icon"}),i.jsxs(tC,{value:p,onValueChange:x,children:[i.jsx(yh,{children:i.jsx(nC,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[re.createElement(y,{className:"h-4 w-4",style:{color:d}}),vs.find(w=>w.value===p)?.label]})})}),i.jsx(Ch,{children:vs.map(w=>{const k=w.icon;return i.jsx(_h,{value:w.value,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(k,{className:"h-4 w-4"}),w.label]})},w.value)})})]})]}),r&&i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Pt,{variant:"secondary",children:"Subfolder"})}),i.jsxs(Sr,{children:[i.jsx(ke,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),i.jsx(ke,{type:"submit",disabled:!u.trim(),children:a==="create"?"Create Folder":"Save Changes"})]})]})]})})}var kh="AlertDialog",[iC,O_]=an(kh,[El]),xn=El(),Sh=e=>{const{__scopeAlertDialog:t,...n}=e,r=xn(t);return i.jsx(kl,{...r,...n,modal:!0})};Sh.displayName=kh;var uC="AlertDialogTrigger",lC=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=xn(n);return i.jsx(Dp,{...o,...r,ref:t})});lC.displayName=uC;var cC="AlertDialogPortal",Eh=e=>{const{__scopeAlertDialog:t,...n}=e,r=xn(t);return i.jsx(_l,{...r,...n})};Eh.displayName=cC;var dC="AlertDialogOverlay",jh=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=xn(n);return i.jsx(Ks,{...o,...r,ref:t})});jh.displayName=dC;var pr="AlertDialogContent",[fC,hC]=iC(pr),Ah=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,a=xn(n),u=g.useRef(null),l=We(t,u),d=g.useRef(null);return i.jsx(jp,{contentName:pr,titleName:Dh,docsSlug:"alert-dialog",children:i.jsx(fC,{scope:n,cancelRef:d,children:i.jsxs(Hs,{role:"alertdialog",...a,...o,ref:l,onOpenAutoFocus:me(o.onOpenAutoFocus,h=>{h.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[i.jsx(Ap,{children:r}),i.jsx(mC,{contentRef:u})]})})})});Ah.displayName=pr;var Dh="AlertDialogTitle",Nh=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=xn(n);return i.jsx(Ws,{...o,...r,ref:t})});Nh.displayName=Dh;var Th="AlertDialogDescription",Mh=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=xn(n);return i.jsx(Gs,{...o,...r,ref:t})});Mh.displayName=Th;var pC="AlertDialogAction",Ph=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=xn(n);return i.jsx(Vs,{...o,...r,ref:t})});Ph.displayName=pC;var Ih="AlertDialogCancel",Rh=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=hC(Ih,n),a=xn(n),u=We(t,o);return i.jsx(Vs,{...a,...r,ref:u})});Rh.displayName=Ih;var mC=({contentRef:e})=>{const t=`\`${pr}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${pr}\` by passing a \`${Th}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${pr}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},gC=Sh,bC=Eh,Fh=jh,Oh=Ah,Lh=Ph,zh=Rh,Bh=Nh,$h=Mh;const xC=gC,yC=bC,qh=g.forwardRef(({className:e,...t},n)=>i.jsx(Fh,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));qh.displayName=Fh.displayName;const Uh=g.forwardRef(({className:e,...t},n)=>i.jsxs(yC,{children:[i.jsx(qh,{}),i.jsx(Oh,{ref:n,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Uh.displayName=Oh.displayName;const Kh=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Kh.displayName="AlertDialogHeader";const Hh=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hh.displayName="AlertDialogFooter";const Vh=g.forwardRef(({className:e,...t},n)=>i.jsx(Bh,{ref:n,className:oe("text-lg font-semibold",e),...t}));Vh.displayName=Bh.displayName;const Wh=g.forwardRef(({className:e,...t},n)=>i.jsx($h,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));Wh.displayName=$h.displayName;const Gh=g.forwardRef(({className:e,...t},n)=>i.jsx(Lh,{ref:n,className:oe(Js(),e),...t}));Gh.displayName=Lh.displayName;const Yh=g.forwardRef(({className:e,...t},n)=>i.jsx(zh,{ref:n,className:oe(Js({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Yh.displayName=zh.displayName;function vC({isOpen:e,onClose:t,onConfirm:n,folderName:r,cardCount:o,hasSubfolders:a=!1,subfolderCount:u=0}){const l=()=>{n(),t()};return i.jsx(xC,{open:e,onOpenChange:t,children:i.jsxs(Uh,{children:[i.jsxs(Kh,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Zl,{className:"h-5 w-5 text-destructive"}),i.jsx(Vh,{children:"Delete Folder"})]}),i.jsxs(Wh,{className:"space-y-3",children:[i.jsxs("p",{children:["Are you sure you want to delete the folder ",i.jsxs("strong",{children:['"',r,'"']}),"?"]}),i.jsxs("div",{className:"bg-destructive/10 p-3 rounded-lg space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-destructive",children:"This action will permanently delete:"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[o>0&&i.jsxs(Pt,{variant:"destructive",children:[o," card",o!==1?"s":""]}),a&&u>0&&i.jsxs(Pt,{variant:"destructive",children:[u," subfolder",u!==1?"s":""]})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone."})]})]}),i.jsxs(Hh,{children:[i.jsx(Yh,{children:"Cancel"}),i.jsx(Gh,{onClick:l,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Forever"})]})]})})}function wC({children:e,tagName:t,onRename:n,onDelete:r,disabled:o=!1}){const a=()=>{o||n(t)},u=()=>{o||r(t)};return o?i.jsx(i.Fragment,{children:e}):i.jsxs(I0,{children:[i.jsx(R0,{asChild:!0,children:e}),i.jsxs(Ni,{className:"w-48",children:[i.jsxs(hr,{onClick:a,className:"flex items-center gap-2",children:[i.jsx(Gl,{className:"h-4 w-4"}),"Rename Tag"]}),i.jsxs(hr,{onClick:u,className:"flex items-center gap-2 text-destructive focus:text-destructive",children:[i.jsx(ti,{className:"h-4 w-4"}),"Delete Tag"]})]})]})}function CC({isOpen:e,onClose:t,onConfirm:n,tagName:r,existingTags:o}){const[a,u]=g.useState(""),[l,d]=g.useState("");g.useEffect(()=>{e&&(u(r),d(""))},[e,r]);const h=C=>{const y=C.trim();return y?y===r?"Please enter a different name":o.includes(y)?"A tag with this name already exists":y.length>50?"Tag name must be less than 50 characters":"":"Tag name cannot be empty"},p=()=>{const C=a.trim(),y=h(C);if(y){d(y);return}n(r,C),t()},x=C=>{C.key==="Enter"&&p()};return i.jsx(Yn,{open:e,onOpenChange:t,children:i.jsxs(Fn,{className:"sm:max-w-md",children:[i.jsxs(kr,{children:[i.jsx(Er,{children:"Rename Tag"}),i.jsxs(xa,{children:['Enter a new name for the tag "',r,'". This will update all cards using this tag.']})]}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"tag-name",children:"Tag Name"}),i.jsx(kt,{id:"tag-name",value:a,onChange:C=>{u(C.target.value),l&&d("")},onKeyPress:x,placeholder:"Enter tag name...",autoFocus:!0}),l&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[i.jsx(Vt,{className:"h-4 w-4"}),l]})]})}),i.jsxs(Sr,{children:[i.jsx(ke,{variant:"outline",onClick:t,children:"Cancel"}),i.jsx(ke,{onClick:p,disabled:!!l||!a.trim(),children:"Rename Tag"})]})]})})}function _C({isOpen:e,onClose:t,onConfirm:n,tagName:r,cardCount:o}){return i.jsx(Yn,{open:e,onOpenChange:t,children:i.jsxs(Fn,{className:"sm:max-w-md",children:[i.jsxs(kr,{children:[i.jsxs(Er,{className:"flex items-center gap-2",children:[i.jsx(Zl,{className:"h-5 w-5 text-destructive"}),"Delete Tag"]}),i.jsxs(xa,{children:['Are you sure you want to delete the tag "',r,'"?']})]}),i.jsx("div",{className:"py-4",children:i.jsxs("div",{className:"rounded-lg bg-destructive/10 p-4 border border-destructive/20",children:[i.jsx("p",{className:"text-sm text-destructive font-medium mb-2",children:"This action cannot be undone."}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["This tag will be removed from ",i.jsx("strong",{children:o})," ",o===1?"card":"cards","."]})]})}),i.jsxs(Sr,{children:[i.jsx(ke,{variant:"outline",onClick:t,children:"Cancel"}),i.jsx(ke,{variant:"destructive",onClick:n,children:"Delete Tag"})]})]})})}const kC=({tag:e,isSelected:t,onClick:n,className:r,showCount:o=!0})=>i.jsxs("button",{onClick:()=>n(e),className:oe("relative flex items-center justify-between px-3 py-2 rounded-xl border transition-all duration-300 ease-out","hover:shadow-lg hover:shadow-black/10 active:scale-[0.98] focus:outline-none focus:ring-2 focus:ring-blue-500/30","backdrop-blur-sm group",t?"bg-gradient-to-r from-blue-500 to-blue-600 border-blue-500 text-white shadow-md shadow-blue-500/25":"bg-white/80 border-gray-200/60 text-gray-700 hover:bg-white hover:border-gray-300/80",r),style:{boxShadow:t?"0 4px 20px -4px rgba(59, 130, 246, 0.3), 0 0 0 1px rgba(59, 130, 246, 0.1)":void 0},children:[i.jsxs("div",{className:"flex items-center gap-2.5 flex-1 min-w-0",children:[i.jsx("div",{className:oe("w-2 h-2 rounded-full flex-shrink-0 transition-all duration-300",t?"bg-white/90 shadow-sm":"shadow-sm"),style:{backgroundColor:t?"rgba(255, 255, 255, 0.9)":e.color,boxShadow:t?"0 1px 3px rgba(0, 0, 0, 0.1)":`0 1px 3px ${e.color}40`}}),i.jsx("span",{className:oe("text-sm font-medium truncate transition-all duration-300",t?"text-white":"text-gray-700 group-hover:text-gray-900"),children:e.name}),t&&i.jsx(In,{className:"w-3.5 h-3.5 text-white/90 flex-shrink-0 animate-in fade-in-0 zoom-in-95 duration-200"})]}),o&&i.jsx("span",{className:oe("text-xs font-medium px-2 py-0.5 rounded-full ml-2 flex-shrink-0 transition-all duration-300",t?"text-blue-600 bg-white/90 shadow-sm":"text-gray-500 bg-gray-100/80 group-hover:bg-gray-200/80 group-hover:text-gray-600"),children:e.count})]}),SC=({tags:e,selectedTags:t,onTagClick:n,className:r,emptyMessage:o="No tags found"})=>e.length===0?i.jsx("div",{className:oe("text-center py-8 text-gray-500",r),children:i.jsx("p",{className:"text-sm",children:o})}):i.jsx("div",{className:oe("grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",r),children:e.map(a=>i.jsx(kC,{tag:a,isSelected:t.includes(a.name),onClick:n},a.id))}),EC=({onSearch:e,onCreateTag:t,searchResults:n,searchQuery:r,className:o})=>{const[a,u]=g.useState(r);g.useEffect(()=>{u(r)},[r]);const l=p=>{const x=p.target.value;u(x),e(x)},d=()=>{a.trim()&&(t(a.trim()),u(""),e(""))},h=a.trim()&&n.length===0&&!n.some(p=>p.name.toLowerCase()===a.toLowerCase());return i.jsxs("div",{className:oe("space-y-3",o),children:[i.jsxs("div",{className:"relative",children:[i.jsx(Gr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(kt,{placeholder:"Search tags or create new...",value:a,onChange:l,className:"pl-11 pr-4 py-3 rounded-2xl border-gray-200/60 bg-gray-50/50 backdrop-blur-sm focus:bg-white focus:border-blue-300 transition-all duration-300"})]}),h&&i.jsxs(ke,{onClick:d,variant:"outline",className:"w-full justify-start text-left rounded-xl border-dashed border-2 border-gray-300 hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 py-3",children:[i.jsx(Uo,{className:"h-4 w-4 mr-2 text-blue-500"}),i.jsxs("span",{className:"text-gray-700",children:['Create tag "',i.jsx("span",{className:"font-medium text-blue-600",children:a}),'"']})]})]})},jC=({isOpen:e,onClose:t,currentCardTags:n,onTagsChange:r})=>{const{tags:o,searchTags:a,dispatch:u,createTagIfNotExists:l}=Ml(),[d,h]=g.useState(""),[p,x]=g.useState([]),[C,y]=g.useState(n);g.useEffect(()=>{if(d.trim()){const _=a(d);x(_)}else{const _=[...o].sort((j,E)=>E.count-j.count);x(_)}},[d,o,a]),g.useEffect(()=>{y(n)},[n]);const w=_=>{h(_)},k=_=>{u({type:"CREATE_TAG",payload:{name:_,color:"#3b82f6"}});const j=[...C,_];y(j),r(j),h("")},D=_=>{const j=C.includes(_.name);let E;j?E=C.filter(M=>M!==_.name):E=[...C,_.name],y(E),r(E)},S=()=>{h(""),t()};return e?i.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.15)",backdropFilter:"blur(8px)"},children:[i.jsx("div",{className:"absolute inset-0",onClick:S}),i.jsxs("div",{className:"relative bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl border border-gray-200/50 p-6 w-full max-w-sm sm:max-w-md lg:max-w-2xl max-h-[85vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Manage Tags"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select tags for this card"})]}),i.jsx("button",{onClick:S,className:"p-1 rounded-lg hover:bg-gray-100 transition-colors",children:i.jsx(Xn,{className:"w-5 h-5 text-gray-500"})})]}),i.jsx(EC,{onSearch:w,onCreateTag:k,searchResults:p,searchQuery:d,className:"mb-4"}),C.length>0&&i.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-100/50",children:[i.jsxs("p",{className:"text-sm font-medium text-blue-700 mb-3",children:["Selected tags (",C.length,"):"]}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:C.map(_=>i.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-sm",children:_},_))})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx(SC,{tags:p,selectedTags:C,onTagClick:D,emptyMessage:d?`No tags found for "${d}"`:"No tags available"})}),i.jsx("div",{className:"text-xs text-gray-400 text-center mt-4 pt-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),i.jsx("span",{children:"Click tags to add/remove them from this card"}),i.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"})]})})]})]}):null},AC=()=>{const{isOpen:e,currentCardTags:t,onTagsChange:n,closeTagPanel:r}=Vd();return!e||!n?null:i.jsx(jC,{isOpen:e,onClose:r,currentCardTags:t,onTagsChange:n})};function DC({className:e}){const[t,n]=g.useState({user:null,session:null,loading:!1,error:null}),{openModal:r}=Il(),{cards:o,filter:a,setFilter:u,viewSettings:l,setViewSettings:d,dispatch:h,getAllTags:p,updateTagsInAllCards:x,getCardsWithTag:C}=dm(),{folderTree:y,selectedFolderId:w,setSelectedFolderId:k,dispatch:D,getFolderById:S,folders:_}=Tl(),{tags:j,popularTags:E,renameTag:M,deleteTagByName:F,getAllTagNames:K}=Ml(),{toast:Y}=Z3(),[te,he]=g.useState(!1),[G,Z]=g.useState(!1),[je,Me]=g.useState({gap:16,showLayoutControls:!1});g.useEffect(()=>zt.onAuthStateChange(n),[]);const[Ne,be]=g.useState(!1),[Ie,Ae]=g.useState(!1),[U,fe]=g.useState(null),[xe,Ce]=g.useState(null),[ve,Ee]=g.useState(),[Be,se]=g.useState(!1),[X,Oe]=g.useState(!1),[ue,Ue]=g.useState(""),[Pe,we]=g.useState(null),{isDownloading:at,showPreview:At,previewData:ht,captureScreenshot:Zt,confirmDownload:dn,cancelPreview:$n}=q3({onSuccess:Q=>{Y({title:"Screenshot saved!",description:`${Q}.png has been downloaded successfully.`})},onError:Q=>{Y({title:"Screenshot failed",description:Q.message,variant:"destructive"})}}),Dr=Q=>{h({type:"FLIP_CARD",payload:Q})},yn=(Q,ge)=>{h({type:"UPDATE_CARD",payload:{id:Q,updates:ge}})},st=async Q=>{const ge=o.find(Re=>Re.id===Q);if(ge){const Re=ge.isFlipped?ge.backContent:ge.frontContent,Nt=xw(Re.title,Re.text);await yw(Nt)?console.log("Card content copied to clipboard"):console.error("Failed to copy card content")}},qn=async Q=>{const ge=o.find(ze=>ze.id===Q);if(!ge)return;const Re=document.querySelector(`[data-card-id="${Q}"]`);if(!Re){Y({title:"Screenshot failed",description:"Could not find card element. Please try again.",variant:"destructive"});return}const _e=(ge.isFlipped?ge.backContent:ge.frontContent).title||"Untitled Card";await Zt(Re,_e)},xt=Q=>{console.log("Share card:",Q)},er=Q=>{h({type:"DELETE_CARD",payload:Q})},fn=(Q,ge)=>{const Re=o.find(ze=>ze.id===Q);if(!Re)return;const Nt=Re.folderId;if(h({type:"UPDATE_CARD",payload:{id:Q,updates:{folderId:ge||void 0}}}),Nt){const ze=S(Nt);ze&&D({type:"UPDATE_FOLDER",payload:{id:Nt,updates:{cardIds:ze.cardIds.filter(Ge=>Ge!==Q)}}})}if(ge){const ze=S(ge);ze&&D({type:"UPDATE_FOLDER",payload:{id:ge,updates:{cardIds:[...ze.cardIds,Q]}}})}const _e=ge?S(ge)?.name:"Root";Y({title:"Card moved",description:`Card has been moved to "${_e}".`})},Je=()=>{h({type:"CREATE_CARD",payload:{frontContent:{title:"New Card",text:"Click to edit this card...",images:[],tags:[],lastModified:new Date},backContent:{title:"Back Side",text:"Add additional content here...",images:[],tags:[],lastModified:new Date},style:{type:"solid",backgroundColor:"#ffffff",fontFamily:"system-ui",fontSize:"base",fontWeight:"normal",textColor:"#1f2937",borderRadius:"xl",shadow:"md",borderWidth:0},isFlipped:!1,folderId:w||void 0}})},ft=()=>{Ee(void 0),fe(null),be(!0)},vn=Q=>{Ee(Q),fe(null),be(!0)},Xt=Q=>{const ge=S(Q);ge&&(fe({id:Q,name:ge.name,color:ge.color,icon:ge.icon||"Folder"}),Ee(void 0),be(!0))},Ut=Q=>{const ge=S(Q);if(ge){const Re=_.filter(Nt=>Nt.parentId===Q);Ce({id:Q,name:ge.name,cardCount:ge.cardIds.length,hasSubfolders:Re.length>0,subfolderCount:Re.length}),Ae(!0)}},wn=Q=>{U?(D({type:"UPDATE_FOLDER",payload:{id:U.id,updates:{name:Q.name,color:Q.color,icon:Q.icon}}}),Y({title:"Folder updated",description:`"${Q.name}" has been updated successfully.`})):(D({type:"CREATE_FOLDER",payload:{name:Q.name,color:Q.color,icon:Q.icon,cardIds:[],parentId:Q.parentId,isExpanded:!0}}),Y({title:"Folder created",description:`"${Q.name}" has been created successfully.`}))},Rt=()=>{xe&&(D({type:"DELETE_FOLDER",payload:xe.id,onDeleteCards:Q=>{Q.forEach(ge=>{h({type:"DELETE_CARD",payload:ge})})}}),Y({title:"Folder deleted",description:`"${xe.name}" and ${xe.cardCount} cards have been deleted.`}),w===xe.id&&yt(null))},Qt=Q=>{const ge=a.tags.includes(Q);u({...a,tags:ge?a.tags.filter(Re=>Re!==Q):[...a.tags,Q]})},yt=Q=>{k(Q),u({...a,folderId:Q||void 0})},Dt=Q=>{Ue(Q),se(!0)},pe=Q=>{const ge=C(Q);we({name:Q,cardCount:ge.length}),Oe(!0)},hn=(Q,ge)=>{M(Q,ge)?(x(Q,ge),Y({title:"Tag renamed",description:`"${Q}" has been renamed to "${ge}".`}),se(!1),Ue("")):Y({title:"Rename failed",description:"A tag with this name already exists.",variant:"destructive"})},Kt=()=>{Pe&&F(Pe.name)&&(x(Pe.name),a.tags.includes(Pe.name)&&u({...a,tags:a.tags.filter(ge=>ge!==Pe.name)}),Y({title:"Tag deleted",description:`"${Pe.name}" has been removed from ${Pe.cardCount} cards.`}),Oe(!1),we(null))},Jt=(Q=[],ge=0)=>Q.map(Re=>i.jsxs("div",{style:{marginLeft:ge*16},children:[i.jsx(ul,{folderId:Re.id,folderName:Re.name,onRename:Xt,onDelete:Ut,onCreateSubfolder:vn,children:i.jsxs(ke,{variant:w===Re.id?"secondary":"ghost",className:"w-full justify-start text-sm mb-1",onClick:()=>yt(Re.id),children:[i.jsx(Pn,{className:"h-4 w-4 mr-2",style:{color:Re.color}}),Re.name,i.jsx(Pt,{variant:"secondary",className:"ml-auto",children:Re.cardIds.length})]})}),Re.children&&Re.children.length>0&&Re.isExpanded&&i.jsx("div",{className:"ml-4",children:Jt(Re.children||[],ge+1)})]},Re.id)),ie=(Q=[])=>Q.map(ge=>i.jsxs("div",{children:[i.jsx(ul,{folderId:ge.id,folderName:ge.name,onRename:Xt,onDelete:Ut,onCreateSubfolder:vn,children:i.jsx(ke,{variant:w===ge.id?"secondary":"ghost",className:"w-full h-10 p-0 mb-1",onClick:()=>yt(ge.id),title:ge.name,children:i.jsx(Pn,{className:"h-4 w-4",style:{color:ge.color}})})}),ge.children&&ge.children.length>0&&ge.isExpanded&&i.jsx("div",{children:ie(ge.children||[])})]},ge.id));return i.jsx(qv,{children:i.jsxs("div",{className:oe("min-h-screen bg-background",e),children:[i.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-sm",children:"CA"})}),i.jsxs("h1",{className:"text-xl font-bold",children:[i.jsx("span",{className:"text-violet-600",children:"Card"}),i.jsx("span",{className:"text-pink-500",children:"All"})]})]}),i.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 hidden md:block",children:i.jsxs("div",{className:"relative",children:[i.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{placeholder:"Search cards...",value:a.searchTerm,onChange:Q=>u({...a,searchTerm:Q.target.value}),className:"pl-10 rounded-full w-80"})]})}),i.jsx("div",{className:"md:hidden absolute left-1/2 transform -translate-x-1/2",children:i.jsxs("div",{className:"relative",children:[i.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{placeholder:"Search...",value:a.searchTerm,onChange:Q=>u({...a,searchTerm:Q.target.value}),className:"pl-10 rounded-full w-60"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(gw,{children:[i.jsx(bw,{asChild:!0,children:i.jsx(ke,{variant:"ghost",size:"sm",children:i.jsx(lg,{className:"h-4 w-4"})})}),i.jsx(Tf,{className:"w-80",align:"end",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Layout Settings"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize the masonry layout appearance"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(St,{children:["Gap Size: ",je.gap,"px"]}),i.jsx(Ef,{value:[je.gap],onValueChange:([Q])=>Me(ge=>({...ge,gap:Q})),max:32,min:8,step:4,className:"w-full"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{children:"Card Size"}),i.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(Q=>i.jsx(ke,{variant:l.cardSize===Q?"default":"outline",size:"sm",onClick:()=>d(ge=>({...ge,cardSize:Q})),children:Q.charAt(0).toUpperCase()+Q.slice(1)},Q))})]})]})})]}),i.jsxs(ke,{onClick:Je,variant:"ghost",size:"sm",className:"text-black font-bold hover:bg-gray-100 rounded-full w-10 h-10 p-0 flex items-center justify-center",children:[i.jsx(Uo,{className:"h-6 w-6"}),i.jsx("span",{className:"sr-only",children:"Add Card"})]}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:r,className:"flex items-center gap-2",children:t.user?i.jsxs(i.Fragment,{children:[i.jsx(l0,{user:t.user,size:"sm",onClick:r,showHoverEffect:!0}),i.jsx("span",{className:"hidden sm:inline text-sm",children:t.user.username||"User"})]}):i.jsxs(i.Fragment,{children:[i.jsx(ag,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Login"})]})})]})]})}),i.jsxs("main",{className:"flex h-[calc(100vh-4rem)]",children:[i.jsxs("aside",{className:oe("border-r transition-all duration-300 ease-in-out flex flex-col",G?"w-16":"w-72"),children:[i.jsx("div",{className:"p-3 flex items-center justify-end",children:i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>Z(!G),className:"h-8 w-8 p-0",children:G?i.jsx(ei,{className:"h-4 w-4"}):i.jsx(Zm,{className:"h-4 w-4"})})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsxs("div",{className:"p-3 space-y-4",children:[!G&&i.jsxs("div",{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ke,{className:"w-full justify-start",onClick:Je,children:[i.jsx(Uo,{className:"h-4 w-4 mr-2"}),"New Card"]}),i.jsxs(ke,{variant:"outline",className:"w-full justify-start",onClick:ft,children:[i.jsx(Es,{className:"h-4 w-4 mr-2"}),"New Folder"]})]}),i.jsx(Hr,{className:"my-4"})]}),G&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{variant:"ghost",size:"sm",className:"w-full h-10 p-0",onClick:Je,title:"New Card",children:i.jsx(Uo,{className:"h-4 w-4"})}),i.jsx(ke,{variant:"ghost",size:"sm",className:"w-full h-10 p-0",onClick:ft,title:"New Folder",children:i.jsx(Es,{className:"h-4 w-4"})}),i.jsx(Hr,{className:"my-4"})]}),i.jsxs("div",{children:[!G&&i.jsx("h3",{className:"text-sm font-medium mb-3",children:"Folders"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(ke,{variant:w?"ghost":"secondary",className:oe("w-full text-sm",G?"h-10 p-0":"justify-start"),onClick:()=>yt(null),title:G?"All Cards":void 0,children:[i.jsx(Pn,{className:"h-4 w-4"}),!G&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"ml-2",children:"All Cards"}),i.jsx(Pt,{variant:"secondary",className:"ml-auto",children:o.length})]})]}),G?ie(y):Jt(y)]})]}),i.jsx(Hr,{}),i.jsxs("div",{children:[!G&&i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Tags"}),a.tags.length>0&&i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>u({...a,tags:[]}),className:"h-6 px-2 text-xs",children:"Clear"})]}),i.jsx("div",{className:"space-y-1",children:E(G?5:10).map(Q=>i.jsx(wC,{tagName:Q.name,onRename:Dt,onDelete:pe,disabled:G,children:i.jsxs(ke,{variant:a.tags.includes(Q.name)?"secondary":"ghost",className:oe("w-full text-sm",G?"h-10 p-0":"justify-start"),onClick:()=>Qt(Q.name),title:G?`${Q.name} (Right-click to expand sidebar for tag management)`:Q.name,children:[i.jsx(Yl,{className:"h-3 w-3",style:{color:Q.color}}),!G&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"ml-2",children:Q.name}),i.jsx(Pt,{variant:"secondary",className:"ml-auto",children:Q.count})]})]})},Q.id))})]}),!G&&(a.tags.length>0||a.searchTerm)&&i.jsxs(i.Fragment,{children:[i.jsx(Hr,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-3",children:"Active Filters"}),i.jsxs("div",{className:"space-y-2",children:[a.searchTerm&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gr,{className:"h-3 w-3"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:['"',a.searchTerm,'"']})]}),a.tags.map(Q=>i.jsx(Pt,{variant:"secondary",className:"mr-1",children:Q},Q))]})]})]})]})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"p-4",children:i.jsx(Vv,{cards:o,onCardFlip:Dr,onCardUpdate:yn,onCardCopy:st,onCardScreenshot:qn,onCardShare:xt,onCardDelete:er,onMoveToFolder:fn,cardSize:l.cardSize==="small"?"sm":l.cardSize==="large"?"lg":"md",enableVirtualization:o.length>20,gap:je.gap,overscan:3})})})]}),i.jsx(U3,{isOpen:At,onClose:$n,onConfirm:dn,previewUrl:ht?.previewUrl||null,fileName:ht?.fileName||"",isDownloading:at}),i.jsx(sC,{isOpen:Ne,onClose:()=>{be(!1),fe(null),Ee(void 0)},onConfirm:wn,parentId:ve,initialData:g.useMemo(()=>U?{name:U.name,color:U.color,icon:U.icon}:void 0,[U]),mode:U?"edit":"create"}),i.jsx(vC,{isOpen:Ie,onClose:()=>{Ae(!1),Ce(null)},onConfirm:Rt,folderName:xe?.name||"",cardCount:xe?.cardCount||0,hasSubfolders:xe?.hasSubfolders||!1,subfolderCount:xe?.subfolderCount||0}),i.jsx(CC,{isOpen:Be,onClose:()=>{se(!1),Ue("")},onConfirm:hn,tagName:ue,existingTags:K()}),i.jsx(_C,{isOpen:X,onClose:()=>{Oe(!1),we(null)},onConfirm:Kt,tagName:Pe?.name||"",cardCount:Pe?.cardCount||0}),i.jsx(AC,{})]})})}const NC={theme:"system",setTheme:()=>null},TC=g.createContext(NC);function MC({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[o,a]=g.useState(()=>localStorage.getItem(n)||t);g.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),o==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(d);return}l.classList.add(o)},[o]);const u={theme:o,setTheme:l=>{localStorage.setItem(n,l),a(l)}};return i.jsx(TC.Provider,{...r,value:u,children:e})}var PC=e=>{switch(e){case"success":return FC;case"info":return LC;case"warning":return OC;case"error":return zC;default:return null}},IC=Array(12).fill(0),RC=({visible:e,className:t})=>re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},re.createElement("div",{className:"sonner-spinner"},IC.map((n,r)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),FC=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OC=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LC=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zC=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BC=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$C=()=>{let[e,t]=re.useState(document.hidden);return re.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Us=1,qC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Us++,a=this.toasts.find(l=>l.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...e,id:o,title:n}),{...l,...e,id:o,dismissible:u,title:n}):l):this.addToast({title:n,...r,dismissible:u,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),o=n!==void 0,a,u=r.then(async d=>{if(a=["resolve",d],re.isValidElement(d))o=!1,this.create({id:n,type:"default",message:d});else if(KC(d)&&!d.ok){o=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:n,type:"error",message:h,description:p})}else if(t.success!==void 0){o=!1;let h=typeof t.success=="function"?await t.success(d):t.success,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"success",message:h,description:p})}}).catch(async d=>{if(a=["reject",d],t.error!==void 0){o=!1;let h=typeof t.error=="function"?await t.error(d):t.error,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"error",message:h,description:p})}}).finally(()=>{var d;o&&(this.dismiss(n),n=void 0),(d=t.finally)==null||d.call(t)}),l=()=>new Promise((d,h)=>u.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=t?.id||Us++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},_t=new qC,UC=(e,t)=>{let n=t?.id||Us++;return _t.addToast({title:e,...t,id:n}),n},KC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",HC=UC,VC=()=>_t.toasts,WC=()=>_t.getActiveToasts();Object.assign(HC,{success:_t.success,info:_t.info,warning:_t.warning,error:_t.error,custom:_t.custom,message:_t.message,promise:_t.promise,dismiss:_t.dismiss,loading:_t.loading},{getHistory:VC,getToasts:WC});function GC(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}GC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qo(e){return e.label!==void 0}var YC=3,ZC="32px",XC="16px",ll=4e3,QC=356,JC=14,e_=20,t_=200;function Ht(...e){return e.filter(Boolean).join(" ")}function n_(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var r_=e=>{var t,n,r,o,a,u,l,d,h,p,x;let{invert:C,toast:y,unstyled:w,interacting:k,setHeights:D,visibleToasts:S,heights:_,index:j,toasts:E,expanded:M,removeToast:F,defaultRichColors:K,closeButton:Y,style:te,cancelButtonStyle:he,actionButtonStyle:G,className:Z="",descriptionClassName:je="",duration:Me,position:Ne,gap:be,loadingIcon:Ie,expandByDefault:Ae,classNames:U,icons:fe,closeButtonAriaLabel:xe="Close toast",pauseWhenPageIsHidden:Ce}=e,[ve,Ee]=re.useState(null),[Be,se]=re.useState(null),[X,Oe]=re.useState(!1),[ue,Ue]=re.useState(!1),[Pe,we]=re.useState(!1),[at,At]=re.useState(!1),[ht,Zt]=re.useState(!1),[dn,$n]=re.useState(0),[Dr,yn]=re.useState(0),st=re.useRef(y.duration||Me||ll),qn=re.useRef(null),xt=re.useRef(null),er=j===0,fn=j+1<=S,Je=y.type,ft=y.dismissible!==!1,vn=y.className||"",Xt=y.descriptionClassName||"",Ut=re.useMemo(()=>_.findIndex(_e=>_e.toastId===y.id)||0,[_,y.id]),wn=re.useMemo(()=>{var _e;return(_e=y.closeButton)!=null?_e:Y},[y.closeButton,Y]),Rt=re.useMemo(()=>y.duration||Me||ll,[y.duration,Me]),Qt=re.useRef(0),yt=re.useRef(0),Dt=re.useRef(0),pe=re.useRef(null),[hn,Kt]=Ne.split("-"),Jt=re.useMemo(()=>_.reduce((_e,ze,Ge)=>Ge>=Ut?_e:_e+ze.height,0),[_,Ut]),ie=$C(),Q=y.invert||C,ge=Je==="loading";yt.current=re.useMemo(()=>Ut*be+Jt,[Ut,Jt]),re.useEffect(()=>{st.current=Rt},[Rt]),re.useEffect(()=>{Oe(!0)},[]),re.useEffect(()=>{let _e=xt.current;if(_e){let ze=_e.getBoundingClientRect().height;return yn(ze),D(Ge=>[{toastId:y.id,height:ze,position:y.position},...Ge]),()=>D(Ge=>Ge.filter(it=>it.toastId!==y.id))}},[D,y.id]),re.useLayoutEffect(()=>{if(!X)return;let _e=xt.current,ze=_e.style.height;_e.style.height="auto";let Ge=_e.getBoundingClientRect().height;_e.style.height=ze,yn(Ge),D(it=>it.find(ut=>ut.toastId===y.id)?it.map(ut=>ut.toastId===y.id?{...ut,height:Ge}:ut):[{toastId:y.id,height:Ge,position:y.position},...it])},[X,y.title,y.description,D,y.id]);let Re=re.useCallback(()=>{Ue(!0),$n(yt.current),D(_e=>_e.filter(ze=>ze.toastId!==y.id)),setTimeout(()=>{F(y)},t_)},[y,F,D,yt]);re.useEffect(()=>{if(y.promise&&Je==="loading"||y.duration===1/0||y.type==="loading")return;let _e;return M||k||Ce&&ie?(()=>{if(Dt.current<Qt.current){let ze=new Date().getTime()-Qt.current;st.current=st.current-ze}Dt.current=new Date().getTime()})():st.current!==1/0&&(Qt.current=new Date().getTime(),_e=setTimeout(()=>{var ze;(ze=y.onAutoClose)==null||ze.call(y,y),Re()},st.current)),()=>clearTimeout(_e)},[M,k,y,Je,Ce,ie,Re]),re.useEffect(()=>{y.delete&&Re()},[Re,y.delete]);function Nt(){var _e,ze,Ge;return fe!=null&&fe.loading?re.createElement("div",{className:Ht(U?.loader,(_e=y?.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":Je==="loading"},fe.loading):Ie?re.createElement("div",{className:Ht(U?.loader,(ze=y?.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":Je==="loading"},Ie):re.createElement(RC,{className:Ht(U?.loader,(Ge=y?.classNames)==null?void 0:Ge.loader),visible:Je==="loading"})}return re.createElement("li",{tabIndex:0,ref:xt,className:Ht(Z,vn,U?.toast,(t=y?.classNames)==null?void 0:t.toast,U?.default,U?.[Je],(n=y?.classNames)==null?void 0:n[Je]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:K,"data-styled":!(y.jsx||y.unstyled||w),"data-mounted":X,"data-promise":!!y.promise,"data-swiped":ht,"data-removed":ue,"data-visible":fn,"data-y-position":hn,"data-x-position":Kt,"data-index":j,"data-front":er,"data-swiping":Pe,"data-dismissible":ft,"data-type":Je,"data-invert":Q,"data-swipe-out":at,"data-swipe-direction":Be,"data-expanded":!!(M||Ae&&X),style:{"--index":j,"--toasts-before":j,"--z-index":E.length-j,"--offset":`${ue?dn:yt.current}px`,"--initial-height":Ae?"auto":`${Dr}px`,...te,...y.style},onDragEnd:()=>{we(!1),Ee(null),pe.current=null},onPointerDown:_e=>{ge||!ft||(qn.current=new Date,$n(yt.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(we(!0),pe.current={x:_e.clientX,y:_e.clientY}))},onPointerUp:()=>{var _e,ze,Ge,it;if(at||!ft)return;pe.current=null;let ut=Number(((_e=xt.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ft=Number(((ze=xt.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ot=new Date().getTime()-((Ge=qn.current)==null?void 0:Ge.getTime()),$e=ve==="x"?ut:Ft,Ye=Math.abs($e)/Ot;if(Math.abs($e)>=e_||Ye>.11){$n(yt.current),(it=y.onDismiss)==null||it.call(y,y),se(ve==="x"?ut>0?"right":"left":Ft>0?"down":"up"),Re(),At(!0),Zt(!1);return}we(!1),Ee(null)},onPointerMove:_e=>{var ze,Ge,it,ut;if(!pe.current||!ft||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let Ft=_e.clientY-pe.current.y,Ot=_e.clientX-pe.current.x,$e=(Ge=e.swipeDirections)!=null?Ge:n_(Ne);!ve&&(Math.abs(Ot)>1||Math.abs(Ft)>1)&&Ee(Math.abs(Ot)>Math.abs(Ft)?"x":"y");let Ye={x:0,y:0};ve==="y"?($e.includes("top")||$e.includes("bottom"))&&($e.includes("top")&&Ft<0||$e.includes("bottom")&&Ft>0)&&(Ye.y=Ft):ve==="x"&&($e.includes("left")||$e.includes("right"))&&($e.includes("left")&&Ot<0||$e.includes("right")&&Ot>0)&&(Ye.x=Ot),(Math.abs(Ye.x)>0||Math.abs(Ye.y)>0)&&Zt(!0),(it=xt.current)==null||it.style.setProperty("--swipe-amount-x",`${Ye.x}px`),(ut=xt.current)==null||ut.style.setProperty("--swipe-amount-y",`${Ye.y}px`)}},wn&&!y.jsx?re.createElement("button",{"aria-label":xe,"data-disabled":ge,"data-close-button":!0,onClick:ge||!ft?()=>{}:()=>{var _e;Re(),(_e=y.onDismiss)==null||_e.call(y,y)},className:Ht(U?.closeButton,(o=y?.classNames)==null?void 0:o.closeButton)},(a=fe?.close)!=null?a:BC):null,y.jsx||g.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:re.createElement(re.Fragment,null,Je||y.icon||y.promise?re.createElement("div",{"data-icon":"",className:Ht(U?.icon,(u=y?.classNames)==null?void 0:u.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Nt():null,y.type!=="loading"?y.icon||fe?.[Je]||PC(Je):null):null,re.createElement("div",{"data-content":"",className:Ht(U?.content,(l=y?.classNames)==null?void 0:l.content)},re.createElement("div",{"data-title":"",className:Ht(U?.title,(d=y?.classNames)==null?void 0:d.title)},typeof y.title=="function"?y.title():y.title),y.description?re.createElement("div",{"data-description":"",className:Ht(je,Xt,U?.description,(h=y?.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),g.isValidElement(y.cancel)?y.cancel:y.cancel&&qo(y.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||he,onClick:_e=>{var ze,Ge;qo(y.cancel)&&ft&&((Ge=(ze=y.cancel).onClick)==null||Ge.call(ze,_e),Re())},className:Ht(U?.cancelButton,(p=y?.classNames)==null?void 0:p.cancelButton)},y.cancel.label):null,g.isValidElement(y.action)?y.action:y.action&&qo(y.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||G,onClick:_e=>{var ze,Ge;qo(y.action)&&((Ge=(ze=y.action).onClick)==null||Ge.call(ze,_e),!_e.defaultPrevented&&Re())},className:Ht(U?.actionButton,(x=y?.classNames)==null?void 0:x.actionButton)},y.action.label):null))};function cl(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function o_(e,t){let n={};return[e,t].forEach((r,o)=>{let a=o===1,u=a?"--mobile-offset":"--offset",l=a?XC:ZC;function d(h){["top","right","bottom","left"].forEach(p=>{n[`${u}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${u}-${h}`]=l:n[`${u}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(l)}),n}var a_=g.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:u,className:l,offset:d,mobileOffset:h,theme:p="light",richColors:x,duration:C,style:y,visibleToasts:w=YC,toastOptions:k,dir:D=cl(),gap:S=JC,loadingIcon:_,icons:j,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:M}=e,[F,K]=re.useState([]),Y=re.useMemo(()=>Array.from(new Set([r].concat(F.filter(Ce=>Ce.position).map(Ce=>Ce.position)))),[F,r]),[te,he]=re.useState([]),[G,Z]=re.useState(!1),[je,Me]=re.useState(!1),[Ne,be]=re.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Ie=re.useRef(null),Ae=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=re.useRef(null),fe=re.useRef(!1),xe=re.useCallback(Ce=>{K(ve=>{var Ee;return(Ee=ve.find(Be=>Be.id===Ce.id))!=null&&Ee.delete||_t.dismiss(Ce.id),ve.filter(({id:Be})=>Be!==Ce.id)})},[]);return re.useEffect(()=>_t.subscribe(Ce=>{if(Ce.dismiss){K(ve=>ve.map(Ee=>Ee.id===Ce.id?{...Ee,delete:!0}:Ee));return}setTimeout(()=>{Np.flushSync(()=>{K(ve=>{let Ee=ve.findIndex(Be=>Be.id===Ce.id);return Ee!==-1?[...ve.slice(0,Ee),{...ve[Ee],...Ce},...ve.slice(Ee+1)]:[Ce,...ve]})})})}),[]),re.useEffect(()=>{if(p!=="system"){be(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?be("dark"):be("light")),typeof window>"u")return;let Ce=window.matchMedia("(prefers-color-scheme: dark)");try{Ce.addEventListener("change",({matches:ve})=>{be(ve?"dark":"light")})}catch{Ce.addListener(({matches:Ee})=>{try{be(Ee?"dark":"light")}catch(Be){console.error(Be)}})}},[p]),re.useEffect(()=>{F.length<=1&&Z(!1)},[F]),re.useEffect(()=>{let Ce=ve=>{var Ee,Be;o.every(se=>ve[se]||ve.code===se)&&(Z(!0),(Ee=Ie.current)==null||Ee.focus()),ve.code==="Escape"&&(document.activeElement===Ie.current||(Be=Ie.current)!=null&&Be.contains(document.activeElement))&&Z(!1)};return document.addEventListener("keydown",Ce),()=>document.removeEventListener("keydown",Ce)},[o]),re.useEffect(()=>{if(Ie.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,fe.current=!1)}},[Ie.current]),re.createElement("section",{ref:t,"aria-label":`${E} ${Ae}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Y.map((Ce,ve)=>{var Ee;let[Be,se]=Ce.split("-");return F.length?re.createElement("ol",{key:Ce,dir:D==="auto"?cl():D,tabIndex:-1,ref:Ie,className:l,"data-sonner-toaster":!0,"data-theme":Ne,"data-y-position":Be,"data-lifted":G&&F.length>1&&!a,"data-x-position":se,style:{"--front-toast-height":`${((Ee=te[0])==null?void 0:Ee.height)||0}px`,"--width":`${QC}px`,"--gap":`${S}px`,...y,...o_(d,h)},onBlur:X=>{fe.current&&!X.currentTarget.contains(X.relatedTarget)&&(fe.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,U.current=X.relatedTarget)},onMouseEnter:()=>Z(!0),onMouseMove:()=>Z(!0),onMouseLeave:()=>{je||Z(!1)},onDragEnd:()=>Z(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||Me(!0)},onPointerUp:()=>Me(!1)},F.filter(X=>!X.position&&ve===0||X.position===Ce).map((X,Oe)=>{var ue,Ue;return re.createElement(r_,{key:X.id,icons:j,index:Oe,toast:X,defaultRichColors:x,duration:(ue=k?.duration)!=null?ue:C,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:n,visibleToasts:w,closeButton:(Ue=k?.closeButton)!=null?Ue:u,interacting:je,position:Ce,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,removeToast:xe,toasts:F.filter(Pe=>Pe.position==X.position),heights:te.filter(Pe=>Pe.position==X.position),setHeights:he,expandByDefault:a,gap:S,loadingIcon:_,expanded:G,pauseWhenPageIsHidden:M,swipeDirections:e.swipeDirections})})):null}))});const s_=({...e})=>i.jsx(a_,{theme:"light",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e}),Mi=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Mi.displayName="Card";const Zh=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));Zh.displayName="CardHeader";const Xh=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Xh.displayName="CardTitle";const Qh=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));Qh.displayName="CardDescription";const Pi=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:oe("p-6 pt-0",e),...t}));Pi.displayName="CardContent";const i_=g.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",e),...t}));i_.displayName="CardFooter";function u_({open:e,onOpenChange:t}){const[n,r]=g.useState({user:null,session:null,loading:!1,error:null}),[o,a]=g.useState("main"),[u,l]=g.useState(!1),[d,h]=g.useState({email:"",password:"",confirmPassword:"",name:""}),[p,x]=g.useState({}),[C,y]=g.useState(!1);g.useEffect(()=>zt.onAuthStateChange(r),[]);const w=()=>{h({email:"",password:"",confirmPassword:"",name:""}),x({}),y(!1),l(!1)},k=G=>{const Z={};return(G==="email-login"||G==="email-signup"||G==="forgot-password")&&(d.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(Z.email="请输入有效的邮箱地址"):Z.email="请输入邮箱地址"),(G==="email-login"||G==="email-signup")&&(d.password?d.password.length<6&&(Z.password="密码至少需要6个字符"):Z.password="请输入密码"),G==="email-signup"&&(d.name||(Z.name="请输入姓名"),d.password!==d.confirmPassword&&(Z.confirmPassword="两次输入的密码不一致")),x(Z),Object.keys(Z).length===0},D=async()=>{y(!0);const{error:G}=await zt.signInWithGitHub();G&&console.error("GitHub登录失败:",G),y(!1)},S=async()=>{if(!k("email-login"))return;y(!0);const{error:G}=await zt.signInWithEmail(d.email,d.password);G?x({general:G.message}):(t(!1),w(),a("main")),y(!1)},_=async()=>{if(!k("email-signup"))return;y(!0);const{error:G}=await zt.signUpWithEmail(d.email,d.password,{name:d.name});G?x({general:G.message}):a("check-email"),y(!1)},j=async()=>{if(!k("forgot-password"))return;y(!0);const{error:G}=await zt.resetPassword(d.email);G?x({general:G.message}):a("check-email"),y(!1)},E=async()=>{const{error:G}=await zt.signOut();G&&console.error("登出失败:",G)},M=async()=>{await tt.performFullSync()};if(n.user)return i.jsx(Yn,{open:e,onOpenChange:t,children:i.jsx(Fn,{className:"sm:max-w-md border-0 shadow-2xl",children:i.jsxs("div",{className:"space-y-6 p-2",children:[i.jsx(Mi,{className:"border-0 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20",children:i.jsx(Pi,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(l0,{user:n.user,size:"lg",className:"h-16 w-16 shadow-lg",showHoverEffect:!1}),i.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 bg-green-500 rounded-full border-2 border-white"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-lg",children:n.user.username||"用户"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:n.user.email}),i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(xu,{className:"h-3 w-3 text-green-500"}),i.jsx("span",{className:"text-xs text-green-600",children:"云端同步已启用"})]})]})]})})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ke,{onClick:M,variant:"outline",className:"w-full h-12 rounded-2xl border-2 hover:bg-blue-50 transition-all duration-200",disabled:n.loading,children:[n.loading?i.jsx($r,{className:"h-5 w-5 mr-2 animate-spin"}):i.jsx(xu,{className:"h-5 w-5 mr-2 text-blue-500"}),"立即同步数据"]}),i.jsx(ke,{onClick:E,variant:"ghost",className:"w-full h-12 rounded-2xl hover:bg-red-50 hover:text-red-600 transition-all duration-200",disabled:n.loading,children:"退出登录"})]})]})})});const F=()=>i.jsxs("div",{className:"space-y-6 p-2",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"欢迎使用 CardAll"}),i.jsx("p",{className:"text-muted-foreground",children:"选择您的登录方式"})]}),i.jsxs(ke,{onClick:D,disabled:C,className:"w-full h-14 rounded-2xl bg-gray-900 hover:bg-gray-800 text-white shadow-lg transition-all duration-200 transform hover:scale-[1.02]",size:"lg",children:[C?i.jsx($r,{className:"h-5 w-5 mr-3 animate-spin"}):i.jsx(ng,{className:"h-5 w-5 mr-3"}),"使用 GitHub 登录"]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t border-gray-200"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-4 text-muted-foreground",children:"或"})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ke,{onClick:()=>a("email-login"),variant:"outline",className:"w-full h-14 rounded-2xl border-2 hover:bg-blue-50 transition-all duration-200 transform hover:scale-[1.02]",size:"lg",children:[i.jsx(qr,{className:"h-5 w-5 mr-3 text-blue-500"}),"使用邮箱登录"]}),i.jsxs(ke,{onClick:()=>a("email-signup"),variant:"ghost",className:"w-full h-12 rounded-2xl hover:bg-green-50 hover:text-green-600 transition-all duration-200",children:[i.jsx(_u,{className:"h-4 w-4 mr-2"}),"创建新账户"]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1 pt-4",children:[i.jsx("p",{children:"登录后可享受云端同步功能"}),i.jsx("p",{children:"即使不登录也可正常使用本地功能"})]})]}),K=()=>i.jsxs("div",{className:"space-y-6 p-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>a("main"),className:"rounded-full p-2",children:i.jsx(rs,{className:"h-4 w-4"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"邮箱登录"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"email",children:"邮箱地址"}),i.jsxs("div",{className:"relative",children:[i.jsx(qr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"email",type:"email",placeholder:"输入您的邮箱地址",value:d.email,onChange:G=>h(Z=>({...Z,email:G.target.value})),className:"pl-10 h-12 rounded-2xl border-2"})]}),p.email&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Vt,{className:"h-3 w-3"}),p.email]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"password",children:"密码"}),i.jsxs("div",{className:"relative",children:[i.jsx(os,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"password",type:u?"text":"password",placeholder:"输入您的密码",value:d.password,onChange:G=>h(Z=>({...Z,password:G.target.value})),className:"pl-10 pr-10 h-12 rounded-2xl border-2"}),i.jsx(ke,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-10 w-10 rounded-xl",onClick:()=>l(!u),children:u?i.jsx(yu,{className:"h-4 w-4"}):i.jsx(vu,{className:"h-4 w-4"})})]}),p.password&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Vt,{className:"h-3 w-3"}),p.password]})]}),i.jsx("div",{className:"text-right",children:i.jsx(ke,{variant:"link",size:"sm",onClick:()=>a("forgot-password"),className:"text-blue-600 hover:text-blue-700 p-0 h-auto",children:"忘记密码？"})}),p.general&&i.jsxs("div",{className:"text-sm text-red-500 text-center bg-red-50 p-3 rounded-2xl flex items-center justify-center gap-2",children:[i.jsx(Vt,{className:"h-4 w-4"}),p.general]}),i.jsxs(ke,{onClick:S,disabled:C,className:"w-full h-12 rounded-2xl bg-blue-600 hover:bg-blue-700 transition-all duration-200",children:[C?i.jsx($r,{className:"h-4 w-4 mr-2 animate-spin"}):null,"登录"]})]})]}),Y=()=>i.jsxs("div",{className:"space-y-6 p-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>a("main"),className:"rounded-full p-2",children:i.jsx(rs,{className:"h-4 w-4"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"创建账户"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"name",children:"姓名"}),i.jsxs("div",{className:"relative",children:[i.jsx(_u,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"name",type:"text",placeholder:"输入您的姓名",value:d.name,onChange:G=>h(Z=>({...Z,name:G.target.value})),className:"pl-10 h-12 rounded-2xl border-2"})]}),p.name&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Vt,{className:"h-3 w-3"}),p.name]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"signup-email",children:"邮箱地址"}),i.jsxs("div",{className:"relative",children:[i.jsx(qr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"signup-email",type:"email",placeholder:"输入您的邮箱地址",value:d.email,onChange:G=>h(Z=>({...Z,email:G.target.value})),className:"pl-10 h-12 rounded-2xl border-2"})]}),p.email&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Vt,{className:"h-3 w-3"}),p.email]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"signup-password",children:"密码"}),i.jsxs("div",{className:"relative",children:[i.jsx(os,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"signup-password",type:u?"text":"password",placeholder:"设置您的密码（至少6个字符）",value:d.password,onChange:G=>h(Z=>({...Z,password:G.target.value})),className:"pl-10 pr-10 h-12 rounded-2xl border-2"}),i.jsx(ke,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-10 w-10 rounded-xl",onClick:()=>l(!u),children:u?i.jsx(yu,{className:"h-4 w-4"}):i.jsx(vu,{className:"h-4 w-4"})})]}),p.password&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Vt,{className:"h-3 w-3"}),p.password]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"confirm-password",children:"确认密码"}),i.jsxs("div",{className:"relative",children:[i.jsx(os,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"confirm-password",type:u?"text":"password",placeholder:"再次输入密码",value:d.confirmPassword,onChange:G=>h(Z=>({...Z,confirmPassword:G.target.value})),className:"pl-10 h-12 rounded-2xl border-2"})]}),p.confirmPassword&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Vt,{className:"h-3 w-3"}),p.confirmPassword]})]}),p.general&&i.jsxs("div",{className:"text-sm text-red-500 text-center bg-red-50 p-3 rounded-2xl flex items-center justify-center gap-2",children:[i.jsx(Vt,{className:"h-4 w-4"}),p.general]}),i.jsxs(ke,{onClick:_,disabled:C,className:"w-full h-12 rounded-2xl bg-green-600 hover:bg-green-700 transition-all duration-200",children:[C?i.jsx($r,{className:"h-4 w-4 mr-2 animate-spin"}):null,"创建账户"]}),i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:i.jsx("p",{children:"注册即表示您同意我们的服务条款和隐私政策"})})]})]}),te=()=>i.jsxs("div",{className:"space-y-6 p-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>a("email-login"),className:"rounded-full p-2",children:i.jsx(rs,{className:"h-4 w-4"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"重置密码"})]}),i.jsx("div",{className:"text-center space-y-2",children:i.jsx("p",{className:"text-muted-foreground",children:"输入您的邮箱地址，我们将发送重置密码的链接"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"reset-email",children:"邮箱地址"}),i.jsxs("div",{className:"relative",children:[i.jsx(qr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"reset-email",type:"email",placeholder:"输入您的邮箱地址",value:d.email,onChange:G=>h(Z=>({...Z,email:G.target.value})),className:"pl-10 h-12 rounded-2xl border-2"})]}),p.email&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Vt,{className:"h-3 w-3"}),p.email]})]}),p.general&&i.jsxs("div",{className:"text-sm text-red-500 text-center bg-red-50 p-3 rounded-2xl flex items-center justify-center gap-2",children:[i.jsx(Vt,{className:"h-4 w-4"}),p.general]}),i.jsxs(ke,{onClick:j,disabled:C,className:"w-full h-12 rounded-2xl bg-blue-600 hover:bg-blue-700 transition-all duration-200",children:[C?i.jsx($r,{className:"h-4 w-4 mr-2 animate-spin"}):null,"发送重置链接"]})]})]}),he=()=>i.jsxs("div",{className:"space-y-6 p-2 text-center",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(qr,{className:"h-8 w-8 text-blue-600"})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"检查您的邮箱"}),i.jsxs("p",{className:"text-muted-foreground",children:["我们已向 ",i.jsx("span",{className:"font-medium",children:d.email})," 发送了一封邮件"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["请点击邮件中的链接来完成",o==="check-email"?"账户激活":"密码重置"]})]}),i.jsx(ke,{onClick:()=>{a("main"),w()},variant:"outline",className:"w-full h-12 rounded-2xl border-2",children:"返回登录"})]});return i.jsx(Yn,{open:e,onOpenChange:G=>{t(G),G||(a("main"),w())},children:i.jsxs(Fn,{className:"sm:max-w-md border-0 shadow-2xl rounded-3xl",children:[o==="main"&&F(),o==="email-login"&&K(),o==="email-signup"&&Y(),o==="forgot-password"&&te(),o==="check-email"&&he()]})})}const l_=({onClose:e})=>{const[t,n]=g.useState(null),[r,o]=g.useState(!1),[a,u]=g.useState(!1),[l,d]=g.useState(navigator.onLine);g.useEffect(()=>{const x=()=>{window.matchMedia("(display-mode: standalone)").matches&&u(!0)},C=D=>{D.preventDefault(),n(D),setTimeout(()=>{a||o(!0)},3e3)},y=()=>{u(!0),o(!1),n(null),console.log("PWA was installed")},w=()=>d(!0),k=()=>d(!1);return x(),window.addEventListener("beforeinstallprompt",C),window.addEventListener("appinstalled",y),window.addEventListener("online",w),window.addEventListener("offline",k),()=>{window.removeEventListener("beforeinstallprompt",C),window.removeEventListener("appinstalled",y),window.removeEventListener("online",w),window.removeEventListener("offline",k)}},[a]);const h=async()=>{if(t)try{await t.prompt();const{outcome:x}=await t.userChoice;console.log(x==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),n(null),o(!1)}catch(x){console.error("Error during installation:",x)}},p=()=>{o(!1),e?.()};return!r||a?null:i.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-sm",children:i.jsxs(Mi,{className:"shadow-lg border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-white",children:[i.jsxs(Zh,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wr,{className:"h-5 w-5 text-blue-600"}),i.jsx(Xh,{className:"text-lg",children:"安装 CardAll"})]}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:p,className:"h-6 w-6 p-0",children:i.jsx(Xn,{className:"h-4 w-4"})})]}),i.jsx(Qh,{children:"将 CardAll 安装到您的设备上，享受更好的体验"})]}),i.jsxs(Pi,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[l?i.jsx(mg,{className:"h-4 w-4"}):i.jsx(pg,{className:"h-4 w-4"}),i.jsx("span",{children:l?"在线使用":"离线可用"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(cg,{className:"h-4 w-4"}),i.jsx("span",{children:"移动优化"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-purple-600",children:[i.jsx(sg,{className:"h-4 w-4"}),i.jsx("span",{children:"桌面应用"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[i.jsx(Wr,{className:"h-4 w-4"}),i.jsx("span",{children:"快速启动"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-sm",children:"安装后您将获得："}),i.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[i.jsx("li",{children:"• 完全离线功能"}),i.jsx("li",{children:"• 更快的加载速度"}),i.jsx("li",{children:"• 桌面快捷方式"}),i.jsx("li",{children:"• 推送通知支持"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ke,{onClick:h,className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:!t,children:[i.jsx(Wr,{className:"h-4 w-4 mr-2"}),"立即安装"]}),i.jsx(ke,{variant:"outline",onClick:p,className:"px-3",children:"稍后"})]})]})]})})};function c_(){const{isOpen:e,closeModal:t}=Il();return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(cm,{children:i.jsx(kv,{children:i.jsx(Sv,{children:i.jsx(DC,{})})})}),i.jsx(l_,{}),i.jsx(u_,{open:e,onOpenChange:t}),i.jsx(s_,{})]})}function dl(){return i.jsx(MC,{defaultTheme:"light",storageKey:"cardall-theme",children:i.jsx(fm,{children:i.jsx(c_,{})})})}const d_=async()=>{try{await ye.open(),console.log("✅ Database initialized"),tt.setAuthService(zt),console.log("✅ Auth service connected to sync service"),await tt.restoreSyncQueue(),console.log("✅ Sync service restored"),zt.isAuthenticated()&&(console.log("🔄 User authenticated, starting full sync..."),await tt.performFullSync()),Vo.createRoot(document.getElementById("root")).render(i.jsx(re.StrictMode,{children:i.jsx(dl,{})}))}catch(e){console.error("❌ Failed to initialize app:",e),Vo.createRoot(document.getElementById("root")).render(i.jsx(re.StrictMode,{children:i.jsx(dl,{})}))}};d_();
