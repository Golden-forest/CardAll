import{j as i,S as Zn,c as ar,u as We,a as mn,P as qe,b as me,d as Xn,e as Pt,f as fl,g as Or,h as hl,i as oa,A as pl,k as ml,R as gl,F as bl,D as xl,C as yl,l as vl,m as Cp,n as wl,o as Cl,p as Wt,O as Ks,q as _l,r as Vs,s as Ws,T as Gs,t as Ys,v as kl,w as _p,x as kp,y as Sl,z as Sp,B as Ep,E as El,W as jp,G as Ap,H as Dp}from"./ui-vLvn9UMW.js";import{a as vn,d as du,g as jl,r as g,b as ne,v as Np}from"./vendor-MXm4CGdz.js";import{c as Tp,_ as Ja}from"./supabase-Dpl7Lpu-.js";import{N as bt,n as Pp,m as Mp,P as Ip,T as Fp,a as Rp,S as Op,M as ws,E as Zs,e as Lp,b as zp,c as Bp,D as $p,d as wn,g as Al,F as Cs,u as qp,i as Up,f as Hp,h as Kp,j as Vp,k as Wp,l as Gp,o as Yp}from"./editor-CxQlH2eM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var _s={},fu=vn;_s.createRoot=fu.createRoot,_s.hydrateRoot=fu.hydrateRoot;var Dl={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(du,function(){var r=function(s,c){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b])})(s,c)},n=function(){return(n=Object.assign||function(s){for(var c,f=1,m=arguments.length;f<m;f++)for(var b in c=arguments[f])Object.prototype.hasOwnProperty.call(c,b)&&(s[b]=c[b]);return s}).apply(this,arguments)};function o(s,c,f){for(var m,b=0,v=c.length;b<v;b++)!m&&b in c||((m=m||Array.prototype.slice.call(c,0,b))[b]=c[b]);return s.concat(m||Array.prototype.slice.call(c))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:du,u=Object.keys,l=Array.isArray;function d(s,c){return typeof c!="object"||u(c).forEach(function(f){s[f]=c[f]}),s}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var h=Object.getPrototypeOf,p={}.hasOwnProperty;function x(s,c){return p.call(s,c)}function C(s,c){typeof c=="function"&&(c=c(h(s))),(typeof Reflect>"u"?u:Reflect.ownKeys)(c).forEach(function(f){w(s,f,c[f])})}var y=Object.defineProperty;function w(s,c,f,m){y(s,c,d(f&&x(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},m))}function k(s){return{from:function(c){return s.prototype=Object.create(c.prototype),w(s.prototype,"constructor",s),{extend:C.bind(null,s.prototype)}}}}var D=Object.getOwnPropertyDescriptor,S=[].slice;function E(s,c,f){return S.call(s,c,f)}function _(s,c){return c(s)}function A(s){if(!s)throw new Error("Assertion Failed")}function P(s){a.setImmediate?setImmediate(s):setTimeout(s,0)}function $(s,c){if(typeof c=="string"&&x(s,c))return s[c];if(!c)return s;if(typeof c!="string"){for(var f=[],m=0,b=c.length;m<b;++m){var v=$(s,c[m]);f.push(v)}return f}var j=c.indexOf(".");if(j!==-1){var N=s[c.substr(0,j)];return N==null?void 0:$(N,c.substr(j+1))}}function U(s,c,f){if(s&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof c!="string"&&"length"in c){A(typeof f!="string"&&"length"in f);for(var m=0,b=c.length;m<b;++m)U(s,c[m],f[m])}else{var v,j,N=c.indexOf(".");N!==-1?(v=c.substr(0,N),(j=c.substr(N+1))===""?f===void 0?l(s)&&!isNaN(parseInt(v))?s.splice(v,1):delete s[v]:s[v]=f:U(N=!(N=s[v])||!x(s,v)?s[v]={}:N,j,f)):f===void 0?l(s)&&!isNaN(parseInt(c))?s.splice(c,1):delete s[c]:s[c]=f}}function Y(s){var c,f={};for(c in s)x(s,c)&&(f[c]=s[c]);return f}var te=[].concat;function he(s){return te.apply([],s)}var Je="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(he([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(c){return c+s+"Array"})}))).filter(function(s){return a[s]}),V=new Set(Je.map(function(s){return a[s]})),X=null;function ye(s){return X=new WeakMap,s=function c(f){if(!f||typeof f!="object")return f;var m=X.get(f);if(m)return m;if(l(f)){m=[],X.set(f,m);for(var b=0,v=f.length;b<v;++b)m.push(c(f[b]))}else if(V.has(f.constructor))m=f;else{var j,N=h(f);for(j in m=N===Object.prototype?{}:Object.create(N),X.set(f,m),f)x(f,j)&&(m[j]=c(f[j]))}return m}(s),X=null,s}var Pe={}.toString;function Ne(s){return Pe.call(s).slice(8,-1)}var be=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ie=typeof be=="symbol"?function(s){var c;return s!=null&&(c=s[be])&&c.apply(s)}:function(){return null};function je(s,c){return c=s.indexOf(c),0<=c&&s.splice(c,1),0<=c}var H={};function fe(s){var c,f,m,b;if(arguments.length===1){if(l(s))return s.slice();if(this===H&&typeof s=="string")return[s];if(b=Ie(s)){for(f=[];!(m=b.next()).done;)f.push(m.value);return f}if(s==null)return[s];if(typeof(c=s.length)!="number")return[s];for(f=new Array(c);c--;)f[c]=s[c];return f}for(c=arguments.length,f=new Array(c);c--;)f[c]=arguments[c];return f}var xe=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},dr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Lt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(dr),Ce={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ve(s,c){this.name=s,this.message=c}function Ee(s,c){return s+". Errors: "+Object.keys(c).map(function(f){return c[f].toString()}).filter(function(f,m,b){return b.indexOf(f)===m}).join(`
`)}function Be(s,c,f,m){this.failures=c,this.failedKeys=m,this.successCount=f,this.message=Ee(s,c)}function se(s,c){this.name="BulkError",this.failures=Object.keys(c).map(function(f){return c[f]}),this.failuresByPos=c,this.message=Ee(s,this.failures)}k(ve).from(Error).extend({toString:function(){return this.name+": "+this.message}}),k(Be).from(ve),k(se).from(ve);var Z=Lt.reduce(function(s,c){return s[c]=c+"Error",s},{}),Oe=ve,ue=Lt.reduce(function(s,c){var f=c+"Error";function m(b,v){this.name=f,b?typeof b=="string"?(this.message="".concat(b).concat(v?`
 `+v:""),this.inner=v||null):typeof b=="object"&&(this.message="".concat(b.name," ").concat(b.message),this.inner=b):(this.message=Ce[c]||f,this.inner=null)}return k(m).from(Oe),s[c]=m,s},{});ue.Syntax=SyntaxError,ue.Type=TypeError,ue.Range=RangeError;var Ue=dr.reduce(function(s,c){return s[c+"Error"]=ue[c],s},{}),Me=Lt.reduce(function(s,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(s[c+"Error"]=ue[c]),s},{});function we(){}function at(s){return s}function At(s,c){return s==null||s===at?c:function(f){return c(s(f))}}function ht(s,c){return function(){s.apply(this,arguments),c.apply(this,arguments)}}function Yt(s,c){return s===we?c:function(){var f=s.apply(this,arguments);f!==void 0&&(arguments[0]=f);var m=this.onsuccess,b=this.onerror;this.onsuccess=null,this.onerror=null;var v=c.apply(this,arguments);return m&&(this.onsuccess=this.onsuccess?ht(m,this.onsuccess):m),b&&(this.onerror=this.onerror?ht(b,this.onerror):b),v!==void 0?v:f}}function cr(s,c){return s===we?c:function(){s.apply(this,arguments);var f=this.onsuccess,m=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?ht(f,this.onsuccess):f),m&&(this.onerror=this.onerror?ht(m,this.onerror):m)}}function Br(s,c){return s===we?c:function(f){var m=s.apply(this,arguments);d(f,m);var b=this.onsuccess,v=this.onerror;return this.onsuccess=null,this.onerror=null,f=c.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?ht(b,this.onsuccess):b),v&&(this.onerror=this.onerror?ht(v,this.onerror):v),m===void 0?f===void 0?void 0:f:d(m,f)}}function Dn(s,c){return s===we?c:function(){return c.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function xr(s,c){return s===we?c:function(){var f=s.apply(this,arguments);if(f&&typeof f.then=="function"){for(var m=this,b=arguments.length,v=new Array(b);b--;)v[b]=arguments[b];return f.then(function(){return c.apply(m,v)})}return c.apply(this,arguments)}}Me.ModifyError=Be,Me.DexieError=ve,Me.BulkError=se;var st=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function $r(s){st=s}var xt={},Jr=100,Je=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,h(s),s];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,h(c),s]}(),dr=Je[0],Lt=Je[1],Je=Je[2],Lt=Lt&&Lt.then,ft=dr&&dr.constructor,yr=!!Je,Zt=function(s,c){fr.push([s,c]),vr&&(queueMicrotask(Ge),vr=!1)},qt=!0,vr=!0,Ft=[],Xt=[],yt=at,Dt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:we,pgp:!1,env:{},finalize:we},pe=Dt,fr=[],Ut=0,Qt=[];function ie(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=pe;if(typeof s!="function"){if(s!==xt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Fe(this,this._value))}this._state=null,this._value=null,++c.ref,function f(m,b){try{b(function(v){if(m._state===null){if(v===m)throw new TypeError("A promise cannot be resolved with itself.");var j=m._lib&&it();v&&typeof v.then=="function"?f(m,function(N,M){v instanceof ie?v._then(N,M):v.then(N,M)}):(m._state=!0,m._value=v,Nt(m)),j&&ut()}},Fe.bind(null,m))}catch(v){Fe(m,v)}}(this,s)}var Q={get:function(){var s=pe,c=yo;function f(m,b){var v=this,j=!s.global&&(s!==pe||c!==yo),N=j&&!Cr(),M=new ie(function(F,O){_e(v,new ge(Ri(m,s,j,N),Ri(b,s,j,N),F,O,s))});return this._consoleTask&&(M._consoleTask=this._consoleTask),M}return f.prototype=xt,f},set:function(s){w(this,"then",s&&s.prototype===xt?Q:{get:function(){return s},set:Q.set})}};function ge(s,c,f,m,b){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof c=="function"?c:null,this.resolve=f,this.reject=m,this.psd=b}function Fe(s,c){var f,m;Xt.push(c),s._state===null&&(f=s._lib&&it(),c=yt(c),s._state=!1,s._value=c,m=s,Ft.some(function(b){return b._value===m._value})||Ft.push(m),Nt(s),f&&ut())}function Nt(s){var c=s._listeners;s._listeners=[];for(var f=0,m=c.length;f<m;++f)_e(s,c[f]);var b=s._PSD;--b.ref||b.finalize(),Ut===0&&(++Ut,Zt(function(){--Ut==0&&Rt()},[]))}function _e(s,c){if(s._state!==null){var f=s._state?c.onFulfilled:c.onRejected;if(f===null)return(s._state?c.resolve:c.reject)(s._value);++c.psd.ref,++Ut,Zt(ze,[f,s,c])}else s._listeners.push(c)}function ze(s,c,f){try{var m,b=c._value;!c._state&&Xt.length&&(Xt=[]),m=st&&c._consoleTask?c._consoleTask.run(function(){return s(b)}):s(b),c._state||Xt.indexOf(b)!==-1||function(v){for(var j=Ft.length;j;)if(Ft[--j]._value===v._value)return Ft.splice(j,1)}(c),f.resolve(m)}catch(v){f.reject(v)}finally{--Ut==0&&Rt(),--f.psd.ref||f.psd.finalize()}}function Ge(){qr(Dt,function(){it()&&ut()})}function it(){var s=qt;return vr=qt=!1,s}function ut(){var s,c,f;do for(;0<fr.length;)for(s=fr,fr=[],f=s.length,c=0;c<f;++c){var m=s[c];m[0].apply(null,m[1])}while(0<fr.length);vr=qt=!0}function Rt(){var s=Ft;Ft=[],s.forEach(function(m){m._PSD.onunhandled.call(null,m._value,m)});for(var c=Qt.slice(0),f=c.length;f;)c[--f]()}function Ot(s){return new ie(xt,!1,s)}function $e(s,c){var f=pe;return function(){var m=it(),b=pe;try{return _r(f,!0),s.apply(this,arguments)}catch(v){c&&c(v)}finally{_r(b,!1),m&&ut()}}}C(ie.prototype,{then:Q,_then:function(s,c){_e(this,new ge(null,null,s,c,pe))},catch:function(s){if(arguments.length===1)return this.then(null,s);var c=s,f=arguments[1];return typeof c=="function"?this.then(null,function(m){return(m instanceof c?f:Ot)(m)}):this.then(null,function(m){return(m&&m.name===c?f:Ot)(m)})},finally:function(s){return this.then(function(c){return ie.resolve(s()).then(function(){return c})},function(c){return ie.resolve(s()).then(function(){return Ot(c)})})},timeout:function(s,c){var f=this;return s<1/0?new ie(function(m,b){var v=setTimeout(function(){return b(new ue.Timeout(c))},s);f.then(m,b).finally(clearTimeout.bind(null,v))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(ie.prototype,Symbol.toStringTag,"Dexie.Promise"),Dt.env=Fi(),C(ie,{all:function(){var s=fe.apply(null,arguments).map(vo);return new ie(function(c,f){s.length===0&&c([]);var m=s.length;s.forEach(function(b,v){return ie.resolve(b).then(function(j){s[v]=j,--m||c(s)},f)})})},resolve:function(s){return s instanceof ie?s:s&&typeof s.then=="function"?new ie(function(c,f){s.then(c,f)}):new ie(xt,!0,s)},reject:Ot,race:function(){var s=fe.apply(null,arguments).map(vo);return new ie(function(c,f){s.map(function(m){return ie.resolve(m).then(c,f)})})},PSD:{get:function(){return pe},set:function(s){return pe=s}},totalEchoes:{get:function(){return yo}},newPSD:wr,usePSD:qr,scheduler:{get:function(){return Zt},set:function(s){Zt=s}},rejectionMapper:{get:function(){return yt},set:function(s){yt=s}},follow:function(s,c){return new ie(function(f,m){return wr(function(b,v){var j=pe;j.unhandleds=[],j.onunhandled=v,j.finalize=ht(function(){var N,M=this;N=function(){M.unhandleds.length===0?b():v(M.unhandleds[0])},Qt.push(function F(){N(),Qt.splice(Qt.indexOf(F),1)}),++Ut,Zt(function(){--Ut==0&&Rt()},[])},j.finalize),s()},c,f,m)})}}),ft&&(ft.allSettled&&w(ie,"allSettled",function(){var s=fe.apply(null,arguments).map(vo);return new ie(function(c){s.length===0&&c([]);var f=s.length,m=new Array(f);s.forEach(function(b,v){return ie.resolve(b).then(function(j){return m[v]={status:"fulfilled",value:j}},function(j){return m[v]={status:"rejected",reason:j}}).then(function(){return--f||c(m)})})})}),ft.any&&typeof AggregateError<"u"&&w(ie,"any",function(){var s=fe.apply(null,arguments).map(vo);return new ie(function(c,f){s.length===0&&f(new AggregateError([]));var m=s.length,b=new Array(m);s.forEach(function(v,j){return ie.resolve(v).then(function(N){return c(N)},function(N){b[j]=N,--m||f(new AggregateError(b))})})})}),ft.withResolvers&&(ie.withResolvers=ft.withResolvers));var Ye={awaits:0,echoes:0,id:0},Jh=0,bo=[],xo=0,yo=0,ep=0;function wr(s,c,f,m){var b=pe,v=Object.create(b);return v.parent=b,v.ref=0,v.global=!1,v.id=++ep,Dt.env,v.env=yr?{Promise:ie,PromiseProp:{value:ie,configurable:!0,writable:!0},all:ie.all,race:ie.race,allSettled:ie.allSettled,any:ie.any,resolve:ie.resolve,reject:ie.reject}:{},c&&d(v,c),++b.ref,v.finalize=function(){--this.parent.ref||this.parent.finalize()},m=qr(v,s,f,m),v.ref===0&&v.finalize(),m}function en(){return Ye.id||(Ye.id=++Jh),++Ye.awaits,Ye.echoes+=Jr,Ye.id}function Cr(){return!!Ye.awaits&&(--Ye.awaits==0&&(Ye.id=0),Ye.echoes=Ye.awaits*Jr,!0)}function vo(s){return Ye.echoes&&s&&s.constructor===ft?(en(),s.then(function(c){return Cr(),c},function(c){return Cr(),rt(c)})):s}function tp(){var s=bo[bo.length-1];bo.pop(),_r(s,!1)}function _r(s,c){var f,m=pe;(c?!Ye.echoes||xo++&&s===pe:!xo||--xo&&s===pe)||queueMicrotask(c?function(b){++yo,Ye.echoes&&--Ye.echoes!=0||(Ye.echoes=Ye.awaits=Ye.id=0),bo.push(pe),_r(b,!0)}.bind(null,s):tp),s!==pe&&(pe=s,m===Dt&&(Dt.env=Fi()),yr&&(f=Dt.env.Promise,c=s.env,(m.global||s.global)&&(Object.defineProperty(a,"Promise",c.PromiseProp),f.all=c.all,f.race=c.race,f.resolve=c.resolve,f.reject=c.reject,c.allSettled&&(f.allSettled=c.allSettled),c.any&&(f.any=c.any))))}function Fi(){var s=a.Promise;return yr?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function qr(s,c,f,m,b){var v=pe;try{return _r(s,!0),c(f,m,b)}finally{_r(v,!1)}}function Ri(s,c,f,m){return typeof s!="function"?s:function(){var b=pe;f&&en(),_r(c,!0);try{return s.apply(this,arguments)}finally{_r(b,!1),m&&queueMicrotask(Cr)}}}function Ea(s){Promise===ft&&Ye.echoes===0?xo===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+Lt).indexOf("[native code]")===-1&&(en=Cr=we);var rt=ie.reject,Ur="￿",hr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Oi="String expected.",tn=[],wo="__dbnames",ja="readonly",Aa="readwrite";function Hr(s,c){return s?c?function(){return s.apply(this,arguments)&&c.apply(this,arguments)}:s:c}var Li={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Co(s){return typeof s!="string"||/\./.test(s)?function(c){return c}:function(c){return c[s]===void 0&&s in c&&delete(c=ye(c))[s],c}}function zi(){throw ue.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function He(s,c){try{var f=Bi(s),m=Bi(c);if(f!==m)return f==="Array"?1:m==="Array"?-1:f==="binary"?1:m==="binary"?-1:f==="string"?1:m==="string"?-1:f==="Date"?1:m!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return c<s?1:s<c?-1:0;case"binary":return function(b,v){for(var j=b.length,N=v.length,M=j<N?j:N,F=0;F<M;++F)if(b[F]!==v[F])return b[F]<v[F]?-1:1;return j===N?0:j<N?-1:1}($i(s),$i(c));case"Array":return function(b,v){for(var j=b.length,N=v.length,M=j<N?j:N,F=0;F<M;++F){var O=He(b[F],v[F]);if(O!==0)return O}return j===N?0:j<N?-1:1}(s,c)}}catch{}return NaN}function Bi(s){var c=typeof s;return c!="object"?c:ArrayBuffer.isView(s)?"binary":(s=Ne(s),s==="ArrayBuffer"?"binary":s)}function $i(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function _o(s,c,f){var m=s.schema.yProps;return m?(c&&0<f.numFailures&&(c=c.filter(function(b,v){return!f.failures[v]})),Promise.all(m.map(function(b){return b=b.updatesTable,c?s.db.table(b).where("k").anyOf(c).delete():s.db.table(b).clear()})).then(function(){return f})):f}var qi=(Xe.prototype._trans=function(s,c,f){var m=this._tx||pe.trans,b=this.name,v=st&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function j(F,O,T){if(!T.schema[b])throw new ue.NotFound("Table "+b+" not part of transaction");return c(T.idbtrans,T)}var N=it();try{var M=m&&m.db._novip===this.db._novip?m===pe.trans?m._promise(s,j,f):wr(function(){return m._promise(s,j,f)},{trans:m,transless:pe.transless||pe}):function F(O,T,B,I){if(O.idbdb&&(O._state.openComplete||pe.letThrough||O._vip)){var R=O._createTransaction(T,B,O._dbSchema);try{R.create(),O._state.PR1398_maxLoop=3}catch(z){return z.name===Z.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return F(O,T,B,I)})):rt(z)}return R._promise(T,function(z,L){return wr(function(){return pe.trans=R,I(z,L,R)})}).then(function(z){if(T==="readwrite")try{R.idbtrans.commit()}catch{}return T==="readonly"?z:R._completion.then(function(){return z})})}if(O._state.openComplete)return rt(new ue.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return rt(new ue.DatabaseClosed);O.open().catch(we)}return O._state.dbReadyPromise.then(function(){return F(O,T,B,I)})}(this.db,s,[this.name],j);return v&&(M._consoleTask=v,M=M.catch(function(F){return console.trace(F),rt(F)})),M}finally{N&&ut()}},Xe.prototype.get=function(s,c){var f=this;return s&&s.constructor===Object?this.where(s).first(c):s==null?rt(new ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(m){return f.core.get({trans:m,key:s}).then(function(b){return f.hook.reading.fire(b)})}).then(c)},Xe.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(l(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var c=u(s);if(c.length===1)return this.where(c[0]).equals(s[c[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&c.every(function(F){return 0<=N.keyPath.indexOf(F)})){for(var M=0;M<c.length;++M)if(c.indexOf(N.keyPath[M])===-1)return!1;return!0}return!1}).sort(function(N,M){return N.keyPath.length-M.keyPath.length})[0];if(f&&this.db._maxKey!==Ur){var v=f.keyPath.slice(0,c.length);return this.where(v).equals(v.map(function(M){return s[M]}))}!f&&st&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var m=this.schema.idxByName;function b(N,M){return He(N,M)===0}var j=c.reduce(function(T,M){var F=T[0],O=T[1],T=m[M],B=s[M];return[F||T,F||!T?Hr(O,T&&T.multi?function(I){return I=$(I,M),l(I)&&I.some(function(R){return b(B,R)})}:function(I){return b(B,$(I,M))}):O]},[null,null]),v=j[0],j=j[1];return v?this.where(v.name).equals(s[v.keyPath]).filter(j):f?this.filter(j):this.where(c).equals("")},Xe.prototype.filter=function(s){return this.toCollection().and(s)},Xe.prototype.count=function(s){return this.toCollection().count(s)},Xe.prototype.offset=function(s){return this.toCollection().offset(s)},Xe.prototype.limit=function(s){return this.toCollection().limit(s)},Xe.prototype.each=function(s){return this.toCollection().each(s)},Xe.prototype.toArray=function(s){return this.toCollection().toArray(s)},Xe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Xe.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,l(s)?"[".concat(s.join("+"),"]"):s))},Xe.prototype.reverse=function(){return this.toCollection().reverse()},Xe.prototype.mapToClass=function(s){var c,f=this.db,m=this.name;function b(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof zi&&(function(M,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function O(){this.constructor=M}r(M,F),M.prototype=F===null?Object.create(F):(O.prototype=F.prototype,new O)}(b,c=s),Object.defineProperty(b.prototype,"db",{get:function(){return f},enumerable:!1,configurable:!0}),b.prototype.table=function(){return m},s=b);for(var v=new Set,j=s.prototype;j;j=h(j))Object.getOwnPropertyNames(j).forEach(function(M){return v.add(M)});function N(M){if(!M)return M;var F,O=Object.create(s.prototype);for(F in M)if(!v.has(F))try{O[F]=M[F]}catch{}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=N,this.hook("reading",N),s},Xe.prototype.defineClass=function(){return this.mapToClass(function(s){d(this,s)})},Xe.prototype.add=function(s,c){var f=this,m=this.schema.primKey,b=m.auto,v=m.keyPath,j=s;return v&&b&&(j=Co(v)(s)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"add",keys:c!=null?[c]:null,values:[j]})}).then(function(N){return N.numFailures?ie.reject(N.failures[0]):N.lastResult}).then(function(N){if(v)try{U(s,v,N)}catch{}return N})},Xe.prototype.update=function(s,c){return typeof s!="object"||l(s)?this.where(":id").equals(s).modify(c):(s=$(s,this.schema.primKey.keyPath),s===void 0?rt(new ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(c))},Xe.prototype.put=function(s,c){var f=this,m=this.schema.primKey,b=m.auto,v=m.keyPath,j=s;return v&&b&&(j=Co(v)(s)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"put",values:[j],keys:c!=null?[c]:null})}).then(function(N){return N.numFailures?ie.reject(N.failures[0]):N.lastResult}).then(function(N){if(v)try{U(s,v,N)}catch{}return N})},Xe.prototype.delete=function(s){var c=this;return this._trans("readwrite",function(f){return c.core.mutate({trans:f,type:"delete",keys:[s]}).then(function(m){return _o(c,[s],m)}).then(function(m){return m.numFailures?ie.reject(m.failures[0]):void 0})})},Xe.prototype.clear=function(){var s=this;return this._trans("readwrite",function(c){return s.core.mutate({trans:c,type:"deleteRange",range:Li}).then(function(f){return _o(s,null,f)})}).then(function(c){return c.numFailures?ie.reject(c.failures[0]):void 0})},Xe.prototype.bulkGet=function(s){var c=this;return this._trans("readonly",function(f){return c.core.getMany({keys:s,trans:f}).then(function(m){return m.map(function(b){return c.hook.reading.fire(b)})})})},Xe.prototype.bulkAdd=function(s,c,f){var m=this,b=Array.isArray(c)?c:void 0,v=(f=f||(b?void 0:c))?f.allKeys:void 0;return this._trans("readwrite",function(j){var F=m.schema.primKey,N=F.auto,F=F.keyPath;if(F&&b)throw new ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(b&&b.length!==s.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var M=s.length,F=F&&N?s.map(Co(F)):s;return m.core.mutate({trans:j,type:"add",keys:b,values:F,wantResults:v}).then(function(R){var T=R.numFailures,B=R.results,I=R.lastResult,R=R.failures;if(T===0)return v?B:I;throw new se("".concat(m.name,".bulkAdd(): ").concat(T," of ").concat(M," operations failed"),R)})})},Xe.prototype.bulkPut=function(s,c,f){var m=this,b=Array.isArray(c)?c:void 0,v=(f=f||(b?void 0:c))?f.allKeys:void 0;return this._trans("readwrite",function(j){var F=m.schema.primKey,N=F.auto,F=F.keyPath;if(F&&b)throw new ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(b&&b.length!==s.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var M=s.length,F=F&&N?s.map(Co(F)):s;return m.core.mutate({trans:j,type:"put",keys:b,values:F,wantResults:v}).then(function(R){var T=R.numFailures,B=R.results,I=R.lastResult,R=R.failures;if(T===0)return v?B:I;throw new se("".concat(m.name,".bulkPut(): ").concat(T," of ").concat(M," operations failed"),R)})})},Xe.prototype.bulkUpdate=function(s){var c=this,f=this.core,m=s.map(function(j){return j.key}),b=s.map(function(j){return j.changes}),v=[];return this._trans("readwrite",function(j){return f.getMany({trans:j,keys:m,cache:"clone"}).then(function(N){var M=[],F=[];s.forEach(function(T,B){var I=T.key,R=T.changes,z=N[B];if(z){for(var L=0,q=Object.keys(R);L<q.length;L++){var K=q[L],W=R[K];if(K===c.schema.primKey.keyPath){if(He(W,I)!==0)throw new ue.Constraint("Cannot update primary key in bulkUpdate()")}else U(z,K,W)}v.push(B),M.push(I),F.push(z)}});var O=M.length;return f.mutate({trans:j,type:"put",keys:M,values:F,updates:{keys:m,changeSpecs:b}}).then(function(T){var B=T.numFailures,I=T.failures;if(B===0)return O;for(var R=0,z=Object.keys(I);R<z.length;R++){var L,q=z[R],K=v[Number(q)];K!=null&&(L=I[q],delete I[q],I[K]=L)}throw new se("".concat(c.name,".bulkUpdate(): ").concat(B," of ").concat(O," operations failed"),I)})})})},Xe.prototype.bulkDelete=function(s){var c=this,f=s.length;return this._trans("readwrite",function(m){return c.core.mutate({trans:m,type:"delete",keys:s}).then(function(b){return _o(c,s,b)})}).then(function(j){var b=j.numFailures,v=j.lastResult,j=j.failures;if(b===0)return v;throw new se("".concat(c.name,".bulkDelete(): ").concat(b," of ").concat(f," operations failed"),j)})},Xe);function Xe(){}function Nn(s){function c(j,N){if(N){for(var M=arguments.length,F=new Array(M-1);--M;)F[M-1]=arguments[M];return f[j].subscribe.apply(null,F),s}if(typeof j=="string")return f[j]}var f={};c.addEventType=v;for(var m=1,b=arguments.length;m<b;++m)v(arguments[m]);return c;function v(j,N,M){if(typeof j!="object"){var F;N=N||Dn;var O={subscribers:[],fire:M=M||we,subscribe:function(T){O.subscribers.indexOf(T)===-1&&(O.subscribers.push(T),O.fire=N(O.fire,T))},unsubscribe:function(T){O.subscribers=O.subscribers.filter(function(B){return B!==T}),O.fire=O.subscribers.reduce(N,M)}};return f[j]=c[j]=O}u(F=j).forEach(function(T){var B=F[T];if(l(B))v(T,F[T][0],F[T][1]);else{if(B!=="asap")throw new ue.InvalidArgument("Invalid event config");var I=v(T,at,function(){for(var R=arguments.length,z=new Array(R);R--;)z[R]=arguments[R];I.subscribers.forEach(function(L){P(function(){L.apply(null,z)})})})}})}}function Tn(s,c){return k(c).from({prototype:s}),c}function rn(s,c){return!(s.filter||s.algorithm||s.or)&&(c?s.justLimit:!s.replayFilter)}function Da(s,c){s.filter=Hr(s.filter,c)}function Na(s,c,f){var m=s.replayFilter;s.replayFilter=m?function(){return Hr(m(),c())}:c,s.justLimit=f&&!m}function ko(s,c){if(s.isPrimKey)return c.primaryKey;var f=c.getIndexByKeyPath(s.index);if(!f)throw new ue.Schema("KeyPath "+s.index+" on object store "+c.name+" is not indexed");return f}function Ui(s,c,f){var m=ko(s,c.schema);return c.openCursor({trans:f,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:m,range:s.range}})}function So(s,c,f,m){var b=s.replayFilter?Hr(s.filter,s.replayFilter()):s.filter;if(s.or){var v={},j=function(N,M,F){var O,T;b&&!b(M,F,function(B){return M.stop(B)},function(B){return M.fail(B)})||((T=""+(O=M.primaryKey))=="[object ArrayBuffer]"&&(T=""+new Uint8Array(O)),x(v,T)||(v[T]=!0,c(N,M,F)))};return Promise.all([s.or._iterate(j,f),Hi(Ui(s,m,f),s.algorithm,j,!s.keysOnly&&s.valueMapper)])}return Hi(Ui(s,m,f),Hr(s.algorithm,b),c,!s.keysOnly&&s.valueMapper)}function Hi(s,c,f,m){var b=$e(m?function(v,j,N){return f(m(v),j,N)}:f);return s.then(function(v){if(v)return v.start(function(){var j=function(){return v.continue()};c&&!c(v,function(N){return j=N},function(N){v.stop(N),j=we},function(N){v.fail(N),j=we})||b(v.value,v,function(N){return j=N}),j()})})}var Pn=(Ki.prototype.execute=function(s){var c=this["@@propmod"];if(c.add!==void 0){var f=c.add;if(l(f))return o(o([],l(s)?s:[],!0),f).sort();if(typeof f=="number")return(Number(s)||0)+f;if(typeof f=="bigint")try{return BigInt(s)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(c.remove!==void 0){var m=c.remove;if(l(m))return l(s)?s.filter(function(b){return!m.includes(b)}).sort():[];if(typeof m=="number")return Number(s)-m;if(typeof m=="bigint")try{return BigInt(s)-m}catch{return BigInt(0)-m}throw new TypeError("Invalid subtrahend ".concat(m))}return f=(f=c.replacePrefix)===null||f===void 0?void 0:f[0],f&&typeof s=="string"&&s.startsWith(f)?c.replacePrefix[1]+s.substring(f.length):s},Ki);function Ki(s){this["@@propmod"]=s}var rp=(Ve.prototype._read=function(s,c){var f=this._ctx;return f.error?f.table._trans(null,rt.bind(null,f.error)):f.table._trans("readonly",s).then(c)},Ve.prototype._write=function(s){var c=this._ctx;return c.error?c.table._trans(null,rt.bind(null,c.error)):c.table._trans("readwrite",s,"locked")},Ve.prototype._addAlgorithm=function(s){var c=this._ctx;c.algorithm=Hr(c.algorithm,s)},Ve.prototype._iterate=function(s,c){return So(this._ctx,s,c,this._ctx.table.core)},Ve.prototype.clone=function(s){var c=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return s&&d(f,s),c._ctx=f,c},Ve.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ve.prototype.each=function(s){var c=this._ctx;return this._read(function(f){return So(c,s,f,c.table.core)})},Ve.prototype.count=function(s){var c=this;return this._read(function(f){var m=c._ctx,b=m.table.core;if(rn(m,!0))return b.count({trans:f,query:{index:ko(m,b.schema),range:m.range}}).then(function(j){return Math.min(j,m.limit)});var v=0;return So(m,function(){return++v,!1},f,b).then(function(){return v})}).then(s)},Ve.prototype.sortBy=function(s,c){var f=s.split(".").reverse(),m=f[0],b=f.length-1;function v(M,F){return F?v(M[f[F]],F-1):M[m]}var j=this._ctx.dir==="next"?1:-1;function N(M,F){return He(v(M,b),v(F,b))*j}return this.toArray(function(M){return M.sort(N)}).then(c)},Ve.prototype.toArray=function(s){var c=this;return this._read(function(f){var m=c._ctx;if(m.dir==="next"&&rn(m,!0)&&0<m.limit){var b=m.valueMapper,v=ko(m,m.table.core.schema);return m.table.core.query({trans:f,limit:m.limit,values:!0,query:{index:v,range:m.range}}).then(function(N){return N=N.result,b?N.map(b):N})}var j=[];return So(m,function(N){return j.push(N)},f,m.table.core).then(function(){return j})},s)},Ve.prototype.offset=function(s){var c=this._ctx;return s<=0||(c.offset+=s,rn(c)?Na(c,function(){var f=s;return function(m,b){return f===0||(f===1?--f:b(function(){m.advance(f),f=0}),!1)}}):Na(c,function(){var f=s;return function(){return--f<0}})),this},Ve.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),Na(this._ctx,function(){var c=s;return function(f,m,b){return--c<=0&&m(b),0<=c}},!0),this},Ve.prototype.until=function(s,c){return Da(this._ctx,function(f,m,b){return!s(f.value)||(m(b),c)}),this},Ve.prototype.first=function(s){return this.limit(1).toArray(function(c){return c[0]}).then(s)},Ve.prototype.last=function(s){return this.reverse().first(s)},Ve.prototype.filter=function(s){var c;return Da(this._ctx,function(f){return s(f.value)}),(c=this._ctx).isMatch=Hr(c.isMatch,s),this},Ve.prototype.and=function(s){return this.filter(s)},Ve.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Ve.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ve.prototype.desc=function(){return this.reverse()},Ve.prototype.eachKey=function(s){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(f,m){s(m.key,m)})},Ve.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Ve.prototype.eachPrimaryKey=function(s){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(f,m){s(m.primaryKey,m)})},Ve.prototype.keys=function(s){var c=this._ctx;c.keysOnly=!c.isMatch;var f=[];return this.each(function(m,b){f.push(b.key)}).then(function(){return f}).then(s)},Ve.prototype.primaryKeys=function(s){var c=this._ctx;if(c.dir==="next"&&rn(c,!0)&&0<c.limit)return this._read(function(m){var b=ko(c,c.table.core.schema);return c.table.core.query({trans:m,values:!1,limit:c.limit,query:{index:b,range:c.range}})}).then(function(m){return m.result}).then(s);c.keysOnly=!c.isMatch;var f=[];return this.each(function(m,b){f.push(b.primaryKey)}).then(function(){return f}).then(s)},Ve.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Ve.prototype.firstKey=function(s){return this.limit(1).keys(function(c){return c[0]}).then(s)},Ve.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Ve.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var c={};return Da(this._ctx,function(b){var m=b.primaryKey.toString(),b=x(c,m);return c[m]=!0,!b}),this},Ve.prototype.modify=function(s){var c=this,f=this._ctx;return this._write(function(m){var b,v,j;j=typeof s=="function"?s:(b=u(s),v=b.length,function(q){for(var K=!1,W=0;W<v;++W){var G=b[W],J=s[G],ae=$(q,G);J instanceof Pn?(U(q,G,J.execute(ae)),K=!0):ae!==J&&(U(q,G,J),K=!0)}return K});var N=f.table.core,T=N.schema.primaryKey,M=T.outbound,F=T.extractKey,O=200,T=c.db._options.modifyChunkSize;T&&(O=typeof T=="object"?T[N.name]||T["*"]||200:T);function B(q,G){var W=G.failures,G=G.numFailures;R+=q-G;for(var J=0,ae=u(W);J<ae.length;J++){var ee=ae[J];I.push(W[ee])}}var I=[],R=0,z=[],L=s===Vi;return c.clone().primaryKeys().then(function(q){function K(G){var J=Math.min(O,q.length-G),ae=q.slice(G,G+J);return(L?Promise.resolve([]):N.getMany({trans:m,keys:ae,cache:"immutable"})).then(function(ee){var re=[],ce=[],le=M?[]:null,de=L?ae:[];if(!L)for(var Re=0;Re<J;++Re){var Ke=ee[Re],Te={value:ye(Ke),primKey:q[G+Re]};j.call(Te,Te.value,Te)!==!1&&(Te.value==null?de.push(q[G+Re]):M||He(F(Ke),F(Te.value))===0?(ce.push(Te.value),M&&le.push(q[G+Re])):(de.push(q[G+Re]),re.push(Te.value)))}return Promise.resolve(0<re.length&&N.mutate({trans:m,type:"add",values:re}).then(function(et){for(var Ae in et.failures)de.splice(parseInt(Ae),1);B(re.length,et)})).then(function(){return(0<ce.length||W&&typeof s=="object")&&N.mutate({trans:m,type:"put",keys:le,values:ce,criteria:W,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<G}).then(function(et){return B(ce.length,et)})}).then(function(){return(0<de.length||W&&L)&&N.mutate({trans:m,type:"delete",keys:de,criteria:W,isAdditionalChunk:0<G}).then(function(et){return _o(f.table,de,et)}).then(function(et){return B(de.length,et)})}).then(function(){return q.length>G+J&&K(G+O)})})}var W=rn(f)&&f.limit===1/0&&(typeof s!="function"||L)&&{index:f.index,range:f.range};return K(0).then(function(){if(0<I.length)throw new Be("Error modifying one or more objects",I,R,z);return q.length})})})},Ve.prototype.delete=function(){var s=this._ctx,c=s.range;return!rn(s)||s.table.schema.yProps||!s.isPrimKey&&c.type!==3?this.modify(Vi):this._write(function(f){var m=s.table.core.schema.primaryKey,b=c;return s.table.core.count({trans:f,query:{index:m,range:b}}).then(function(v){return s.table.core.mutate({trans:f,type:"deleteRange",range:b}).then(function(M){var N=M.failures,M=M.numFailures;if(M)throw new Be("Could not delete some values",Object.keys(N).map(function(F){return N[F]}),v-M);return v-M})})})},Ve);function Ve(){}var Vi=function(s,c){return c.value=null};function np(s,c){return s<c?-1:s===c?0:1}function op(s,c){return c<s?-1:s===c?0:1}function Tt(s,c,f){return s=s instanceof Gi?new s.Collection(s):s,s._ctx.error=new(f||TypeError)(c),s}function nn(s){return new s.Collection(s,function(){return Wi("")}).limit(0)}function Eo(s,c,f,m){var b,v,j,N,M,F,O,T=f.length;if(!f.every(function(R){return typeof R=="string"}))return Tt(s,Oi);function B(R){b=R==="next"?function(L){return L.toUpperCase()}:function(L){return L.toLowerCase()},v=R==="next"?function(L){return L.toLowerCase()}:function(L){return L.toUpperCase()},j=R==="next"?np:op;var z=f.map(function(L){return{lower:v(L),upper:b(L)}}).sort(function(L,q){return j(L.lower,q.lower)});N=z.map(function(L){return L.upper}),M=z.map(function(L){return L.lower}),O=(F=R)==="next"?"":m}B("next"),s=new s.Collection(s,function(){return kr(N[0],M[T-1]+m)}),s._ondirectionchange=function(R){B(R)};var I=0;return s._addAlgorithm(function(R,z,L){var q=R.key;if(typeof q!="string")return!1;var K=v(q);if(c(K,M,I))return!0;for(var W=null,G=I;G<T;++G){var J=function(ae,ee,re,ce,le,de){for(var Re=Math.min(ae.length,ce.length),Ke=-1,Te=0;Te<Re;++Te){var et=ee[Te];if(et!==ce[Te])return le(ae[Te],re[Te])<0?ae.substr(0,Te)+re[Te]+re.substr(Te+1):le(ae[Te],ce[Te])<0?ae.substr(0,Te)+ce[Te]+re.substr(Te+1):0<=Ke?ae.substr(0,Ke)+ee[Ke]+re.substr(Ke+1):null;le(ae[Te],et)<0&&(Ke=Te)}return Re<ce.length&&de==="next"?ae+re.substr(ae.length):Re<ae.length&&de==="prev"?ae.substr(0,re.length):Ke<0?null:ae.substr(0,Ke)+ce[Ke]+re.substr(Ke+1)}(q,K,N[G],M[G],j,F);J===null&&W===null?I=G+1:(W===null||0<j(W,J))&&(W=J)}return z(W!==null?function(){R.continue(W+O)}:L),!1}),s}function kr(s,c,f,m){return{type:2,lower:s,upper:c,lowerOpen:f,upperOpen:m}}function Wi(s){return{type:1,lower:s,upper:s}}var Gi=(Object.defineProperty(lt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),lt.prototype.between=function(s,c,f,m){f=f!==!1,m=m===!0;try{return 0<this._cmp(s,c)||this._cmp(s,c)===0&&(f||m)&&(!f||!m)?nn(this):new this.Collection(this,function(){return kr(s,c,!f,!m)})}catch{return Tt(this,hr)}},lt.prototype.equals=function(s){return s==null?Tt(this,hr):new this.Collection(this,function(){return Wi(s)})},lt.prototype.above=function(s){return s==null?Tt(this,hr):new this.Collection(this,function(){return kr(s,void 0,!0)})},lt.prototype.aboveOrEqual=function(s){return s==null?Tt(this,hr):new this.Collection(this,function(){return kr(s,void 0,!1)})},lt.prototype.below=function(s){return s==null?Tt(this,hr):new this.Collection(this,function(){return kr(void 0,s,!1,!0)})},lt.prototype.belowOrEqual=function(s){return s==null?Tt(this,hr):new this.Collection(this,function(){return kr(void 0,s)})},lt.prototype.startsWith=function(s){return typeof s!="string"?Tt(this,Oi):this.between(s,s+Ur,!0,!0)},lt.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):Eo(this,function(c,f){return c.indexOf(f[0])===0},[s],Ur)},lt.prototype.equalsIgnoreCase=function(s){return Eo(this,function(c,f){return c===f[0]},[s],"")},lt.prototype.anyOfIgnoreCase=function(){var s=fe.apply(H,arguments);return s.length===0?nn(this):Eo(this,function(c,f){return f.indexOf(c)!==-1},s,"")},lt.prototype.startsWithAnyOfIgnoreCase=function(){var s=fe.apply(H,arguments);return s.length===0?nn(this):Eo(this,function(c,f){return f.some(function(m){return c.indexOf(m)===0})},s,Ur)},lt.prototype.anyOf=function(){var s=this,c=fe.apply(H,arguments),f=this._cmp;try{c.sort(f)}catch{return Tt(this,hr)}if(c.length===0)return nn(this);var m=new this.Collection(this,function(){return kr(c[0],c[c.length-1])});m._ondirectionchange=function(v){f=v==="next"?s._ascending:s._descending,c.sort(f)};var b=0;return m._addAlgorithm(function(v,j,N){for(var M=v.key;0<f(M,c[b]);)if(++b===c.length)return j(N),!1;return f(M,c[b])===0||(j(function(){v.continue(c[b])}),!1)}),m},lt.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},lt.prototype.noneOf=function(){var s=fe.apply(H,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Tt(this,hr)}var c=s.reduce(function(f,m){return f?f.concat([[f[f.length-1][1],m]]):[[-1/0,m]]},null);return c.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},lt.prototype.inAnyRange=function(q,c){var f=this,m=this._cmp,b=this._ascending,v=this._descending,j=this._min,N=this._max;if(q.length===0)return nn(this);if(!q.every(function(K){return K[0]!==void 0&&K[1]!==void 0&&b(K[0],K[1])<=0}))return Tt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ue.InvalidArgument);var M=!c||c.includeLowers!==!1,F=c&&c.includeUppers===!0,O,T=b;function B(K,W){return T(K[0],W[0])}try{(O=q.reduce(function(K,W){for(var G=0,J=K.length;G<J;++G){var ae=K[G];if(m(W[0],ae[1])<0&&0<m(W[1],ae[0])){ae[0]=j(ae[0],W[0]),ae[1]=N(ae[1],W[1]);break}}return G===J&&K.push(W),K},[])).sort(B)}catch{return Tt(this,hr)}var I=0,R=F?function(K){return 0<b(K,O[I][1])}:function(K){return 0<=b(K,O[I][1])},z=M?function(K){return 0<v(K,O[I][0])}:function(K){return 0<=v(K,O[I][0])},L=R,q=new this.Collection(this,function(){return kr(O[0][0],O[O.length-1][1],!M,!F)});return q._ondirectionchange=function(K){T=K==="next"?(L=R,b):(L=z,v),O.sort(B)},q._addAlgorithm(function(K,W,G){for(var J,ae=K.key;L(ae);)if(++I===O.length)return W(G),!1;return!R(J=ae)&&!z(J)||(f._cmp(ae,O[I][1])===0||f._cmp(ae,O[I][0])===0||W(function(){T===b?K.continue(O[I][0]):K.continue(O[I][1])}),!1)}),q},lt.prototype.startsWithAnyOf=function(){var s=fe.apply(H,arguments);return s.every(function(c){return typeof c=="string"})?s.length===0?nn(this):this.inAnyRange(s.map(function(c){return[c,c+Ur]})):Tt(this,"startsWithAnyOf() only works with strings")},lt);function lt(){}function Jt(s){return $e(function(c){return Mn(c),s(c.target.error),!1})}function Mn(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var In="storagemutated",Ta="x-storagemutated-1",Sr=Nn(null,In),ap=(er.prototype._lock=function(){return A(!pe.global),++this._reculock,this._reculock!==1||pe.global||(pe.lockOwnerFor=this),this},er.prototype._unlock=function(){if(A(!pe.global),--this._reculock==0)for(pe.global||(pe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{qr(s[1],s[0])}catch{}}return this},er.prototype._locked=function(){return this._reculock&&pe.lockOwnerFor!==this},er.prototype.create=function(s){var c=this;if(!this.mode)return this;var f=this.db.idbdb,m=this.db._state.dbOpenError;if(A(!this.idbtrans),!s&&!f)switch(m&&m.name){case"DatabaseClosedError":throw new ue.DatabaseClosed(m);case"MissingAPIError":throw new ue.MissingAPI(m.message,m);default:throw new ue.OpenFailed(m)}if(!this.active)throw new ue.TransactionInactive;return A(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=$e(function(b){Mn(b),c._reject(s.error)}),s.onabort=$e(function(b){Mn(b),c.active&&c._reject(new ue.Abort(s.error)),c.active=!1,c.on("abort").fire(b)}),s.oncomplete=$e(function(){c.active=!1,c._resolve(),"mutatedParts"in s&&Sr.storagemutated.fire(s.mutatedParts)}),this},er.prototype._promise=function(s,c,f){var m=this;if(s==="readwrite"&&this.mode!=="readwrite")return rt(new ue.ReadOnly("Transaction is readonly"));if(!this.active)return rt(new ue.TransactionInactive);if(this._locked())return new ie(function(v,j){m._blockedFuncs.push([function(){m._promise(s,c,f).then(v,j)},pe])});if(f)return wr(function(){var v=new ie(function(j,N){m._lock();var M=c(j,N,m);M&&M.then&&M.then(j,N)});return v.finally(function(){return m._unlock()}),v._lib=!0,v});var b=new ie(function(v,j){var N=c(v,j,m);N&&N.then&&N.then(v,j)});return b._lib=!0,b},er.prototype._root=function(){return this.parent?this.parent._root():this},er.prototype.waitFor=function(s){var c,f=this._root(),m=ie.resolve(s);f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return m}):(f._waitingFor=m,f._waitingQueue=[],c=f.idbtrans.objectStore(f.storeNames[0]),function v(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(c.get(-1/0).onsuccess=v)}());var b=f._waitingFor;return new ie(function(v,j){m.then(function(N){return f._waitingQueue.push($e(v.bind(null,N)))},function(N){return f._waitingQueue.push($e(j.bind(null,N)))}).finally(function(){f._waitingFor===b&&(f._waitingFor=null)})})},er.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ue.Abort))},er.prototype.table=function(s){var c=this._memoizedTables||(this._memoizedTables={});if(x(c,s))return c[s];var f=this.schema[s];if(!f)throw new ue.NotFound("Table "+s+" not part of transaction");return f=new this.db.Table(s,f,this),f.core=this.db.core.table(s),c[s]=f},er);function er(){}function Pa(s,c,f,m,b,v,j,N){return{name:s,keyPath:c,unique:f,multi:m,auto:b,compound:v,src:(f&&!j?"&":"")+(m?"*":"")+(b?"++":"")+Yi(c),type:N}}function Yi(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Ma(s,c,f){return{name:s,primKey:c,indexes:f,mappedClass:null,idxByName:(m=function(b){return[b.name,b]},f.reduce(function(b,v,j){return j=m(v,j),j&&(b[j[0]]=j[1]),b},{}))};var m}var Fn=function(s){try{return s.only([[]]),Fn=function(){return[[]]},[[]]}catch{return Fn=function(){return Ur},Ur}};function Ia(s){return s==null?function(){}:typeof s=="string"?(c=s).split(".").length===1?function(f){return f[c]}:function(f){return $(f,c)}:function(f){return $(f,s)};var c}function Zi(s){return[].slice.call(s)}var sp=0;function Rn(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function ip(s,c,M){function m(L){if(L.type===3)return null;if(L.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var I=L.lower,R=L.upper,z=L.lowerOpen,L=L.upperOpen;return I===void 0?R===void 0?null:c.upperBound(R,!!L):R===void 0?c.lowerBound(I,!!z):c.bound(I,R,!!z,!!L)}function b(B){var I,R=B.name;return{name:R,schema:B,mutate:function(z){var L=z.trans,q=z.type,K=z.keys,W=z.values,G=z.range;return new Promise(function(J,ae){J=$e(J);var ee=L.objectStore(R),re=ee.keyPath==null,ce=q==="put"||q==="add";if(!ce&&q!=="delete"&&q!=="deleteRange")throw new Error("Invalid operation type: "+q);var le,de=(K||W||{length:1}).length;if(K&&W&&K.length!==W.length)throw new Error("Given keys array must have same length as given values array.");if(de===0)return J({numFailures:0,failures:{},results:[],lastResult:void 0});function Re(vt){++et,Mn(vt)}var Ke=[],Te=[],et=0;if(q==="deleteRange"){if(G.type===4)return J({numFailures:et,failures:Te,results:[],lastResult:void 0});G.type===3?Ke.push(le=ee.clear()):Ke.push(le=ee.delete(m(G)))}else{var re=ce?re?[W,K]:[W,null]:[K,null],Ae=re[0],mt=re[1];if(ce)for(var gt=0;gt<de;++gt)Ke.push(le=mt&&mt[gt]!==void 0?ee[q](Ae[gt],mt[gt]):ee[q](Ae[gt])),le.onerror=Re;else for(gt=0;gt<de;++gt)Ke.push(le=ee[q](Ae[gt])),le.onerror=Re}function Lo(vt){vt=vt.target.result,Ke.forEach(function(Wr,Qa){return Wr.error!=null&&(Te[Qa]=Wr.error)}),J({numFailures:et,failures:Te,results:q==="delete"?K:Ke.map(function(Wr){return Wr.result}),lastResult:vt})}le.onerror=function(vt){Re(vt),Lo(vt)},le.onsuccess=Lo})},getMany:function(z){var L=z.trans,q=z.keys;return new Promise(function(K,W){K=$e(K);for(var G,J=L.objectStore(R),ae=q.length,ee=new Array(ae),re=0,ce=0,le=function(Ke){Ke=Ke.target,ee[Ke._pos]=Ke.result,++ce===re&&K(ee)},de=Jt(W),Re=0;Re<ae;++Re)q[Re]!=null&&((G=J.get(q[Re]))._pos=Re,G.onsuccess=le,G.onerror=de,++re);re===0&&K(ee)})},get:function(z){var L=z.trans,q=z.key;return new Promise(function(K,W){K=$e(K);var G=L.objectStore(R).get(q);G.onsuccess=function(J){return K(J.target.result)},G.onerror=Jt(W)})},query:(I=F,function(z){return new Promise(function(L,q){L=$e(L);var K,W,G,re=z.trans,J=z.values,ae=z.limit,le=z.query,ee=ae===1/0?void 0:ae,ce=le.index,le=le.range,re=re.objectStore(R),ce=ce.isPrimaryKey?re:re.index(ce.name),le=m(le);if(ae===0)return L({result:[]});I?((ee=J?ce.getAll(le,ee):ce.getAllKeys(le,ee)).onsuccess=function(de){return L({result:de.target.result})},ee.onerror=Jt(q)):(K=0,W=!J&&"openKeyCursor"in ce?ce.openKeyCursor(le):ce.openCursor(le),G=[],W.onsuccess=function(de){var Re=W.result;return Re?(G.push(J?Re.value:Re.primaryKey),++K===ae?L({result:G}):void Re.continue()):L({result:G})},W.onerror=Jt(q))})}),openCursor:function(z){var L=z.trans,q=z.values,K=z.query,W=z.reverse,G=z.unique;return new Promise(function(J,ae){J=$e(J);var ce=K.index,ee=K.range,re=L.objectStore(R),re=ce.isPrimaryKey?re:re.index(ce.name),ce=W?G?"prevunique":"prev":G?"nextunique":"next",le=!q&&"openKeyCursor"in re?re.openKeyCursor(m(ee),ce):re.openCursor(m(ee),ce);le.onerror=Jt(ae),le.onsuccess=$e(function(de){var Re,Ke,Te,et,Ae=le.result;Ae?(Ae.___id=++sp,Ae.done=!1,Re=Ae.continue.bind(Ae),Ke=(Ke=Ae.continuePrimaryKey)&&Ke.bind(Ae),Te=Ae.advance.bind(Ae),et=function(){throw new Error("Cursor not stopped")},Ae.trans=L,Ae.stop=Ae.continue=Ae.continuePrimaryKey=Ae.advance=function(){throw new Error("Cursor not started")},Ae.fail=$e(ae),Ae.next=function(){var mt=this,gt=1;return this.start(function(){return gt--?mt.continue():mt.stop()}).then(function(){return mt})},Ae.start=function(mt){function gt(){if(le.result)try{mt()}catch(vt){Ae.fail(vt)}else Ae.done=!0,Ae.start=function(){throw new Error("Cursor behind last entry")},Ae.stop()}var Lo=new Promise(function(vt,Wr){vt=$e(vt),le.onerror=Jt(Wr),Ae.fail=Wr,Ae.stop=function(Qa){Ae.stop=Ae.continue=Ae.continuePrimaryKey=Ae.advance=et,vt(Qa)}});return le.onsuccess=$e(function(vt){le.onsuccess=gt,gt()}),Ae.continue=Re,Ae.continuePrimaryKey=Ke,Ae.advance=Te,gt(),Lo},J(Ae)):J(null)},ae)})},count:function(z){var L=z.query,q=z.trans,K=L.index,W=L.range;return new Promise(function(G,J){var ae=q.objectStore(R),ee=K.isPrimaryKey?ae:ae.index(K.name),ae=m(W),ee=ae?ee.count(ae):ee.count();ee.onsuccess=$e(function(re){return G(re.target.result)}),ee.onerror=Jt(J)})}}}var v,j,N,O=(j=M,N=Zi((v=s).objectStoreNames),{schema:{name:v.name,tables:N.map(function(B){return j.objectStore(B)}).map(function(B){var I=B.keyPath,L=B.autoIncrement,R=l(I),z={},L={name:B.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:I==null,compound:R,keyPath:I,autoIncrement:L,unique:!0,extractKey:Ia(I)},indexes:Zi(B.indexNames).map(function(q){return B.index(q)}).map(function(G){var K=G.name,W=G.unique,J=G.multiEntry,G=G.keyPath,J={name:K,compound:l(G),keyPath:G,unique:W,multiEntry:J,extractKey:Ia(G)};return z[Rn(G)]=J}),getIndexByKeyPath:function(q){return z[Rn(q)]}};return z[":id"]=L.primaryKey,I!=null&&(z[Rn(I)]=L.primaryKey),L})},hasGetAll:0<N.length&&"getAll"in j.objectStore(N[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),M=O.schema,F=O.hasGetAll,O=M.tables.map(b),T={};return O.forEach(function(B){return T[B.name]=B}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(B){if(!T[B])throw new Error("Table '".concat(B,"' not found"));return T[B]},MIN_KEY:-1/0,MAX_KEY:Fn(c),schema:M}}function up(s,c,f,m){var b=f.IDBKeyRange;return f.indexedDB,{dbcore:(m=ip(c,b,m),s.dbcore.reduce(function(v,j){return j=j.create,n(n({},v),j(v))},m))}}function jo(s,m){var f=m.db,m=up(s._middlewares,f,s._deps,m);s.core=m.dbcore,s.tables.forEach(function(b){var v=b.name;s.core.schema.tables.some(function(j){return j.name===v})&&(b.core=s.core.table(v),s[v]instanceof s.Table&&(s[v].core=b.core))})}function Ao(s,c,f,m){f.forEach(function(b){var v=m[b];c.forEach(function(j){var N=function M(F,O){return D(F,O)||(F=h(F))&&M(F,O)}(j,b);(!N||"value"in N&&N.value===void 0)&&(j===s.Transaction.prototype||j instanceof s.Transaction?w(j,b,{get:function(){return this.table(b)},set:function(M){y(this,b,{value:M,writable:!0,configurable:!0,enumerable:!0})}}):j[b]=new s.Table(b,v))})})}function Fa(s,c){c.forEach(function(f){for(var m in f)f[m]instanceof s.Table&&delete f[m]})}function lp(s,c){return s._cfg.version-c._cfg.version}function cp(s,c,f,m){var b=s._dbSchema;f.objectStoreNames.contains("$meta")&&!b.$meta&&(b.$meta=Ma("$meta",Qi("")[0],[]),s._storeNames.push("$meta"));var v=s._createTransaction("readwrite",s._storeNames,b);v.create(f),v._completion.catch(m);var j=v._reject.bind(v),N=pe.transless||pe;wr(function(){return pe.trans=v,pe.transless=N,c!==0?(jo(s,f),F=c,((M=v).storeNames.includes("$meta")?M.table("$meta").get("version").then(function(O){return O??F}):ie.resolve(F)).then(function(O){return B=O,I=v,R=f,z=[],O=(T=s)._versions,L=T._dbSchema=No(0,T.idbdb,R),(O=O.filter(function(q){return q._cfg.version>=B})).length!==0?(O.forEach(function(q){z.push(function(){var K=L,W=q._cfg.dbschema;To(T,K,R),To(T,W,R),L=T._dbSchema=W;var G=Ra(K,W);G.add.forEach(function(ce){Oa(R,ce[0],ce[1].primKey,ce[1].indexes)}),G.change.forEach(function(ce){if(ce.recreate)throw new ue.Upgrade("Not yet support for changing primary key");var le=R.objectStore(ce.name);ce.add.forEach(function(de){return Do(le,de)}),ce.change.forEach(function(de){le.deleteIndex(de.name),Do(le,de)}),ce.del.forEach(function(de){return le.deleteIndex(de)})});var J=q._cfg.contentUpgrade;if(J&&q._cfg.version>B){jo(T,R),I._memoizedTables={};var ae=Y(W);G.del.forEach(function(ce){ae[ce]=K[ce]}),Fa(T,[T.Transaction.prototype]),Ao(T,[T.Transaction.prototype],u(ae),ae),I.schema=ae;var ee,re=xe(J);return re&&en(),G=ie.follow(function(){var ce;(ee=J(I))&&re&&(ce=Cr.bind(null,null),ee.then(ce,ce))}),ee&&typeof ee.then=="function"?ie.resolve(ee):G.then(function(){return ee})}}),z.push(function(K){var W,G,J=q._cfg.dbschema;W=J,G=K,[].slice.call(G.db.objectStoreNames).forEach(function(ae){return W[ae]==null&&G.db.deleteObjectStore(ae)}),Fa(T,[T.Transaction.prototype]),Ao(T,[T.Transaction.prototype],T._storeNames,T._dbSchema),I.schema=T._dbSchema}),z.push(function(K){T.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(T.idbdb.version/10)===q._cfg.version?(T.idbdb.deleteObjectStore("$meta"),delete T._dbSchema.$meta,T._storeNames=T._storeNames.filter(function(W){return W!=="$meta"})):K.objectStore("$meta").put(q._cfg.version,"version"))})}),function q(){return z.length?ie.resolve(z.shift()(I.idbtrans)).then(q):ie.resolve()}().then(function(){Xi(L,R)})):ie.resolve();var T,B,I,R,z,L}).catch(j)):(u(b).forEach(function(O){Oa(f,O,b[O].primKey,b[O].indexes)}),jo(s,f),void ie.follow(function(){return s.on.populate.fire(v)}).catch(j));var M,F})}function dp(s,c){Xi(s._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var f=No(0,s.idbdb,c);To(s,s._dbSchema,c);for(var m=0,b=Ra(f,s._dbSchema).change;m<b.length;m++){var v=function(j){if(j.change.length||j.recreate)return console.warn("Unable to patch indexes of table ".concat(j.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=c.objectStore(j.name);j.add.forEach(function(M){st&&console.debug("Dexie upgrade patch: Creating missing index ".concat(j.name,".").concat(M.src)),Do(N,M)})}(b[m]);if(typeof v=="object")return v.value}}function Ra(s,c){var f,m={del:[],add:[],change:[]};for(f in s)c[f]||m.del.push(f);for(f in c){var b=s[f],v=c[f];if(b){var j={name:f,def:v,recreate:!1,del:[],add:[],change:[]};if(""+(b.primKey.keyPath||"")!=""+(v.primKey.keyPath||"")||b.primKey.auto!==v.primKey.auto)j.recreate=!0,m.change.push(j);else{var N=b.idxByName,M=v.idxByName,F=void 0;for(F in N)M[F]||j.del.push(F);for(F in M){var O=N[F],T=M[F];O?O.src!==T.src&&j.change.push(T):j.add.push(T)}(0<j.del.length||0<j.add.length||0<j.change.length)&&m.change.push(j)}}else m.add.push([f,v])}return m}function Oa(s,c,f,m){var b=s.db.createObjectStore(c,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});return m.forEach(function(v){return Do(b,v)}),b}function Xi(s,c){u(s).forEach(function(f){c.db.objectStoreNames.contains(f)||(st&&console.debug("Dexie: Creating missing table",f),Oa(c,f,s[f].primKey,s[f].indexes))})}function Do(s,c){s.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function No(s,c,f){var m={};return E(c.objectStoreNames,0).forEach(function(b){for(var v=f.objectStore(b),j=Pa(Yi(F=v.keyPath),F||"",!0,!1,!!v.autoIncrement,F&&typeof F!="string",!0),N=[],M=0;M<v.indexNames.length;++M){var O=v.index(v.indexNames[M]),F=O.keyPath,O=Pa(O.name,F,!!O.unique,!!O.multiEntry,!1,F&&typeof F!="string",!1);N.push(O)}m[b]=Ma(b,j,N)}),m}function To(s,c,f){for(var m=f.db.objectStoreNames,b=0;b<m.length;++b){var v=m[b],j=f.objectStore(v);s._hasGetAll="getAll"in j;for(var N=0;N<j.indexNames.length;++N){var M=j.indexNames[N],F=j.index(M).keyPath,O=typeof F=="string"?F:"["+E(F).join("+")+"]";!c[v]||(F=c[v].idxByName[O])&&(F.name=M,delete c[v].idxByName[O],c[v].idxByName[M]=F)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Qi(s){return s.split(",").map(function(c,f){var v=c.split(":"),m=(b=v[1])===null||b===void 0?void 0:b.trim(),b=(c=v[0].trim()).replace(/([&*]|\+\+)/g,""),v=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return Pa(b,v||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),l(v),f===0,m)})}var fp=(on.prototype._createTableSchema=Ma,on.prototype._parseIndexSyntax=Qi,on.prototype._parseStoresSpec=function(s,c){var f=this;u(s).forEach(function(m){if(s[m]!==null){var b=f._parseIndexSyntax(s[m]),v=b.shift();if(!v)throw new ue.Schema("Invalid schema for table "+m+": "+s[m]);if(v.unique=!0,v.multi)throw new ue.Schema("Primary key cannot be multiEntry*");b.forEach(function(j){if(j.auto)throw new ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!j.keyPath)throw new ue.Schema("Index must have a name and cannot be an empty string")}),b=f._createTableSchema(m,v,b),c[m]=b}})},on.prototype.stores=function(f){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,f):f;var f=c._versions,m={},b={};return f.forEach(function(v){d(m,v._cfg.storesSource),b=v._cfg.dbschema={},v._parseStoresSpec(m,b)}),c._dbSchema=b,Fa(c,[c._allTables,c,c.Transaction.prototype]),Ao(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],u(b),b),c._storeNames=u(b),this},on.prototype.upgrade=function(s){return this._cfg.contentUpgrade=xr(this._cfg.contentUpgrade||we,s),this},on);function on(){}function La(s,c){var f=s._dbNamesDB;return f||(f=s._dbNamesDB=new pr(wo,{addons:[],indexedDB:s,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function za(s){return s&&typeof s.databases=="function"}function Ba(s){return wr(function(){return pe.letThrough=!0,s()})}function $a(s){return!("from"in s)}var pt=function(s,c){if(!this){var f=new pt;return s&&"d"in s&&d(f,s),f}d(this,arguments.length?{d:1,from:s,to:1<arguments.length?c:s}:{d:0})};function On(s,c,f){var m=He(c,f);if(!isNaN(m)){if(0<m)throw RangeError();if($a(s))return d(s,{from:c,to:f,d:1});var b=s.l,m=s.r;if(He(f,s.from)<0)return b?On(b,c,f):s.l={from:c,to:f,d:1,l:null,r:null},eu(s);if(0<He(c,s.to))return m?On(m,c,f):s.r={from:c,to:f,d:1,l:null,r:null},eu(s);He(c,s.from)<0&&(s.from=c,s.l=null,s.d=m?m.d+1:1),0<He(f,s.to)&&(s.to=f,s.r=null,s.d=s.l?s.l.d+1:1),f=!s.r,b&&!s.l&&Ln(s,b),m&&f&&Ln(s,m)}}function Ln(s,c){$a(c)||function f(m,M){var v=M.from,j=M.to,N=M.l,M=M.r;On(m,v,j),N&&f(m,N),M&&f(m,M)}(s,c)}function Ji(s,c){var f=Po(c),m=f.next();if(m.done)return!1;for(var b=m.value,v=Po(s),j=v.next(b.from),N=j.value;!m.done&&!j.done;){if(He(N.from,b.to)<=0&&0<=He(N.to,b.from))return!0;He(b.from,N.from)<0?b=(m=f.next(N.from)).value:N=(j=v.next(b.from)).value}return!1}function Po(s){var c=$a(s)?null:{s:0,n:s};return{next:function(f){for(var m=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,m)for(;c.n.l&&He(f,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!m||He(f,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function eu(s){var c,f,m=(((c=s.r)===null||c===void 0?void 0:c.d)||0)-(((f=s.l)===null||f===void 0?void 0:f.d)||0),b=1<m?"r":m<-1?"l":"";b&&(c=b=="r"?"l":"r",f=n({},s),m=s[b],s.from=m.from,s.to=m.to,s[b]=m[b],f[b]=m[c],(s[c]=f).d=tu(f)),s.d=tu(s)}function tu(f){var c=f.r,f=f.l;return(c?f?Math.max(c.d,f.d):c.d:f?f.d:0)+1}function Mo(s,c){return u(c).forEach(function(f){s[f]?Ln(s[f],c[f]):s[f]=function m(b){var v,j,N={};for(v in b)x(b,v)&&(j=b[v],N[v]=!j||typeof j!="object"||V.has(j.constructor)?j:m(j));return N}(c[f])}),s}function qa(s,c){return s.all||c.all||Object.keys(s).some(function(f){return c[f]&&Ji(c[f],s[f])})}C(pt.prototype,((Lt={add:function(s){return Ln(this,s),this},addKey:function(s){return On(this,s,s),this},addKeys:function(s){var c=this;return s.forEach(function(f){return On(c,f,f)}),this},hasKey:function(s){var c=Po(this).next(s).value;return c&&He(c.from,s)<=0&&0<=He(c.to,s)}})[be]=function(){return Po(this)},Lt));var Kr={},Ua={},Ha=!1;function Io(s){Mo(Ua,s),Ha||(Ha=!0,setTimeout(function(){Ha=!1,Ka(Ua,!(Ua={}))},0))}function Ka(s,c){c===void 0&&(c=!1);var f=new Set;if(s.all)for(var m=0,b=Object.values(Kr);m<b.length;m++)ru(j=b[m],s,f,c);else for(var v in s){var j,N=/^idb\:\/\/(.*)\/(.*)\//.exec(v);N&&(v=N[1],N=N[2],(j=Kr["idb://".concat(v,"/").concat(N)])&&ru(j,s,f,c))}f.forEach(function(M){return M()})}function ru(s,c,f,m){for(var b=[],v=0,j=Object.entries(s.queries.query);v<j.length;v++){for(var N=j[v],M=N[0],F=[],O=0,T=N[1];O<T.length;O++){var B=T[O];qa(c,B.obsSet)?B.subscribers.forEach(function(L){return f.add(L)}):m&&F.push(B)}m&&b.push([M,F])}if(m)for(var I=0,R=b;I<R.length;I++){var z=R[I],M=z[0],F=z[1];s.queries.query[M]=F}}function hp(s){var c=s._state,f=s._deps.indexedDB;if(c.isBeingOpened||s.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?rt(c.dbOpenError):s});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var m=c.openCanceller,b=Math.round(10*s.verno),v=!1;function j(){if(c.openCanceller!==m)throw new ue.DatabaseClosed("db.open() was cancelled")}function N(){return new ie(function(B,I){if(j(),!f)throw new ue.MissingAPI;var R=s.name,z=c.autoSchema||!b?f.open(R):f.open(R,b);if(!z)throw new ue.MissingAPI;z.onerror=Jt(I),z.onblocked=$e(s._fireOnBlocked),z.onupgradeneeded=$e(function(L){var q;O=z.transaction,c.autoSchema&&!s._options.allowEmptyDB?(z.onerror=Mn,O.abort(),z.result.close(),(q=f.deleteDatabase(R)).onsuccess=q.onerror=$e(function(){I(new ue.NoSuchDatabase("Database ".concat(R," doesnt exist")))})):(O.onerror=Jt(I),L=L.oldVersion>Math.pow(2,62)?0:L.oldVersion,T=L<1,s.idbdb=z.result,v&&dp(s,O),cp(s,L/10,O,I))},I),z.onsuccess=$e(function(){O=null;var L,q,K,W,G,J=s.idbdb=z.result,ae=E(J.objectStoreNames);if(0<ae.length)try{var ee=J.transaction((W=ae).length===1?W[0]:W,"readonly");if(c.autoSchema)q=J,K=ee,(L=s).verno=q.version/10,K=L._dbSchema=No(0,q,K),L._storeNames=E(q.objectStoreNames,0),Ao(L,[L._allTables],u(K),K);else if(To(s,s._dbSchema,ee),((G=Ra(No(0,(G=s).idbdb,ee),G._dbSchema)).add.length||G.change.some(function(re){return re.add.length||re.change.length}))&&!v)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),J.close(),b=J.version+1,v=!0,B(N());jo(s,ee)}catch{}tn.push(s),J.onversionchange=$e(function(re){c.vcFired=!0,s.on("versionchange").fire(re)}),J.onclose=$e(function(re){s.on("close").fire(re)}),T&&(G=s._deps,ee=R,J=G.indexedDB,G=G.IDBKeyRange,za(J)||ee===wo||La(J,G).put({name:ee}).catch(we)),B()},I)}).catch(function(B){switch(B?.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<b)return b=0,N()}return ie.reject(B)})}var M,F=c.dbReadyResolve,O=null,T=!1;return ie.race([m,(typeof navigator>"u"?ie.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(B){function I(){return indexedDB.databases().finally(B)}M=setInterval(I,100),I()}).finally(function(){return clearInterval(M)}):Promise.resolve()).then(N)]).then(function(){return j(),c.onReadyBeingFired=[],ie.resolve(Ba(function(){return s.on.ready.fire(s.vip)})).then(function B(){if(0<c.onReadyBeingFired.length){var I=c.onReadyBeingFired.reduce(xr,we);return c.onReadyBeingFired=[],ie.resolve(Ba(function(){return I(s.vip)})).then(B)}})}).finally(function(){c.openCanceller===m&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(B){c.dbOpenError=B;try{O&&O.abort()}catch{}return m===c.openCanceller&&s._close(),rt(B)}).finally(function(){c.openComplete=!0,F()}).then(function(){var B;return T&&(B={},s.tables.forEach(function(I){I.schema.indexes.forEach(function(R){R.name&&(B["idb://".concat(s.name,"/").concat(I.name,"/").concat(R.name)]=new pt(-1/0,[[[]]]))}),B["idb://".concat(s.name,"/").concat(I.name,"/")]=B["idb://".concat(s.name,"/").concat(I.name,"/:dels")]=new pt(-1/0,[[[]]])}),Sr(In).fire(B),Ka(B,!0)),s})}function Va(s){function c(v){return s.next(v)}var f=b(c),m=b(function(v){return s.throw(v)});function b(v){return function(M){var N=v(M),M=N.value;return N.done?M:M&&typeof M.then=="function"?M.then(f,m):l(M)?Promise.all(M).then(f,m):f(M)}}return b(c)()}function Fo(s,c,f){for(var m=l(s)?s.slice():[s],b=0;b<f;++b)m.push(c);return m}var pp={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return n(n({},s),{table:function(c){var f=s.table(c),m=f.schema,b={},v=[];function j(T,B,I){var R=Rn(T),z=b[R]=b[R]||[],L=T==null?0:typeof T=="string"?1:T.length,q=0<B,q=n(n({},I),{name:q?"".concat(R,"(virtual-from:").concat(I.name,")"):I.name,lowLevelIndex:I,isVirtual:q,keyTail:B,keyLength:L,extractKey:Ia(T),unique:!q&&I.unique});return z.push(q),q.isPrimaryKey||v.push(q),1<L&&j(L===2?T[0]:T.slice(0,L-1),B+1,I),z.sort(function(K,W){return K.keyTail-W.keyTail}),q}c=j(m.primaryKey.keyPath,0,m.primaryKey),b[":id"]=[c];for(var N=0,M=m.indexes;N<M.length;N++){var F=M[N];j(F.keyPath,0,F)}function O(T){var B,I=T.query.index;return I.isVirtual?n(n({},T),{query:{index:I.lowLevelIndex,range:(B=T.query.range,I=I.keyTail,{type:B.type===1?2:B.type,lower:Fo(B.lower,B.lowerOpen?s.MAX_KEY:s.MIN_KEY,I),lowerOpen:!0,upper:Fo(B.upper,B.upperOpen?s.MIN_KEY:s.MAX_KEY,I),upperOpen:!0})}}):T}return n(n({},f),{schema:n(n({},m),{primaryKey:c,indexes:v,getIndexByKeyPath:function(T){return(T=b[Rn(T)])&&T[0]}}),count:function(T){return f.count(O(T))},query:function(T){return f.query(O(T))},openCursor:function(T){var B=T.query.index,I=B.keyTail,R=B.isVirtual,z=B.keyLength;return R?f.openCursor(O(T)).then(function(q){return q&&L(q)}):f.openCursor(T);function L(q){return Object.create(q,{continue:{value:function(K){K!=null?q.continue(Fo(K,T.reverse?s.MAX_KEY:s.MIN_KEY,I)):T.unique?q.continue(q.key.slice(0,z).concat(T.reverse?s.MIN_KEY:s.MAX_KEY,I)):q.continue()}},continuePrimaryKey:{value:function(K,W){q.continuePrimaryKey(Fo(K,s.MAX_KEY,I),W)}},primaryKey:{get:function(){return q.primaryKey}},key:{get:function(){var K=q.key;return z===1?K[0]:K.slice(0,z)}},value:{get:function(){return q.value}}})}}})}})}};function Wa(s,c,f,m){return f=f||{},m=m||"",u(s).forEach(function(b){var v,j,N;x(c,b)?(v=s[b],j=c[b],typeof v=="object"&&typeof j=="object"&&v&&j?(N=Ne(v))!==Ne(j)?f[m+b]=c[b]:N==="Object"?Wa(v,j,f,m+b+"."):v!==j&&(f[m+b]=c[b]):v!==j&&(f[m+b]=c[b])):f[m+b]=void 0}),u(c).forEach(function(b){x(s,b)||(f[m+b]=c[b])}),f}function Ga(s,c){return c.type==="delete"?c.keys:c.keys||c.values.map(s.extractKey)}var mp={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return n(n({},s),{table:function(c){var f=s.table(c),m=f.schema.primaryKey;return n(n({},f),{mutate:function(b){var v=pe.trans,j=v.table(c).hook,N=j.deleting,M=j.creating,F=j.updating;switch(b.type){case"add":if(M.fire===we)break;return v._promise("readwrite",function(){return O(b)},!0);case"put":if(M.fire===we&&F.fire===we)break;return v._promise("readwrite",function(){return O(b)},!0);case"delete":if(N.fire===we)break;return v._promise("readwrite",function(){return O(b)},!0);case"deleteRange":if(N.fire===we)break;return v._promise("readwrite",function(){return function T(B,I,R){return f.query({trans:B,values:!1,query:{index:m,range:I},limit:R}).then(function(z){var L=z.result;return O({type:"delete",keys:L,trans:B}).then(function(q){return 0<q.numFailures?Promise.reject(q.failures[0]):L.length<R?{failures:[],numFailures:0,lastResult:void 0}:T(B,n(n({},I),{lower:L[L.length-1],lowerOpen:!0}),R)})})}(b.trans,b.range,1e4)},!0)}return f.mutate(b);function O(T){var B,I,R,z=pe.trans,L=T.keys||Ga(m,T);if(!L)throw new Error("Keys missing");return(T=T.type==="add"||T.type==="put"?n(n({},T),{keys:L}):n({},T)).type!=="delete"&&(T.values=o([],T.values)),T.keys&&(T.keys=o([],T.keys)),B=f,R=L,((I=T).type==="add"?Promise.resolve([]):B.getMany({trans:I.trans,keys:R,cache:"immutable"})).then(function(q){var K=L.map(function(W,G){var J,ae,ee,re=q[G],ce={onerror:null,onsuccess:null};return T.type==="delete"?N.fire.call(ce,W,re,z):T.type==="add"||re===void 0?(J=M.fire.call(ce,W,T.values[G],z),W==null&&J!=null&&(T.keys[G]=W=J,m.outbound||U(T.values[G],m.keyPath,W))):(J=Wa(re,T.values[G]),(ae=F.fire.call(ce,J,W,re,z))&&(ee=T.values[G],Object.keys(ae).forEach(function(le){x(ee,le)?ee[le]=ae[le]:U(ee,le,ae[le])}))),ce});return f.mutate(T).then(function(W){for(var G=W.failures,J=W.results,ae=W.numFailures,W=W.lastResult,ee=0;ee<L.length;++ee){var re=(J||L)[ee],ce=K[ee];re==null?ce.onerror&&ce.onerror(G[ee]):ce.onsuccess&&ce.onsuccess(T.type==="put"&&q[ee]?T.values[ee]:re)}return{failures:G,results:J,numFailures:ae,lastResult:W}}).catch(function(W){return K.forEach(function(G){return G.onerror&&G.onerror(W)}),Promise.reject(W)})})}}})}})}};function nu(s,c,f){try{if(!c||c.keys.length<s.length)return null;for(var m=[],b=0,v=0;b<c.keys.length&&v<s.length;++b)He(c.keys[b],s[v])===0&&(m.push(f?ye(c.values[b]):c.values[b]),++v);return m.length===s.length?m:null}catch{return null}}var gp={stack:"dbcore",level:-1,create:function(s){return{table:function(c){var f=s.table(c);return n(n({},f),{getMany:function(m){if(!m.cache)return f.getMany(m);var b=nu(m.keys,m.trans._cache,m.cache==="clone");return b?ie.resolve(b):f.getMany(m).then(function(v){return m.trans._cache={keys:m.keys,values:m.cache==="clone"?ye(v):v},v})},mutate:function(m){return m.type!=="add"&&(m.trans._cache=null),f.mutate(m)}})}}}};function ou(s,c){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function au(s,c){switch(s){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var bp={stack:"dbcore",level:0,name:"Observability",create:function(s){var c=s.schema.name,f=new pt(s.MIN_KEY,s.MAX_KEY);return n(n({},s),{transaction:function(m,b,v){if(pe.subscr&&b!=="readonly")throw new ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(pe.querier));return s.transaction(m,b,v)},table:function(m){var b=s.table(m),v=b.schema,j=v.primaryKey,T=v.indexes,N=j.extractKey,M=j.outbound,F=j.autoIncrement&&T.filter(function(I){return I.compound&&I.keyPath.includes(j.keyPath)}),O=n(n({},b),{mutate:function(I){function R(le){return le="idb://".concat(c,"/").concat(m,"/").concat(le),W[le]||(W[le]=new pt)}var z,L,q,K=I.trans,W=I.mutatedParts||(I.mutatedParts={}),G=R(""),J=R(":dels"),ae=I.type,ce=I.type==="deleteRange"?[I.range]:I.type==="delete"?[I.keys]:I.values.length<50?[Ga(j,I).filter(function(le){return le}),I.values]:[],ee=ce[0],re=ce[1],ce=I.trans._cache;return l(ee)?(G.addKeys(ee),(ce=ae==="delete"||ee.length===re.length?nu(ee,ce):null)||J.addKeys(ee),(ce||re)&&(z=R,L=ce,q=re,v.indexes.forEach(function(le){var de=z(le.name||"");function Re(Te){return Te!=null?le.extractKey(Te):null}function Ke(Te){return le.multiEntry&&l(Te)?Te.forEach(function(et){return de.addKey(et)}):de.addKey(Te)}(L||q).forEach(function(Te,mt){var Ae=L&&Re(L[mt]),mt=q&&Re(q[mt]);He(Ae,mt)!==0&&(Ae!=null&&Ke(Ae),mt!=null&&Ke(mt))})}))):ee?(re={from:(re=ee.lower)!==null&&re!==void 0?re:s.MIN_KEY,to:(re=ee.upper)!==null&&re!==void 0?re:s.MAX_KEY},J.add(re),G.add(re)):(G.add(f),J.add(f),v.indexes.forEach(function(le){return R(le.name).add(f)})),b.mutate(I).then(function(le){return!ee||I.type!=="add"&&I.type!=="put"||(G.addKeys(le.results),F&&F.forEach(function(de){for(var Re=I.values.map(function(Ae){return de.extractKey(Ae)}),Ke=de.keyPath.findIndex(function(Ae){return Ae===j.keyPath}),Te=0,et=le.results.length;Te<et;++Te)Re[Te][Ke]=le.results[Te];R(de.name).addKeys(Re)})),K.mutatedParts=Mo(K.mutatedParts||{},W),le})}}),T=function(R){var z=R.query,R=z.index,z=z.range;return[R,new pt((R=z.lower)!==null&&R!==void 0?R:s.MIN_KEY,(z=z.upper)!==null&&z!==void 0?z:s.MAX_KEY)]},B={get:function(I){return[j,new pt(I.key)]},getMany:function(I){return[j,new pt().addKeys(I.keys)]},count:T,query:T,openCursor:T};return u(B).forEach(function(I){O[I]=function(R){var z=pe.subscr,L=!!z,q=ou(pe,b)&&au(I,R)?R.obsSet={}:z;if(L){var K=function(re){return re="idb://".concat(c,"/").concat(m,"/").concat(re),q[re]||(q[re]=new pt)},W=K(""),G=K(":dels"),z=B[I](R),L=z[0],z=z[1];if((I==="query"&&L.isPrimaryKey&&!R.values?G:K(L.name||"")).add(z),!L.isPrimaryKey){if(I!=="count"){var J=I==="query"&&M&&R.values&&b.query(n(n({},R),{values:!1}));return b[I].apply(this,arguments).then(function(re){if(I==="query"){if(M&&R.values)return J.then(function(Re){return Re=Re.result,W.addKeys(Re),re});var ce=R.values?re.result.map(N):re.result;(R.values?W:G).addKeys(ce)}else if(I==="openCursor"){var le=re,de=R.values;return le&&Object.create(le,{key:{get:function(){return G.addKey(le.primaryKey),le.key}},primaryKey:{get:function(){var Re=le.primaryKey;return G.addKey(Re),Re}},value:{get:function(){return de&&W.addKey(le.primaryKey),le.value}}})}return re})}G.add(f)}}return b[I].apply(this,arguments)}}),O}})}};function su(s,c,f){if(f.numFailures===0)return c;if(c.type==="deleteRange")return null;var m=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return f.numFailures===m?null:(c=n({},c),l(c.keys)&&(c.keys=c.keys.filter(function(b,v){return!(v in f.failures)})),"values"in c&&l(c.values)&&(c.values=c.values.filter(function(b,v){return!(v in f.failures)})),c)}function Ya(s,c){return f=s,((m=c).lower===void 0||(m.lowerOpen?0<He(f,m.lower):0<=He(f,m.lower)))&&(s=s,(c=c).upper===void 0||(c.upperOpen?He(s,c.upper)<0:He(s,c.upper)<=0));var f,m}function iu(s,c,B,m,b,v){if(!B||B.length===0)return s;var j=c.query.index,N=j.multiEntry,M=c.query.range,F=m.schema.primaryKey.extractKey,O=j.extractKey,T=(j.lowLevelIndex||j).extractKey,B=B.reduce(function(I,R){var z=I,L=[];if(R.type==="add"||R.type==="put")for(var q=new pt,K=R.values.length-1;0<=K;--K){var W,G=R.values[K],J=F(G);q.hasKey(J)||(W=O(G),(N&&l(W)?W.some(function(le){return Ya(le,M)}):Ya(W,M))&&(q.addKey(J),L.push(G)))}switch(R.type){case"add":var ae=new pt().addKeys(c.values?I.map(function(de){return F(de)}):I),z=I.concat(c.values?L.filter(function(de){return de=F(de),!ae.hasKey(de)&&(ae.addKey(de),!0)}):L.map(function(de){return F(de)}).filter(function(de){return!ae.hasKey(de)&&(ae.addKey(de),!0)}));break;case"put":var ee=new pt().addKeys(R.values.map(function(de){return F(de)}));z=I.filter(function(de){return!ee.hasKey(c.values?F(de):de)}).concat(c.values?L:L.map(function(de){return F(de)}));break;case"delete":var re=new pt().addKeys(R.keys);z=I.filter(function(de){return!re.hasKey(c.values?F(de):de)});break;case"deleteRange":var ce=R.range;z=I.filter(function(de){return!Ya(F(de),ce)})}return z},s);return B===s?s:(B.sort(function(I,R){return He(T(I),T(R))||He(F(I),F(R))}),c.limit&&c.limit<1/0&&(B.length>c.limit?B.length=c.limit:s.length===c.limit&&B.length<c.limit&&(b.dirty=!0)),v?Object.freeze(B):B)}function uu(s,c){return He(s.lower,c.lower)===0&&He(s.upper,c.upper)===0&&!!s.lowerOpen==!!c.lowerOpen&&!!s.upperOpen==!!c.upperOpen}function xp(s,c){return function(f,m,b,v){if(f===void 0)return m!==void 0?-1:0;if(m===void 0)return 1;if((m=He(f,m))===0){if(b&&v)return 0;if(b)return 1;if(v)return-1}return m}(s.lower,c.lower,s.lowerOpen,c.lowerOpen)<=0&&0<=function(f,m,b,v){if(f===void 0)return m!==void 0?1:0;if(m===void 0)return-1;if((m=He(f,m))===0){if(b&&v)return 0;if(b)return-1;if(v)return 1}return m}(s.upper,c.upper,s.upperOpen,c.upperOpen)}function yp(s,c,f,m){s.subscribers.add(f),m.addEventListener("abort",function(){var b,v;s.subscribers.delete(f),s.subscribers.size===0&&(b=s,v=c,setTimeout(function(){b.subscribers.size===0&&je(v,b)},3e3))})}var vp={stack:"dbcore",level:0,name:"Cache",create:function(s){var c=s.schema.name;return n(n({},s),{transaction:function(f,m,b){var v,j,N=s.transaction(f,m,b);return m==="readwrite"&&(j=(v=new AbortController).signal,b=function(M){return function(){if(v.abort(),m==="readwrite"){for(var F=new Set,O=0,T=f;O<T.length;O++){var B=T[O],I=Kr["idb://".concat(c,"/").concat(B)];if(I){var R=s.table(B),z=I.optimisticOps.filter(function(de){return de.trans===N});if(N._explicit&&M&&N.mutatedParts)for(var L=0,q=Object.values(I.queries.query);L<q.length;L++)for(var K=0,W=(ae=q[L]).slice();K<W.length;K++)qa((ee=W[K]).obsSet,N.mutatedParts)&&(je(ae,ee),ee.subscribers.forEach(function(de){return F.add(de)}));else if(0<z.length){I.optimisticOps=I.optimisticOps.filter(function(de){return de.trans!==N});for(var G=0,J=Object.values(I.queries.query);G<J.length;G++)for(var ae,ee,re,ce=0,le=(ae=J[G]).slice();ce<le.length;ce++)(ee=le[ce]).res!=null&&N.mutatedParts&&(M&&!ee.dirty?(re=Object.isFrozen(ee.res),re=iu(ee.res,ee.req,z,R,ee,re),ee.dirty?(je(ae,ee),ee.subscribers.forEach(function(de){return F.add(de)})):re!==ee.res&&(ee.res=re,ee.promise=ie.resolve({result:re}))):(ee.dirty&&je(ae,ee),ee.subscribers.forEach(function(de){return F.add(de)})))}}}F.forEach(function(de){return de()})}}},N.addEventListener("abort",b(!1),{signal:j}),N.addEventListener("error",b(!1),{signal:j}),N.addEventListener("complete",b(!0),{signal:j})),N},table:function(f){var m=s.table(f),b=m.schema.primaryKey;return n(n({},m),{mutate:function(v){var j=pe.trans;if(b.outbound||j.db._options.cache==="disabled"||j.explicit||j.idbtrans.mode!=="readwrite")return m.mutate(v);var N=Kr["idb://".concat(c,"/").concat(f)];return N?(j=m.mutate(v),v.type!=="add"&&v.type!=="put"||!(50<=v.values.length||Ga(b,v).some(function(M){return M==null}))?(N.optimisticOps.push(v),v.mutatedParts&&Io(v.mutatedParts),j.then(function(M){0<M.numFailures&&(je(N.optimisticOps,v),(M=su(0,v,M))&&N.optimisticOps.push(M),v.mutatedParts&&Io(v.mutatedParts))}),j.catch(function(){je(N.optimisticOps,v),v.mutatedParts&&Io(v.mutatedParts)})):j.then(function(M){var F=su(0,n(n({},v),{values:v.values.map(function(O,T){var B;return M.failures[T]?O:(O=(B=b.keyPath)!==null&&B!==void 0&&B.includes(".")?ye(O):n({},O),U(O,b.keyPath,M.results[T]),O)})}),M);N.optimisticOps.push(F),queueMicrotask(function(){return v.mutatedParts&&Io(v.mutatedParts)})}),j):m.mutate(v)},query:function(v){if(!ou(pe,m)||!au("query",v))return m.query(v);var j=((F=pe.trans)===null||F===void 0?void 0:F.db._options.cache)==="immutable",T=pe,N=T.requery,M=T.signal,F=function(R,z,L,q){var K=Kr["idb://".concat(R,"/").concat(z)];if(!K)return[];if(!(z=K.queries[L]))return[null,!1,K,null];var W=z[(q.query?q.query.index.name:null)||""];if(!W)return[null,!1,K,null];switch(L){case"query":var G=W.find(function(J){return J.req.limit===q.limit&&J.req.values===q.values&&uu(J.req.query.range,q.query.range)});return G?[G,!0,K,W]:[W.find(function(J){return("limit"in J.req?J.req.limit:1/0)>=q.limit&&(!q.values||J.req.values)&&xp(J.req.query.range,q.query.range)}),!1,K,W];case"count":return G=W.find(function(J){return uu(J.req.query.range,q.query.range)}),[G,!!G,K,W]}}(c,f,"query",v),O=F[0],T=F[1],B=F[2],I=F[3];return O&&T?O.obsSet=v.obsSet:(T=m.query(v).then(function(R){var z=R.result;if(O&&(O.res=z),j){for(var L=0,q=z.length;L<q;++L)Object.freeze(z[L]);Object.freeze(z)}else R.result=ye(z);return R}).catch(function(R){return I&&O&&je(I,O),Promise.reject(R)}),O={obsSet:v.obsSet,promise:T,subscribers:new Set,type:"query",req:v,dirty:!1},I?I.push(O):(I=[O],(B=B||(Kr["idb://".concat(c,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[v.query.index.name||""]=I)),yp(O,I,N,M),O.promise.then(function(R){return{result:iu(R.result,v,B?.optimisticOps,m,O,j)}})}})}})}};function Ro(s,c){return new Proxy(s,{get:function(f,m,b){return m==="db"?c:Reflect.get(f,m,b)}})}var pr=(nt.prototype.version=function(s){if(isNaN(s)||s<.1)throw new ue.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var c=this._versions,f=c.filter(function(m){return m._cfg.version===s})[0];return f||(f=new this.Version(s),c.push(f),c.sort(lp),f.stores({}),this._state.autoSchema=!1,f)},nt.prototype._whenReady=function(s){var c=this;return this.idbdb&&(this._state.openComplete||pe.letThrough||this._vip)?s():new ie(function(f,m){if(c._state.openComplete)return m(new ue.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void m(new ue.DatabaseClosed);c.open().catch(we)}c._state.dbReadyPromise.then(f,m)}).then(s)},nt.prototype.use=function(s){var c=s.stack,f=s.create,m=s.level,b=s.name;return b&&this.unuse({stack:c,name:b}),s=this._middlewares[c]||(this._middlewares[c]=[]),s.push({stack:c,create:f,level:m??10,name:b}),s.sort(function(v,j){return v.level-j.level}),this},nt.prototype.unuse=function(s){var c=s.stack,f=s.name,m=s.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(b){return m?b.create!==m:!!f&&b.name!==f})),this},nt.prototype.open=function(){var s=this;return qr(Dt,function(){return hp(s)})},nt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,c=tn.indexOf(this);if(0<=c&&tn.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new ie(function(f){s.dbReadyResolve=f}),s.openCanceller=new ie(function(f,m){s.cancelOpen=m}))},nt.prototype.close=function(f){var c=(f===void 0?{disableAutoOpen:!0}:f).disableAutoOpen,f=this._state;c?(f.isBeingOpened&&f.cancelOpen(new ue.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new ue.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},nt.prototype.delete=function(s){var c=this;s===void 0&&(s={disableAutoOpen:!0});var f=0<arguments.length&&typeof arguments[0]!="object",m=this._state;return new ie(function(b,v){function j(){c.close(s);var N=c._deps.indexedDB.deleteDatabase(c.name);N.onsuccess=$e(function(){var M,F,O;M=c._deps,F=c.name,O=M.indexedDB,M=M.IDBKeyRange,za(O)||F===wo||La(O,M).delete(F).catch(we),b()}),N.onerror=Jt(v),N.onblocked=c._fireOnBlocked}if(f)throw new ue.InvalidArgument("Invalid closeOptions argument to db.delete()");m.isBeingOpened?m.dbReadyPromise.then(j):j()})},nt.prototype.backendDB=function(){return this.idbdb},nt.prototype.isOpen=function(){return this.idbdb!==null},nt.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},nt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},nt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(nt.prototype,"tables",{get:function(){var s=this;return u(this._allTables).map(function(c){return s._allTables[c]})},enumerable:!1,configurable:!0}),nt.prototype.transaction=function(){var s=function(c,f,m){var b=arguments.length;if(b<2)throw new ue.InvalidArgument("Too few arguments");for(var v=new Array(b-1);--b;)v[b-1]=arguments[b];return m=v.pop(),[c,he(v),m]}.apply(this,arguments);return this._transaction.apply(this,s)},nt.prototype._transaction=function(s,c,f){var m=this,b=pe.trans;b&&b.db===this&&s.indexOf("!")===-1||(b=null);var v,j,N=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(j=c.map(function(F){if(F=F instanceof m.Table?F.name:F,typeof F!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return F}),s=="r"||s===ja)v=ja;else{if(s!="rw"&&s!=Aa)throw new ue.InvalidArgument("Invalid transaction mode: "+s);v=Aa}if(b){if(b.mode===ja&&v===Aa){if(!N)throw new ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");b=null}b&&j.forEach(function(F){if(b&&b.storeNames.indexOf(F)===-1){if(!N)throw new ue.SubTransaction("Table "+F+" not included in parent transaction.");b=null}}),N&&b&&!b.active&&(b=null)}}catch(F){return b?b._promise(null,function(O,T){T(F)}):rt(F)}var M=function F(O,T,B,I,R){return ie.resolve().then(function(){var z=pe.transless||pe,L=O._createTransaction(T,B,O._dbSchema,I);if(L.explicit=!0,z={trans:L,transless:z},I)L.idbtrans=I.idbtrans;else try{L.create(),L.idbtrans._explicit=!0,O._state.PR1398_maxLoop=3}catch(W){return W.name===Z.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return F(O,T,B,null,R)})):rt(W)}var q,K=xe(R);return K&&en(),z=ie.follow(function(){var W;(q=R.call(L,L))&&(K?(W=Cr.bind(null,null),q.then(W,W)):typeof q.next=="function"&&typeof q.throw=="function"&&(q=Va(q)))},z),(q&&typeof q.then=="function"?ie.resolve(q).then(function(W){return L.active?W:rt(new ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):z.then(function(){return q})).then(function(W){return I&&L._resolve(),L._completion.then(function(){return W})}).catch(function(W){return L._reject(W),rt(W)})})}.bind(null,this,v,j,b,f);return b?b._promise(v,M,"lock"):pe.trans?qr(pe.transless,function(){return m._whenReady(M)}):this._whenReady(M)},nt.prototype.table=function(s){if(!x(this._allTables,s))throw new ue.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},nt);function nt(s,c){var f=this;this._middlewares={},this.verno=0;var m=nt.dependencies;this._options=c=n({addons:nt.addons,autoOpen:!0,indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},m=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var b,v,j,N,M,F={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:we,dbReadyPromise:null,cancelOpen:we,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};F.dbReadyPromise=new ie(function(T){F.dbReadyResolve=T}),F.openCanceller=new ie(function(T,B){F.cancelOpen=B}),this._state=F,this.name=s,this.on=Nn(this,"populate","blocked","versionchange","close",{ready:[xr,we]}),this.once=function(T,B){var I=function(){for(var R=[],z=0;z<arguments.length;z++)R[z]=arguments[z];f.on(T).unsubscribe(I),B.apply(f,R)};return f.on(T,I)},this.on.ready.subscribe=_(this.on.ready.subscribe,function(T){return function(B,I){nt.vip(function(){var R,z=f._state;z.openComplete?(z.dbOpenError||ie.resolve().then(B),I&&T(B)):z.onReadyBeingFired?(z.onReadyBeingFired.push(B),I&&T(B)):(T(B),R=f,I||T(function L(){R.on.ready.unsubscribe(B),R.on.ready.unsubscribe(L)}))})}}),this.Collection=(b=this,Tn(rp.prototype,function(q,L){this.db=b;var I=Li,R=null;if(L)try{I=L()}catch(K){R=K}var z=q._ctx,L=z.table,q=L.hook.reading.fire;this._ctx={table:L,index:z.index,isPrimKey:!z.index||L.schema.primKey.keyPath&&z.index===L.schema.primKey.name,range:I,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:R,or:z.or,valueMapper:q!==at?q:null}})),this.Table=(v=this,Tn(qi.prototype,function(T,B,I){this.db=v,this._tx=I,this.name=T,this.schema=B,this.hook=v._allTables[T]?v._allTables[T].hook:Nn(null,{creating:[Yt,we],reading:[At,at],updating:[Br,we],deleting:[cr,we]})})),this.Transaction=(j=this,Tn(ap.prototype,function(T,B,I,R,z){var L=this;T!=="readonly"&&B.forEach(function(q){q=(q=I[q])===null||q===void 0?void 0:q.yProps,q&&(B=B.concat(q.map(function(K){return K.updatesTable})))}),this.db=j,this.mode=T,this.storeNames=B,this.schema=I,this.chromeTransactionDurability=R,this.idbtrans=null,this.on=Nn(this,"complete","error","abort"),this.parent=z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ie(function(q,K){L._resolve=q,L._reject=K}),this._completion.then(function(){L.active=!1,L.on.complete.fire()},function(q){var K=L.active;return L.active=!1,L.on.error.fire(q),L.parent?L.parent._reject(q):K&&L.idbtrans&&L.idbtrans.abort(),rt(q)})})),this.Version=(N=this,Tn(fp.prototype,function(T){this.db=N,this._cfg={version:T,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(M=this,Tn(Gi.prototype,function(T,B,I){if(this.db=M,this._ctx={table:T,index:B===":id"?null:B,or:I},this._cmp=this._ascending=He,this._descending=function(R,z){return He(z,R)},this._max=function(R,z){return 0<He(R,z)?R:z},this._min=function(R,z){return He(R,z)<0?R:z},this._IDBKeyRange=M._deps.IDBKeyRange,!this._IDBKeyRange)throw new ue.MissingAPI})),this.on("versionchange",function(T){0<T.newVersion?console.warn("Another connection wants to upgrade database '".concat(f.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(f.name,"'. Closing db now to resume the delete request.")),f.close({disableAutoOpen:!1})}),this.on("blocked",function(T){!T.newVersion||T.newVersion<T.oldVersion?console.warn("Dexie.delete('".concat(f.name,"') was blocked")):console.warn("Upgrade '".concat(f.name,"' blocked by other connection holding version ").concat(T.oldVersion/10))}),this._maxKey=Fn(c.IDBKeyRange),this._createTransaction=function(T,B,I,R){return new f.Transaction(T,B,I,f._options.chromeTransactionDurability,R)},this._fireOnBlocked=function(T){f.on("blocked").fire(T),tn.filter(function(B){return B.name===f.name&&B!==f&&!B._state.vcFired}).map(function(B){return B.on("versionchange").fire(T)})},this.use(gp),this.use(vp),this.use(bp),this.use(pp),this.use(mp);var O=new Proxy(this,{get:function(T,B,I){if(B==="_vip")return!0;if(B==="table")return function(z){return Ro(f.table(z),O)};var R=Reflect.get(T,B,I);return R instanceof qi?Ro(R,O):B==="tables"?R.map(function(z){return Ro(z,O)}):B==="_createTransaction"?function(){return Ro(R.apply(this,arguments),O)}:R}});this.vip=O,m.forEach(function(T){return T(f)})}var Oo,Lt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",wp=(Za.prototype.subscribe=function(s,c,f){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:c,complete:f})},Za.prototype[Lt]=function(){return this},Za);function Za(s){this._subscribe=s}try{Oo={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Oo={indexedDB:null,IDBKeyRange:null}}function lu(s){var c,f=!1,m=new wp(function(b){var v=xe(s),j,N=!1,M={},F={},O={get closed(){return N},unsubscribe:function(){N||(N=!0,j&&j.abort(),T&&Sr.storagemutated.unsubscribe(I))}};b.start&&b.start(O);var T=!1,B=function(){return Ea(R)},I=function(z){Mo(M,z),qa(F,M)&&B()},R=function(){var z,L,q;!N&&Oo.indexedDB&&(M={},z={},j&&j.abort(),j=new AbortController,q=function(K){var W=it();try{v&&en();var G=wr(s,K);return G=v?G.finally(Cr):G}finally{W&&ut()}}(L={subscr:z,signal:j.signal,requery:B,querier:s,trans:null}),Promise.resolve(q).then(function(K){f=!0,c=K,N||L.signal.aborted||(M={},function(W){for(var G in W)if(x(W,G))return;return 1}(F=z)||T||(Sr(In,I),T=!0),Ea(function(){return!N&&b.next&&b.next(K)}))},function(K){f=!1,["DatabaseClosedError","AbortError"].includes(K?.name)||N||Ea(function(){N||b.error&&b.error(K)})}))};return setTimeout(B,0),O});return m.hasValue=function(){return f},m.getValue=function(){return c},m}var Vr=pr;function Xa(s){var c=Er;try{Er=!0,Sr.storagemutated.fire(s),Ka(s,!0)}finally{Er=c}}C(Vr,n(n({},Me),{delete:function(s){return new Vr(s,{addons:[]}).delete()},exists:function(s){return new Vr(s,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return c=Vr.dependencies,f=c.indexedDB,c=c.IDBKeyRange,(za(f)?Promise.resolve(f.databases()).then(function(m){return m.map(function(b){return b.name}).filter(function(b){return b!==wo})}):La(f,c).toCollection().primaryKeys()).then(s)}catch{return rt(new ue.MissingAPI)}var c,f},defineClass:function(){return function(s){d(this,s)}},ignoreTransaction:function(s){return pe.trans?qr(pe.transless,s):s()},vip:Ba,async:function(s){return function(){try{var c=Va(s.apply(this,arguments));return c&&typeof c.then=="function"?c:ie.resolve(c)}catch(f){return rt(f)}}},spawn:function(s,c,f){try{var m=Va(s.apply(f,c||[]));return m&&typeof m.then=="function"?m:ie.resolve(m)}catch(b){return rt(b)}},currentTransaction:{get:function(){return pe.trans||null}},waitFor:function(s,c){return c=ie.resolve(typeof s=="function"?Vr.ignoreTransaction(s):s).timeout(c||6e4),pe.trans?pe.trans.waitFor(c):c},Promise:ie,debug:{get:function(){return st},set:function(s){$r(s)}},derive:k,extend:d,props:C,override:_,Events:Nn,on:Sr,liveQuery:lu,extendObservabilitySet:Mo,getByKeyPath:$,setByKeyPath:U,delByKeyPath:function(s,c){typeof c=="string"?U(s,c,void 0):"length"in c&&[].map.call(c,function(f){U(s,f,void 0)})},shallowClone:Y,deepClone:ye,getObjectDiff:Wa,cmp:He,asap:P,minKey:-1/0,addons:[],connections:tn,errnames:Z,dependencies:Oo,cache:Kr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,c,f){return s+c/Math.pow(10,2*f)})})),Vr.maxKey=Fn(Vr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Sr(In,function(s){Er||(s=new CustomEvent(Ta,{detail:s}),Er=!0,dispatchEvent(s),Er=!1)}),addEventListener(Ta,function(s){s=s.detail,Er||Xa(s)}));var an,Er=!1,cu=function(){};return typeof BroadcastChannel<"u"&&((cu=function(){(an=new BroadcastChannel(Ta)).onmessage=function(s){return s.data&&Xa(s.data)}})(),typeof an.unref=="function"&&an.unref(),Sr(In,function(s){Er||an.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!pr.disableBfCache&&s.persisted){st&&console.debug("Dexie: handling persisted pagehide"),an?.close();for(var c=0,f=tn;c<f.length;c++)f[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!pr.disableBfCache&&s.persisted&&(st&&console.debug("Dexie: handling persisted pageshow"),cu(),Xa({all:new pt(-1/0,[[]])}))})),ie.rejectionMapper=function(s,c){return!s||s instanceof ve||s instanceof TypeError||s instanceof SyntaxError||!s.name||!Ue[s.name]?s:(c=new Ue[s.name](c||s.message,s),"stack"in s&&w(c,"stack",{get:function(){return this.inner.stack}}),c)},$r(st),n(pr,Object.freeze({__proto__:null,Dexie:pr,liveQuery:lu,Entity:zi,cmp:He,PropModification:Pn,replacePrefix:function(s,c){return new Pn({replacePrefix:[s,c]})},add:function(s){return new Pn({add:s})},remove:function(s){return new Pn({remove:s})},default:pr,RangeSet:pt,mergeRanges:Ln,rangesOverlap:Ji}),{default:pr}),pr})})(Dl);var Zp=Dl.exports;const ks=jl(Zp),hu=Symbol.for("Dexie"),Vo=globalThis[hu]||(globalThis[hu]=ks);if(ks.semVer!==Vo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ks.semVer} and ${Vo.semVer}`);const{liveQuery:b_,mergeRanges:x_,rangesOverlap:y_,RangeSet:v_,cmp:w_,Entity:C_,PropModification:__,replacePrefix:k_,add:S_,remove:E_,DexieYProvider:j_}=Vo;class Xp extends Vo{cards;folders;tags;images;syncQueue;settings;constructor(){super("CardAllDatabase"),this.version(1).stores({cards:"++id, userId, folderId, createdAt, updatedAt, syncVersion, pendingSync",folders:"++id, userId, parentId, createdAt, updatedAt, syncVersion, pendingSync",tags:"++id, userId, name, createdAt, syncVersion, pendingSync",images:"++id, cardId, filePath, createdAt, syncVersion, pendingSync",syncQueue:"++id, type, table, localId, timestamp, retryCount",settings:"++id, key, updatedAt"}),this.version(1).upgrade(async t=>{console.log("Initializing CardAll database..."),await t.table("settings").add({key:"storageMode",value:"hybrid",updatedAt:new Date}),await t.table("settings").add({key:"syncEnabled",value:!0,updatedAt:new Date}),await t.table("settings").add({key:"imageCompression",value:{enabled:!0,quality:.8,maxWidth:1920,maxHeight:1080,format:"webp"},updatedAt:new Date})})}async getSetting(t){return(await this.settings.where("key").equals(t).first())?.value}async updateSetting(t,r){await this.settings.where("key").equals(t).modify({value:r,updatedAt:new Date})}async clearAll(){await this.transaction("rw",this.cards,this.folders,this.tags,this.syncQueue,async()=>{await this.cards.clear(),await this.folders.clear(),await this.tags.clear(),await this.syncQueue.clear()})}async getStats(){const[t,r,n,o,a]=await Promise.all([this.cards.count(),this.folders.count(),this.tags.count(),0,this.syncQueue.count()]);return{cards:t,folders:r,tags:n,images:o,pendingSync:a}}async createCard(t){const r=crypto.randomUUID(),n=new Date;return await this.cards.add({...t,id:r,syncVersion:1,pendingSync:!0,updatedAt:n}),r}async updateCard(t,r){return await this.cards.update(t,{...r,syncVersion:r.syncVersion?r.syncVersion+1:void 0,pendingSync:!0,updatedAt:new Date})}async deleteCard(t){await this.cards.delete(t)}}const De=new Xp;De.on("blocked",()=>{console.warn("Database operation blocked")});De.on("versionchange",()=>{console.warn("Database version changed")});De.on("ready",()=>{console.log("Database is ready")});const Qp="https://elwnpejlwkgdacaugvvd.supabase.co",Jp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsd25wZWpsd2tnZGFjYXVndnZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzMzkxNTAsImV4cCI6MjA2ODkxNTE1MH0.XhVGgO2nf8uS1gC0V6jTMP0p0xN5KKV47t2rK2ncK90",tt=Tp(Qp,Jp,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});class em{syncQueue=[];isOnline=navigator.onLine;syncInProgress=!1;lastSyncTime=null;conflicts=[];listeners=[];authService=null;constructor(){this.initialize()}initialize(){window.addEventListener("online",()=>{this.isOnline=!0,this.notifyStatusChange(),this.processSyncQueue()}),window.addEventListener("offline",()=>{this.isOnline=!1,this.notifyStatusChange()}),setInterval(()=>{this.isOnline&&this.authService?.isAuthenticated()&&this.processSyncQueue()},5*60*1e3)}setAuthService(t){this.authService=t,t.onAuthStateChange(r=>{r.user&&this.isOnline&&this.performFullSync()})}onStatusChange(t){return this.listeners.push(t),t(this.getCurrentStatus()),()=>{const r=this.listeners.indexOf(t);r>-1&&this.listeners.splice(r,1)}}notifyStatusChange(){const t=this.getCurrentStatus();this.listeners.forEach(r=>r(t))}getCurrentStatus(){return{isOnline:this.isOnline,lastSyncTime:this.lastSyncTime,pendingOperations:this.syncQueue.length,syncInProgress:this.syncInProgress,hasConflicts:this.conflicts.length>0}}async queueOperation(t){const r={...t,id:crypto.randomUUID(),timestamp:new Date,retryCount:0};this.syncQueue.push(r),await this.persistSyncQueue(),this.isOnline&&this.authService?.isAuthenticated()&&this.processSyncQueue(),this.notifyStatusChange()}async processSyncQueue(){if(!(this.syncInProgress||!this.isOnline||!this.authService?.isAuthenticated())){this.syncInProgress=!0,this.notifyStatusChange();try{const t=[...this.syncQueue];for(const r of t)try{await this.executeOperation(r);const n=this.syncQueue.findIndex(o=>o.id===r.id);n>-1&&this.syncQueue.splice(n,1)}catch(n){if(console.error("Sync operation failed:",n),r.retryCount++,r.retryCount>3){const o=this.syncQueue.findIndex(a=>a.id===r.id);o>-1&&this.syncQueue.splice(o,1)}}await this.persistSyncQueue(),this.lastSyncTime=new Date}finally{this.syncInProgress=!1,this.notifyStatusChange()}}}async executeOperation(t){const r=this.authService?.getCurrentUser();if(!r)throw new Error("User not authenticated");switch(t.table){case"cards":await this.syncCard(t,r.id);break;case"folders":await this.syncFolder(t,r.id);break;case"tags":await this.syncTag(t,r.id);break;case"images":await this.syncImage(t,r.id);break}}async syncCard(t,r){const{type:n,data:o,localId:a}=t;switch(n){case"create":case"update":const{error:u}=await tt.from("cards").upsert({id:a,user_id:r,front_content:o.frontContent,back_content:o.backContent,style:o.style,folder_id:o.folderId,updated_at:new Date().toISOString(),sync_version:o.syncVersion+1});if(u)throw u;break;case"delete":const{error:l}=await tt.from("cards").update({is_deleted:!0,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",r);if(l)throw l;break}}async syncFolder(t,r){const{type:n,data:o,localId:a}=t;switch(n){case"create":case"update":const{error:u}=await tt.from("folders").upsert({id:a,user_id:r,name:o.name,parent_id:o.parentId,updated_at:new Date().toISOString(),sync_version:o.syncVersion+1});if(u)throw u;break;case"delete":const{error:l}=await tt.from("folders").update({is_deleted:!0,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",r);if(l)throw l;break}}async syncTag(t,r){const{type:n,data:o,localId:a}=t;switch(n){case"create":case"update":const{error:u}=await tt.from("tags").upsert({id:a,user_id:r,name:o.name,color:o.color,updated_at:new Date().toISOString(),sync_version:o.syncVersion+1});if(u)throw u;break;case"delete":const{error:l}=await tt.from("tags").update({is_deleted:!0,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",r);if(l)throw l;break}}async syncImage(t,r){const{type:n,data:o,localId:a}=t;switch(n){case"create":case"update":const{error:u}=await tt.from("images").upsert({id:a,user_id:r,card_id:o.cardId,file_name:o.fileName,file_path:o.filePath,cloud_url:o.cloudUrl,metadata:o.metadata,updated_at:new Date().toISOString(),sync_version:o.syncVersion+1});if(u)throw u;break;case"delete":const{error:l}=await tt.from("images").update({is_deleted:!0,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",r);if(l)throw l;break}}async performFullSync(){if(!(!this.authService?.isAuthenticated()||!this.isOnline))try{this.syncInProgress=!0,this.notifyStatusChange();const t=this.authService.getCurrentUser();await this.syncFromCloud(t.id),await this.processSyncQueue(),this.lastSyncTime=new Date,console.log("Full sync completed successfully")}catch(t){console.error("Full sync failed:",t)}finally{this.syncInProgress=!1,this.notifyStatusChange()}}async syncFromCloud(t){const r=this.lastSyncTime||new Date(0),{data:n}=await tt.from("cards").select("*").eq("user_id",t).gte("updated_at",r.toISOString());if(n)for(const u of n)await this.mergeCloudCard(u);const{data:o}=await tt.from("folders").select("*").eq("user_id",t).gte("updated_at",r.toISOString());if(o)for(const u of o)await this.mergeCloudFolder(u);const{data:a}=await tt.from("tags").select("*").eq("user_id",t).gte("updated_at",r.toISOString());if(a)for(const u of a)await this.mergeCloudTag(u)}async mergeCloudCard(t){const r=await De.cards?.get(t.id);if(!r)await De.cards?.add({id:t.id,frontContent:t.front_content,backContent:t.back_content,style:t.style,folderId:t.folder_id||void 0,isFlipped:!1,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1});else{const n=new Date(r.updatedAt).getTime(),o=new Date(t.updated_at).getTime();o>n?await De.cards?.update(t.id,{frontContent:t.front_content,backContent:t.back_content,style:t.style,folderId:t.folder_id||void 0,updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1}):n>o&&r.pendingSync&&await this.queueOperation({type:"update",table:"cards",data:r,localId:r.id||""})}}async mergeCloudFolder(t){const r=await De.folders?.get(t.id);if(!r)await De.folders?.add({id:t.id,name:t.name,color:"#3b82f6",icon:"Folder",cardIds:[],parentId:t.parent_id||void 0,isExpanded:!0,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1});else{const n=new Date(r.updatedAt).getTime(),o=new Date(t.updated_at).getTime();o>n?await De.folders?.update(t.id,{name:t.name,parentId:t.parent_id||void 0,updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1}):n>o&&r.pendingSync&&await this.queueOperation({type:"update",table:"folders",data:r,localId:r.id||""})}}async mergeCloudTag(t){const r=await De.tags?.get(t.id);if(!r)await De.tags?.add({id:t.id,name:t.name,color:t.color,count:0,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1});else{const n=new Date(r.updatedAt).getTime(),o=new Date(t.updatedAt).getTime();o>n?await De.tags?.update(t.id,{name:t.name,color:t.color,updatedAt:new Date(t.updated_at),syncVersion:t.sync_version,pendingSync:!1}):n>o&&r.pendingSync&&await this.queueOperation({type:"update",table:"tags",data:r,localId:r.id||""})}}async persistSyncQueue(){try{localStorage.setItem("cardall_sync_queue",JSON.stringify(this.syncQueue))}catch(t){console.error("Failed to persist sync queue:",t)}}async restoreSyncQueue(){try{const t=localStorage.getItem("cardall_sync_queue");t&&(this.syncQueue=JSON.parse(t),this.notifyStatusChange())}catch(t){console.error("Failed to restore sync queue:",t)}}async clearSyncQueue(){this.syncQueue=[],await this.persistSyncQueue(),this.notifyStatusChange()}getConflicts(){return[...this.conflicts]}async resolveConflict(t,r){const n=this.conflicts.find(a=>a.id===t);if(!n)return;switch(r){case"local":await this.queueOperation({type:"update",table:n.table,data:n.localData,localId:n.localData.id||""});break}const o=this.conflicts.findIndex(a=>a.id===t);o>-1&&(this.conflicts.splice(o,1),this.notifyStatusChange())}}const ot=new em,es=Object.freeze(Object.defineProperty({__proto__:null,cloudSyncService:ot},Symbol.toStringTag,{value:"Module"}));class tm{listeners=[];currentState={user:null,session:null,loading:!0,error:null};constructor(){this.initialize(),setTimeout(()=>{this.setupCloudSync()},0)}setupCloudSync(){try{Ja(async()=>{const{cloudSyncService:t}=await Promise.resolve().then(()=>es);return{cloudSyncService:t}},void 0).then(({cloudSyncService:t})=>{t.setAuthService(this)}).catch(t=>{console.warn("Failed to setup cloud sync service:",t)})}catch(t){console.warn("Failed to setup cloud sync service:",t)}}async initialize(){try{const{data:{session:t},error:r}=await tt.auth.getSession();if(r){this.updateState({error:r.message,loading:!1});return}if(t?.user){const n=await this.fetchUserProfile(t.user.id);this.updateState({user:n,session:t,loading:!1,error:null})}else this.updateState({loading:!1});tt.auth.onAuthStateChange(async(n,o)=>{if(console.log("Auth state changed:",n,o?.user?.id),n==="SIGNED_OUT"){try{const{cloudSyncService:a}=await Ja(async()=>{const{cloudSyncService:u}=await Promise.resolve().then(()=>es);return{cloudSyncService:u}},void 0);await a.clearSyncQueue()}catch(a){console.warn("Failed to clear sync queue on signout:",a)}this.updateState({user:null,session:null,loading:!1,error:null})}else if(o?.user){const a=await this.fetchUserProfile(o.user.id);if(this.updateState({user:a,session:o,loading:!1,error:null}),n==="SIGNED_IN")try{const{cloudSyncService:u}=await Ja(async()=>{const{cloudSyncService:l}=await Promise.resolve().then(()=>es);return{cloudSyncService:l}},void 0);await u.performFullSync()}catch(u){console.warn("Failed to perform full sync after signin:",u)}}else this.updateState({user:null,session:null,loading:!1,error:null})})}catch(t){console.error("Auth initialization failed:",t),this.updateState({error:t instanceof Error?t.message:"Authentication failed",loading:!1})}}async fetchUserProfile(t){try{const{data:r,error:n}=await tt.from("users").select("*").eq("id",t).single();return n?(console.error("Failed to fetch user profile:",n),n.code==="PGRST116"?await this.createUserProfile(t):null):r}catch(r){return console.error("Error fetching user profile:",r),null}}async createUserProfile(t){try{const{data:{user:r},error:n}=await tt.auth.getUser();if(n||!r)return console.error("Failed to get auth user:",n),null;const{data:o,error:a}=await tt.from("users").insert({id:t,email:r.email,username:r.user_metadata?.name||r.user_metadata?.full_name||r.email.split("@")[0],avatar_url:r.user_metadata?.avatar_url}).select().single();return a?(console.error("Failed to create user profile:",a),null):o}catch(r){return console.error("Error creating user profile:",r),null}}updateState(t){this.currentState={...this.currentState,...t},this.listeners.forEach(r=>r(this.currentState))}onAuthStateChange(t){return this.listeners.push(t),t(this.currentState),()=>{const r=this.listeners.indexOf(t);r>-1&&this.listeners.splice(r,1)}}getCurrentState(){return this.currentState}async signUpWithEmail(t,r,n){try{this.updateState({loading:!0,error:null});const{data:o,error:a}=await tt.auth.signUp({email:t,password:r,options:{data:{name:n?.name||t.split("@")[0],full_name:n?.name||t.split("@")[0]}}});return a?(this.updateState({error:a.message,loading:!1}),{error:a}):(this.updateState({loading:!1,error:null}),{error:null})}catch(o){const a=o instanceof Error?o.message:"Registration failed";return this.updateState({error:a,loading:!1}),{error:o}}}async signInWithEmail(t,r){try{this.updateState({loading:!0,error:null});const{error:n}=await tt.auth.signInWithPassword({email:t,password:r});return n?(this.updateState({error:n.message,loading:!1}),{error:n}):{error:null}}catch(n){const o=n instanceof Error?n.message:"Login failed";return this.updateState({error:o,loading:!1}),{error:n}}}async resetPassword(t){try{this.updateState({loading:!0,error:null});const{error:r}=await tt.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/auth/reset-password`});return r?(this.updateState({error:r.message,loading:!1}),{error:r}):(this.updateState({loading:!1,error:null}),{error:null})}catch(r){const n=r instanceof Error?r.message:"Password reset failed";return this.updateState({error:n,loading:!1}),{error:r}}}async signInWithGitHub(){try{this.updateState({loading:!0,error:null});const{error:t}=await tt.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}`}});return t?(this.updateState({error:t.message,loading:!1}),{error:t}):{error:null}}catch(t){const r=t instanceof Error?t.message:"Login failed";return this.updateState({error:r,loading:!1}),{error:t}}}async signOut(){try{this.updateState({loading:!0,error:null});const{error:t}=await tt.auth.signOut();return t?(this.updateState({error:t.message,loading:!1}),{error:t}):(this.updateState({user:null,session:null,loading:!1,error:null}),{error:null})}catch(t){const r=t instanceof Error?t.message:"Logout failed";return this.updateState({error:r,loading:!1}),{error:t}}}async upsertUserProfile(t){try{if(!this.currentState.session?.user.id)return console.error("No authenticated user found"),null;const{data:r,error:n}=await tt.from("users").upsert({id:this.currentState.session.user.id,...t,updated_at:new Date().toISOString()}).select().single();return n?(console.error("Failed to upsert user profile:",n),null):r}catch(r){return console.error("Error upserting user profile:",r),null}}isAuthenticated(){return!!this.currentState.user&&!!this.currentState.session}getCurrentUser(){return this.currentState.user}getCurrentSession(){return this.currentState.session}}const tr=new tm;class rm{config;directoryHandle=null;isSupported;constructor(){this.config={baseDirectory:"CardAll",imageDirectory:"images",tempDirectory:"temp",cacheDirectory:"cache"},this.isSupported="showDirectoryPicker"in window}isFileSystemAccessSupported(){return this.isSupported}async requestDirectoryAccess(){if(!this.isSupported)return console.warn("File System Access API not supported, using fallback storage"),!1;try{return this.directoryHandle=await window.showDirectoryPicker({mode:"readwrite",startIn:"documents"}),await this.ensureDirectoryStructure(),!0}catch(t){return t.name==="AbortError"?console.log("User cancelled directory selection"):console.error("Failed to access directory:",t),!1}}async ensureDirectoryStructure(){if(this.directoryHandle)try{await this.getOrCreateDirectory(this.config.imageDirectory),await this.getOrCreateDirectory(this.config.tempDirectory),await this.getOrCreateDirectory(this.config.cacheDirectory),console.log("Directory structure created successfully")}catch(t){console.error("Failed to create directory structure:",t)}}async getOrCreateDirectory(t){if(!this.directoryHandle)throw new Error("No directory handle available");try{return await this.directoryHandle.getDirectoryHandle(t)}catch{return await this.directoryHandle.getDirectoryHandle(t,{create:!0})}}async getOrCreateNestedDirectory(t){if(!this.directoryHandle)throw new Error("No directory handle available");const r=t.split("/");let n=this.directoryHandle;for(const o of r)if(o)try{n=await n.getDirectoryHandle(o)}catch{n=await n.getDirectoryHandle(o,{create:!0})}return n}generateImagePath(t,r){const n=r||"uncategorized";return`${this.config.imageDirectory}/${n}/${t}`}async saveImage(t,r,n){const o=`img_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a=`${o}.webp`,l=`${this.generateImagePath(r,n)}/${a}`;try{const d=await this.processImage(t),h=await this.getImageMetadata(t,d);this.isSupported&&this.directoryHandle?await this.saveToFileSystem(l,d):await this.saveToIndexedDB(l,d);const p={id:o,cardId:r,fileName:a,filePath:l,metadata:h,createdAt:new Date,syncVersion:1,pendingSync:!0};return await De.images.add(p),{id:o,fileName:a,filePath:l,metadata:h}}catch(d){throw console.error("Failed to save image:",d),d}}async processImage(t){return new Promise((r,n)=>{const o=document.createElement("canvas"),a=o.getContext("2d"),u=new Image;u.onload=()=>{try{let{width:h,height:p}=u;if(h>1920||p>1080){const x=Math.min(1920/h,1080/p);h*=x,p*=x}o.width=h,o.height=p,a?.drawImage(u,0,0,h,p),o.toBlob(x=>{x?r(x):n(new Error("Failed to convert image"))},"image/webp",.8)}catch(l){n(l)}},u.onerror=()=>n(new Error("Failed to load image")),u.src=URL.createObjectURL(t)})}async getImageMetadata(t,r){return new Promise(n=>{const o=new Image;o.onload=()=>{n({originalName:t.name,size:r.size,width:o.width,height:o.height,format:"webp",compressed:!0})},o.src=URL.createObjectURL(r)})}async saveToFileSystem(t,r){if(!this.directoryHandle)throw new Error("No directory handle available");const n=t.split("/"),o=n.pop(),a=n.join("/"),d=await(await(await this.getOrCreateNestedDirectory(a)).getFileHandle(o,{create:!0})).createWritable();await d.write(r),await d.close()}async saveToIndexedDB(t,r){await r.arrayBuffer();const n=await this.blobToBase64(r);localStorage.setItem(`cardall_file_${t}`,n)}blobToBase64(t){return new Promise((r,n)=>{const o=new FileReader;o.onload=()=>r(o.result),o.onerror=n,o.readAsDataURL(t)})}async getImage(t){try{return this.isSupported&&this.directoryHandle?await this.getFromFileSystem(t):await this.getFromIndexedDB(t)}catch(r){throw console.error("Failed to get image:",r),r}}async getFromFileSystem(t){if(!this.directoryHandle)throw new Error("No directory handle available");const r=t.split("/"),n=r.pop(),o=r.join("/"),l=await(await(await this.getOrCreateNestedDirectory(o)).getFileHandle(n)).getFile();return URL.createObjectURL(l)}async getFromIndexedDB(t){const r=localStorage.getItem(`cardall_file_${t}`);if(!r)throw new Error("Image not found in storage");return r}async deleteImage(t){try{this.isSupported&&this.directoryHandle?await this.deleteFromFileSystem(t):await this.deleteFromIndexedDB(t),await De.images.where("filePath").equals(t).delete()}catch(r){throw console.error("Failed to delete image:",r),r}}async deleteFromFileSystem(t){if(this.directoryHandle)try{const r=t.split("/"),n=r.pop(),o=r.join("/");await(await this.getOrCreateNestedDirectory(o)).removeEntry(n)}catch(r){console.warn("Failed to delete file from filesystem:",r)}}async deleteFromIndexedDB(t){localStorage.removeItem(`cardall_file_${t}`)}async getStorageStats(){const t=await De.images.toArray(),r=t.reduce((n,o)=>n+o.metadata.size,0);return{totalImages:t.length,totalSize:r,storageMode:this.isSupported&&this.directoryHandle?"filesystem":"indexeddb"}}}const pu=new rm,nm=e=>{const{userId:t,syncVersion:r,lastSyncAt:n,pendingSync:o,...a}=e;return{...a,id:a.id||"",createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)}},ts=()=>tr.getCurrentUser()?.id||null;function om(){const[e,t]=g.useState([]),[r,n]=g.useState({searchTerm:"",tags:[]}),[o,a]=g.useState({layout:"grid",cardSize:"medium",showTags:!0,showDates:!1,sortBy:"updated",sortOrder:"desc"}),[u,l]=g.useState([]),[d,h]=g.useState(!0),p=g.useCallback(async()=>{try{h(!0);const A=(await De.cards.toArray()).map(nm);t(A)}catch(_){console.error("Failed to load cards:",_)}finally{h(!1)}},[]);g.useEffect(()=>{p()},[p]);const x=g.useCallback(()=>{let _=e.filter(A=>{if(r.searchTerm){const P=r.searchTerm.toLowerCase(),$=A.frontContent.title.toLowerCase().includes(P)||A.backContent.title.toLowerCase().includes(P),U=A.frontContent.text.toLowerCase().includes(P)||A.backContent.text.toLowerCase().includes(P),Y=[...A.frontContent.tags,...A.backContent.tags].some(te=>te.toLowerCase().includes(P));if(!$&&!U&&!Y)return!1}if(r.tags.length>0){const P=[...A.frontContent.tags,...A.backContent.tags];if(!r.tags.some($=>P.includes($)))return!1}if(r.folderId&&A.folderId!==r.folderId)return!1;if(r.dateRange){const P=new Date(A.updatedAt);if(P<r.dateRange.start||P>r.dateRange.end)return!1}return!(r.styleType&&A.style.type!==r.styleType||r.hasImages!==void 0&&(A.frontContent.images.length>0||A.backContent.images.length>0)!==r.hasImages)});return _.sort((A,P)=>{let $=0;switch(o.sortBy){case"created":$=new Date(A.createdAt).getTime()-new Date(P.createdAt).getTime();break;case"updated":$=new Date(A.updatedAt).getTime()-new Date(P.updatedAt).getTime();break;case"title":$=A.frontContent.title.localeCompare(P.frontContent.title);break;default:$=0}return o.sortOrder==="desc"?-$:$}),_},[e,r,o]),C=g.useCallback(async _=>{const A=ts();try{switch(_.type){case"CREATE_CARD":{const P=crypto.randomUUID(),$={..._.payload,id:P,userId:A,createdAt:new Date,updatedAt:new Date,syncVersion:1,pendingSync:!0};await De.cards.add($),await ot.queueOperation({type:"create",table:"cards",data:$,localId:P}),await p();break}case"UPDATE_CARD":{const P={..._.payload.updates,userId:A,updatedAt:new Date,syncVersion:1,pendingSync:!0};await De.cards.update(_.payload.id,P),await ot.queueOperation({type:"update",table:"cards",data:{..._.payload.updates,userId:A},localId:_.payload.id}),await p();break}case"DELETE_CARD":{const P=await De.cards.get(_.payload);if(P){const $=[...P.frontContent.images,...P.backContent.images];for(const U of $)if(U.url&&!U.url.startsWith("data:"))try{await pu.deleteImage(U.url)}catch(Y){console.warn("Failed to delete image:",Y)}}await De.cards.delete(_.payload),await ot.queueOperation({type:"delete",table:"cards",data:{userId:A},localId:_.payload}),await p();break}case"FLIP_CARD":{const P=await De.cards.get(_.payload);if(P){const $={isFlipped:!P.isFlipped,updatedAt:new Date,syncVersion:(P.syncVersion||0)+1,pendingSync:!0};await De.cards.update(_.payload,$),await ot.queueOperation({type:"update",table:"cards",data:$,localId:_.payload}),await p()}break}case"SELECT_CARD":l(P=>P.includes(_.payload)?P.filter($=>$!==_.payload):[...P,_.payload]);break;case"DESELECT_ALL":l([]);break;case"DUPLICATE_CARD":{const P=await De.cards.get(_.payload);if(P){const $=crypto.randomUUID(),U={...P,id:$,userId:A,createdAt:new Date,updatedAt:new Date,syncVersion:1,pendingSync:!0};await De.cards.add(U),await ot.queueOperation({type:"create",table:"cards",data:U,localId:$}),await p()}break}case"MOVE_TO_FOLDER":{const P={folderId:_.payload.folderId,userId:A,updatedAt:new Date,syncVersion:1,pendingSync:!0};await De.cards.update(_.payload.cardId,P),await ot.queueOperation({type:"update",table:"cards",data:P,localId:_.payload.cardId}),await p();break}default:console.warn("Unknown card action:",_)}}catch(P){throw console.error("Card operation failed:",P),P}},[p]),y=g.useCallback(_=>e.find(A=>A.id===_),[e]),w=g.useCallback(()=>e.filter(_=>u.includes(_.id)),[e,u]),k=g.useCallback(()=>{const _=new Set;return e.forEach(A=>{A.frontContent.tags.forEach(P=>_.add(P)),A.backContent.tags.forEach(P=>_.add(P))}),Array.from(_).sort()},[e]),D=g.useCallback(async(_,A)=>{const P=ts();try{const $=await De.cards.filter(U=>U.frontContent.tags.includes(_)||U.backContent.tags.includes(_)).toArray();for(const U of $){const Y=X=>A?X.map(ye=>ye===_?A:ye):X.filter(ye=>ye!==_),te=Y(U.frontContent.tags),he=Y(U.backContent.tags),V={frontContent:{...U.frontContent,tags:te,lastModified:new Date},backContent:{...U.backContent,tags:he,lastModified:new Date},userId:P,updatedAt:new Date,syncVersion:(U.syncVersion||0)+1,pendingSync:!0};await De.cards.update(U.id,V),await ot.queueOperation({type:"update",table:"cards",data:V,localId:U.id})}await p()}catch($){throw console.error("Failed to update tags in cards:",$),$}},[p]),S=g.useCallback(_=>e.filter(A=>A.frontContent.tags.includes(_)||A.backContent.tags.includes(_)),[e]),E=g.useCallback(async(_,A)=>{const P=ts();try{const $=await De.cards.get(A);if(!$)throw new Error("Card not found");const U=await pu.saveImage(_,A,$.folderId),Y={id:U.id,url:U.filePath,alt:_.name,width:U.metadata.width,height:U.metadata.height,aspectRatio:U.metadata.width/U.metadata.height},te=$.isFlipped?"backContent":"frontContent",he=[...$[te].images,Y];return await De.cards.update(A,V=>{te==="frontContent"?V.frontContent={...V.frontContent,images:he,lastModified:new Date}:V.backContent={...V.backContent,images:he,lastModified:new Date},V.userId=P,V.updatedAt=new Date,V.syncVersion=(V.syncVersion||0)+1,V.pendingSync=!0}),await ot.queueOperation({type:"update",table:"cards",data:{[te]:{images:he},userId:P,updatedAt:new Date},localId:A}),await p(),Y}catch($){throw console.error("Failed to upload image:",$),$}},[p]);return{cards:x(),allCards:e,filter:r,setFilter:n,viewSettings:o,setViewSettings:a,selectedCardIds:u,isLoading:d,dispatch:C,getCardById:y,getSelectedCards:w,getAllTags:k,updateTagsInAllCards:D,getCardsWithTag:S,handleImageUpload:E,loadCards:p}}const am=e=>{const{userId:t,syncVersion:r,pendingSync:n,...o}=e;return{...o,id:o.id||"",createdAt:new Date(o.createdAt),updatedAt:new Date(o.updatedAt)}},sm=()=>tr.getCurrentUser()?.id||null;function im(){const[e,t]=g.useState([]),[r,n]=g.useState({searchTerm:"",showEmpty:!0}),[o,a]=g.useState([]),[u,l]=g.useState(!0),d=g.useCallback(async()=>{try{l(!0);const E=(await De.folders.toArray()).map(am);t(E)}catch(S){console.error("Failed to load folders:",S)}finally{l(!1)}},[]);g.useEffect(()=>{d()},[d]);const h=g.useCallback(()=>{let S=e.filter(E=>{if(r.searchTerm){const _=r.searchTerm.toLowerCase();if(!E.name.toLowerCase().includes(_))return!1}return!(r.parentId!==void 0&&E.parentId!==r.parentId)});return S.sort((E,_)=>new Date(_.createdAt).getTime()-new Date(E.createdAt).getTime()),S},[e,r]),p=g.useCallback(async S=>{const E=sm();try{switch(S.type){case"CREATE_FOLDER":{const _=crypto.randomUUID(),A={...S.payload,id:_,userId:E,createdAt:new Date,updatedAt:new Date,syncVersion:1,pendingSync:!0};console.log("📁 useFoldersDb: Creating new folder",A);const P=await De.folders.add(A);console.log("📁 useFoldersDb: Folder added to local DB with id",P),await ot.queueOperation({type:"create",table:"folders",data:A,localId:_}),console.log("📁 useFoldersDb: Sync operation queued"),await d();break}case"UPDATE_FOLDER":{const _={...S.payload.updates,userId:E,updatedAt:new Date,syncVersion:1,pendingSync:!0};await De.folders.update(S.payload.id,_),await ot.queueOperation({type:"update",table:"folders",data:_,localId:S.payload.id}),await d();break}case"DELETE_FOLDER":{await De.folders.delete(S.payload),await ot.queueOperation({type:"delete",table:"folders",data:{userId:E},localId:S.payload}),await d();break}case"SELECT_FOLDER":a(_=>_.includes(S.payload)?_.filter(A=>A!==S.payload):[..._,S.payload]);break;case"DESELECT_ALL_FOLDERS":a([]);break;case"TOGGLE_EXPAND":{const _=await De.folders.get(S.payload);if(_){const A={isExpanded:!_.isExpanded,userId:E,updatedAt:new Date,syncVersion:(_.syncVersion||0)+1,pendingSync:!0};await De.folders.update(S.payload,A),await ot.queueOperation({type:"update",table:"folders",data:A,localId:S.payload}),await d()}break}case"MOVE_CARDS_TO_FOLDER":{const _={userId:E,updatedAt:new Date,syncVersion:1,pendingSync:!0};await De.folders.update(S.payload.folderId,_),await ot.queueOperation({type:"update",table:"folders",data:_,localId:S.payload.folderId}),await d();break}default:console.warn("Unknown folder action:",S)}}catch(_){throw console.error("Folder operation failed:",_),_}},[d]),x=g.useCallback(S=>e.find(E=>E.id===S),[e]),C=g.useCallback(()=>e.filter(S=>o.includes(S.id)),[e,o]),y=g.useCallback(()=>{const S=(E=null)=>h().filter(_=>_.parentId===E).map(_=>({..._,children:S(_.id)}));return S()},[h]),w=g.useCallback(()=>h().filter(S=>!S.parentId),[h]),k=g.useCallback(S=>h().filter(E=>E.parentId===S),[h]),D=g.useCallback(S=>0,[]);return{folders:h(),allFolders:e,filter:r,setFilter:n,selectedFolderIds:o,isLoading:u,dispatch:p,getFolderById:x,getSelectedFolders:C,getFolderHierarchy:y,getRootFolders:w,getChildFolders:k,getFolderCardCount:D,loadFolders:d}}const um=e=>{const{syncVersion:t,pendingSync:r,...n}=e;return{...n,id:n.id||"",createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)}},lm=()=>tr.getCurrentUser()?.id||null;function cm(){const[e,t]=g.useState([]),[r,n]=g.useState({searchTerm:"",showUnused:!0}),[o,a]=g.useState([]),[u,l]=g.useState(!0),d=g.useCallback(async()=>{try{l(!0);const A=(await De.tags.toArray()).map(um);t(A)}catch(_){console.error("Failed to load tags:",_)}finally{l(!1)}},[]);g.useEffect(()=>{d()},[d]);const h=g.useCallback(()=>{let _=e.filter(A=>{if(r.searchTerm){const P=r.searchTerm.toLowerCase();if(!A.name.toLowerCase().includes(P))return!1}return!(r.color&&A.color!==r.color)});return _.sort((A,P)=>A.count!==P.count?P.count-A.count:A.name.localeCompare(P.name)),_},[e,r]),p=g.useCallback(async _=>{const A=lm();try{switch(_.type){case"CREATE_TAG":{const P=crypto.randomUUID(),$={..._.payload,id:P,userId:A,count:0,createdAt:new Date,updatedAt:new Date,syncVersion:1,pendingSync:!0};console.log("🏷️ useTagsDb: Creating new tag",$);const U=await De.tags.add($);console.log("🏷️ useTagsDb: Tag added to local DB with id",U),await ot.queueOperation({type:"create",table:"tags",data:$,localId:P}),console.log("🏷️ useTagsDb: Sync operation queued"),await d();break}case"UPDATE_TAG":{const P={..._.payload.updates,userId:A,updatedAt:new Date,syncVersion:1,pendingSync:!0};await De.tags.update(_.payload.id,P),await ot.queueOperation({type:"update",table:"tags",data:P,localId:_.payload.id}),await d();break}case"DELETE_TAG":{await De.tags.delete(_.payload),await ot.queueOperation({type:"delete",table:"tags",data:{userId:A},localId:_.payload}),await d();break}case"SELECT_TAG":a(P=>P.includes(_.payload)?P.filter($=>$!==_.payload):[...P,_.payload]);break;case"DESELECT_ALL_TAGS":a([]);break;case"INCREMENT_COUNT":{const P=await De.tags.get(_.payload);if(P){const $={count:(P.count||0)+1,userId:A,updatedAt:new Date,syncVersion:(P.syncVersion||0)+1,pendingSync:!0};await De.tags.update(_.payload,$),await ot.queueOperation({type:"update",table:"tags",data:$,localId:_.payload}),await d()}break}case"DECREMENT_COUNT":{const P=await De.tags.get(_.payload);if(P&&P.count>0){const $={count:Math.max(0,(P.count||0)-1),userId:A,updatedAt:new Date,syncVersion:(P.syncVersion||0)+1,pendingSync:!0};await De.tags.update(_.payload,$),await ot.queueOperation({type:"update",table:"tags",data:$,localId:_.payload}),await d()}break}default:console.warn("Unknown tag action:",_)}}catch(P){throw console.error("Tag operation failed:",P),P}},[d]),x=g.useCallback(_=>e.find(A=>A.id===_),[e]),C=g.useCallback(()=>e.filter(_=>o.includes(_.id)),[e,o]),y=g.useCallback(()=>e.map(_=>_.name).sort(),[e]),w=g.useCallback(_=>e.filter(A=>A.color===_),[e]),k=g.useCallback((_=10)=>[...e].sort((A,P)=>P.count-A.count).slice(0,_),[e]),D=g.useCallback(async _=>{try{const A=await De.tags.toArray(),P=new Set(A.map(U=>U.name)),$=new Set(_);for(const U of A){const Y=_.filter(te=>te===U.name).length;Y!==U.count&&await p({type:"UPDATE_TAG",payload:{id:U.id,updates:{count:Y}}})}for(const U of _)P.has(U)||await p({type:"CREATE_TAG",payload:{name:U,color:"#3b82f6",count:_.filter(Y=>Y===U).length}});console.log("🏷️ Tags synchronized with cards")}catch(A){console.error("Failed to sync tags with cards:",A)}},[p]),S=g.useCallback(async(_,A)=>{try{const P=e.find($=>$.name===_);P&&await p({type:"UPDATE_TAG",payload:{id:P.id,updates:{name:A}}})}catch(P){throw console.error("Failed to rename tag:",P),P}},[e,p]),E=g.useCallback(async()=>{try{const _=e.filter(A=>A.count===0);for(const A of _)await p({type:"DELETE_TAG",payload:A.id})}catch(_){throw console.error("Failed to delete unused tags:",_),_}},[e,p]);return{tags:h(),allTags:e,filter:r,setFilter:n,selectedTagIds:o,isLoading:u,dispatch:p,getTagById:x,getSelectedTags:C,getAllTagNames:y,getTagsByColor:w,getMostUsedTags:k,syncTagsWithCards:D,renameTag:S,deleteUnusedTags:E,loadTags:d}}const Nl=g.createContext(null);function dm({children:e}){const t=om(),r=im(),n=cm();ne.useEffect(()=>{const a=[];t.allCards.forEach(u=>{a.push(...u.frontContent.tags,...u.backContent.tags)}),n.syncTagsWithCards(a)},[t.allCards,n.syncTagsWithCards]);const o={cards:t,folders:r,tags:n};return i.jsx(Nl.Provider,{value:o,children:e})}function Xs(){const e=g.useContext(Nl);if(!e)throw new Error("useCardAll must be used within a CardAllProvider");return e}function fm(){return Xs().cards}function Tl(){return Xs().folders}function Pl(){return Xs().tags}const Ml=g.createContext(void 0);function hm({children:e}){const[t,r]=g.useState(!1),n=()=>r(!0),o=()=>r(!1);return i.jsx(Ml.Provider,{value:{isOpen:t,openModal:n,closeModal:o},children:e})}function Il(){const e=g.useContext(Ml);if(e===void 0)throw new Error("useAuthModal must be used within an AuthModalProvider");return e}function Fl(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Fl(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Rl(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Fl(e))&&(n&&(n+=" "),n+=t);return n}const mu=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gu=Rl,Qs=(e,t)=>r=>{var n;if(t?.variants==null)return gu(e,r?.class,r?.className);const{variants:o,defaultVariants:a}=t,u=Object.keys(o).map(h=>{const p=r?.[h],x=a?.[h];if(p===null)return null;const C=mu(p)||mu(x);return o[h][C]}),l=r&&Object.entries(r).reduce((h,p)=>{let[x,C]=p;return C===void 0||(h[x]=C),h},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:x,className:C,...y}=p;return Object.entries(y).every(w=>{let[k,D]=w;return Array.isArray(D)?D.includes({...a,...l}[k]):{...a,...l}[k]===D})?[...h,x,C]:h},[]);return gu(e,u,d,r?.class,r?.className)},Js="-",pm=e=>{const t=gm(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:u=>{const l=u.split(Js);return l[0]===""&&l.length!==1&&l.shift(),Ol(l,t)||mm(u)},getConflictingClassGroupIds:(u,l)=>{const d=r[u]||[];return l&&n[u]?[...d,...n[u]]:d}}},Ol=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?Ol(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Js);return t.validators.find(({validator:u})=>u(a))?.classGroupId},bu=/^\[(.+)\]$/,mm=e=>{if(bu.test(e)){const t=bu.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},gm=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return xm(Object.entries(e.classGroups),r).forEach(([a,u])=>{Ss(u,n,a,t)}),n},Ss=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:xu(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(bm(o)){Ss(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,u])=>{Ss(u,xu(t,a),r,n)})})},xu=(e,t)=>{let r=e;return t.split(Js).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},bm=e=>e.isThemeGetter,xm=(e,t)=>t?e.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,l])=>[t+u,l])):a);return[r,o]}):e,ym=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(a,u)=>{r.set(a,u),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let u=r.get(a);if(u!==void 0)return u;if((u=n.get(a))!==void 0)return o(a,u),u},set(a,u){r.has(a)?r.set(a,u):o(a,u)}}},Ll="!",vm=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],a=t.length,u=l=>{const d=[];let h=0,p=0,x;for(let D=0;D<l.length;D++){let S=l[D];if(h===0){if(S===o&&(n||l.slice(D,D+a)===t)){d.push(l.slice(p,D)),p=D+a;continue}if(S==="/"){x=D;continue}}S==="["?h++:S==="]"&&h--}const C=d.length===0?l:l.substring(p),y=C.startsWith(Ll),w=y?C.substring(1):C,k=x&&x>p?x-p:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:k}};return r?l=>r({className:l,parseClassName:u}):u},wm=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Cm=e=>({cache:ym(e.cacheSize),parseClassName:vm(e),...pm(e)}),_m=/\s+/,km=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,a=[],u=e.trim().split(_m);let l="";for(let d=u.length-1;d>=0;d-=1){const h=u[d],{modifiers:p,hasImportantModifier:x,baseClassName:C,maybePostfixModifierPosition:y}=r(h);let w=!!y,k=n(w?C.substring(0,y):C);if(!k){if(!w){l=h+(l.length>0?" "+l:l);continue}if(k=n(C),!k){l=h+(l.length>0?" "+l:l);continue}w=!1}const D=wm(p).join(":"),S=x?D+Ll:D,E=S+k;if(a.includes(E))continue;a.push(E);const _=o(k,w);for(let A=0;A<_.length;++A){const P=_[A];a.push(S+P)}l=h+(l.length>0?" "+l:l)}return l};function Sm(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=zl(t))&&(n&&(n+=" "),n+=r);return n}const zl=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=zl(e[n]))&&(r&&(r+=" "),r+=t);return r};function Em(e,...t){let r,n,o,a=u;function u(d){const h=t.reduce((p,x)=>x(p),e());return r=Cm(h),n=r.cache.get,o=r.cache.set,a=l,l(d)}function l(d){const h=n(d);if(h)return h;const p=km(d,r);return o(d,p),p}return function(){return a(Sm.apply(null,arguments))}}const Qe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Bl=/^\[(?:([a-z-]+):)?(.+)\]$/i,jm=/^\d+\/\d+$/,Am=new Set(["px","full","screen"]),Dm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Nm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Tm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mr=e=>cn(e)||Am.has(e)||jm.test(e),jr=e=>Cn(e,"length",$m),cn=e=>!!e&&!Number.isNaN(Number(e)),rs=e=>Cn(e,"number",cn),zn=e=>!!e&&Number.isInteger(Number(e)),Im=e=>e.endsWith("%")&&cn(e.slice(0,-1)),Le=e=>Bl.test(e),Ar=e=>Dm.test(e),Fm=new Set(["length","size","percentage"]),Rm=e=>Cn(e,Fm,$l),Om=e=>Cn(e,"position",$l),Lm=new Set(["image","url"]),zm=e=>Cn(e,Lm,Um),Bm=e=>Cn(e,"",qm),Bn=()=>!0,Cn=(e,t,r)=>{const n=Bl.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$m=e=>Nm.test(e)&&!Tm.test(e),$l=()=>!1,qm=e=>Pm.test(e),Um=e=>Mm.test(e),Hm=()=>{const e=Qe("colors"),t=Qe("spacing"),r=Qe("blur"),n=Qe("brightness"),o=Qe("borderColor"),a=Qe("borderRadius"),u=Qe("borderSpacing"),l=Qe("borderWidth"),d=Qe("contrast"),h=Qe("grayscale"),p=Qe("hueRotate"),x=Qe("invert"),C=Qe("gap"),y=Qe("gradientColorStops"),w=Qe("gradientColorStopPositions"),k=Qe("inset"),D=Qe("margin"),S=Qe("opacity"),E=Qe("padding"),_=Qe("saturate"),A=Qe("scale"),P=Qe("sepia"),$=Qe("skew"),U=Qe("space"),Y=Qe("translate"),te=()=>["auto","contain","none"],he=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Le,t],X=()=>[Le,t],ye=()=>["",mr,jr],Pe=()=>["auto",cn,Le],Ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],be=()=>["solid","dashed","dotted","double","none"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],je=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Le],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],xe=()=>[cn,Le];return{cacheSize:500,separator:":",theme:{colors:[Bn],spacing:[mr,jr],blur:["none","",Ar,Le],brightness:xe(),borderColor:[e],borderRadius:["none","","full",Ar,Le],borderSpacing:X(),borderWidth:ye(),contrast:xe(),grayscale:H(),hueRotate:xe(),invert:H(),gap:X(),gradientColorStops:[e],gradientColorStopPositions:[Im,jr],inset:V(),margin:V(),opacity:xe(),padding:X(),saturate:xe(),scale:xe(),sepia:H(),skew:xe(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[Ar]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ne(),Le]}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:te()}],"overscroll-x":[{"overscroll-x":te()}],"overscroll-y":[{"overscroll-y":te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zn,Le]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",zn,Le]}],"grid-cols":[{"grid-cols":[Bn]}],"col-start-end":[{col:["auto",{span:["full",zn,Le]},Le]}],"col-start":[{"col-start":Pe()}],"col-end":[{"col-end":Pe()}],"grid-rows":[{"grid-rows":[Bn]}],"row-start-end":[{row:["auto",{span:[zn,Le]},Le]}],"row-start":[{"row-start":Pe()}],"row-end":[{"row-end":Pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...je()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...je(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...je(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[D]}],mx:[{mx:[D]}],my:[{my:[D]}],ms:[{ms:[D]}],me:[{me:[D]}],mt:[{mt:[D]}],mr:[{mr:[D]}],mb:[{mb:[D]}],ml:[{ml:[D]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,t]}],"min-w":[{"min-w":[Le,t,"min","max","fit"]}],"max-w":[{"max-w":[Le,t,"none","full","min","max","fit","prose",{screen:[Ar]},Ar]}],h:[{h:[Le,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ar,jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rs]}],"font-family":[{font:[Bn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",cn,rs]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mr,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mr,jr]}],"underline-offset":[{"underline-offset":["auto",mr,Le]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ne(),Om]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Rm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zm]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...be(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:be()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...be()]}],"outline-offset":[{"outline-offset":[mr,Le]}],"outline-w":[{outline:[mr,jr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[mr,jr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ar,Bm]}],"shadow-color":[{shadow:[Bn]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ie()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Ar,Le]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[x]}],saturate:[{saturate:[_]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:xe()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:xe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[zn,Le]}],"translate-x":[{"translate-x":[Y]}],"translate-y":[{"translate-y":[Y]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mr,jr,rs]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Km=Em(Hm);function oe(...e){return Km(Rl(e))}const ei=Qs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ke=g.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const u=n?Zn:"button";return i.jsx(u,{className:oe(ei({variant:t,size:r,className:e})),ref:a,...o})});ke.displayName="Button";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ql=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:u,...l},d)=>g.createElement("svg",{ref:d,...Wm,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ql("lucide",o),...l},[...u.map(([h,p])=>g.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const r=g.forwardRef(({className:n,...o},a)=>g.createElement(Gm,{ref:a,iconNode:t,className:ql(`lucide-${Vm(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Se("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Se("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Se("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Se("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Se("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Se("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Se("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Se("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Se("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=Se("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Se("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=Se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=Se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=Se("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Se("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=Se("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Se("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function aa(e){const t=e+"CollectionProvider",[r,n]=ar(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=y=>{const{scope:w,children:k}=y,D=ne.useRef(null),S=ne.useRef(new Map).current;return i.jsx(o,{scope:w,itemMap:S,collectionRef:D,children:k})};u.displayName=t;const l=e+"CollectionSlot",d=ne.forwardRef((y,w)=>{const{scope:k,children:D}=y,S=a(l,k),E=We(w,S.collectionRef);return i.jsx(Zn,{ref:E,children:D})});d.displayName=l;const h=e+"CollectionItemSlot",p="data-radix-collection-item",x=ne.forwardRef((y,w)=>{const{scope:k,children:D,...S}=y,E=ne.useRef(null),_=We(w,E),A=a(h,k);return ne.useEffect(()=>(A.itemMap.set(E,{ref:E,...S}),()=>void A.itemMap.delete(E))),i.jsx(Zn,{[p]:"",ref:_,children:D})});x.displayName=h;function C(y){const w=a(e+"CollectionConsumer",y);return ne.useCallback(()=>{const D=w.collectionRef.current;if(!D)return[];const S=Array.from(D.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((A,P)=>S.indexOf(A.ref.current)-S.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:u,Slot:d,ItemSlot:x},C,n]}var xg=g.createContext(void 0);function uo(e){const t=g.useContext(xg);return e||t||"ltr"}var as="rovingFocusGroup.onEntryFocus",yg={bubbles:!1,cancelable:!0},sa="RovingFocusGroup",[As,Xl,vg]=aa(sa),[wg,Ql]=ar(sa,[vg]),[Cg,_g]=wg(sa),Jl=g.forwardRef((e,t)=>i.jsx(As.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(As.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(kg,{...e,ref:t})})}));Jl.displayName=sa;var kg=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...x}=e,C=g.useRef(null),y=We(t,C),w=uo(a),[k=null,D]=Xn({prop:u,defaultProp:l,onChange:d}),[S,E]=g.useState(!1),_=Pt(h),A=Xl(r),P=g.useRef(!1),[$,U]=g.useState(0);return g.useEffect(()=>{const Y=C.current;if(Y)return Y.addEventListener(as,_),()=>Y.removeEventListener(as,_)},[_]),i.jsx(Cg,{scope:r,orientation:n,dir:w,loop:o,currentTabStopId:k,onItemFocus:g.useCallback(Y=>D(Y),[D]),onItemShiftTab:g.useCallback(()=>E(!0),[]),onFocusableItemAdd:g.useCallback(()=>U(Y=>Y+1),[]),onFocusableItemRemove:g.useCallback(()=>U(Y=>Y-1),[]),children:i.jsx(qe.div,{tabIndex:S||$===0?-1:0,"data-orientation":n,...x,ref:y,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{P.current=!0}),onFocus:me(e.onFocus,Y=>{const te=!P.current;if(Y.target===Y.currentTarget&&te&&!S){const he=new CustomEvent(as,yg);if(Y.currentTarget.dispatchEvent(he),!he.defaultPrevented){const V=A().filter(be=>be.focusable),X=V.find(be=>be.active),ye=V.find(be=>be.id===k),Ne=[X,ye,...V].filter(Boolean).map(be=>be.ref.current);rc(Ne,p)}}P.current=!1}),onBlur:me(e.onBlur,()=>E(!1))})})}),ec="RovingFocusGroupItem",tc=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:a,...u}=e,l=mn(),d=a||l,h=_g(ec,r),p=h.currentTabStopId===d,x=Xl(r),{onFocusableItemAdd:C,onFocusableItemRemove:y}=h;return g.useEffect(()=>{if(n)return C(),()=>y()},[n,C,y]),i.jsx(As.ItemSlot,{scope:r,id:d,focusable:n,active:o,children:i.jsx(qe.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...u,ref:t,onMouseDown:me(e.onMouseDown,w=>{n?h.onItemFocus(d):w.preventDefault()}),onFocus:me(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:me(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const k=jg(w,h.orientation,h.dir);if(k!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=x().filter(E=>E.focusable).map(E=>E.ref.current);if(k==="last")S.reverse();else if(k==="prev"||k==="next"){k==="prev"&&S.reverse();const E=S.indexOf(w.currentTarget);S=h.loop?Ag(S,E+1):S.slice(E+1)}setTimeout(()=>rc(S))}})})})});tc.displayName=ec;var Sg={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Eg(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jg(e,t,r){const n=Eg(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Sg[n]}function rc(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Ag(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Dg=Jl,Ng=tc,Ds=["Enter"," "],Tg=["ArrowDown","PageUp","Home"],nc=["ArrowUp","PageDown","End"],Pg=[...Tg,...nc],Mg={ltr:[...Ds,"ArrowRight"],rtl:[...Ds,"ArrowLeft"]},Ig={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lo="Menu",[Qn,Fg,Rg]=aa(lo),[Xr,ia]=ar(lo,[Rg,oa,Ql]),ua=oa(),oc=Ql(),[Og,Qr]=Xr(lo),[Lg,co]=Xr(lo),ac=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:a,modal:u=!0}=e,l=ua(t),[d,h]=g.useState(null),p=g.useRef(!1),x=Pt(a),C=uo(o);return g.useEffect(()=>{const y=()=>{p.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>p.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),i.jsx(wl,{...l,children:i.jsx(Og,{scope:t,open:r,onOpenChange:x,content:d,onContentChange:h,children:i.jsx(Lg,{scope:t,onClose:g.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:p,dir:C,modal:u,children:n})})})};ac.displayName=lo;var zg="MenuAnchor",ni=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=ua(r);return i.jsx(pl,{...o,...n,ref:t})});ni.displayName=zg;var oi="MenuPortal",[Bg,sc]=Xr(oi,{forceMount:void 0}),ic=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,a=Qr(oi,t);return i.jsx(Bg,{scope:t,forceMount:r,children:i.jsx(Or,{present:r||a.open,children:i.jsx(hl,{asChild:!0,container:o,children:n})})})};ic.displayName=oi;var zt="MenuContent",[$g,ai]=Xr(zt),uc=g.forwardRef((e,t)=>{const r=sc(zt,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=Qr(zt,e.__scopeMenu),u=co(zt,e.__scopeMenu);return i.jsx(Qn.Provider,{scope:e.__scopeMenu,children:i.jsx(Or,{present:n||a.open,children:i.jsx(Qn.Slot,{scope:e.__scopeMenu,children:u.modal?i.jsx(qg,{...o,ref:t}):i.jsx(Ug,{...o,ref:t})})})})}),qg=g.forwardRef((e,t)=>{const r=Qr(zt,e.__scopeMenu),n=g.useRef(null),o=We(t,n);return g.useEffect(()=>{const a=n.current;if(a)return vl(a)},[]),i.jsx(si,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Ug=g.forwardRef((e,t)=>{const r=Qr(zt,e.__scopeMenu);return i.jsx(si,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),si=g.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:C,onDismiss:y,disableOutsideScroll:w,...k}=e,D=Qr(zt,r),S=co(zt,r),E=ua(r),_=oc(r),A=Fg(r),[P,$]=g.useState(null),U=g.useRef(null),Y=We(t,U,D.onContentChange),te=g.useRef(0),he=g.useRef(""),V=g.useRef(0),X=g.useRef(null),ye=g.useRef("right"),Pe=g.useRef(0),Ne=w?gl:g.Fragment,be=w?{as:Zn,allowPinchZoom:!0}:void 0,Ie=H=>{const fe=he.current+H,xe=A().filter(Z=>!Z.disabled),Ce=document.activeElement,ve=xe.find(Z=>Z.ref.current===Ce)?.textValue,Ee=xe.map(Z=>Z.textValue),Be=t1(Ee,fe,ve),se=xe.find(Z=>Z.textValue===Be)?.ref.current;(function Z(Oe){he.current=Oe,window.clearTimeout(te.current),Oe!==""&&(te.current=window.setTimeout(()=>Z(""),1e3))})(fe),se&&setTimeout(()=>se.focus())};g.useEffect(()=>()=>window.clearTimeout(te.current),[]),ml();const je=g.useCallback(H=>ye.current===X.current?.side&&n1(H,X.current?.area),[]);return i.jsx($g,{scope:r,searchRef:he,onItemEnter:g.useCallback(H=>{je(H)&&H.preventDefault()},[je]),onItemLeave:g.useCallback(H=>{je(H)||(U.current?.focus(),$(null))},[je]),onTriggerLeave:g.useCallback(H=>{je(H)&&H.preventDefault()},[je]),pointerGraceTimerRef:V,onPointerGraceIntentChange:g.useCallback(H=>{X.current=H},[]),children:i.jsx(Ne,{...be,children:i.jsx(bl,{asChild:!0,trapped:o,onMountAutoFocus:me(a,H=>{H.preventDefault(),U.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:i.jsx(xl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:C,onDismiss:y,children:i.jsx(Dg,{asChild:!0,..._,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:P,onCurrentTabStopIdChange:$,onEntryFocus:me(d,H=>{S.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(yl,{role:"menu","aria-orientation":"vertical","data-state":kc(D.open),"data-radix-menu-content":"",dir:S.dir,...E,...k,ref:Y,style:{outline:"none",...k.style},onKeyDown:me(k.onKeyDown,H=>{const xe=H.target.closest("[data-radix-menu-content]")===H.currentTarget,Ce=H.ctrlKey||H.altKey||H.metaKey,ve=H.key.length===1;xe&&(H.key==="Tab"&&H.preventDefault(),!Ce&&ve&&Ie(H.key));const Ee=U.current;if(H.target!==Ee||!Pg.includes(H.key))return;H.preventDefault();const se=A().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);nc.includes(H.key)&&se.reverse(),Jg(se)}),onBlur:me(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(te.current),he.current="")}),onPointerMove:me(e.onPointerMove,Jn(H=>{const fe=H.target,xe=Pe.current!==H.clientX;if(H.currentTarget.contains(fe)&&xe){const Ce=H.clientX>Pe.current?"right":"left";ye.current=Ce,Pe.current=H.clientX}}))})})})})})})});uc.displayName=zt;var Hg="MenuGroup",ii=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(qe.div,{role:"group",...n,ref:t})});ii.displayName=Hg;var Kg="MenuLabel",lc=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(qe.div,{...n,ref:t})});lc.displayName=Kg;var Wo="MenuItem",Su="menu.itemSelect",la=g.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,a=g.useRef(null),u=co(Wo,e.__scopeMenu),l=ai(Wo,e.__scopeMenu),d=We(t,a),h=g.useRef(!1),p=()=>{const x=a.current;if(!r&&x){const C=new CustomEvent(Su,{bubbles:!0,cancelable:!0});x.addEventListener(Su,y=>n?.(y),{once:!0}),Cp(x,C),C.defaultPrevented?h.current=!1:u.onClose()}};return i.jsx(cc,{...o,ref:d,disabled:r,onClick:me(e.onClick,p),onPointerDown:x=>{e.onPointerDown?.(x),h.current=!0},onPointerUp:me(e.onPointerUp,x=>{h.current||x.currentTarget?.click()}),onKeyDown:me(e.onKeyDown,x=>{const C=l.searchRef.current!=="";r||C&&x.key===" "||Ds.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});la.displayName=Wo;var cc=g.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...a}=e,u=ai(Wo,r),l=oc(r),d=g.useRef(null),h=We(t,d),[p,x]=g.useState(!1),[C,y]=g.useState("");return g.useEffect(()=>{const w=d.current;w&&y((w.textContent??"").trim())},[a.children]),i.jsx(Qn.ItemSlot,{scope:r,disabled:n,textValue:o??C,children:i.jsx(Ng,{asChild:!0,...l,focusable:!n,children:i.jsx(qe.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:h,onPointerMove:me(e.onPointerMove,Jn(w=>{n?u.onItemLeave(w):(u.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,Jn(w=>u.onItemLeave(w))),onFocus:me(e.onFocus,()=>x(!0)),onBlur:me(e.onBlur,()=>x(!1))})})})}),Vg="MenuCheckboxItem",dc=g.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return i.jsx(gc,{scope:e.__scopeMenu,checked:r,children:i.jsx(la,{role:"menuitemcheckbox","aria-checked":Go(r)?"mixed":r,...o,ref:t,"data-state":li(r),onSelect:me(o.onSelect,()=>n?.(Go(r)?!0:!r),{checkForDefaultPrevented:!1})})})});dc.displayName=Vg;var fc="MenuRadioGroup",[Wg,Gg]=Xr(fc,{value:void 0,onValueChange:()=>{}}),hc=g.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,a=Pt(n);return i.jsx(Wg,{scope:e.__scopeMenu,value:r,onValueChange:a,children:i.jsx(ii,{...o,ref:t})})});hc.displayName=fc;var pc="MenuRadioItem",mc=g.forwardRef((e,t)=>{const{value:r,...n}=e,o=Gg(pc,e.__scopeMenu),a=r===o.value;return i.jsx(gc,{scope:e.__scopeMenu,checked:a,children:i.jsx(la,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":li(a),onSelect:me(n.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});mc.displayName=pc;var ui="MenuItemIndicator",[gc,Yg]=Xr(ui,{checked:!1}),bc=g.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,a=Yg(ui,r);return i.jsx(Or,{present:n||Go(a.checked)||a.checked===!0,children:i.jsx(qe.span,{...o,ref:t,"data-state":li(a.checked)})})});bc.displayName=ui;var Zg="MenuSeparator",xc=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});xc.displayName=Zg;var Xg="MenuArrow",yc=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=ua(r);return i.jsx(Cl,{...o,...n,ref:t})});yc.displayName=Xg;var Qg="MenuSub",[A_,vc]=Xr(Qg),Hn="MenuSubTrigger",wc=g.forwardRef((e,t)=>{const r=Qr(Hn,e.__scopeMenu),n=co(Hn,e.__scopeMenu),o=vc(Hn,e.__scopeMenu),a=ai(Hn,e.__scopeMenu),u=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=a,h={__scopeMenu:e.__scopeMenu},p=g.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return g.useEffect(()=>p,[p]),g.useEffect(()=>{const x=l.current;return()=>{window.clearTimeout(x),d(null)}},[l,d]),i.jsx(ni,{asChild:!0,...h,children:i.jsx(cc,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":kc(r.open),...e,ref:fl(t,o.onTriggerChange),onClick:x=>{e.onClick?.(x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,Jn(x=>{a.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!r.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:me(e.onPointerLeave,Jn(x=>{p();const C=r.content?.getBoundingClientRect();if(C){const y=r.content?.dataset.side,w=y==="right",k=w?-5:5,D=C[w?"left":"right"],S=C[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:x.clientX+k,y:x.clientY},{x:D,y:C.top},{x:S,y:C.top},{x:S,y:C.bottom},{x:D,y:C.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(x),x.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,x=>{const C=a.searchRef.current!=="";e.disabled||C&&x.key===" "||Mg[n.dir].includes(x.key)&&(r.onOpenChange(!0),r.content?.focus(),x.preventDefault())})})})});wc.displayName=Hn;var Cc="MenuSubContent",_c=g.forwardRef((e,t)=>{const r=sc(zt,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=Qr(zt,e.__scopeMenu),u=co(zt,e.__scopeMenu),l=vc(Cc,e.__scopeMenu),d=g.useRef(null),h=We(t,d);return i.jsx(Qn.Provider,{scope:e.__scopeMenu,children:i.jsx(Or,{present:n||a.open,children:i.jsx(Qn.Slot,{scope:e.__scopeMenu,children:i.jsx(si,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:h,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{u.isUsingKeyboardRef.current&&d.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:me(e.onFocusOutside,p=>{p.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,p=>{u.onClose(),p.preventDefault()}),onKeyDown:me(e.onKeyDown,p=>{const x=p.currentTarget.contains(p.target),C=Ig[u.dir].includes(p.key);x&&C&&(a.onOpenChange(!1),l.trigger?.focus(),p.preventDefault())})})})})})});_c.displayName=Cc;function kc(e){return e?"open":"closed"}function Go(e){return e==="indeterminate"}function li(e){return Go(e)?"indeterminate":e?"checked":"unchecked"}function Jg(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function e1(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function t1(e,t,r){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let u=e1(e,Math.max(a,0));o.length===1&&(u=u.filter(h=>h!==r));const d=u.find(h=>h.toLowerCase().startsWith(o.toLowerCase()));return d!==r?d:void 0}function r1(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const l=t[a].x,d=t[a].y,h=t[u].x,p=t[u].y;d>n!=p>n&&r<(h-l)*(n-d)/(p-d)+l&&(o=!o)}return o}function n1(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return r1(r,t)}function Jn(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Sc=ac,Ec=ni,jc=ic,Ac=uc,Dc=ii,Nc=lc,Tc=la,Pc=dc,Mc=hc,Ic=mc,Fc=bc,Rc=xc,Oc=yc,Lc=wc,zc=_c,ci="DropdownMenu",[o1,D_]=ar(ci,[ia]),wt=ia(),[a1,Bc]=o1(ci),$c=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:a,onOpenChange:u,modal:l=!0}=e,d=wt(t),h=g.useRef(null),[p=!1,x]=Xn({prop:o,defaultProp:a,onChange:u});return i.jsx(a1,{scope:t,triggerId:mn(),triggerRef:h,contentId:mn(),open:p,onOpenChange:x,onOpenToggle:g.useCallback(()=>x(C=>!C),[x]),modal:l,children:i.jsx(Sc,{...d,open:p,onOpenChange:x,dir:n,modal:l,children:r})})};$c.displayName=ci;var qc="DropdownMenuTrigger",Uc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,a=Bc(qc,r),u=wt(r);return i.jsx(Ec,{asChild:!0,...u,children:i.jsx(qe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:fl(t,a.triggerRef),onPointerDown:me(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:me(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Uc.displayName=qc;var s1="DropdownMenuPortal",Hc=e=>{const{__scopeDropdownMenu:t,...r}=e,n=wt(t);return i.jsx(jc,{...n,...r})};Hc.displayName=s1;var Kc="DropdownMenuContent",Vc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Bc(Kc,r),a=wt(r),u=g.useRef(!1);return i.jsx(Ac,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...n,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,l=>{u.current||o.triggerRef.current?.focus(),u.current=!1,l.preventDefault()}),onInteractOutside:me(e.onInteractOutside,l=>{const d=l.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,p=d.button===2||h;(!o.modal||p)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vc.displayName=Kc;var i1="DropdownMenuGroup",u1=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=wt(r);return i.jsx(Dc,{...o,...n,ref:t})});u1.displayName=i1;var l1="DropdownMenuLabel",Wc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=wt(r);return i.jsx(Nc,{...o,...n,ref:t})});Wc.displayName=l1;var c1="DropdownMenuItem",Gc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=wt(r);return i.jsx(Tc,{...o,...n,ref:t})});Gc.displayName=c1;var d1="DropdownMenuCheckboxItem",Yc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=wt(r);return i.jsx(Pc,{...o,...n,ref:t})});Yc.displayName=d1;var f1="DropdownMenuRadioGroup",h1=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=wt(r);return i.jsx(Mc,{...o,...n,ref:t})});h1.displayName=f1;var p1="DropdownMenuRadioItem",Zc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=wt(r);return i.jsx(Ic,{...o,...n,ref:t})});Zc.displayName=p1;var m1="DropdownMenuItemIndicator",Xc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=wt(r);return i.jsx(Fc,{...o,...n,ref:t})});Xc.displayName=m1;var g1="DropdownMenuSeparator",Qc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=wt(r);return i.jsx(Rc,{...o,...n,ref:t})});Qc.displayName=g1;var b1="DropdownMenuArrow",x1=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=wt(r);return i.jsx(Oc,{...o,...n,ref:t})});x1.displayName=b1;var y1="DropdownMenuSubTrigger",Jc=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=wt(r);return i.jsx(Lc,{...o,...n,ref:t})});Jc.displayName=y1;var v1="DropdownMenuSubContent",ed=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=wt(r);return i.jsx(zc,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ed.displayName=v1;var w1=$c,C1=Uc,_1=Hc,td=Vc,rd=Wc,nd=Gc,od=Yc,ad=Zc,sd=Xc,id=Qc,ud=Jc,ld=ed;const k1=w1,S1=C1,E1=g.forwardRef(({className:e,inset:t,children:r,...n},o)=>i.jsxs(ud,{ref:o,className:oe("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,i.jsx(ti,{className:"ml-auto"})]}));E1.displayName=ud.displayName;const j1=g.forwardRef(({className:e,...t},r)=>i.jsx(ld,{ref:r,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));j1.displayName=ld.displayName;const cd=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(_1,{children:i.jsx(td,{ref:n,sideOffset:t,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));cd.displayName=td.displayName;const gr=g.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(nd,{ref:n,className:oe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));gr.displayName=nd.displayName;const A1=g.forwardRef(({className:e,children:t,checked:r,...n},o)=>i.jsxs(od,{ref:o,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(sd,{children:i.jsx(Mr,{className:"h-4 w-4"})})}),t]}));A1.displayName=od.displayName;const D1=g.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(ad,{ref:n,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(sd,{children:i.jsx(Hl,{className:"h-2 w-2 fill-current"})})}),t]}));D1.displayName=ad.displayName;const N1=g.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(rd,{ref:n,className:oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));N1.displayName=rd.displayName;const Ns=g.forwardRef(({className:e,...t},r)=>i.jsx(id,{ref:r,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));Ns.displayName=id.displayName;var T1=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,P1=bt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Mp(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[Pp({find:T1,type:this.type,getAttributes:e=>{const[,,t,r,n]=e;return{src:r,alt:t,title:n}}})]}}),M1=P1,I1=Ip,F1=Fp,R1=Rp;const Eu={};function O1(e){let t=Eu[e];if(t)return t;t=Eu[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);t.push(n)}for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return t}function gn(e,t){typeof t!="string"&&(t=gn.defaultChars);const r=O1(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(n){let o="";for(let a=0,u=n.length;a<u;a+=3){const l=parseInt(n.slice(a+1,a+3),16);if(l<128){o+=r[l];continue}if((l&224)===192&&a+3<u){const d=parseInt(n.slice(a+4,a+6),16);if((d&192)===128){const h=l<<6&1984|d&63;h<128?o+="��":o+=String.fromCharCode(h),a+=3;continue}}if((l&240)===224&&a+6<u){const d=parseInt(n.slice(a+4,a+6),16),h=parseInt(n.slice(a+7,a+9),16);if((d&192)===128&&(h&192)===128){const p=l<<12&61440|d<<6&4032|h&63;p<2048||p>=55296&&p<=57343?o+="���":o+=String.fromCharCode(p),a+=6;continue}}if((l&248)===240&&a+9<u){const d=parseInt(n.slice(a+4,a+6),16),h=parseInt(n.slice(a+7,a+9),16),p=parseInt(n.slice(a+10,a+12),16);if((d&192)===128&&(h&192)===128&&(p&192)===128){let x=l<<18&1835008|d<<12&258048|h<<6&4032|p&63;x<65536||x>1114111?o+="����":(x-=65536,o+=String.fromCharCode(55296+(x>>10),56320+(x&1023))),a+=9;continue}}o+="�"}return o})}gn.defaultChars=";/?:@&=+$,#";gn.componentChars="";const ju={};function L1(e){let t=ju[e];if(t)return t;t=ju[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);/^[0-9a-z]$/i.test(n)?t.push(n):t.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<e.length;r++)t[e.charCodeAt(r)]=e[r];return t}function fo(e,t,r){typeof t!="string"&&(r=t,t=fo.defaultChars),typeof r>"u"&&(r=!0);const n=L1(t);let o="";for(let a=0,u=e.length;a<u;a++){const l=e.charCodeAt(a);if(r&&l===37&&a+2<u&&/^[0-9a-f]{2}$/i.test(e.slice(a+1,a+3))){o+=e.slice(a,a+3),a+=2;continue}if(l<128){o+=n[l];continue}if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&a+1<u){const d=e.charCodeAt(a+1);if(d>=56320&&d<=57343){o+=encodeURIComponent(e[a]+e[a+1]),a++;continue}}o+="%EF%BF%BD";continue}o+=encodeURIComponent(e[a])}return o}fo.defaultChars=";/?:@&=+$,-_.!~*'()#";fo.componentChars="-_.!~*'()";function di(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Yo(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const z1=/^([a-z0-9.+-]+:)/i,B1=/:[0-9]*$/,$1=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,q1=["<",">",'"',"`"," ","\r",`
`,"	"],U1=["{","}","|","\\","^","`"].concat(q1),H1=["'"].concat(U1),Au=["%","/","?",";","#"].concat(H1),Du=["/","?","#"],K1=255,Nu=/^[+a-z0-9A-Z_-]{0,63}$/,V1=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Tu={javascript:!0,"javascript:":!0},Pu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function fi(e,t){if(e&&e instanceof Yo)return e;const r=new Yo;return r.parse(e,t),r}Yo.prototype.parse=function(e,t){let r,n,o,a=e;if(a=a.trim(),!t&&e.split("#").length===1){const h=$1.exec(a);if(h)return this.pathname=h[1],h[2]&&(this.search=h[2]),this}let u=z1.exec(a);if(u&&(u=u[0],r=u.toLowerCase(),this.protocol=u,a=a.substr(u.length)),(t||u||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(o=a.substr(0,2)==="//",o&&!(u&&Tu[u])&&(a=a.substr(2),this.slashes=!0)),!Tu[u]&&(o||u&&!Pu[u])){let h=-1;for(let w=0;w<Du.length;w++)n=a.indexOf(Du[w]),n!==-1&&(h===-1||n<h)&&(h=n);let p,x;h===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",h),x!==-1&&(p=a.slice(0,x),a=a.slice(x+1),this.auth=p),h=-1;for(let w=0;w<Au.length;w++)n=a.indexOf(Au[w]),n!==-1&&(h===-1||n<h)&&(h=n);h===-1&&(h=a.length),a[h-1]===":"&&h--;const C=a.slice(0,h);a=a.slice(h),this.parseHost(C),this.hostname=this.hostname||"";const y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y){const w=this.hostname.split(/\./);for(let k=0,D=w.length;k<D;k++){const S=w[k];if(S&&!S.match(Nu)){let E="";for(let _=0,A=S.length;_<A;_++)S.charCodeAt(_)>127?E+="x":E+=S[_];if(!E.match(Nu)){const _=w.slice(0,k),A=w.slice(k+1),P=S.match(V1);P&&(_.push(P[1]),A.unshift(P[2])),A.length&&(a=A.join(".")+a),this.hostname=_.join(".");break}}}}this.hostname.length>K1&&(this.hostname=""),y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const l=a.indexOf("#");l!==-1&&(this.hash=a.substr(l),a=a.slice(0,l));const d=a.indexOf("?");return d!==-1&&(this.search=a.substr(d),a=a.slice(0,d)),a&&(this.pathname=a),Pu[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Yo.prototype.parseHost=function(e){let t=B1.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const W1=Object.freeze(Object.defineProperty({__proto__:null,decode:gn,encode:fo,format:di,parse:fi},Symbol.toStringTag,{value:"Module"})),dd=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,fd=/[\0-\x1F\x7F-\x9F]/,G1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,hi=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,hd=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,pd=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Y1=Object.freeze(Object.defineProperty({__proto__:null,Any:dd,Cc:fd,Cf:G1,P:hi,S:hd,Z:pd},Symbol.toStringTag,{value:"Module"})),Z1=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),X1=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0)));var ss;const Q1=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),J1=(ss=String.fromCodePoint)!==null&&ss!==void 0?ss:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function eb(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Q1.get(e))!==null&&t!==void 0?t:e}var dt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(dt||(dt={}));const tb=32;var Tr;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Tr||(Tr={}));function Ts(e){return e>=dt.ZERO&&e<=dt.NINE}function rb(e){return e>=dt.UPPER_A&&e<=dt.UPPER_F||e>=dt.LOWER_A&&e<=dt.LOWER_F}function nb(e){return e>=dt.UPPER_A&&e<=dt.UPPER_Z||e>=dt.LOWER_A&&e<=dt.LOWER_Z||Ts(e)}function ob(e){return e===dt.EQUALS||nb(e)}var ct;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ct||(ct={}));var Nr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Nr||(Nr={}));class ab{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=ct.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Nr.Strict}startEntity(t){this.decodeMode=t,this.state=ct.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case ct.EntityStart:return t.charCodeAt(r)===dt.NUM?(this.state=ct.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=ct.NamedEntity,this.stateNamedEntity(t,r));case ct.NumericStart:return this.stateNumericStart(t,r);case ct.NumericDecimal:return this.stateNumericDecimal(t,r);case ct.NumericHex:return this.stateNumericHex(t,r);case ct.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|tb)===dt.LOWER_X?(this.state=ct.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=ct.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,o){if(r!==n){const a=n-r;this.result=this.result*Math.pow(o,a)+parseInt(t.substr(r,a),o),this.consumed+=a}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const o=t.charCodeAt(r);if(Ts(o)||rb(o))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(o,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const o=t.charCodeAt(r);if(Ts(o))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(o,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===dt.SEMI)this.consumed+=1;else if(this.decodeMode===Nr.Strict)return 0;return this.emitCodePoint(eb(this.result),this.consumed),this.errors&&(t!==dt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let o=n[this.treeIndex],a=(o&Tr.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const u=t.charCodeAt(r);if(this.treeIndex=sb(n,o,this.treeIndex+Math.max(1,a),u),this.treeIndex<0)return this.result===0||this.decodeMode===Nr.Attribute&&(a===0||ob(u))?0:this.emitNotTerminatedNamedEntity();if(o=n[this.treeIndex],a=(o&Tr.VALUE_LENGTH)>>14,a!==0){if(u===dt.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==Nr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,o=(n[r]&Tr.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,o,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:o}=this;return this.emitCodePoint(r===1?o[t]&~Tr.VALUE_LENGTH:o[t+1],n),r===3&&this.emitCodePoint(o[t+2],n),n}end(){var t;switch(this.state){case ct.NamedEntity:return this.result!==0&&(this.decodeMode!==Nr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ct.NumericDecimal:return this.emitNumericEntity(0,2);case ct.NumericHex:return this.emitNumericEntity(0,3);case ct.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ct.EntityStart:return 0}}}function md(e){let t="";const r=new ab(e,n=>t+=J1(n));return function(o,a){let u=0,l=0;for(;(l=o.indexOf("&",l))>=0;){t+=o.slice(u,l),r.startEntity(a);const h=r.write(o,l+1);if(h<0){u=l+r.end();break}u=l+h,l=h===0?u+1:u}const d=t+o.slice(u);return t="",d}}function sb(e,t,r,n){const o=(t&Tr.BRANCH_LENGTH)>>7,a=t&Tr.JUMP_TABLE;if(o===0)return a!==0&&n===a?r:-1;if(a){const d=n-a;return d<0||d>=o?-1:e[r+d]-1}let u=r,l=u+o-1;for(;u<=l;){const d=u+l>>>1,h=e[d];if(h<n)u=d+1;else if(h>n)l=d-1;else return e[d+o]}return-1}const ib=md(Z1);md(X1);function gd(e,t=Nr.Legacy){return ib(e,t)}function ub(e){return Object.prototype.toString.call(e)}function pi(e){return ub(e)==="[object String]"}const lb=Object.prototype.hasOwnProperty;function cb(e,t){return lb.call(e,t)}function ca(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){e[n]=r[n]})}}),e}function bd(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function mi(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function Zo(e){if(e>65535){e-=65536;const t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}return String.fromCharCode(e)}const xd=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,db=/&([a-z#][a-z0-9]{1,31});/gi,fb=new RegExp(xd.source+"|"+db.source,"gi"),hb=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function pb(e,t){if(t.charCodeAt(0)===35&&hb.test(t)){const n=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return mi(n)?Zo(n):e}const r=gd(e);return r!==e?r:e}function mb(e){return e.indexOf("\\")<0?e:e.replace(xd,"$1")}function bn(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(fb,function(t,r,n){return r||pb(t,n)})}const gb=/[&<>"]/,bb=/[&<>"]/g,xb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function yb(e){return xb[e]}function Ir(e){return gb.test(e)?e.replace(bb,yb):e}const vb=/[.?*+^$[\]\\(){}|-]/g;function wb(e){return e.replace(vb,"\\$&")}function Ze(e){switch(e){case 9:case 32:return!0}return!1}function eo(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function to(e){return hi.test(e)||hd.test(e)}function ro(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function da(e){return e=e.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}const Cb={mdurl:W1,ucmicro:Y1},_b=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:bd,assign:ca,escapeHtml:Ir,escapeRE:wb,fromCodePoint:Zo,has:cb,isMdAsciiPunct:ro,isPunctChar:to,isSpace:Ze,isString:pi,isValidEntityCode:mi,isWhiteSpace:eo,lib:Cb,normalizeReference:da,unescapeAll:bn,unescapeMd:mb},Symbol.toStringTag,{value:"Module"}));function kb(e,t,r){let n,o,a,u;const l=e.posMax,d=e.pos;for(e.pos=t+1,n=1;e.pos<l;){if(a=e.src.charCodeAt(e.pos),a===93&&(n--,n===0)){o=!0;break}if(u=e.pos,e.md.inline.skipToken(e),a===91){if(u===e.pos-1)n++;else if(r)return e.pos=d,-1}}let h=-1;return o&&(h=e.pos),e.pos=d,h}function Sb(e,t,r){let n,o=t;const a={ok:!1,pos:0,str:""};if(e.charCodeAt(o)===60){for(o++;o<r;){if(n=e.charCodeAt(o),n===10||n===60)return a;if(n===62)return a.pos=o+1,a.str=bn(e.slice(t+1,o)),a.ok=!0,a;if(n===92&&o+1<r){o+=2;continue}o++}return a}let u=0;for(;o<r&&(n=e.charCodeAt(o),!(n===32||n<32||n===127));){if(n===92&&o+1<r){if(e.charCodeAt(o+1)===32)break;o+=2;continue}if(n===40&&(u++,u>32))return a;if(n===41){if(u===0)break;u--}o++}return t===o||u!==0||(a.str=bn(e.slice(t,o)),a.pos=o,a.ok=!0),a}function Eb(e,t,r,n){let o,a=t;const u={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(n)u.str=n.str,u.marker=n.marker;else{if(a>=r)return u;let l=e.charCodeAt(a);if(l!==34&&l!==39&&l!==40)return u;t++,a++,l===40&&(l=41),u.marker=l}for(;a<r;){if(o=e.charCodeAt(a),o===u.marker)return u.pos=a+1,u.str+=bn(e.slice(t,a)),u.ok=!0,u;if(o===40&&u.marker===41)return u;o===92&&a+1<r&&a++,a++}return u.can_continue=!0,u.str+=bn(e.slice(t,a)),u}const jb=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:Sb,parseLinkLabel:kb,parseLinkTitle:Eb},Symbol.toStringTag,{value:"Module"})),sr={};sr.code_inline=function(e,t,r,n,o){const a=e[t];return"<code"+o.renderAttrs(a)+">"+Ir(a.content)+"</code>"};sr.code_block=function(e,t,r,n,o){const a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+Ir(e[t].content)+`</code></pre>
`};sr.fence=function(e,t,r,n,o){const a=e[t],u=a.info?bn(a.info).trim():"";let l="",d="";if(u){const p=u.split(/(\s+)/g);l=p[0],d=p.slice(2).join("")}let h;if(r.highlight?h=r.highlight(a.content,l,d)||Ir(a.content):h=Ir(a.content),h.indexOf("<pre")===0)return h+`
`;if(u){const p=a.attrIndex("class"),x=a.attrs?a.attrs.slice():[];p<0?x.push(["class",r.langPrefix+l]):(x[p]=x[p].slice(),x[p][1]+=" "+r.langPrefix+l);const C={attrs:x};return`<pre><code${o.renderAttrs(C)}>${h}</code></pre>
`}return`<pre><code${o.renderAttrs(a)}>${h}</code></pre>
`};sr.image=function(e,t,r,n,o){const a=e[t];return a.attrs[a.attrIndex("alt")][1]=o.renderInlineAsText(a.children,r,n),o.renderToken(e,t,r)};sr.hardbreak=function(e,t,r){return r.xhtmlOut?`<br />
`:`<br>
`};sr.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};sr.text=function(e,t){return Ir(e[t].content)};sr.html_block=function(e,t){return e[t].content};sr.html_inline=function(e,t){return e[t].content};function _n(){this.rules=ca({},sr)}_n.prototype.renderAttrs=function(t){let r,n,o;if(!t.attrs)return"";for(o="",r=0,n=t.attrs.length;r<n;r++)o+=" "+Ir(t.attrs[r][0])+'="'+Ir(t.attrs[r][1])+'"';return o};_n.prototype.renderToken=function(t,r,n){const o=t[r];let a="";if(o.hidden)return"";o.block&&o.nesting!==-1&&r&&t[r-1].hidden&&(a+=`
`),a+=(o.nesting===-1?"</":"<")+o.tag,a+=this.renderAttrs(o),o.nesting===0&&n.xhtmlOut&&(a+=" /");let u=!1;if(o.block&&(u=!0,o.nesting===1&&r+1<t.length)){const l=t[r+1];(l.type==="inline"||l.hidden||l.nesting===-1&&l.tag===o.tag)&&(u=!1)}return a+=u?`>
`:">",a};_n.prototype.renderInline=function(e,t,r){let n="";const o=this.rules;for(let a=0,u=e.length;a<u;a++){const l=e[a].type;typeof o[l]<"u"?n+=o[l](e,a,t,r,this):n+=this.renderToken(e,a,t)}return n};_n.prototype.renderInlineAsText=function(e,t,r){let n="";for(let o=0,a=e.length;o<a;o++)switch(e[o].type){case"text":n+=e[o].content;break;case"image":n+=this.renderInlineAsText(e[o].children,t,r);break;case"html_inline":case"html_block":n+=e[o].content;break;case"softbreak":case"hardbreak":n+=`
`;break}return n};_n.prototype.render=function(e,t,r){let n="";const o=this.rules;for(let a=0,u=e.length;a<u;a++){const l=e[a].type;l==="inline"?n+=this.renderInline(e[a].children,t,r):typeof o[l]<"u"?n+=o[l](e,a,t,r,this):n+=this.renderToken(e,a,t,r)}return n};function Et(){this.__rules__=[],this.__cache__=null}Et.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Et.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),e.__cache__={},t.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(n){n.enabled&&(r&&n.alt.indexOf(r)<0||e.__cache__[r].push(n.fn))})})};Et.prototype.at=function(e,t,r){const n=this.__find__(e),o=r||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=o.alt||[],this.__cache__=null};Et.prototype.before=function(e,t,r,n){const o=this.__find__(e),a=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:r,alt:a.alt||[]}),this.__cache__=null};Et.prototype.after=function(e,t,r,n){const o=this.__find__(e),a=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:r,alt:a.alt||[]}),this.__cache__=null};Et.prototype.push=function(e,t,r){const n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};Et.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const o=this.__find__(n);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[o].enabled=!0,r.push(n)},this),this.__cache__=null,r};Et.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(e,t)};Et.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const o=this.__find__(n);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[o].enabled=!1,r.push(n)},this),this.__cache__=null,r};Et.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Gt(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Gt.prototype.attrIndex=function(t){if(!this.attrs)return-1;const r=this.attrs;for(let n=0,o=r.length;n<o;n++)if(r[n][0]===t)return n;return-1};Gt.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Gt.prototype.attrSet=function(t,r){const n=this.attrIndex(t),o=[t,r];n<0?this.attrPush(o):this.attrs[n]=o};Gt.prototype.attrGet=function(t){const r=this.attrIndex(t);let n=null;return r>=0&&(n=this.attrs[r][1]),n};Gt.prototype.attrJoin=function(t,r){const n=this.attrIndex(t);n<0?this.attrPush([t,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};function yd(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}yd.prototype.Token=Gt;const Ab=/\r\n?|\n/g,Db=/\0/g;function Nb(e){let t;t=e.src.replace(Ab,`
`),t=t.replace(Db,"�"),e.src=t}function Tb(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function Pb(e){const t=e.tokens;for(let r=0,n=t.length;r<n;r++){const o=t[r];o.type==="inline"&&e.md.inline.parse(o.content,e.md,e.env,o.children)}}function Mb(e){return/^<a[>\s]/i.test(e)}function Ib(e){return/^<\/a\s*>/i.test(e)}function Fb(e){const t=e.tokens;if(e.md.options.linkify)for(let r=0,n=t.length;r<n;r++){if(t[r].type!=="inline"||!e.md.linkify.pretest(t[r].content))continue;let o=t[r].children,a=0;for(let u=o.length-1;u>=0;u--){const l=o[u];if(l.type==="link_close"){for(u--;o[u].level!==l.level&&o[u].type!=="link_open";)u--;continue}if(l.type==="html_inline"&&(Mb(l.content)&&a>0&&a--,Ib(l.content)&&a++),!(a>0)&&l.type==="text"&&e.md.linkify.test(l.content)){const d=l.content;let h=e.md.linkify.match(d);const p=[];let x=l.level,C=0;h.length>0&&h[0].index===0&&u>0&&o[u-1].type==="text_special"&&(h=h.slice(1));for(let y=0;y<h.length;y++){const w=h[y].url,k=e.md.normalizeLink(w);if(!e.md.validateLink(k))continue;let D=h[y].text;h[y].schema?h[y].schema==="mailto:"&&!/^mailto:/i.test(D)?D=e.md.normalizeLinkText("mailto:"+D).replace(/^mailto:/,""):D=e.md.normalizeLinkText(D):D=e.md.normalizeLinkText("http://"+D).replace(/^http:\/\//,"");const S=h[y].index;if(S>C){const P=new e.Token("text","",0);P.content=d.slice(C,S),P.level=x,p.push(P)}const E=new e.Token("link_open","a",1);E.attrs=[["href",k]],E.level=x++,E.markup="linkify",E.info="auto",p.push(E);const _=new e.Token("text","",0);_.content=D,_.level=x,p.push(_);const A=new e.Token("link_close","a",-1);A.level=--x,A.markup="linkify",A.info="auto",p.push(A),C=h[y].lastIndex}if(C<d.length){const y=new e.Token("text","",0);y.content=d.slice(C),y.level=x,p.push(y)}t[r].children=o=bd(o,u,p)}}}}const vd=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Rb=/\((c|tm|r)\)/i,Ob=/\((c|tm|r)\)/ig,Lb={c:"©",r:"®",tm:"™"};function zb(e,t){return Lb[t.toLowerCase()]}function Bb(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&(n.content=n.content.replace(Ob,zb)),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function $b(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&vd.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function qb(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(Rb.test(e.tokens[t].content)&&Bb(e.tokens[t].children),vd.test(e.tokens[t].content)&&$b(e.tokens[t].children))}const Ub=/['"]/,Mu=/['"]/g,Iu="’";function zo(e,t,r){return e.slice(0,t)+r+e.slice(t+1)}function Hb(e,t){let r;const n=[];for(let o=0;o<e.length;o++){const a=e[o],u=e[o].level;for(r=n.length-1;r>=0&&!(n[r].level<=u);r--);if(n.length=r+1,a.type!=="text")continue;let l=a.content,d=0,h=l.length;e:for(;d<h;){Mu.lastIndex=d;const p=Mu.exec(l);if(!p)break;let x=!0,C=!0;d=p.index+1;const y=p[0]==="'";let w=32;if(p.index-1>=0)w=l.charCodeAt(p.index-1);else for(r=o-1;r>=0&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r--)if(e[r].content){w=e[r].content.charCodeAt(e[r].content.length-1);break}let k=32;if(d<h)k=l.charCodeAt(d);else for(r=o+1;r<e.length&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r++)if(e[r].content){k=e[r].content.charCodeAt(0);break}const D=ro(w)||to(String.fromCharCode(w)),S=ro(k)||to(String.fromCharCode(k)),E=eo(w),_=eo(k);if(_?x=!1:S&&(E||D||(x=!1)),E?C=!1:D&&(_||S||(C=!1)),k===34&&p[0]==='"'&&w>=48&&w<=57&&(C=x=!1),x&&C&&(x=D,C=S),!x&&!C){y&&(a.content=zo(a.content,p.index,Iu));continue}if(C)for(r=n.length-1;r>=0;r--){let A=n[r];if(n[r].level<u)break;if(A.single===y&&n[r].level===u){A=n[r];let P,$;y?(P=t.md.options.quotes[2],$=t.md.options.quotes[3]):(P=t.md.options.quotes[0],$=t.md.options.quotes[1]),a.content=zo(a.content,p.index,$),e[A.token].content=zo(e[A.token].content,A.pos,P),d+=$.length-1,A.token===o&&(d+=P.length-1),l=a.content,h=l.length,n.length=r;continue e}}x?n.push({token:o,pos:p.index,single:y,level:u}):C&&y&&(a.content=zo(a.content,p.index,Iu))}}}function Kb(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!Ub.test(e.tokens[t].content)||Hb(e.tokens[t].children,e)}function Vb(e){let t,r;const n=e.tokens,o=n.length;for(let a=0;a<o;a++){if(n[a].type!=="inline")continue;const u=n[a].children,l=u.length;for(t=0;t<l;t++)u[t].type==="text_special"&&(u[t].type="text");for(t=r=0;t<l;t++)u[t].type==="text"&&t+1<l&&u[t+1].type==="text"?u[t+1].content=u[t].content+u[t+1].content:(t!==r&&(u[r]=u[t]),r++);t!==r&&(u.length=r)}}const is=[["normalize",Nb],["block",Tb],["inline",Pb],["linkify",Fb],["replacements",qb],["smartquotes",Kb],["text_join",Vb]];function gi(){this.ruler=new Et;for(let e=0;e<is.length;e++)this.ruler.push(is[e][0],is[e][1])}gi.prototype.process=function(e){const t=this.ruler.getRules("");for(let r=0,n=t.length;r<n;r++)t[r](e)};gi.prototype.State=yd;function ir(e,t,r,n){this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const o=this.src;for(let a=0,u=0,l=0,d=0,h=o.length,p=!1;u<h;u++){const x=o.charCodeAt(u);if(!p)if(Ze(x)){l++,x===9?d+=4-d%4:d++;continue}else p=!0;(x===10||u===h-1)&&(x!==10&&u++,this.bMarks.push(a),this.eMarks.push(u),this.tShift.push(l),this.sCount.push(d),this.bsCount.push(0),p=!1,l=0,d=0,a=u+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}ir.prototype.push=function(e,t,r){const n=new Gt(e,t,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};ir.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};ir.prototype.skipEmptyLines=function(t){for(let r=this.lineMax;t<r&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};ir.prototype.skipSpaces=function(t){for(let r=this.src.length;t<r;t++){const n=this.src.charCodeAt(t);if(!Ze(n))break}return t};ir.prototype.skipSpacesBack=function(t,r){if(t<=r)return t;for(;t>r;)if(!Ze(this.src.charCodeAt(--t)))return t+1;return t};ir.prototype.skipChars=function(t,r){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===r;t++);return t};ir.prototype.skipCharsBack=function(t,r,n){if(t<=n)return t;for(;t>n;)if(r!==this.src.charCodeAt(--t))return t+1;return t};ir.prototype.getLines=function(t,r,n,o){if(t>=r)return"";const a=new Array(r-t);for(let u=0,l=t;l<r;l++,u++){let d=0;const h=this.bMarks[l];let p=h,x;for(l+1<r||o?x=this.eMarks[l]+1:x=this.eMarks[l];p<x&&d<n;){const C=this.src.charCodeAt(p);if(Ze(C))C===9?d+=4-(d+this.bsCount[l])%4:d++;else if(p-h<this.tShift[l])d++;else break;p++}d>n?a[u]=new Array(d-n+1).join(" ")+this.src.slice(p,x):a[u]=this.src.slice(p,x)}return a.join("")};ir.prototype.Token=Gt;const Wb=65536;function us(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.slice(r,n)}function Fu(e){const t=[],r=e.length;let n=0,o=e.charCodeAt(n),a=!1,u=0,l="";for(;n<r;)o===124&&(a?(l+=e.substring(u,n-1),u=n):(t.push(l+e.substring(u,n)),l="",u=n+1)),a=o===92,n++,o=e.charCodeAt(n);return t.push(l+e.substring(u)),t}function Gb(e,t,r,n){if(t+2>r)return!1;let o=t+1;if(e.sCount[o]<e.blkIndent||e.sCount[o]-e.blkIndent>=4)return!1;let a=e.bMarks[o]+e.tShift[o];if(a>=e.eMarks[o])return!1;const u=e.src.charCodeAt(a++);if(u!==124&&u!==45&&u!==58||a>=e.eMarks[o])return!1;const l=e.src.charCodeAt(a++);if(l!==124&&l!==45&&l!==58&&!Ze(l)||u===45&&Ze(l))return!1;for(;a<e.eMarks[o];){const A=e.src.charCodeAt(a);if(A!==124&&A!==45&&A!==58&&!Ze(A))return!1;a++}let d=us(e,t+1),h=d.split("|");const p=[];for(let A=0;A<h.length;A++){const P=h[A].trim();if(!P){if(A===0||A===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(P))return!1;P.charCodeAt(P.length-1)===58?p.push(P.charCodeAt(0)===58?"center":"right"):P.charCodeAt(0)===58?p.push("left"):p.push("")}if(d=us(e,t).trim(),d.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;h=Fu(d),h.length&&h[0]===""&&h.shift(),h.length&&h[h.length-1]===""&&h.pop();const x=h.length;if(x===0||x!==p.length)return!1;if(n)return!0;const C=e.parentType;e.parentType="table";const y=e.md.block.ruler.getRules("blockquote"),w=e.push("table_open","table",1),k=[t,0];w.map=k;const D=e.push("thead_open","thead",1);D.map=[t,t+1];const S=e.push("tr_open","tr",1);S.map=[t,t+1];for(let A=0;A<h.length;A++){const P=e.push("th_open","th",1);p[A]&&(P.attrs=[["style","text-align:"+p[A]]]);const $=e.push("inline","",0);$.content=h[A].trim(),$.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let E,_=0;for(o=t+2;o<r&&!(e.sCount[o]<e.blkIndent);o++){let A=!1;for(let $=0,U=y.length;$<U;$++)if(y[$](e,o,r,!0)){A=!0;break}if(A||(d=us(e,o).trim(),!d)||e.sCount[o]-e.blkIndent>=4||(h=Fu(d),h.length&&h[0]===""&&h.shift(),h.length&&h[h.length-1]===""&&h.pop(),_+=x-h.length,_>Wb))break;if(o===t+2){const $=e.push("tbody_open","tbody",1);$.map=E=[t+2,0]}const P=e.push("tr_open","tr",1);P.map=[o,o+1];for(let $=0;$<x;$++){const U=e.push("td_open","td",1);p[$]&&(U.attrs=[["style","text-align:"+p[$]]]);const Y=e.push("inline","",0);Y.content=h[$]?h[$].trim():"",Y.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return E&&(e.push("tbody_close","tbody",-1),E[1]=o),e.push("table_close","table",-1),k[1]=o,e.parentType=C,e.line=o,!0}function Yb(e,t,r){if(e.sCount[t]-e.blkIndent<4)return!1;let n=t+1,o=n;for(;n<r;){if(e.isEmpty(n)){n++;continue}if(e.sCount[n]-e.blkIndent>=4){n++,o=n;continue}break}e.line=o;const a=e.push("code_block","code",0);return a.content=e.getLines(t,o,4+e.blkIndent,!1)+`
`,a.map=[t,e.line],!0}function Zb(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||o+3>a)return!1;const u=e.src.charCodeAt(o);if(u!==126&&u!==96)return!1;let l=o;o=e.skipChars(o,u);let d=o-l;if(d<3)return!1;const h=e.src.slice(l,o),p=e.src.slice(o,a);if(u===96&&p.indexOf(String.fromCharCode(u))>=0)return!1;if(n)return!0;let x=t,C=!1;for(;x++,!(x>=r||(o=l=e.bMarks[x]+e.tShift[x],a=e.eMarks[x],o<a&&e.sCount[x]<e.blkIndent));)if(e.src.charCodeAt(o)===u&&!(e.sCount[x]-e.blkIndent>=4)&&(o=e.skipChars(o,u),!(o-l<d)&&(o=e.skipSpaces(o),!(o<a)))){C=!0;break}d=e.sCount[t],e.line=x+(C?1:0);const y=e.push("fence","code",0);return y.info=p,y.content=e.getLines(t+1,x,d,!0),y.markup=h,y.map=[t,e.line],!0}function Xb(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];const u=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==62)return!1;if(n)return!0;const l=[],d=[],h=[],p=[],x=e.md.block.ruler.getRules("blockquote"),C=e.parentType;e.parentType="blockquote";let y=!1,w;for(w=t;w<r;w++){const _=e.sCount[w]<e.blkIndent;if(o=e.bMarks[w]+e.tShift[w],a=e.eMarks[w],o>=a)break;if(e.src.charCodeAt(o++)===62&&!_){let P=e.sCount[w]+1,$,U;e.src.charCodeAt(o)===32?(o++,P++,U=!1,$=!0):e.src.charCodeAt(o)===9?($=!0,(e.bsCount[w]+P)%4===3?(o++,P++,U=!1):U=!0):$=!1;let Y=P;for(l.push(e.bMarks[w]),e.bMarks[w]=o;o<a;){const te=e.src.charCodeAt(o);if(Ze(te))te===9?Y+=4-(Y+e.bsCount[w]+(U?1:0))%4:Y++;else break;o++}y=o>=a,d.push(e.bsCount[w]),e.bsCount[w]=e.sCount[w]+1+($?1:0),h.push(e.sCount[w]),e.sCount[w]=Y-P,p.push(e.tShift[w]),e.tShift[w]=o-e.bMarks[w];continue}if(y)break;let A=!1;for(let P=0,$=x.length;P<$;P++)if(x[P](e,w,r,!0)){A=!0;break}if(A){e.lineMax=w,e.blkIndent!==0&&(l.push(e.bMarks[w]),d.push(e.bsCount[w]),p.push(e.tShift[w]),h.push(e.sCount[w]),e.sCount[w]-=e.blkIndent);break}l.push(e.bMarks[w]),d.push(e.bsCount[w]),p.push(e.tShift[w]),h.push(e.sCount[w]),e.sCount[w]=-1}const k=e.blkIndent;e.blkIndent=0;const D=e.push("blockquote_open","blockquote",1);D.markup=">";const S=[t,0];D.map=S,e.md.block.tokenize(e,t,w);const E=e.push("blockquote_close","blockquote",-1);E.markup=">",e.lineMax=u,e.parentType=C,S[1]=e.line;for(let _=0;_<p.length;_++)e.bMarks[_+t]=l[_],e.tShift[_+t]=p[_],e.sCount[_+t]=h[_],e.bsCount[_+t]=d[_];return e.blkIndent=k,!0}function Qb(e,t,r,n){const o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.bMarks[t]+e.tShift[t];const u=e.src.charCodeAt(a++);if(u!==42&&u!==45&&u!==95)return!1;let l=1;for(;a<o;){const h=e.src.charCodeAt(a++);if(h!==u&&!Ze(h))return!1;h===u&&l++}if(l<3)return!1;if(n)return!0;e.line=t+1;const d=e.push("hr","hr",0);return d.map=[t,e.line],d.markup=Array(l+1).join(String.fromCharCode(u)),!0}function Ru(e,t){const r=e.eMarks[t];let n=e.bMarks[t]+e.tShift[t];const o=e.src.charCodeAt(n++);if(o!==42&&o!==45&&o!==43)return-1;if(n<r){const a=e.src.charCodeAt(n);if(!Ze(a))return-1}return n}function Ou(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];let o=r;if(o+1>=n)return-1;let a=e.src.charCodeAt(o++);if(a<48||a>57)return-1;for(;;){if(o>=n)return-1;if(a=e.src.charCodeAt(o++),a>=48&&a<=57){if(o-r>=10)return-1;continue}if(a===41||a===46)break;return-1}return o<n&&(a=e.src.charCodeAt(o),!Ze(a))?-1:o}function Jb(e,t){const r=e.level+2;for(let n=t+2,o=e.tokens.length-2;n<o;n++)e.tokens[n].level===r&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}function ex(e,t,r,n){let o,a,u,l,d=t,h=!0;if(e.sCount[d]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[d]-e.listIndent>=4&&e.sCount[d]<e.blkIndent)return!1;let p=!1;n&&e.parentType==="paragraph"&&e.sCount[d]>=e.blkIndent&&(p=!0);let x,C,y;if((y=Ou(e,d))>=0){if(x=!0,u=e.bMarks[d]+e.tShift[d],C=Number(e.src.slice(u,y-1)),p&&C!==1)return!1}else if((y=Ru(e,d))>=0)x=!1;else return!1;if(p&&e.skipSpaces(y)>=e.eMarks[d])return!1;if(n)return!0;const w=e.src.charCodeAt(y-1),k=e.tokens.length;x?(l=e.push("ordered_list_open","ol",1),C!==1&&(l.attrs=[["start",C]])):l=e.push("bullet_list_open","ul",1);const D=[d,0];l.map=D,l.markup=String.fromCharCode(w);let S=!1;const E=e.md.block.ruler.getRules("list"),_=e.parentType;for(e.parentType="list";d<r;){a=y,o=e.eMarks[d];const A=e.sCount[d]+y-(e.bMarks[d]+e.tShift[d]);let P=A;for(;a<o;){const Ne=e.src.charCodeAt(a);if(Ne===9)P+=4-(P+e.bsCount[d])%4;else if(Ne===32)P++;else break;a++}const $=a;let U;$>=o?U=1:U=P-A,U>4&&(U=1);const Y=A+U;l=e.push("list_item_open","li",1),l.markup=String.fromCharCode(w);const te=[d,0];l.map=te,x&&(l.info=e.src.slice(u,y-1));const he=e.tight,V=e.tShift[d],X=e.sCount[d],ye=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=Y,e.tight=!0,e.tShift[d]=$-e.bMarks[d],e.sCount[d]=P,$>=o&&e.isEmpty(d+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,d,r,!0),(!e.tight||S)&&(h=!1),S=e.line-d>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=ye,e.tShift[d]=V,e.sCount[d]=X,e.tight=he,l=e.push("list_item_close","li",-1),l.markup=String.fromCharCode(w),d=e.line,te[1]=d,d>=r||e.sCount[d]<e.blkIndent||e.sCount[d]-e.blkIndent>=4)break;let Pe=!1;for(let Ne=0,be=E.length;Ne<be;Ne++)if(E[Ne](e,d,r,!0)){Pe=!0;break}if(Pe)break;if(x){if(y=Ou(e,d),y<0)break;u=e.bMarks[d]+e.tShift[d]}else if(y=Ru(e,d),y<0)break;if(w!==e.src.charCodeAt(y-1))break}return x?l=e.push("ordered_list_close","ol",-1):l=e.push("bullet_list_close","ul",-1),l.markup=String.fromCharCode(w),D[1]=d,e.line=d,e.parentType=_,h&&Jb(e,k),!0}function tx(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t],u=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==91)return!1;function l(E){const _=e.lineMax;if(E>=_||e.isEmpty(E))return null;let A=!1;if(e.sCount[E]-e.blkIndent>3&&(A=!0),e.sCount[E]<0&&(A=!0),!A){const U=e.md.block.ruler.getRules("reference"),Y=e.parentType;e.parentType="reference";let te=!1;for(let he=0,V=U.length;he<V;he++)if(U[he](e,E,_,!0)){te=!0;break}if(e.parentType=Y,te)return null}const P=e.bMarks[E]+e.tShift[E],$=e.eMarks[E];return e.src.slice(P,$+1)}let d=e.src.slice(o,a+1);a=d.length;let h=-1;for(o=1;o<a;o++){const E=d.charCodeAt(o);if(E===91)return!1;if(E===93){h=o;break}else if(E===10){const _=l(u);_!==null&&(d+=_,a=d.length,u++)}else if(E===92&&(o++,o<a&&d.charCodeAt(o)===10)){const _=l(u);_!==null&&(d+=_,a=d.length,u++)}}if(h<0||d.charCodeAt(h+1)!==58)return!1;for(o=h+2;o<a;o++){const E=d.charCodeAt(o);if(E===10){const _=l(u);_!==null&&(d+=_,a=d.length,u++)}else if(!Ze(E))break}const p=e.md.helpers.parseLinkDestination(d,o,a);if(!p.ok)return!1;const x=e.md.normalizeLink(p.str);if(!e.md.validateLink(x))return!1;o=p.pos;const C=o,y=u,w=o;for(;o<a;o++){const E=d.charCodeAt(o);if(E===10){const _=l(u);_!==null&&(d+=_,a=d.length,u++)}else if(!Ze(E))break}let k=e.md.helpers.parseLinkTitle(d,o,a);for(;k.can_continue;){const E=l(u);if(E===null)break;d+=E,o=a,a=d.length,u++,k=e.md.helpers.parseLinkTitle(d,o,a,k)}let D;for(o<a&&w!==o&&k.ok?(D=k.str,o=k.pos):(D="",o=C,u=y);o<a;){const E=d.charCodeAt(o);if(!Ze(E))break;o++}if(o<a&&d.charCodeAt(o)!==10&&D)for(D="",o=C,u=y;o<a;){const E=d.charCodeAt(o);if(!Ze(E))break;o++}if(o<a&&d.charCodeAt(o)!==10)return!1;const S=da(d.slice(1,h));return S?(n||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[S]>"u"&&(e.env.references[S]={title:D,href:x}),e.line=u),!0):!1}const rx=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nx="[a-zA-Z_:][a-zA-Z0-9:._-]*",ox="[^\"'=<>`\\x00-\\x20]+",ax="'[^']*'",sx='"[^"]*"',ix="(?:"+ox+"|"+ax+"|"+sx+")",ux="(?:\\s+"+nx+"(?:\\s*=\\s*"+ix+")?)",wd="<[A-Za-z][A-Za-z0-9\\-]*"+ux+"*\\s*\\/?>",Cd="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",lx="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",cx="<[?][\\s\\S]*?[?]>",dx="<![A-Za-z][^>]*>",fx="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",hx=new RegExp("^(?:"+wd+"|"+Cd+"|"+lx+"|"+cx+"|"+dx+"|"+fx+")"),px=new RegExp("^(?:"+wd+"|"+Cd+")"),sn=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+rx.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(px.source+"\\s*$"),/^$/,!1]];function mx(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(o)!==60)return!1;let u=e.src.slice(o,a),l=0;for(;l<sn.length&&!sn[l][0].test(u);l++);if(l===sn.length)return!1;if(n)return sn[l][2];let d=t+1;if(!sn[l][1].test(u)){for(;d<r&&!(e.sCount[d]<e.blkIndent);d++)if(o=e.bMarks[d]+e.tShift[d],a=e.eMarks[d],u=e.src.slice(o,a),sn[l][1].test(u)){u.length!==0&&d++;break}}e.line=d;const h=e.push("html_block","",0);return h.map=[t,d],h.content=e.getLines(t,d,e.blkIndent,!0),!0}function gx(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let u=e.src.charCodeAt(o);if(u!==35||o>=a)return!1;let l=1;for(u=e.src.charCodeAt(++o);u===35&&o<a&&l<=6;)l++,u=e.src.charCodeAt(++o);if(l>6||o<a&&!Ze(u))return!1;if(n)return!0;a=e.skipSpacesBack(a,o);const d=e.skipCharsBack(a,35,o);d>o&&Ze(e.src.charCodeAt(d-1))&&(a=d),e.line=t+1;const h=e.push("heading_open","h"+String(l),1);h.markup="########".slice(0,l),h.map=[t,e.line];const p=e.push("inline","",0);p.content=e.src.slice(o,a).trim(),p.map=[t,e.line],p.children=[];const x=e.push("heading_close","h"+String(l),-1);return x.markup="########".slice(0,l),!0}function bx(e,t,r){const n=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const o=e.parentType;e.parentType="paragraph";let a=0,u,l=t+1;for(;l<r&&!e.isEmpty(l);l++){if(e.sCount[l]-e.blkIndent>3)continue;if(e.sCount[l]>=e.blkIndent){let y=e.bMarks[l]+e.tShift[l];const w=e.eMarks[l];if(y<w&&(u=e.src.charCodeAt(y),(u===45||u===61)&&(y=e.skipChars(y,u),y=e.skipSpaces(y),y>=w))){a=u===61?1:2;break}}if(e.sCount[l]<0)continue;let C=!1;for(let y=0,w=n.length;y<w;y++)if(n[y](e,l,r,!0)){C=!0;break}if(C)break}if(!a)return!1;const d=e.getLines(t,l,e.blkIndent,!1).trim();e.line=l+1;const h=e.push("heading_open","h"+String(a),1);h.markup=String.fromCharCode(u),h.map=[t,e.line];const p=e.push("inline","",0);p.content=d,p.map=[t,e.line-1],p.children=[];const x=e.push("heading_close","h"+String(a),-1);return x.markup=String.fromCharCode(u),e.parentType=o,!0}function xx(e,t,r){const n=e.md.block.ruler.getRules("paragraph"),o=e.parentType;let a=t+1;for(e.parentType="paragraph";a<r&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3||e.sCount[a]<0)continue;let h=!1;for(let p=0,x=n.length;p<x;p++)if(n[p](e,a,r,!0)){h=!0;break}if(h)break}const u=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a;const l=e.push("paragraph_open","p",1);l.map=[t,e.line];const d=e.push("inline","",0);return d.content=u,d.map=[t,e.line],d.children=[],e.push("paragraph_close","p",-1),e.parentType=o,!0}const Bo=[["table",Gb,["paragraph","reference"]],["code",Yb],["fence",Zb,["paragraph","reference","blockquote","list"]],["blockquote",Xb,["paragraph","reference","blockquote","list"]],["hr",Qb,["paragraph","reference","blockquote","list"]],["list",ex,["paragraph","reference","blockquote"]],["reference",tx],["html_block",mx,["paragraph","reference","blockquote"]],["heading",gx,["paragraph","reference","blockquote"]],["lheading",bx],["paragraph",xx]];function fa(){this.ruler=new Et;for(let e=0;e<Bo.length;e++)this.ruler.push(Bo[e][0],Bo[e][1],{alt:(Bo[e][2]||[]).slice()})}fa.prototype.tokenize=function(e,t,r){const n=this.ruler.getRules(""),o=n.length,a=e.md.options.maxNesting;let u=t,l=!1;for(;u<r&&(e.line=u=e.skipEmptyLines(u),!(u>=r||e.sCount[u]<e.blkIndent));){if(e.level>=a){e.line=r;break}const d=e.line;let h=!1;for(let p=0;p<o;p++)if(h=n[p](e,u,r,!1),h){if(d>=e.line)throw new Error("block rule didn't increment state.line");break}if(!h)throw new Error("none of the block rules matched");e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),u=e.line,u<r&&e.isEmpty(u)&&(l=!0,u++,e.line=u)}};fa.prototype.parse=function(e,t,r,n){if(!e)return;const o=new this.State(e,t,r,n);this.tokenize(o,o.line,o.lineMax)};fa.prototype.State=ir;function ho(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}ho.prototype.pushPending=function(){const e=new Gt("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};ho.prototype.push=function(e,t,r){this.pending&&this.pushPending();const n=new Gt(e,t,r);let o=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(o),n};ho.prototype.scanDelims=function(e,t){const r=this.posMax,n=this.src.charCodeAt(e),o=e>0?this.src.charCodeAt(e-1):32;let a=e;for(;a<r&&this.src.charCodeAt(a)===n;)a++;const u=a-e,l=a<r?this.src.charCodeAt(a):32,d=ro(o)||to(String.fromCharCode(o)),h=ro(l)||to(String.fromCharCode(l)),p=eo(o),x=eo(l),C=!x&&(!h||p||d),y=!p&&(!d||x||h);return{can_open:C&&(t||!y||d),can_close:y&&(t||!C||h),length:u}};ho.prototype.Token=Gt;function yx(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function vx(e,t){let r=e.pos;for(;r<e.posMax&&!yx(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}const wx=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Cx(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const r=e.pos,n=e.posMax;if(r+3>n||e.src.charCodeAt(r)!==58||e.src.charCodeAt(r+1)!==47||e.src.charCodeAt(r+2)!==47)return!1;const o=e.pending.match(wx);if(!o)return!1;const a=o[1],u=e.md.linkify.matchAtStart(e.src.slice(r-a.length));if(!u)return!1;let l=u.url;if(l.length<=a.length)return!1;l=l.replace(/\*+$/,"");const d=e.md.normalizeLink(l);if(!e.md.validateLink(d))return!1;if(!t){e.pending=e.pending.slice(0,-a.length);const h=e.push("link_open","a",1);h.attrs=[["href",d]],h.markup="linkify",h.info="auto";const p=e.push("text","",0);p.content=e.md.normalizeLinkText(l);const x=e.push("link_close","a",-1);x.markup="linkify",x.info="auto"}return e.pos+=l.length-a.length,!0}function _x(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==10)return!1;const n=e.pending.length-1,o=e.posMax;if(!t)if(n>=0&&e.pending.charCodeAt(n)===32)if(n>=1&&e.pending.charCodeAt(n-1)===32){let a=n-1;for(;a>=1&&e.pending.charCodeAt(a-1)===32;)a--;e.pending=e.pending.slice(0,a),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(r++;r<o&&Ze(e.src.charCodeAt(r));)r++;return e.pos=r,!0}const bi=[];for(let e=0;e<256;e++)bi.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){bi[e.charCodeAt(0)]=1});function kx(e,t){let r=e.pos;const n=e.posMax;if(e.src.charCodeAt(r)!==92||(r++,r>=n))return!1;let o=e.src.charCodeAt(r);if(o===10){for(t||e.push("hardbreak","br",0),r++;r<n&&(o=e.src.charCodeAt(r),!!Ze(o));)r++;return e.pos=r,!0}let a=e.src[r];if(o>=55296&&o<=56319&&r+1<n){const l=e.src.charCodeAt(r+1);l>=56320&&l<=57343&&(a+=e.src[r+1],r++)}const u="\\"+a;if(!t){const l=e.push("text_special","",0);o<256&&bi[o]!==0?l.content=a:l.content=u,l.markup=u,l.info="escape"}return e.pos=r+1,!0}function Sx(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==96)return!1;const o=r;r++;const a=e.posMax;for(;r<a&&e.src.charCodeAt(r)===96;)r++;const u=e.src.slice(o,r),l=u.length;if(e.backticksScanned&&(e.backticks[l]||0)<=o)return t||(e.pending+=u),e.pos+=l,!0;let d=r,h;for(;(h=e.src.indexOf("`",d))!==-1;){for(d=h+1;d<a&&e.src.charCodeAt(d)===96;)d++;const p=d-h;if(p===l){if(!t){const x=e.push("code_inline","code",0);x.markup=u,x.content=e.src.slice(r,h).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=d,!0}e.backticks[p]=h}return e.backticksScanned=!0,t||(e.pending+=u),e.pos+=l,!0}function Ex(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==126)return!1;const o=e.scanDelims(e.pos,!0);let a=o.length;const u=String.fromCharCode(n);if(a<2)return!1;let l;a%2&&(l=e.push("text","",0),l.content=u,a--);for(let d=0;d<a;d+=2)l=e.push("text","",0),l.content=u+u,e.delimiters.push({marker:n,length:0,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0}function Lu(e,t){let r;const n=[],o=t.length;for(let a=0;a<o;a++){const u=t[a];if(u.marker!==126||u.end===-1)continue;const l=t[u.end];r=e.tokens[u.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=e.tokens[l.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",e.tokens[l.token-1].type==="text"&&e.tokens[l.token-1].content==="~"&&n.push(l.token-1)}for(;n.length;){const a=n.pop();let u=a+1;for(;u<e.tokens.length&&e.tokens[u].type==="s_close";)u++;u--,a!==u&&(r=e.tokens[u],e.tokens[u]=e.tokens[a],e.tokens[a]=r)}}function jx(e){const t=e.tokens_meta,r=e.tokens_meta.length;Lu(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&Lu(e,t[n].delimiters)}const _d={tokenize:Ex,postProcess:jx};function Ax(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==95&&n!==42)return!1;const o=e.scanDelims(e.pos,n===42);for(let a=0;a<o.length;a++){const u=e.push("text","",0);u.content=String.fromCharCode(n),e.delimiters.push({marker:n,length:o.length,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close})}return e.pos+=o.length,!0}function zu(e,t){const r=t.length;for(let n=r-1;n>=0;n--){const o=t[n];if(o.marker!==95&&o.marker!==42||o.end===-1)continue;const a=t[o.end],u=n>0&&t[n-1].end===o.end+1&&t[n-1].marker===o.marker&&t[n-1].token===o.token-1&&t[o.end+1].token===a.token+1,l=String.fromCharCode(o.marker),d=e.tokens[o.token];d.type=u?"strong_open":"em_open",d.tag=u?"strong":"em",d.nesting=1,d.markup=u?l+l:l,d.content="";const h=e.tokens[a.token];h.type=u?"strong_close":"em_close",h.tag=u?"strong":"em",h.nesting=-1,h.markup=u?l+l:l,h.content="",u&&(e.tokens[t[n-1].token].content="",e.tokens[t[o.end+1].token].content="",n--)}}function Dx(e){const t=e.tokens_meta,r=e.tokens_meta.length;zu(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&zu(e,t[n].delimiters)}const kd={tokenize:Ax,postProcess:Dx};function Nx(e,t){let r,n,o,a,u="",l="",d=e.pos,h=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const p=e.pos,x=e.posMax,C=e.pos+1,y=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(y<0)return!1;let w=y+1;if(w<x&&e.src.charCodeAt(w)===40){for(h=!1,w++;w<x&&(r=e.src.charCodeAt(w),!(!Ze(r)&&r!==10));w++);if(w>=x)return!1;if(d=w,o=e.md.helpers.parseLinkDestination(e.src,w,e.posMax),o.ok){for(u=e.md.normalizeLink(o.str),e.md.validateLink(u)?w=o.pos:u="",d=w;w<x&&(r=e.src.charCodeAt(w),!(!Ze(r)&&r!==10));w++);if(o=e.md.helpers.parseLinkTitle(e.src,w,e.posMax),w<x&&d!==w&&o.ok)for(l=o.str,w=o.pos;w<x&&(r=e.src.charCodeAt(w),!(!Ze(r)&&r!==10));w++);}(w>=x||e.src.charCodeAt(w)!==41)&&(h=!0),w++}if(h){if(typeof e.env.references>"u")return!1;if(w<x&&e.src.charCodeAt(w)===91?(d=w+1,w=e.md.helpers.parseLinkLabel(e,w),w>=0?n=e.src.slice(d,w++):w=y+1):w=y+1,n||(n=e.src.slice(C,y)),a=e.env.references[da(n)],!a)return e.pos=p,!1;u=a.href,l=a.title}if(!t){e.pos=C,e.posMax=y;const k=e.push("link_open","a",1),D=[["href",u]];k.attrs=D,l&&D.push(["title",l]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=w,e.posMax=x,!0}function Tx(e,t){let r,n,o,a,u,l,d,h,p="";const x=e.pos,C=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const y=e.pos+2,w=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(w<0)return!1;if(a=w+1,a<C&&e.src.charCodeAt(a)===40){for(a++;a<C&&(r=e.src.charCodeAt(a),!(!Ze(r)&&r!==10));a++);if(a>=C)return!1;for(h=a,l=e.md.helpers.parseLinkDestination(e.src,a,e.posMax),l.ok&&(p=e.md.normalizeLink(l.str),e.md.validateLink(p)?a=l.pos:p=""),h=a;a<C&&(r=e.src.charCodeAt(a),!(!Ze(r)&&r!==10));a++);if(l=e.md.helpers.parseLinkTitle(e.src,a,e.posMax),a<C&&h!==a&&l.ok)for(d=l.str,a=l.pos;a<C&&(r=e.src.charCodeAt(a),!(!Ze(r)&&r!==10));a++);else d="";if(a>=C||e.src.charCodeAt(a)!==41)return e.pos=x,!1;a++}else{if(typeof e.env.references>"u")return!1;if(a<C&&e.src.charCodeAt(a)===91?(h=a+1,a=e.md.helpers.parseLinkLabel(e,a),a>=0?o=e.src.slice(h,a++):a=w+1):a=w+1,o||(o=e.src.slice(y,w)),u=e.env.references[da(o)],!u)return e.pos=x,!1;p=u.href,d=u.title}if(!t){n=e.src.slice(y,w);const k=[];e.md.inline.parse(n,e.md,e.env,k);const D=e.push("image","img",0),S=[["src",p],["alt",""]];D.attrs=S,D.children=k,D.content=n,d&&S.push(["title",d])}return e.pos=a,e.posMax=C,!0}const Px=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Mx=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function Ix(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==60)return!1;const n=e.pos,o=e.posMax;for(;;){if(++r>=o)return!1;const u=e.src.charCodeAt(r);if(u===60)return!1;if(u===62)break}const a=e.src.slice(n+1,r);if(Mx.test(a)){const u=e.md.normalizeLink(a);if(!e.md.validateLink(u))return!1;if(!t){const l=e.push("link_open","a",1);l.attrs=[["href",u]],l.markup="autolink",l.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(a);const h=e.push("link_close","a",-1);h.markup="autolink",h.info="auto"}return e.pos+=a.length+2,!0}if(Px.test(a)){const u=e.md.normalizeLink("mailto:"+a);if(!e.md.validateLink(u))return!1;if(!t){const l=e.push("link_open","a",1);l.attrs=[["href",u]],l.markup="autolink",l.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(a);const h=e.push("link_close","a",-1);h.markup="autolink",h.info="auto"}return e.pos+=a.length+2,!0}return!1}function Fx(e){return/^<a[>\s]/i.test(e)}function Rx(e){return/^<\/a\s*>/i.test(e)}function Ox(e){const t=e|32;return t>=97&&t<=122}function Lx(e,t){if(!e.md.options.html)return!1;const r=e.posMax,n=e.pos;if(e.src.charCodeAt(n)!==60||n+2>=r)return!1;const o=e.src.charCodeAt(n+1);if(o!==33&&o!==63&&o!==47&&!Ox(o))return!1;const a=e.src.slice(n).match(hx);if(!a)return!1;if(!t){const u=e.push("html_inline","",0);u.content=a[0],Fx(u.content)&&e.linkLevel++,Rx(u.content)&&e.linkLevel--}return e.pos+=a[0].length,!0}const zx=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Bx=/^&([a-z][a-z0-9]{1,31});/i;function $x(e,t){const r=e.pos,n=e.posMax;if(e.src.charCodeAt(r)!==38||r+1>=n)return!1;if(e.src.charCodeAt(r+1)===35){const a=e.src.slice(r).match(zx);if(a){if(!t){const u=a[1][0].toLowerCase()==="x"?parseInt(a[1].slice(1),16):parseInt(a[1],10),l=e.push("text_special","",0);l.content=mi(u)?Zo(u):Zo(65533),l.markup=a[0],l.info="entity"}return e.pos+=a[0].length,!0}}else{const a=e.src.slice(r).match(Bx);if(a){const u=gd(a[0]);if(u!==a[0]){if(!t){const l=e.push("text_special","",0);l.content=u,l.markup=a[0],l.info="entity"}return e.pos+=a[0].length,!0}}}return!1}function Bu(e){const t={},r=e.length;if(!r)return;let n=0,o=-2;const a=[];for(let u=0;u<r;u++){const l=e[u];if(a.push(0),(e[n].marker!==l.marker||o!==l.token-1)&&(n=u),o=l.token,l.length=l.length||0,!l.close)continue;t.hasOwnProperty(l.marker)||(t[l.marker]=[-1,-1,-1,-1,-1,-1]);const d=t[l.marker][(l.open?3:0)+l.length%3];let h=n-a[n]-1,p=h;for(;h>d;h-=a[h]+1){const x=e[h];if(x.marker===l.marker&&x.open&&x.end<0){let C=!1;if((x.close||l.open)&&(x.length+l.length)%3===0&&(x.length%3!==0||l.length%3!==0)&&(C=!0),!C){const y=h>0&&!e[h-1].open?a[h-1]+1:0;a[u]=u-h+y,a[h]=y,l.open=!1,x.end=u,x.close=!1,p=-1,o=-2;break}}}p!==-1&&(t[l.marker][(l.open?3:0)+(l.length||0)%3]=p)}}function qx(e){const t=e.tokens_meta,r=e.tokens_meta.length;Bu(e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&Bu(t[n].delimiters)}function Ux(e){let t,r,n=0;const o=e.tokens,a=e.tokens.length;for(t=r=0;t<a;t++)o[t].nesting<0&&n--,o[t].level=n,o[t].nesting>0&&n++,o[t].type==="text"&&t+1<a&&o[t+1].type==="text"?o[t+1].content=o[t].content+o[t+1].content:(t!==r&&(o[r]=o[t]),r++);t!==r&&(o.length=r)}const ls=[["text",vx],["linkify",Cx],["newline",_x],["escape",kx],["backticks",Sx],["strikethrough",_d.tokenize],["emphasis",kd.tokenize],["link",Nx],["image",Tx],["autolink",Ix],["html_inline",Lx],["entity",$x]],cs=[["balance_pairs",qx],["strikethrough",_d.postProcess],["emphasis",kd.postProcess],["fragments_join",Ux]];function po(){this.ruler=new Et;for(let e=0;e<ls.length;e++)this.ruler.push(ls[e][0],ls[e][1]);this.ruler2=new Et;for(let e=0;e<cs.length;e++)this.ruler2.push(cs[e][0],cs[e][1])}po.prototype.skipToken=function(e){const t=e.pos,r=this.ruler.getRules(""),n=r.length,o=e.md.options.maxNesting,a=e.cache;if(typeof a[t]<"u"){e.pos=a[t];return}let u=!1;if(e.level<o){for(let l=0;l<n;l++)if(e.level++,u=r[l](e,!0),e.level--,u){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;u||e.pos++,a[t]=e.pos};po.prototype.tokenize=function(e){const t=this.ruler.getRules(""),r=t.length,n=e.posMax,o=e.md.options.maxNesting;for(;e.pos<n;){const a=e.pos;let u=!1;if(e.level<o){for(let l=0;l<r;l++)if(u=t[l](e,!1),u){if(a>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(u){if(e.pos>=n)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};po.prototype.parse=function(e,t,r,n){const o=new this.State(e,t,r,n);this.tokenize(o);const a=this.ruler2.getRules(""),u=a.length;for(let l=0;l<u;l++)a[l](o)};po.prototype.State=ho;function Hx(e){const t={};e=e||{},t.src_Any=dd.source,t.src_Cc=fd.source,t.src_Z=pd.source,t.src_P=hi.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const r="[><｜]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function Ps(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(n){e[n]=r[n]})}),e}function ha(e){return Object.prototype.toString.call(e)}function Kx(e){return ha(e)==="[object String]"}function Vx(e){return ha(e)==="[object Object]"}function Wx(e){return ha(e)==="[object RegExp]"}function $u(e){return ha(e)==="[object Function]"}function Gx(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Sd={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Yx(e){return Object.keys(e||{}).reduce(function(t,r){return t||Sd.hasOwnProperty(r)},!1)}const Zx={"http:":{validate:function(e,t,r){const n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){const n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){const n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},Xx="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Qx="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function Jx(e){e.__index__=-1,e.__text_cache__=""}function ey(e){return function(t,r){const n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}function qu(){return function(e,t){t.normalize(e)}}function Xo(e){const t=e.re=Hx(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(Xx),r.push(t.src_xn),t.src_tlds=r.join("|");function n(l){return l.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");const o=[];e.__compiled__={};function a(l,d){throw new Error('(LinkifyIt) Invalid schema "'+l+'": '+d)}Object.keys(e.__schemas__).forEach(function(l){const d=e.__schemas__[l];if(d===null)return;const h={validate:null,link:null};if(e.__compiled__[l]=h,Vx(d)){Wx(d.validate)?h.validate=ey(d.validate):$u(d.validate)?h.validate=d.validate:a(l,d),$u(d.normalize)?h.normalize=d.normalize:d.normalize?a(l,d):h.normalize=qu();return}if(Kx(d)){o.push(l);return}a(l,d)}),o.forEach(function(l){e.__compiled__[e.__schemas__[l]]&&(e.__compiled__[l].validate=e.__compiled__[e.__schemas__[l]].validate,e.__compiled__[l].normalize=e.__compiled__[e.__schemas__[l]].normalize)}),e.__compiled__[""]={validate:null,normalize:qu()};const u=Object.keys(e.__compiled__).filter(function(l){return l.length>0&&e.__compiled__[l]}).map(Gx).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Jx(e)}function ty(e,t){const r=e.__index__,n=e.__last_index__,o=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=o,this.text=o,this.url=o}function Ms(e,t){const r=new ty(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function It(e,t){if(!(this instanceof It))return new It(e,t);t||Yx(e)&&(t=e,e={}),this.__opts__=Ps({},Sd,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Ps({},Zx,e),this.__compiled__={},this.__tlds__=Qx,this.__tlds_replaced__=!1,this.re={},Xo(this)}It.prototype.add=function(t,r){return this.__schemas__[t]=r,Xo(this),this};It.prototype.set=function(t){return this.__opts__=Ps(this.__opts__,t),this};It.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let r,n,o,a,u,l,d,h,p;if(this.re.schema_test.test(t)){for(d=this.re.schema_search,d.lastIndex=0;(r=d.exec(t))!==null;)if(a=this.testSchemaAt(t,r[2],d.lastIndex),a){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+a;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(h=t.search(this.re.host_fuzzy_test),h>=0&&(this.__index__<0||h<this.__index__)&&(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(u=n.index+n[1].length,(this.__index__<0||u<this.__index__)&&(this.__schema__="",this.__index__=u,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(p=t.indexOf("@"),p>=0&&(o=t.match(this.re.email_fuzzy))!==null&&(u=o.index+o[1].length,l=o.index+o[0].length,(this.__index__<0||u<this.__index__||u===this.__index__&&l>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=u,this.__last_index__=l))),this.__index__>=0};It.prototype.pretest=function(t){return this.re.pretest.test(t)};It.prototype.testSchemaAt=function(t,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(t,n,this):0};It.prototype.match=function(t){const r=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(r.push(Ms(this,n)),n=this.__last_index__);let o=n?t.slice(n):t;for(;this.test(o);)r.push(Ms(this,n)),o=o.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};It.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const r=this.re.schema_at_start.exec(t);if(!r)return null;const n=this.testSchemaAt(t,r[2],r[0].length);return n?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+n,Ms(this,0)):null};It.prototype.tlds=function(t,r){return t=Array.isArray(t)?t:[t],r?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(n,o,a){return n!==a[o-1]}).reverse(),Xo(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Xo(this),this)};It.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};It.prototype.onCompile=function(){};const dn=2147483647,rr=36,xi=1,no=26,ry=38,ny=700,Ed=72,jd=128,Ad="-",oy=/^xn--/,ay=/[^\0-\x7F]/,sy=/[\x2E\u3002\uFF0E\uFF61]/g,iy={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ds=rr-xi,nr=Math.floor,fs=String.fromCharCode;function Dr(e){throw new RangeError(iy[e])}function uy(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function Dd(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(sy,".");const o=e.split("."),a=uy(o,t).join(".");return n+a}function Nd(e){const t=[];let r=0;const n=e.length;for(;r<n;){const o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){const a=e.charCodeAt(r++);(a&64512)==56320?t.push(((o&1023)<<10)+(a&1023)+65536):(t.push(o),r--)}else t.push(o)}return t}const ly=e=>String.fromCodePoint(...e),cy=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:rr},Uu=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Td=function(e,t,r){let n=0;for(e=r?nr(e/ny):e>>1,e+=nr(e/t);e>ds*no>>1;n+=rr)e=nr(e/ds);return nr(n+(ds+1)*e/(e+ry))},Pd=function(e){const t=[],r=e.length;let n=0,o=jd,a=Ed,u=e.lastIndexOf(Ad);u<0&&(u=0);for(let l=0;l<u;++l)e.charCodeAt(l)>=128&&Dr("not-basic"),t.push(e.charCodeAt(l));for(let l=u>0?u+1:0;l<r;){const d=n;for(let p=1,x=rr;;x+=rr){l>=r&&Dr("invalid-input");const C=cy(e.charCodeAt(l++));C>=rr&&Dr("invalid-input"),C>nr((dn-n)/p)&&Dr("overflow"),n+=C*p;const y=x<=a?xi:x>=a+no?no:x-a;if(C<y)break;const w=rr-y;p>nr(dn/w)&&Dr("overflow"),p*=w}const h=t.length+1;a=Td(n-d,h,d==0),nr(n/h)>dn-o&&Dr("overflow"),o+=nr(n/h),n%=h,t.splice(n++,0,o)}return String.fromCodePoint(...t)},Md=function(e){const t=[];e=Nd(e);const r=e.length;let n=jd,o=0,a=Ed;for(const d of e)d<128&&t.push(fs(d));const u=t.length;let l=u;for(u&&t.push(Ad);l<r;){let d=dn;for(const p of e)p>=n&&p<d&&(d=p);const h=l+1;d-n>nr((dn-o)/h)&&Dr("overflow"),o+=(d-n)*h,n=d;for(const p of e)if(p<n&&++o>dn&&Dr("overflow"),p===n){let x=o;for(let C=rr;;C+=rr){const y=C<=a?xi:C>=a+no?no:C-a;if(x<y)break;const w=x-y,k=rr-y;t.push(fs(Uu(y+w%k,0))),x=nr(w/k)}t.push(fs(Uu(x,0))),a=Td(o,h,l===u),o=0,++l}++o,++n}return t.join("")},dy=function(e){return Dd(e,function(t){return oy.test(t)?Pd(t.slice(4).toLowerCase()):t})},fy=function(e){return Dd(e,function(t){return ay.test(t)?"xn--"+Md(t):t})},Id={version:"2.3.1",ucs2:{decode:Nd,encode:ly},decode:Pd,encode:Md,toASCII:fy,toUnicode:dy},hy={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},py={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},my={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},gy={default:hy,zero:py,commonmark:my},by=/^(vbscript|javascript|file|data):/,xy=/^data:image\/(gif|png|jpeg|webp);/;function yy(e){const t=e.trim().toLowerCase();return by.test(t)?xy.test(t):!0}const Fd=["http:","https:","mailto:"];function vy(e){const t=fi(e,!0);if(t.hostname&&(!t.protocol||Fd.indexOf(t.protocol)>=0))try{t.hostname=Id.toASCII(t.hostname)}catch{}return fo(di(t))}function wy(e){const t=fi(e,!0);if(t.hostname&&(!t.protocol||Fd.indexOf(t.protocol)>=0))try{t.hostname=Id.toUnicode(t.hostname)}catch{}return gn(di(t),gn.defaultChars+"%")}function jt(e,t){if(!(this instanceof jt))return new jt(e,t);t||pi(e)||(t=e||{},e="default"),this.inline=new po,this.block=new fa,this.core=new gi,this.renderer=new _n,this.linkify=new It,this.validateLink=yy,this.normalizeLink=vy,this.normalizeLinkText=wy,this.utils=_b,this.helpers=ca({},jb),this.options={},this.configure(e),t&&this.set(t)}jt.prototype.set=function(e){return ca(this.options,e),this};jt.prototype.configure=function(e){const t=this;if(pi(e)){const r=e;if(e=gy[r],!e)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};jt.prototype.enable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){r=r.concat(this[o].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));const n=e.filter(function(o){return r.indexOf(o)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};jt.prototype.disable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){r=r.concat(this[o].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));const n=e.filter(function(o){return r.indexOf(o)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};jt.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};jt.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const r=new this.core.State(e,this,t);return this.core.process(r),r.tokens};jt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};jt.prototype.parseInline=function(e,t){const r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens};jt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const Cy=new Op({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>({params:e.getAttribute("data-params")||""})}],toDOM(e){return["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")}}}],toDOM(e){return["ol",{start:e.attrs.order==1?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>({tight:e.hasAttribute("data-tight")})}],toDOM(e){return["ul",{"data-tight":e.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM(e){return["img",e.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>e.type.name=="em"}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM(e){return["a",e.attrs]}},code:{code:!0,parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function _y(e,t){if(e.isText&&t.isText&&ws.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}class ky{constructor(t,r){this.schema=t,this.tokenHandlers=r,this.stack=[{type:t.topNodeType,attrs:null,content:[],marks:ws.none}]}top(){return this.stack[this.stack.length-1]}push(t){this.stack.length&&this.top().content.push(t)}addText(t){if(!t)return;let r=this.top(),n=r.content,o=n[n.length-1],a=this.schema.text(t,r.marks),u;o&&(u=_y(o,a))?n[n.length-1]=u:n.push(a)}openMark(t){let r=this.top();r.marks=t.addToSet(r.marks)}closeMark(t){let r=this.top();r.marks=t.removeFromSet(r.marks)}parseTokens(t){for(let r=0;r<t.length;r++){let n=t[r],o=this.tokenHandlers[n.type];if(!o)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");o(this,n,t,r)}}addNode(t,r,n){let o=this.top(),a=t.createAndFill(r,n,o?o.marks:[]);return a?(this.push(a),a):null}openNode(t,r){this.stack.push({type:t,attrs:r,content:[],marks:ws.none})}closeNode(){let t=this.stack.pop();return this.addNode(t.type,t.attrs,t.content)}}function Un(e,t,r,n){return e.getAttrs?e.getAttrs(t,r,n):e.attrs instanceof Function?e.attrs(t):e.attrs}function hs(e,t){return e.noCloseToken||t=="code_inline"||t=="code_block"||t=="fence"}function Hu(e){return e[e.length-1]==`
`?e.slice(0,e.length-1):e}function ps(){}function Sy(e,t){let r=Object.create(null);for(let n in t){let o=t[n];if(o.block){let a=e.nodeType(o.block);hs(o,n)?r[n]=(u,l,d,h)=>{u.openNode(a,Un(o,l,d,h)),u.addText(Hu(l.content)),u.closeNode()}:(r[n+"_open"]=(u,l,d,h)=>u.openNode(a,Un(o,l,d,h)),r[n+"_close"]=u=>u.closeNode())}else if(o.node){let a=e.nodeType(o.node);r[n]=(u,l,d,h)=>u.addNode(a,Un(o,l,d,h))}else if(o.mark){let a=e.marks[o.mark];hs(o,n)?r[n]=(u,l,d,h)=>{u.openMark(a.create(Un(o,l,d,h))),u.addText(Hu(l.content)),u.closeMark(a)}:(r[n+"_open"]=(u,l,d,h)=>u.openMark(a.create(Un(o,l,d,h))),r[n+"_close"]=u=>u.closeMark(a))}else if(o.ignore)hs(o,n)?r[n]=ps:(r[n+"_open"]=ps,r[n+"_close"]=ps);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(o))}return r.text=(n,o)=>n.addText(o.content),r.inline=(n,o)=>n.parseTokens(o.children),r.softbreak=r.softbreak||(n=>n.addText(" ")),r}let Ey=class{constructor(t,r,n){this.schema=t,this.tokenizer=r,this.tokens=n,this.tokenHandlers=Sy(t,n)}parse(t,r={}){let n=new ky(this.schema,this.tokenHandlers),o;n.parseTokens(this.tokenizer.parse(t,r));do o=n.closeNode();while(n.stack.length);return o||this.schema.topNodeType.createAndFill()}};function Ku(e,t){for(;++t<e.length;)if(e[t].type!="list_item_open")return e[t].hidden;return!1}new Ey(Cy,jt("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(e,t,r)=>({tight:Ku(t,r)})},ordered_list:{block:"ordered_list",getAttrs:(e,t,r)=>({order:+e.attrGet("start")||1,tight:Ku(t,r)})},heading:{block:"heading",getAttrs:e=>({level:+e.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:e=>({params:e.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:e=>({src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const jy={open:"",close:"",mixable:!0};let Ay=class{constructor(t,r,n={}){this.nodes=t,this.marks=r,this.options=n}serialize(t,r={}){r=Object.assign({},this.options,r);let n=new Rd(this.nodes,this.marks,r);return n.renderContent(t),n.out}};const ur=new Ay({blockquote(e,t){e.wrapBlock("> ",null,t,()=>e.renderContent(t))},code_block(e,t){const r=t.textContent.match(/`{3,}/gm),n=r?r.sort().slice(-1)[0]+"`":"```";e.write(n+(t.attrs.params||"")+`
`),e.text(t.textContent,!1),e.write(`
`),e.write(n),e.closeBlock(t)},heading(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t,!1),e.closeBlock(t)},horizontal_rule(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list(e,t){e.renderList(t,"  ",()=>(t.attrs.bullet||"*")+" ")},ordered_list(e,t){let r=t.attrs.order||1,n=String(r+t.childCount-1).length,o=e.repeat(" ",n+2);e.renderList(t,o,a=>{let u=String(r+a);return e.repeat(" ",n-u.length)+u+". "})},list_item(e,t){e.renderContent(t)},paragraph(e,t){e.renderInline(t),e.closeBlock(t)},image(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+t.attrs.src.replace(/[\(\)]/g,"\\$&")+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(e,t,r,n){for(let o=n+1;o<r.childCount;o++)if(r.child(o).type!=t.type){e.write(`\\
`);return}},text(e,t){e.text(t.text,!e.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open(e,t,r,n){return e.inAutolink=Dy(t,r,n),e.inAutolink?"<":"["},close(e,t,r,n){let{inAutolink:o}=e;return e.inAutolink=void 0,o?">":"]("+t.attrs.href.replace(/[\(\)"]/g,"\\$&")+(t.attrs.title?` "${t.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open(e,t,r,n){return Vu(r.child(n),-1)},close(e,t,r,n){return Vu(r.child(n-1),1)},escape:!1}});function Vu(e,t){let r=/`+/g,n,o=0;if(e.isText)for(;n=r.exec(e.text);)o=Math.max(o,n[0].length);let a=o>0&&t>0?" `":"`";for(let u=0;u<o;u++)a+="`";return o>0&&t<0&&(a+=" "),a}function Dy(e,t,r){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;let n=t.child(r);return!n.isText||n.text!=e.attrs.href||n.marks[n.marks.length-1]!=e?!1:r==t.childCount-1||!e.isInSet(t.child(r+1).marks)}let Rd=class{constructor(t,r,n){this.nodes=t,this.marks=r,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists>"u"&&(this.options.tightLists=!1),typeof this.options.hardBreakNodeName>"u"&&(this.options.hardBreakNodeName="hard_break")}flushClose(t=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),t>1){let r=this.delim,n=/\s+$/.exec(r);n&&(r=r.slice(0,r.length-n[0].length));for(let o=1;o<t;o++)this.out+=r+`
`}this.closed=null}}getMark(t){let r=this.marks[t];if(!r){if(this.options.strict!==!1)throw new Error(`Mark type \`${t}\` not supported by Markdown renderer`);r=jy}return r}wrapBlock(t,r,n,o){let a=this.delim;this.write(r??t),this.delim+=t,o(),this.delim=a,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(t){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),t&&(this.out+=t)}closeBlock(t){this.closed=t}text(t,r=!0){let n=t.split(`
`);for(let o=0;o<n.length;o++)this.write(),!r&&n[o][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=r?this.esc(n[o],this.atBlockStart):n[o],o!=n.length-1&&(this.out+=`
`)}render(t,r,n){if(this.nodes[t.type.name])this.nodes[t.type.name](this,t,r,n);else{if(this.options.strict!==!1)throw new Error("Token type `"+t.type.name+"` not supported by Markdown renderer");t.type.isLeaf||(t.type.inlineContent?this.renderInline(t):this.renderContent(t),t.isBlock&&this.closeBlock(t))}}renderContent(t){t.forEach((r,n,o)=>this.render(r,t,o))}renderInline(t,r=!0){this.atBlockStart=r;let n=[],o="",a=(u,l,d)=>{let h=u?u.marks:[];u&&u.type.name===this.options.hardBreakNodeName&&(h=h.filter(k=>{if(d+1==t.childCount)return!1;let D=t.child(d+1);return k.isInSet(D.marks)&&(!D.isText||/\S/.test(D.text))}));let p=o;if(o="",u&&u.isText&&h.some(k=>{let D=this.getMark(k.type.name);return D&&D.expelEnclosingWhitespace&&!k.isInSet(n)})){let[k,D,S]=/^(\s*)(.*)$/m.exec(u.text);D&&(p+=D,u=S?u.withText(S):null,u||(h=n))}if(u&&u.isText&&h.some(k=>{let D=this.getMark(k.type.name);return D&&D.expelEnclosingWhitespace&&(d==t.childCount-1||!k.isInSet(t.child(d+1).marks))})){let[k,D,S]=/^(.*?)(\s*)$/m.exec(u.text);S&&(o=S,u=D?u.withText(D):null,u||(h=n))}let x=h.length?h[h.length-1]:null,C=x&&this.getMark(x.type.name).escape===!1,y=h.length-(C?1:0);e:for(let k=0;k<y;k++){let D=h[k];if(!this.getMark(D.type.name).mixable)break;for(let S=0;S<n.length;S++){let E=n[S];if(!this.getMark(E.type.name).mixable)break;if(D.eq(E)){k>S?h=h.slice(0,S).concat(D).concat(h.slice(S,k)).concat(h.slice(k+1,y)):S>k&&(h=h.slice(0,k).concat(h.slice(k+1,S)).concat(D).concat(h.slice(S,y)));continue e}}}let w=0;for(;w<Math.min(n.length,y)&&h[w].eq(n[w]);)++w;for(;w<n.length;)this.text(this.markString(n.pop(),!1,t,d),!1);if(p&&this.text(p),u){for(;n.length<y;){let k=h[n.length];n.push(k),this.text(this.markString(k,!0,t,d),!1),this.atBlockStart=!1}C&&u.isText?this.text(this.markString(x,!0,t,d)+u.text+this.markString(x,!1,t,d+1),!1):this.render(u,t,d),this.atBlockStart=!1}u?.isText&&u.nodeSize>0&&(this.atBlockStart=!1)};t.forEach(a),a(null,0,t.childCount),this.atBlockStart=!1}renderList(t,r,n){this.closed&&this.closed.type==t.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let o=typeof t.attrs.tight<"u"?t.attrs.tight:this.options.tightLists,a=this.inTightList;this.inTightList=o,t.forEach((u,l,d)=>{d&&o&&this.flushClose(1),this.wrapBlock(r,n(d),t,()=>this.render(u,t,d))}),this.inTightList=a}esc(t,r=!1){return t=t.replace(/[`*\\~\[\]_]/g,(n,o)=>n=="_"&&o>0&&o+1<t.length&&t[o-1].match(/\w/)&&t[o+1].match(/\w/)?n:"\\"+n),r&&(t=t.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(t=t.replace(this.options.escapeExtraCharacters,"\\$&")),t}quote(t){let r=t.indexOf('"')==-1?'""':t.indexOf("'")==-1?"''":"()";return r[0]+t+r[1]}repeat(t,r){let n="";for(let o=0;o<r;o++)n+=t;return n}markString(t,r,n,o){let a=this.getMark(t.type.name),u=r?a.open:a.close;return typeof u=="string"?u:u(this,t,n,o)}getEnclosingWhitespace(t){return{leading:(t.match(/^(\s+)/)||[void 0])[0],trailing:(t.match(/(\s+)$/)||[void 0])[0]}}};var Is=!0,Od=!1,Ld=!1,Ny=function(e,t){t&&(Is=!t.enabled,Od=!!t.label,Ld=!!t.labelAfter),e.core.ruler.after("inline","github-task-lists",function(r){for(var n=r.tokens,o=2;o<n.length;o++)Py(n,o)&&(My(n[o],r.Token),Wu(n[o-2],"class","task-list-item"+(Is?"":" enabled")),Wu(n[Ty(n,o-2)],"class","contains-task-list"))})};function Wu(e,t,r){var n=e.attrIndex(t),o=[t,r];n<0?e.attrPush(o):e.attrs[n]=o}function Ty(e,t){for(var r=e[t].level-1,n=t-1;n>=0;n--)if(e[n].level===r)return n;return-1}function Py(e,t){return Ly(e[t])&&zy(e[t-1])&&By(e[t-2])&&$y(e[t])}function My(e,t){if(e.children.unshift(Iy(e,t)),e.children[1].content=e.children[1].content.slice(3),e.content=e.content.slice(3),Od)if(Ld){e.children.pop();var r="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);e.children[0].content=e.children[0].content.slice(0,-1)+' id="'+r+'">',e.children.push(Oy(e.content,r,t))}else e.children.unshift(Fy(t)),e.children.push(Ry(t))}function Iy(e,t){var r=new t("html_inline","",0),n=Is?' disabled="" ':"";return e.content.indexOf("[ ] ")===0?r.content='<input class="task-list-item-checkbox"'+n+'type="checkbox">':(e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0)&&(r.content='<input class="task-list-item-checkbox" checked=""'+n+'type="checkbox">'),r}function Fy(e){var t=new e("html_inline","",0);return t.content="<label>",t}function Ry(e){var t=new e("html_inline","",0);return t.content="</label>",t}function Oy(e,t,r){var n=new r("html_inline","",0);return n.content='<label class="task-list-item-label" for="'+t+'">'+e+"</label>",n.attrs=[{for:t}],n}function Ly(e){return e.type==="inline"}function zy(e){return e.type==="paragraph_open"}function By(e){return e.type==="list_item_open"}function $y(e){return e.content.indexOf("[ ] ")===0||e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0}const qy=jl(Ny);var Uy=Object.defineProperty,Hy=(e,t,r)=>t in e?Uy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qo=(e,t,r)=>Hy(e,typeof t!="symbol"?t+"":t,r);const Ky=Zs.create({name:"markdownTightLists",addOptions:()=>({tight:!0,tightClass:"tight",listTypes:["bulletList","orderedList"]}),addGlobalAttributes(){return[{types:this.options.listTypes,attributes:{tight:{default:this.options.tight,parseHTML:e=>e.getAttribute("data-tight")==="true"||!e.querySelector("p"),renderHTML:e=>({class:e.tight?this.options.tightClass:null,"data-tight":e.tight?"true":null})}}}]},addCommands(){var e=this;return{toggleTight:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return r=>{let{editor:n,commands:o}=r;function a(u){if(!n.isActive(u))return!1;const l=n.getAttributes(u);return o.updateAttributes(u,{tight:t??!(l!=null&&l.tight)})}return e.options.listTypes.some(u=>a(u))}}}}}),Gu=jt();function zd(e,t){return Gu.inline.State.prototype.scanDelims.call({src:e,posMax:e.length}),new Gu.inline.State(e,null,null,[]).scanDelims(t,!0)}function Bd(e,t,r,n){let o=e.substring(0,r)+e.substring(r+t.length);return o=o.substring(0,r+n)+t+o.substring(r+n),o}function Vy(e,t,r,n){let o=r,a=e;for(;o<n&&!zd(a,o).can_open;)a=Bd(a,t,o,1),o++;return{text:a,from:o,to:n}}function Wy(e,t,r,n){let o=n,a=e;for(;o>r&&!zd(a,o).can_close;)a=Bd(a,t,o,-1),o--;return{text:a,from:r,to:o}}function Gy(e,t,r,n){let o={text:e,from:r,to:n};return o=Vy(o.text,t,o.from,o.to),o=Wy(o.text,t,o.from,o.to),o.to-o.from<t.length+1&&(o.text=o.text.substring(0,o.from)+o.text.substring(o.to+t.length)),o.text}class Yy extends Rd{constructor(t,r,n){super(t,r,n??{}),Qo(this,"inTable",!1),this.inlines=[]}render(t,r,n){super.render(t,r,n);const o=this.inlines[this.inlines.length-1];if(o!=null&&o.start&&o!==null&&o!==void 0&&o.end){const{delimiter:a,start:u,end:l}=this.normalizeInline(o);this.out=Gy(this.out,a,u,l),this.inlines.pop()}}markString(t,r,n,o){const a=this.marks[t.type.name];if(a.expelEnclosingWhitespace)if(r)this.inlines.push({start:this.out.length,delimiter:a.open});else{const u=this.inlines.pop();this.inlines.push({...u,end:this.out.length})}return super.markString(t,r,n,o)}normalizeInline(t){let{start:r,end:n}=t;for(;this.out.charAt(r).match(/\s/);)r++;return{...t,start:r}}}const $d=wn.create({name:"markdownHTMLMark",addStorage(){return{markdown:{serialize:{open(e,t){var r,n;return this.editor.storage.markdown.options.html?(r=(n=Yu(t))===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:"":(console.warn(`Tiptap Markdown: "${t.type.name}" mark is only available in html mode`),"")},close(e,t){var r,n;return this.editor.storage.markdown.options.html&&(r=(n=Yu(t))===null||n===void 0?void 0:n[1])!==null&&r!==void 0?r:""}},parse:{}}}}});function Yu(e){const t=e.type.schema,r=t.text(" ",[e]),o=Al(Cs.from(r),t).match(/^(<.*?>) (<\/.*?>)$/);return o?[o[1],o[2]]:null}function yi(e){const t=`<body>${e}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function Zy(e){return e?.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Xy(e){const t=e.parentElement,r=t.cloneNode();for(;t.firstChild&&t.firstChild!==e;)r.appendChild(t.firstChild);r.childNodes.length>0&&t.parentElement.insertBefore(r,t),t.parentElement.insertBefore(e,t),t.childNodes.length===0&&t.remove()}function Qy(e){const t=e.parentNode;for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}const pa=bt.create({name:"markdownHTMLNode",addStorage(){return{markdown:{serialize(e,t,r){this.editor.storage.markdown.options.html?e.write(Jy(t,r)):(console.warn(`Tiptap Markdown: "${t.type.name}" node is only available in html mode`),e.write(`[${t.type.name}]`)),t.isBlock&&e.closeBlock(t)},parse:{}}}}});function Jy(e,t){const r=e.type.schema,n=Al(Cs.from(e),r);return e.isBlock&&(t instanceof Cs||t.type.name===r.topNodeType.name)?e2(n):n}function e2(e){const r=yi(e).firstElementChild;return r.innerHTML=r.innerHTML.trim()?`
${r.innerHTML}
`:`
`,r.outerHTML}const t2=bt.create({name:"blockquote"}),r2=t2.extend({addStorage(){return{markdown:{serialize:ur.nodes.blockquote,parse:{}}}}}),n2=bt.create({name:"bulletList"}),qd=n2.extend({addStorage(){return{markdown:{serialize(e,t){return e.renderList(t,"  ",()=>(this.editor.storage.markdown.options.bulletListMarker||"-")+" ")},parse:{}}}}}),o2=bt.create({name:"codeBlock"}),a2=o2.extend({addStorage(){return{markdown:{serialize(e,t){e.write("```"+(t.attrs.language||"")+`
`),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},parse:{setup(e){var t;e.set({langPrefix:(t=this.options.languageClassPrefix)!==null&&t!==void 0?t:"language-"})},updateDOM(e){e.innerHTML=e.innerHTML.replace(/\n<\/code><\/pre>/g,"</code></pre>")}}}}}}),s2=bt.create({name:"hardBreak"}),Ud=s2.extend({addStorage(){return{markdown:{serialize(e,t,r,n){for(let o=n+1;o<r.childCount;o++)if(r.child(o).type!=t.type){e.write(e.inTable?pa.storage.markdown.serialize.call(this,e,t,r):`\\
`);return}},parse:{}}}}}),i2=bt.create({name:"heading"}),u2=i2.extend({addStorage(){return{markdown:{serialize:ur.nodes.heading,parse:{}}}}}),l2=bt.create({name:"horizontalRule"}),c2=l2.extend({addStorage(){return{markdown:{serialize:ur.nodes.horizontal_rule,parse:{}}}}}),d2=bt.create({name:"image"}),f2=d2.extend({addStorage(){return{markdown:{serialize:ur.nodes.image,parse:{}}}}}),h2=bt.create({name:"listItem"}),p2=h2.extend({addStorage(){return{markdown:{serialize:ur.nodes.list_item,parse:{}}}}}),m2=bt.create({name:"orderedList"});function g2(e,t,r){let n=0;for(;r-n>0&&t.child(r-n-1).type.name===e.type.name;n++);return n}const b2=m2.extend({addStorage(){return{markdown:{serialize(e,t,r,n){const o=t.attrs.start||1,a=String(o+t.childCount-1).length,u=e.repeat(" ",a+2),d=g2(t,r,n)%2?") ":". ";e.renderList(t,u,h=>{const p=String(o+h);return e.repeat(" ",a-p.length)+p+d})},parse:{}}}}}),x2=bt.create({name:"paragraph"}),y2=x2.extend({addStorage(){return{markdown:{serialize:ur.nodes.paragraph,parse:{}}}}});function ms(e){var t,r;return(t=e==null||(r=e.content)===null||r===void 0?void 0:r.content)!==null&&t!==void 0?t:[]}const v2=bt.create({name:"table"}),w2=v2.extend({addStorage(){return{markdown:{serialize(e,t,r){if(!C2(t)){pa.storage.markdown.serialize.call(this,e,t,r);return}e.inTable=!0,t.forEach((n,o,a)=>{if(e.write("| "),n.forEach((u,l,d)=>{d&&e.write(" | ");const h=u.firstChild;h.textContent.trim()&&e.renderInline(h)}),e.write(" |"),e.ensureNewLine(),!a){const u=Array.from({length:n.childCount}).map(()=>"---").join(" | ");e.write(`| ${u} |`),e.ensureNewLine()}}),e.closeBlock(t),e.inTable=!1},parse:{}}}}});function Zu(e){return e.attrs.colspan>1||e.attrs.rowspan>1}function C2(e){const t=ms(e),r=t[0],n=t.slice(1);return!(ms(r).some(o=>o.type.name!=="tableHeader"||Zu(o)||o.childCount>1)||n.some(o=>ms(o).some(a=>a.type.name==="tableHeader"||Zu(a)||a.childCount>1)))}const _2=bt.create({name:"taskItem"}),k2=_2.extend({addStorage(){return{markdown:{serialize(e,t){const r=t.attrs.checked?"[x]":"[ ]";e.write(`${r} `),e.renderContent(t)},parse:{updateDOM(e){[...e.querySelectorAll(".task-list-item")].forEach(t=>{const r=t.querySelector("input");t.setAttribute("data-type","taskItem"),r&&(t.setAttribute("data-checked",r.checked),r.remove())})}}}}}}),S2=bt.create({name:"taskList"}),E2=S2.extend({addStorage(){return{markdown:{serialize:qd.storage.markdown.serialize,parse:{setup(e){e.use(qy)},updateDOM(e){[...e.querySelectorAll(".contains-task-list")].forEach(t=>{t.setAttribute("data-type","taskList")})}}}}}}),j2=bt.create({name:"text"}),A2=j2.extend({addStorage(){return{markdown:{serialize(e,t){e.text(Zy(t.text))},parse:{}}}}}),D2=wn.create({name:"bold"}),N2=D2.extend({addStorage(){return{markdown:{serialize:ur.marks.strong,parse:{}}}}}),T2=wn.create({name:"code"}),P2=T2.extend({addStorage(){return{markdown:{serialize:ur.marks.code,parse:{}}}}}),M2=wn.create({name:"italic"}),I2=M2.extend({addStorage(){return{markdown:{serialize:ur.marks.em,parse:{}}}}}),F2=wn.create({name:"link"}),R2=F2.extend({addStorage(){return{markdown:{serialize:ur.marks.link,parse:{}}}}}),O2=wn.create({name:"strike"}),L2=O2.extend({addStorage(){return{markdown:{serialize:{open:"~~",close:"~~",expelEnclosingWhitespace:!0},parse:{}}}}}),z2=[r2,qd,a2,Ud,u2,c2,pa,f2,p2,b2,y2,w2,k2,E2,A2,N2,P2,$d,I2,R2,L2];function Jo(e){var t,r;const n=(t=e.storage)===null||t===void 0?void 0:t.markdown,o=(r=z2.find(a=>a.name===e.name))===null||r===void 0?void 0:r.storage.markdown;return n||o?{...o,...n}:null}class B2{constructor(t){Qo(this,"editor",null),this.editor=t}serialize(t){const r=new Yy(this.nodes,this.marks,{hardBreakNodeName:Ud.name});return r.renderContent(t),r.out}get nodes(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.nodes).map(r=>[r,this.serializeNode(pa)])),...Object.fromEntries((t=this.editor.extensionManager.extensions.filter(r=>r.type==="node"&&this.serializeNode(r)).map(r=>[r.name,this.serializeNode(r)]))!==null&&t!==void 0?t:[])}}get marks(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.marks).map(r=>[r,this.serializeMark($d)])),...Object.fromEntries((t=this.editor.extensionManager.extensions.filter(r=>r.type==="mark"&&this.serializeMark(r)).map(r=>[r.name,this.serializeMark(r)]))!==null&&t!==void 0?t:[])}}serializeNode(t){var r;return(r=Jo(t))===null||r===void 0||(r=r.serialize)===null||r===void 0?void 0:r.bind({editor:this.editor,options:t.options})}serializeMark(t){var r;const n=(r=Jo(t))===null||r===void 0?void 0:r.serialize;return n?{...n,open:typeof n.open=="function"?n.open.bind({editor:this.editor,options:t.options}):n.open,close:typeof n.close=="function"?n.close.bind({editor:this.editor,options:t.options}):n.close}:null}}class $2{constructor(t,r){Qo(this,"editor",null),Qo(this,"md",null);let{html:n,linkify:o,breaks:a}=r;this.editor=t,this.md=this.withPatchedRenderer(jt({html:n,linkify:o,breaks:a}))}parse(t){let{inline:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="string"){this.editor.extensionManager.extensions.forEach(a=>{var u;return(u=Jo(a))===null||u===void 0||(u=u.parse)===null||u===void 0||(u=u.setup)===null||u===void 0?void 0:u.call({editor:this.editor,options:a.options},this.md)});const n=this.md.render(t),o=yi(n);return this.editor.extensionManager.extensions.forEach(a=>{var u;return(u=Jo(a))===null||u===void 0||(u=u.parse)===null||u===void 0||(u=u.updateDOM)===null||u===void 0?void 0:u.call({editor:this.editor,options:a.options},o)}),this.normalizeDOM(o,{inline:r,content:t}),o.innerHTML}return t}normalizeDOM(t,r){let{inline:n,content:o}=r;return this.normalizeBlocks(t),t.querySelectorAll("*").forEach(a=>{var u;((u=a.nextSibling)===null||u===void 0?void 0:u.nodeType)===Node.TEXT_NODE&&!a.closest("pre")&&(a.nextSibling.textContent=a.nextSibling.textContent.replace(/^\n/,""))}),n&&this.normalizeInline(t,o),t}normalizeBlocks(t){const n=Object.values(this.editor.schema.nodes).filter(o=>o.isBlock).map(o=>{var a;return(a=o.spec.parseDOM)===null||a===void 0?void 0:a.map(u=>u.tag)}).flat().filter(Boolean).join(",");n&&[...t.querySelectorAll(n)].forEach(o=>{o.parentElement.matches("p")&&Xy(o)})}normalizeInline(t,r){var n;if((n=t.firstElementChild)!==null&&n!==void 0&&n.matches("p")){var o,a,u,l;const d=t.firstElementChild,{nextElementSibling:h}=d,p=(o=(a=r.match(/^\s+/))===null||a===void 0?void 0:a[0])!==null&&o!==void 0?o:"",x=h?"":(u=(l=r.match(/\s+$/))===null||l===void 0?void 0:l[0])!==null&&u!==void 0?u:"";if(r.match(/^\n\n/)){d.innerHTML=`${d.innerHTML}${x}`;return}Qy(d),t.innerHTML=`${p}${t.innerHTML}${x}`}}withPatchedRenderer(t){const r=n=>function(){const o=n(...arguments);return o===`
`?o:o[o.length-1]===`
`?o.slice(0,-1):o};return t.renderer.rules.hardbreak=r(t.renderer.rules.hardbreak),t.renderer.rules.softbreak=r(t.renderer.rules.softbreak),t.renderer.rules.fence=r(t.renderer.rules.fence),t.renderer.rules.code_block=r(t.renderer.rules.code_block),t.renderer.renderToken=r(t.renderer.renderToken.bind(t.renderer)),t}}const q2=Zs.create({name:"markdownClipboard",addOptions(){return{transformPastedText:!1,transformCopiedText:!1}},addProseMirrorPlugins(){return[new zp({key:new Bp("markdownClipboard"),props:{clipboardTextParser:(e,t,r)=>{if(r||!this.options.transformPastedText)return null;const n=this.editor.storage.markdown.parser.parse(e,{inline:!0});return $p.fromSchema(this.editor.schema).parseSlice(yi(n),{preserveWhitespace:!0,context:t})},clipboardTextSerializer:e=>this.options.transformCopiedText?this.editor.storage.markdown.serializer.serialize(e.content):null}})]}}),U2=Zs.create({name:"markdown",priority:50,addOptions(){return{html:!0,tightLists:!0,tightListClass:"tight",bulletListMarker:"-",linkify:!1,breaks:!1,transformPastedText:!1,transformCopiedText:!1}},addCommands(){const e=Lp.Commands.config.addCommands();return{setContent:(t,r,n)=>o=>e.setContent(o.editor.storage.markdown.parser.parse(t),r,n)(o),insertContentAt:(t,r,n)=>o=>e.insertContentAt(t,o.editor.storage.markdown.parser.parse(r,{inline:!0}),n)(o)}},onBeforeCreate(){this.editor.storage.markdown={options:{...this.options},parser:new $2(this.editor,this.options),serializer:new B2(this.editor),getMarkdown:()=>this.editor.storage.markdown.serializer.serialize(this.editor.state.doc)},this.editor.options.initialContent=this.editor.options.content,this.editor.options.content=this.editor.storage.markdown.parser.parse(this.editor.options.content)},onCreate(){this.editor.options.content=this.editor.options.initialContent,delete this.editor.options.initialContent},addStorage(){return{}},addExtensions(){return[Ky.configure({tight:this.options.tightLists,tightClass:this.options.tightListClass}),q2.configure({transformPastedText:this.options.transformPastedText,transformCopiedText:this.options.transformCopiedText})]}}),gs=[{emoji:"😀",name:"grinning"},{emoji:"😃",name:"smiley"},{emoji:"😄",name:"smile"},{emoji:"😁",name:"grin"},{emoji:"😆",name:"laughing"},{emoji:"😅",name:"sweat_smile"},{emoji:"🤣",name:"rofl"},{emoji:"😂",name:"joy"},{emoji:"🙂",name:"slightly_smiling_face"},{emoji:"🙃",name:"upside_down_face"},{emoji:"😉",name:"wink"},{emoji:"😊",name:"blush"},{emoji:"😇",name:"innocent"},{emoji:"🥰",name:"smiling_face_with_hearts"},{emoji:"😍",name:"heart_eyes"},{emoji:"🤩",name:"star_struck"},{emoji:"😘",name:"kissing_heart"},{emoji:"😗",name:"kissing"},{emoji:"😚",name:"kissing_closed_eyes"},{emoji:"😙",name:"kissing_smiling_eyes"},{emoji:"🥲",name:"smiling_face_with_tear"},{emoji:"😋",name:"yum"},{emoji:"😛",name:"stuck_out_tongue"},{emoji:"😜",name:"stuck_out_tongue_winking_eye"},{emoji:"🤪",name:"zany_face"},{emoji:"😝",name:"stuck_out_tongue_closed_eyes"},{emoji:"🤑",name:"money_mouth_face"},{emoji:"🤗",name:"hugs"},{emoji:"🤭",name:"hand_over_mouth"},{emoji:"🤫",name:"shushing_face"},{emoji:"🤔",name:"thinking"},{emoji:"🤐",name:"zipper_mouth_face"},{emoji:"🤨",name:"raised_eyebrow"},{emoji:"😐",name:"neutral_face"},{emoji:"😑",name:"expressionless"},{emoji:"😶",name:"no_mouth"},{emoji:"😏",name:"smirk"},{emoji:"😒",name:"unamused"},{emoji:"🙄",name:"roll_eyes"},{emoji:"😬",name:"grimacing"},{emoji:"🤥",name:"lying_face"},{emoji:"😔",name:"pensive"},{emoji:"😪",name:"sleepy"},{emoji:"🤤",name:"drooling_face"},{emoji:"😴",name:"sleeping"},{emoji:"😷",name:"mask"},{emoji:"🤒",name:"face_with_thermometer"},{emoji:"🤕",name:"face_with_head_bandage"},{emoji:"🤢",name:"nauseated_face"},{emoji:"🤮",name:"vomiting_face"},{emoji:"🤧",name:"sneezing_face"},{emoji:"🥵",name:"hot_face"},{emoji:"🥶",name:"cold_face"},{emoji:"🥴",name:"woozy_face"},{emoji:"😵",name:"dizzy_face"},{emoji:"🤯",name:"exploding_head"},{emoji:"🤠",name:"cowboy_hat_face"},{emoji:"🥳",name:"partying_face"},{emoji:"🥸",name:"disguised_face"},{emoji:"😎",name:"sunglasses"},{emoji:"🤓",name:"nerd_face"},{emoji:"🧐",name:"monocle_face"},{emoji:"😕",name:"confused"},{emoji:"😟",name:"worried"},{emoji:"🙁",name:"slightly_frowning_face"},{emoji:"☹️",name:"frowning_face"},{emoji:"😮",name:"open_mouth"},{emoji:"😯",name:"hushed"},{emoji:"😲",name:"astonished"},{emoji:"😳",name:"flushed"},{emoji:"🥺",name:"pleading_face"},{emoji:"😦",name:"frowning"},{emoji:"😧",name:"anguished"},{emoji:"😨",name:"fearful"},{emoji:"😰",name:"cold_sweat"},{emoji:"😥",name:"disappointed_relieved"},{emoji:"😢",name:"cry"},{emoji:"😭",name:"sob"},{emoji:"😱",name:"scream"},{emoji:"😖",name:"confounded"},{emoji:"😣",name:"persevere"},{emoji:"😞",name:"disappointed"},{emoji:"😓",name:"sweat"},{emoji:"😩",name:"weary"},{emoji:"😫",name:"tired_face"},{emoji:"🥱",name:"yawning_face"},{emoji:"😤",name:"triumph"},{emoji:"😡",name:"rage"},{emoji:"😠",name:"angry"},{emoji:"🤬",name:"cursing_face"},{emoji:"😈",name:"smiling_imp"},{emoji:"👿",name:"imp"},{emoji:"💀",name:"skull"},{emoji:"☠️",name:"skull_and_crossbones"},{emoji:"💩",name:"poop"},{emoji:"🤡",name:"clown_face"},{emoji:"👹",name:"ogre"},{emoji:"👺",name:"goblin"},{emoji:"👻",name:"ghost"},{emoji:"👽",name:"alien"},{emoji:"👾",name:"space_invader"},{emoji:"🤖",name:"robot"},{emoji:"😺",name:"smiley_cat"},{emoji:"😸",name:"smile_cat"},{emoji:"😹",name:"joy_cat"},{emoji:"😻",name:"heart_eyes_cat"},{emoji:"😼",name:"smirk_cat"},{emoji:"😽",name:"kissing_cat"},{emoji:"🙀",name:"scream_cat"},{emoji:"😿",name:"crying_cat_face"},{emoji:"😾",name:"pouting_cat"},{emoji:"👋",name:"wave"},{emoji:"🤚",name:"raised_back_of_hand"},{emoji:"🖐️",name:"raised_hand_with_fingers_splayed"},{emoji:"✋",name:"hand"},{emoji:"🖖",name:"vulcan_salute"},{emoji:"👌",name:"ok_hand"},{emoji:"🤌",name:"pinched_fingers"},{emoji:"🤏",name:"pinching_hand"},{emoji:"✌️",name:"v"},{emoji:"🤞",name:"crossed_fingers"},{emoji:"🤟",name:"love_you_gesture"},{emoji:"🤘",name:"metal"},{emoji:"🤙",name:"call_me_hand"},{emoji:"👈",name:"point_left"},{emoji:"👉",name:"point_right"},{emoji:"👆",name:"point_up_2"},{emoji:"🖕",name:"middle_finger"},{emoji:"👇",name:"point_down"},{emoji:"☝️",name:"point_up"},{emoji:"👍",name:"thumbsup"},{emoji:"👎",name:"thumbsdown"},{emoji:"✊",name:"fist"},{emoji:"👊",name:"facepunch"},{emoji:"🤛",name:"fist_left"},{emoji:"🤜",name:"fist_right"},{emoji:"👏",name:"clap"},{emoji:"🙌",name:"raised_hands"},{emoji:"👐",name:"open_hands"},{emoji:"🤲",name:"palms_up_together"},{emoji:"🤝",name:"handshake"},{emoji:"🙏",name:"pray"},{emoji:"❤️",name:"heart"},{emoji:"🧡",name:"orange_heart"},{emoji:"💛",name:"yellow_heart"},{emoji:"💚",name:"green_heart"},{emoji:"💙",name:"blue_heart"},{emoji:"💜",name:"purple_heart"},{emoji:"🖤",name:"black_heart"},{emoji:"🤍",name:"white_heart"},{emoji:"🤎",name:"brown_heart"},{emoji:"💔",name:"broken_heart"},{emoji:"❣️",name:"heavy_heart_exclamation"},{emoji:"💕",name:"two_hearts"},{emoji:"💞",name:"revolving_hearts"},{emoji:"💓",name:"heartbeat"},{emoji:"💗",name:"heartpulse"},{emoji:"💖",name:"sparkling_heart"},{emoji:"💘",name:"cupid"},{emoji:"💝",name:"gift_heart"},{emoji:"💟",name:"heart_decoration"},{emoji:"☮️",name:"peace_symbol"},{emoji:"✝️",name:"latin_cross"},{emoji:"☪️",name:"star_and_crescent"},{emoji:"🕉️",name:"om"},{emoji:"☸️",name:"wheel_of_dharma"},{emoji:"✡️",name:"star_of_david"},{emoji:"🔯",name:"six_pointed_star"},{emoji:"🕎",name:"menorah"},{emoji:"☯️",name:"yin_yang"},{emoji:"☦️",name:"orthodox_cross"},{emoji:"🛐",name:"place_of_worship"},{emoji:"⛎",name:"ophiuchus"},{emoji:"♈",name:"aries"},{emoji:"♉",name:"taurus"},{emoji:"♊",name:"gemini"},{emoji:"♋",name:"cancer"},{emoji:"♌",name:"leo"},{emoji:"♍",name:"virgo"},{emoji:"♎",name:"libra"},{emoji:"♏",name:"scorpius"},{emoji:"♐",name:"sagittarius"},{emoji:"♑",name:"capricorn"},{emoji:"♒",name:"aquarius"},{emoji:"♓",name:"pisces"},{emoji:"🆔",name:"id"},{emoji:"⚡",name:"zap"},{emoji:"💥",name:"boom"},{emoji:"💫",name:"dizzy"},{emoji:"💦",name:"sweat_drops"},{emoji:"💨",name:"dash"},{emoji:"🕳️",name:"hole"},{emoji:"💣",name:"bomb"},{emoji:"💬",name:"speech_balloon"},{emoji:"👁️‍🗨️",name:"eye_speech_bubble"},{emoji:"🗨️",name:"left_speech_bubble"},{emoji:"🗯️",name:"right_anger_bubble"},{emoji:"💭",name:"thought_balloon"},{emoji:"💤",name:"zzz"}];function H2({onEmojiSelect:e,onClose:t,query:r="",position:n}){const[o,a]=g.useState(gs);g.useEffect(()=>{if(r&&r.trim()){const p=r.toLowerCase().trim(),x=gs.filter(C=>C.name.toLowerCase().includes(p)||C.emoji.includes(r)||C.name.toLowerCase().startsWith(p));a(x.slice(0,20))}else a(gs.slice(0,40))},[r]);const u=p=>{e(p),t()},l=p=>{p.key==="Escape"&&t()},d=()=>{if(!n)return{};const p=window.innerWidth,x=window.innerHeight,C=320,y=240;let w=n.x,k=n.y;return w+C>p&&(w=p-C-20),k+y>x&&(k=n.y-y-10),{left:Math.max(10,w),top:Math.max(10,k)}},h=i.jsxs("div",{className:"fixed bg-white border border-border rounded-lg shadow-xl p-3 w-80",style:{...d(),zIndex:2147483647},onKeyDown:l,children:[r&&i.jsxs("div",{className:"text-xs text-blue-600 mb-2 font-medium",children:['"',r,'"']}),i.jsx("div",{className:"grid grid-cols-10 gap-1 max-h-52 overflow-y-auto",children:o.map((p,x)=>i.jsx(ke,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50 text-lg transition-colors",onClick:()=>u(p.emoji),title:p.name,children:p.emoji},`${p.emoji}-${x}`))}),o.length===0&&r&&i.jsx("div",{className:"text-center text-muted-foreground text-sm py-6",children:"No emojis found"})]});return vn.createPortal(h,document.body)}function K2({content:e,placeholder:t="Start typing...",onUpdate:r,onSave:n,onCancel:o,className:a,autoFocus:u=!1}){const[l,d]=g.useState(!1),[h,p]=g.useState(""),[x,C]=g.useState(null),y=g.useRef(null),w=qp({extensions:[Up.configure({strike:!1,code:!1,blockquote:!1}),U2.configure({html:!0,transformPastedText:!0,transformCopiedText:!1}),F1,R1.configure({nested:!0}),Hp.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline hover:text-blue-800 cursor-pointer",target:"_blank",rel:"noopener noreferrer"},protocols:["http","https","ftp","mailto"],validate:E=>/^https?:\/\//.test(E)}),Kp.configure({HTMLAttributes:{class:"border-l-4 border-gray-300 pl-4 italic"}}),Vp.configure({HTMLAttributes:{class:"inline-code"}}),Wp.configure({HTMLAttributes:{class:"code-block"}}),Gp.configure({HTMLAttributes:{class:"line-through"}}),M1.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:"rounded-md max-w-full h-auto"}}),I1.configure({placeholder:t})],content:e,onUpdate:({editor:E})=>{r(E.getHTML())},editorProps:{attributes:{class:"tiptap-editor text-sm leading-relaxed focus:outline-none min-h-[100px] w-full"},handleKeyDown:(E,_)=>{if(_.key==="/"&&!l){const{selection:A}=E.state,{from:P}=A,$=E.state.doc.resolve(P),U=$.parent.textBetween(0,$.parentOffset);if(!U.trim()||U.endsWith(" ")){const te=E.coordsAtPos(P);return C({x:te.left,y:te.bottom+5}),d(!0),p(""),_.preventDefault(),!0}}if(l){if(_.key==="Escape")return d(!1),p(""),!0;if(_.key==="Backspace")return h.length>0?p(A=>A.slice(0,-1)):d(!1),!0;if(_.key.length===1&&!_.ctrlKey&&!_.metaKey&&_.key!==" ")return p(A=>A+_.key),!0;if(_.key===" ")return d(!1),p(""),!0}return!1}}}),k=g.useCallback(()=>{const E=document.createElement("input");E.type="file",E.accept="image/*",E.onchange=_=>{const A=_.target.files?.[0];if(A&&w){const P=new FileReader;P.onload=$=>{const U=$.target?.result;w.chain().focus().setImage({src:U}).run()},P.readAsDataURL(A)}},E.click()},[w]);g.useEffect(()=>{if(!w)return;const E=A=>{const P=A.clipboardData?.items;if(P)for(let $=0;$<P.length;$++){const U=P[$];if(U.type.indexOf("image")!==-1){A.preventDefault();const Y=U.getAsFile();if(Y){const te=new FileReader;te.onload=he=>{const V=he.target?.result;w.chain().focus().setImage({src:V}).run()},te.readAsDataURL(Y)}}}},_=w.view.dom;return _.addEventListener("paste",E),()=>{_.removeEventListener("paste",E)}},[w]);const D=g.useCallback(E=>{w&&w.chain().focus().insertContent(E).run(),d(!1),p("")},[w]),S=g.useCallback(()=>{d(!1),p("")},[]);return g.useEffect(()=>{if(!w)return;const E=A=>{A.key==="Escape"?l?(d(!1),p("")):o():A.key==="Enter"&&(A.ctrlKey||A.metaKey)&&n()},_=w.view.dom;return _.addEventListener("keydown",E),()=>{_.removeEventListener("keydown",E)}},[w,n,o,l]),g.useEffect(()=>{w&&u&&w.commands.focus()},[w,u]),w?i.jsxs("div",{className:oe("relative z-20",a),ref:y,children:[i.jsxs("div",{className:"relative p-2 -m-2",children:[i.jsx(Yp,{editor:w,className:"min-h-[100px]"}),i.jsxs("div",{className:"absolute top-0 right-0 flex gap-1 opacity-60 hover:opacity-100 transition-opacity",children:[i.jsx(ke,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 bg-white/90 hover:bg-white shadow-sm rounded",onClick:()=>d(!l),title:"Insert Emoji (Press / to open)",children:i.jsx(fg,{className:"h-3 w-3"})}),i.jsx(ke,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 bg-white/90 hover:bg-white shadow-sm rounded",onClick:k,title:"Insert Image",children:i.jsx(Vl,{className:"h-3 w-3"})})]})]}),l&&i.jsx(H2,{onEmojiSelect:D,onClose:S,query:h,position:x||void 0}),i.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t border-border/30",children:[i.jsxs(ke,{size:"sm",variant:"ghost",onClick:o,className:"h-7 px-3 text-xs",children:[i.jsx(Zr,{className:"h-3 w-3 mr-1"}),"Cancel"]}),i.jsxs(ke,{size:"sm",onClick:n,className:"h-7 px-3 text-xs",children:[i.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Accept"]})]}),w&&i.jsxs("div",{className:"absolute top-0 right-0 text-xs text-muted-foreground bg-white/90 px-2 py-1 rounded shadow-sm opacity-0 hover:opacity-100 transition-opacity pointer-events-none z-10 max-w-xs",children:["**bold** *italic* # heading - list ",">"," quote `code` ~~strike~~ [link](url) [] task / emoji"]})]}):null}function V2({content:e,onUpdate:t,onSave:r,onCancel:n,className:o,autoFocus:a=!1}){const[u,l]=g.useState(e),d=g.useRef(null);g.useEffect(()=>{l(e)},[e]),g.useEffect(()=>{a&&d.current&&(d.current.focus(),d.current.select())},[a]);const h=x=>{l(x.target.value),t(x.target.value)},p=x=>{x.key==="Enter"?r():x.key==="Escape"&&n()};return i.jsxs("div",{className:oe("relative",o),children:[i.jsx("input",{ref:d,type:"text",value:u,onChange:h,onKeyDown:p,className:"w-full bg-transparent border-none outline-none text-lg font-semibold resize-none pr-16",placeholder:"Card title..."}),i.jsxs("div",{className:"absolute right-0 top-0 flex gap-1",children:[i.jsx(ke,{size:"sm",variant:"ghost",onClick:n,className:"h-6 w-6 p-0 bg-white/80 hover:bg-white shadow-sm",children:i.jsx(Zr,{className:"h-3 w-3"})}),i.jsx(ke,{size:"sm",onClick:r,className:"h-6 w-6 p-0 bg-white/80 hover:bg-white shadow-sm",children:i.jsx(Mr,{className:"h-3 w-3"})})]})]})}const W2=e=>{const t=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#06b6d4","#8b5a2b","#6b7280","#ec4899","#84cc16","#f97316","#6366f1"];let r=0;for(let n=0;n<e.length;n++)r=e.charCodeAt(n)+((r<<5)-r);return t[Math.abs(r)%t.length]},G2=({tags:e,className:t,maxTags:r=5,size:n="sm"})=>{if(!e||e.length===0)return null;const o=e.slice(0,r),a=e.length-r,u={sm:"text-xs px-2 py-1",md:"text-sm px-2.5 py-1.5",lg:"text-base px-3 py-2"};return i.jsxs("div",{className:oe("flex flex-wrap gap-1.5 mt-3",t),children:[o.map((l,d)=>i.jsx("span",{className:oe("inline-flex items-center rounded-full font-medium text-white","shadow-sm transition-all duration-200 hover:scale-105",u[n]),style:{backgroundColor:W2(l),fontSize:n==="sm"?"0.75rem":n==="md"?"0.875rem":"1rem"},children:l},`${l}-${d}`)),a>0&&i.jsxs("span",{className:oe("inline-flex items-center rounded-full bg-gray-500 text-white font-medium",u[n]),children:["+",a]})]})};function Y2({card:e,onFlip:t,onUpdate:r,onCopy:n,onScreenshot:o,onShare:a,onDelete:u,onStyleChange:l,onTagsChange:d,onMoveToFolder:h,className:p,size:x="md"}){const[C,y]=g.useState(!1),[w,k]=g.useState(!1),[D,S]=g.useState(null),[E,_]=g.useState(null),[A,P]=g.useState(null),[$,U]=g.useState(!1),Y=g.useRef(null),te=e.isFlipped?e.backContent:e.frontContent,he={sm:"w-full",md:"w-full",lg:"w-full"},V={sm:"p-3",md:"p-4",lg:"p-5"},X=()=>{const{style:se}=e,Z={borderRadius:"1rem",fontFamily:se.fontFamily,fontSize:se.fontSize==="sm"?"0.875rem":se.fontSize==="lg"?"1.125rem":"1rem",fontWeight:se.fontWeight,color:se.textColor,borderWidth:se.borderWidth||0,borderColor:se.borderColor};let Oe="";return se.type==="gradient"&&se.gradientColors?(Z.background=`linear-gradient(135deg, ${se.gradientColors.join(", ")})`,se.gradientColors.includes("#8a2be2")&&se.gradientColors.includes("#00ffff")?(Oe="gradient-wave-animation",Z.position="relative"):se.gradientColors.includes("#ee7752")&&se.gradientColors.includes("#23d5ab")?Oe="moving-gradient-animation":se.gradientColors.includes("#667eea")&&(Oe="gradient-mesh-animation")):se.type==="glass"?(Z.background=se.backgroundColor||"rgba(255, 255, 255, 0.15)",Z.backdropFilter="blur(20px) saturate(180%)",Z.WebkitBackdropFilter="blur(20px) saturate(180%)",Z.border=`1px solid ${se.borderColor||"rgba(255, 255, 255, 0.18)"}`,Oe="glass-morphism"):se.backgroundColor&&se.backgroundColor.includes("linear-gradient")?(Z.background=se.backgroundColor,Z.backgroundSize="400% 400%",se.backgroundColor.includes("#667eea")&&(Oe="gradient-mesh-animation")):(Z.backgroundColor=se.backgroundColor,se.backgroundColor==="#1a1a2e"&&se.borderColor==="#4361ee"?Oe="pulse-border-animation":se.backgroundColor==="#0f172a"&&(Oe="glow-hover-animation")),{style:Z,shadowClass:{sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl",none:"","2xl":"shadow-2xl",glass:"shadow-lg"}[se.shadow||"md"]||"shadow-md",specialClasses:Oe}},{style:ye,shadowClass:Pe,specialClasses:Ne}=X(),be=g.useCallback(se=>{se.stopPropagation(),se.preventDefault(),!$&&(U(!0),t(e.id),setTimeout(()=>{U(!1)},600))},[e.id,t,$]),Ie=se=>{se.stopPropagation(),H("content")},je=se=>{H(se)},H=se=>{_(te),P(te),S(se),k(!0)},fe=(se,Z)=>{A&&P({...A,[se]:Z,lastModified:new Date})},xe=()=>{if(A){const Z={[e.isFlipped?"backContent":"frontContent"]:A};r(e.id,Z)}k(!1),S(null),_(null),P(null)},Ce=()=>{k(!1),S(null),_(null),P(null)},ve=se=>{fe("title",se.target.value)},Ee=se=>{fe("text",se.target.value)},Be=se=>{se.key==="Escape"&&Ce(),se.key==="Enter"&&se.ctrlKey&&xe()};return i.jsx("div",{className:oe("relative group",p),"data-card-id":e.id,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:i.jsx("div",{className:"flip-card-container",style:{perspective:"1000px",width:"100%",minHeight:"fit-content"},children:i.jsxs("div",{ref:Y,className:oe("flip-card-inner relative transition-all duration-700 ease-in-out",he[x]),style:{minHeight:"fit-content",width:"100%",transformStyle:"preserve-3d",transform:e.isFlipped?"rotateY(180deg)":"rotateY(0deg)"},children:[i.jsx("div",{className:oe("flip-card-face flip-card-front w-full flex flex-col transition-all duration-300 relative",Pe,Ne,V[x]),style:{...ye,borderRadius:ye.borderRadius,backfaceVisibility:"hidden",position:e.isFlipped?"absolute":"relative",opacity:e.isFlipped?0:1},children:i.jsx(Xu,{content:A||e.frontContent,isEditing:w&&!e.isFlipped,editingField:D,onTitleChange:ve,onTextChange:Ee,onTempContentUpdate:fe,onSaveEdit:xe,onCancelEdit:Ce,onDoubleClick:je,onKeyDown:Be,sideLabel:"Front",isHovered:C,onEdit:Ie,onFlip:be,onCopy:()=>n(e.id),onScreenshot:()=>o(e.id),onShare:()=>a(e.id),onDelete:()=>u(e.id),onStyleChange:l?()=>l(e.id):void 0,onTagsChange:d?()=>d(e.id):void 0,onMoveToFolder:h,card:e,isFlipping:$})}),i.jsx("div",{className:oe("flip-card-face flip-card-back w-full flex flex-col transition-all duration-300 relative",Pe,Ne,V[x]),style:{...ye,borderRadius:ye.borderRadius,backfaceVisibility:"hidden",transform:"rotateY(180deg)",position:e.isFlipped?"relative":"absolute",top:e.isFlipped?"auto":"0",opacity:e.isFlipped?1:0},children:i.jsx(Xu,{content:A||e.backContent,isEditing:w&&e.isFlipped,editingField:D,onTitleChange:ve,onTextChange:Ee,onTempContentUpdate:fe,onSaveEdit:xe,onCancelEdit:Ce,onDoubleClick:je,onKeyDown:Be,sideLabel:"Back",isHovered:C,onEdit:Ie,onFlip:be,onCopy:()=>n(e.id),onScreenshot:()=>o(e.id),onShare:()=>a(e.id),onDelete:()=>u(e.id),onStyleChange:l?()=>l(e.id):void 0,onTagsChange:d?()=>d(e.id):void 0,onMoveToFolder:h,card:e,isFlipping:$})})]})})})}function Z2({images:e}){const t=e.slice(0,4),r=t.length,n=a=>{switch(a){case 1:return"flex justify-center";case 2:return"grid grid-cols-2 gap-2";case 3:return"grid grid-cols-2 gap-2";case 4:default:return"grid grid-cols-2 gap-2"}},o=(a,u)=>{const l="relative aspect-video rounded-md overflow-hidden bg-muted transition-all duration-200 hover:scale-[1.02]";return a===1?`${l} max-w-xs w-full`:a===3&&u===2?`${l} col-span-2 max-w-xs mx-auto`:l};return i.jsx("div",{className:n(r),children:t.map((a,u)=>i.jsx("div",{className:o(r,u),children:i.jsx("img",{src:a.url,alt:a.alt||`Image ${u+1}`,className:"w-full h-full object-cover transition-transform duration-200",loading:"lazy"})},u))})}function Xu({content:e,isEditing:t,editingField:r,onTitleChange:n,onTextChange:o,onTempContentUpdate:a,onSaveEdit:u,onCancelEdit:l,onDoubleClick:d,onKeyDown:h,sideLabel:p,isHovered:x,onEdit:C,onFlip:y,onCopy:w,onScreenshot:k,onShare:D,onDelete:S,onStyleChange:E,onTagsChange:_,onMoveToFolder:A,card:P,isFlipping:$}){return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("div",{className:"flex-1 mr-2",children:t&&r==="title"?i.jsx(V2,{content:e.title,onUpdate:U=>a("title",U),onSave:u,onCancel:l,autoFocus:!0}):i.jsx("h3",{className:"text-lg font-semibold text-left cursor-pointer hover:bg-black/5 rounded px-1 py-0.5 -mx-1 transition-colors",onDoubleClick:()=>d("title"),children:e.title||"Untitled Card"})}),i.jsxs("div",{className:oe("flex gap-1 transition-all duration-200 flex-shrink-0",x||t?"opacity-100":"opacity-60"),children:[i.jsx(ke,{size:"sm",variant:"ghost",className:oe("h-7 w-7 p-0 rounded-md hover:bg-black/10 transition-all duration-200",$&&"animate-pulse"),onClick:y,title:`Flip to ${P.isFlipped?"Front":"Back"}`,disabled:$,children:i.jsx(Zm,{className:oe("h-3.5 w-3.5 transition-transform duration-200",$&&"scale-110")})}),i.jsxs(k1,{modal:!1,children:[i.jsx(S1,{asChild:!0,children:i.jsx("div",{className:"h-7 w-7 rounded-md hover:bg-black/10 flex items-center justify-center cursor-pointer transition-colors group",onMouseEnter:U=>{U.stopPropagation();const Y=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});U.currentTarget.dispatchEvent(Y)},onClick:U=>U.stopPropagation(),children:i.jsx(rg,{className:"h-3.5 w-3.5"})})}),i.jsxs(cd,{align:"end",className:"w-48",children:[i.jsxs(gr,{onClick:C,children:[i.jsx(ug,{className:"h-4 w-4 mr-2"}),"Edit Content"]}),i.jsxs(gr,{onClick:w,children:[i.jsx(tg,{className:"h-4 w-4 mr-2"}),"Copy Text"]}),i.jsxs(gr,{onClick:k,children:[i.jsx(Es,{className:"h-4 w-4 mr-2"}),"Screenshot"]}),i.jsxs(gr,{onClick:D,children:[i.jsx(lg,{className:"h-4 w-4 mr-2"}),"Share"]}),i.jsx(Ns,{}),E&&i.jsxs(gr,{onClick:E,children:[i.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Change Style"]}),_&&i.jsxs(gr,{onClick:_,children:[i.jsx(Yl,{className:"h-4 w-4 mr-2"}),"Manage Tags"]}),A&&i.jsxs(gr,{onClick:A,children:[i.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Move to Folder"]}),i.jsx(Ns,{}),i.jsxs(gr,{onClick:S,className:"text-destructive focus:text-destructive",children:[i.jsx(ri,{className:"h-4 w-4 mr-2"}),"Delete Card"]})]})]})]})]}),e.images.length>0&&i.jsxs("div",{className:"mb-3 flex-shrink-0",children:[i.jsx(Z2,{images:e.images}),e.images.length>4&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-center",children:["+",e.images.length-4," more images"]})]}),i.jsx("div",{className:"flex-1 mb-3 relative z-10",children:t&&r==="content"?i.jsx(K2,{content:e.text,placeholder:"Add your content here...",onUpdate:U=>a("text",U),onSave:u,onCancel:l,autoFocus:!0}):i.jsx("div",{className:"text-sm leading-relaxed text-left cursor-pointer hover:bg-black/5 rounded p-2 -m-2 transition-colors min-h-[100px] tiptap-editor relative z-10",onDoubleClick:U=>{U.target.tagName!=="A"&&d("content")},onClick:U=>{const Y=U.target;if(Y.tagName==="A"){U.stopPropagation();const te=Y.getAttribute("href");te&&window.open(te,"_blank","noopener,noreferrer")}},children:i.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:e.text||'<span class="text-muted-foreground">Click to add content...</span>'}})})}),i.jsxs("div",{className:"mt-auto",children:[i.jsx(G2,{tags:e.tags,size:"sm"}),e.images.length>0&&i.jsx("div",{className:"flex items-center justify-end text-xs text-muted-foreground mt-2",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Vl,{className:"h-3 w-3"}),i.jsx("span",{children:e.images.length})]})})]})]})}const Bt=({title:e="Sample Card",content:t="This is a preview of how your card will look with this style.",style:r,isSelected:n=!1,onClick:o,className:a})=>{console.log("Rendering StylePreviewCard (Simplified):",{title:e,isSelected:n,style:r});const u=()=>{const l={minHeight:"60px",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"8px",borderRadius:"8px",cursor:"pointer",border:n?"2px solid #3b82f6":"1px solid #e5e7eb",position:"relative",fontSize:"10px",textAlign:"center",boxShadow:n?"0 4px 12px rgba(59, 130, 246, 0.3)":"0 2px 4px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease",backgroundColor:"#ffffff"};if(typeof r=="object"&&r!==null){if("background"in r||"backgroundColor"in r)return{...l,...r,cursor:"pointer",border:n?"3px solid #3b82f6":r.border||"2px solid #e5e7eb",boxShadow:n?"0 4px 12px rgba(59, 130, 246, 0.3)":r.boxShadow||"0 2px 4px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease"};if("type"in r){if(r.type==="solid")return{...l,backgroundColor:r.backgroundColor||"#ffffff",color:r.textColor||"#374151"};if(r.type==="gradient"&&r.gradientColors){const h=`linear-gradient(${r.gradientDirection||"to bottom right"}, ${r.gradientColors.join(", ")})`;return{...l,background:h,color:r.textColor||"#ffffff"}}}}return l};return i.jsxs("div",{style:u(),onClick:o,className:a,children:[i.jsx("div",{style:{fontWeight:"600",marginBottom:"2px",fontSize:"11px"},children:e}),i.jsx("div",{style:{fontSize:"9px",opacity:.8,lineHeight:"1.1"},children:t})]})},X2=({isSelected:e,onClick:t,className:r})=>{const n={background:"#ffffff",color:"#1f2937",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"400",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"1px solid #e5e7eb"};return i.jsx(Bt,{title:"Classic White",content:"Clean and professional",style:n,isSelected:e,onClick:t,className:r})},Q2={id:"classic-white",name:"Classic White",category:"business",description:"Clean and professional white background with subtle shadows",style:{type:"solid",backgroundColor:"#ffffff",fontFamily:"system-ui",fontSize:"base",fontWeight:"normal",textColor:"#1f2937",borderRadius:"2xl",shadow:"md",borderWidth:1,borderColor:"#e5e7eb"},previewComponent:X2},J2=({isSelected:e,onClick:t,className:r})=>{const n={background:"linear-gradient(135deg, #1f2937 0%, #111827 50%, #030712 100%)",color:"#f9fafb",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"600",borderRadius:"12px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.1)"};return i.jsx(Bt,{title:"Deep Dark",content:"Bold and mysterious",style:n,isSelected:e,onClick:t,className:r})},ev={id:"deep-dark",name:"Deep Dark",category:"personality",description:"Bold dark gradient with mysterious depth",style:{type:"gradient",gradientColors:["#1f2937","#111827","#030712"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"semibold",textColor:"#f9fafb",borderRadius:"2xl",shadow:"2xl",borderWidth:1,borderColor:"rgba(255, 255, 255, 0.1)"},previewComponent:J2},tv=({isSelected:e,onClick:t,className:r})=>{const n={background:"linear-gradient(135deg, #8b5cf6 0%, #a855f7 50%, #c084fc 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"20px",boxShadow:"0 20px 25px -5px rgba(139, 92, 246, 0.25), 0 10px 10px -5px rgba(139, 92, 246, 0.1)",border:"none"};return i.jsx(Bt,{title:"Elegant Purple",content:"Artistic and inspiring",style:n,isSelected:e,onClick:t,className:r})},rv={id:"elegant-purple",name:"Elegant Purple",category:"creative",description:"Artistic purple gradient with elegant curves and shadows",style:{type:"gradient",gradientColors:["#8b5cf6","#a855f7","#c084fc"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"2xl",borderWidth:0},previewComponent:tv},nv=({isSelected:e,onClick:t,className:r})=>{const n={background:"linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(16, 185, 129, 0.2), 0 10px 10px -5px rgba(16, 185, 129, 0.1)",border:"none"};return i.jsx(Bt,{title:"Fresh Green",content:"Natural and harmonious",style:n,isSelected:e,onClick:t,className:r})},ov={id:"fresh-green",name:"Fresh Green",category:"natural",description:"Natural green gradient with organic harmony",style:{type:"gradient",gradientColors:["#10b981","#059669","#047857"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"2xl",borderWidth:0},previewComponent:nv},av=({isSelected:e,onClick:t,className:r})=>{const n={background:"linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%)",backgroundSize:"400% 400%",animation:"gradientShift 8s ease infinite",color:"#ffffff",fontFamily:'"Inter", system-ui, -apple-system, sans-serif',fontSize:"14px",fontWeight:"500",borderRadius:"12px",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3), 0 4px 16px rgba(118, 75, 162, 0.2)",border:"none",position:"relative",overflow:"hidden"},o={position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",pointerEvents:"none"};return i.jsxs("div",{style:{position:"relative"},children:[i.jsx(Bt,{title:"Gradient Mesh",content:"Dynamic gradient background",style:n,isSelected:e,onClick:t,className:r}),i.jsx("div",{style:o}),i.jsx("style",{jsx:!0,children:`
        @keyframes gradientShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
      `})]})},sv={id:"gradient-mesh",name:"Gradient Mesh",category:"creative",description:"Dynamic gradient background with animated mesh effect",style:{type:"solid",backgroundColor:"linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%)",fontFamily:"Inter",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"xl",borderWidth:0,borderColor:"transparent"},previewComponent:av},iv=({isSelected:e,onClick:t,className:r})=>{const n={background:"linear-gradient(90deg, #fb923c 0%, #8b5cf6 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"600",borderRadius:"24px",boxShadow:"0 25px 50px -12px rgba(251, 146, 60, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2)",border:"none"};return i.jsx(Bt,{title:"Gradient Sunset",content:"Vibrant and expressive",style:n,isSelected:e,onClick:t,className:r})},uv={id:"gradient-sunset",name:"Gradient Sunset",category:"personality",description:"Warm orange to violet gradient with magical sunset vibes",style:{type:"gradient",gradientColors:["#fb923c","#8b5cf6"],gradientDirection:"to-r",fontFamily:"system-ui",fontSize:"base",fontWeight:"semibold",textColor:"#ffffff",borderRadius:"2xl",shadow:"2xl",borderWidth:0},previewComponent:iv},lv=({isSelected:e,onClick:t,className:r})=>{const n={background:"linear-gradient(135deg, #8a2be2 0%, #4b0082 25%, #9370db 50%, #00ffff 75%, #00bfff 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"600",borderRadius:"24px",boxShadow:"0 25px 50px -12px rgba(138, 43, 226, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2)",border:"none",position:"relative",overflow:"hidden"};return i.jsx("div",{className:"relative",children:i.jsx(Bt,{title:"Gradient Wave",content:"Dynamic wave effect",style:n,isSelected:e,onClick:t,className:`${r} gradient-wave-animation`})})},cv={id:"gradient-wave",name:"Gradient Wave",category:"creative",description:"Purple to cyan gradient with dynamic wave effect",style:{type:"gradient",gradientColors:["#8a2be2","#4b0082","#9370db","#00ffff","#00bfff"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"semibold",textColor:"#ffffff",borderRadius:"2xl",shadow:"2xl",borderWidth:0},previewComponent:lv},dv=({isSelected:e,onClick:t,className:r})=>{const n={background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"16px",boxShadow:"0 10px 15px -3px rgba(59, 130, 246, 0.3), 0 4px 6px -2px rgba(59, 130, 246, 0.1)",border:"none"};return i.jsx(Bt,{title:"Modern Blue",content:"Contemporary gradient design",style:n,isSelected:e,onClick:t,className:r})},fv={id:"modern-blue",name:"Modern Blue",category:"business",description:"Contemporary blue gradient with professional appeal",style:{type:"gradient",gradientColors:["#3b82f6","#1d4ed8","#1e40af"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"lg",borderWidth:0},previewComponent:dv},hv=({isSelected:e,onClick:t,className:r})=>{const n={background:"linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)",backgroundSize:"400% 400%",color:"#ffffff",fontFamily:'"Poppins", system-ui, sans-serif',fontSize:"14px",fontWeight:"600",borderRadius:"16px",boxShadow:"0 15px 30px -10px rgba(0, 0, 0, 0.25)",border:"none",position:"relative",overflow:"hidden"};return i.jsx("div",{className:"relative",children:i.jsx(Bt,{title:"Moving Gradient",content:"Flowing color effect",style:n,isSelected:e,onClick:t,className:`${r} moving-gradient-animation`})})},pv={id:"moving-gradient",name:"Moving Gradient",category:"creative",description:"Colorful gradient with flowing animation effect",style:{type:"gradient",gradientColors:["#ee7752","#e73c7e","#23a6d5","#23d5ab"],gradientDirection:"to-br",fontFamily:"Poppins",fontSize:"base",fontWeight:"semibold",textColor:"#ffffff",borderRadius:"xl",shadow:"xl",borderWidth:0},previewComponent:hv},mv=({isSelected:e,onClick:t,className:r})=>{const n={background:"linear-gradient(90deg, #34d399 0%, #0d9488 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"20px",boxShadow:"0 10px 15px -3px rgba(52, 211, 153, 0.3), 0 4px 6px -2px rgba(13, 148, 136, 0.1)",border:"1px solid rgba(52, 211, 153, 0.3)"};return i.jsx(Bt,{title:"Ocean Breeze",content:"Fresh and refreshing",style:n,isSelected:e,onClick:t,className:r})},gv={id:"ocean-breeze",name:"Ocean Breeze",category:"natural",description:"Fresh emerald to teal gradient with tropical vibes",style:{type:"gradient",gradientColors:["#34d399","#0d9488"],gradientDirection:"to-r",fontFamily:"system-ui",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"lg",borderWidth:1,borderColor:"rgba(52, 211, 153, 0.3)"},previewComponent:mv},bv=({isSelected:e,onClick:t,className:r})=>{const n={background:"linear-gradient(90deg, #fda4af 0%, #f87171 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"20px",boxShadow:"0 10px 15px -3px rgba(253, 164, 175, 0.3), 0 4px 6px -2px rgba(248, 113, 113, 0.1)",border:"1px solid rgba(253, 164, 175, 0.3)"};return i.jsx(Bt,{title:"Soft Pink",content:"Gentle and soothing",style:n,isSelected:e,onClick:t,className:r})},xv={id:"soft-pink",name:"Soft Pink",category:"natural",description:"Warm pink to red gradient with romantic tones",style:{type:"gradient",gradientColors:["#fda4af","#f87171"],gradientDirection:"to-r",fontFamily:"system-ui",fontSize:"base",fontWeight:"medium",textColor:"#ffffff",borderRadius:"2xl",shadow:"lg",borderWidth:1,borderColor:"rgba(253, 164, 175, 0.3)"},previewComponent:bv},yv=({isSelected:e,onClick:t,className:r})=>{const n={background:"linear-gradient(135deg, #ff7e5f 0%, #feb47b 100%)",color:"#ffffff",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",fontWeight:"600",borderRadius:"18px",boxShadow:"0 25px 50px -12px rgba(255, 126, 95, 0.25), 0 0 0 1px rgba(255, 126, 95, 0.1)",border:"none"};return i.jsx(Bt,{title:"Warm Orange",content:"Energetic and vibrant",style:n,isSelected:e,onClick:t,className:r})},vv={id:"warm-orange",name:"Warm Orange",category:"creative",description:"Energetic warm orange gradient with peachy tones",style:{type:"gradient",gradientColors:["#ff7e5f","#feb47b"],gradientDirection:"to-br",fontFamily:"system-ui",fontSize:"base",fontWeight:"semibold",textColor:"#ffffff",borderRadius:"2xl",shadow:"2xl",borderWidth:0},previewComponent:yv};class un{static instance;presets=new Map;categories=new Map;constructor(){this.initializeCategories()}static getInstance(){return un.instance||(un.instance=new un),un.instance}initializeCategories(){["business","creative","natural","personality"].forEach(r=>{this.categories.set(r,[])})}register(t){this.presets.set(t.id,t);const r=this.categories.get(t.category)||[];r.push(t),this.categories.set(t.category,r)}unregister(t){const r=this.presets.get(t);if(r){this.presets.delete(t);const o=(this.categories.get(r.category)||[]).filter(a=>a.id!==t);this.categories.set(r.category,o)}}getByCategory(t){return this.categories.get(t)||[]}getById(t){return this.presets.get(t)}getAll(){return Array.from(this.presets.values())}getAllByOrder(){const t=[];return["business","creative","natural","personality"].forEach(n=>{const o=this.getByCategory(n);t.push(...o)}),t}getCategoryCount(t){return this.categories.get(t)?.length||0}getTotalCount(){return this.presets.size}clear(){this.presets.clear(),this.initializeCategories()}}const vi=un.getInstance(),wv=()=>vi.getAllByOrder();class ln{static instance;STORAGE_KEYS={USER_PREFERENCES:"cardall_style_preferences",RECENT_STYLES:"cardall_recent_styles",DEFAULT_STYLE:"cardall_default_style"};constructor(){}static getInstance(){return ln.instance||(ln.instance=new ln),ln.instance}saveUserPreference(t,r){try{const n=this.getUserPreferences();n[t]={styleId:r,appliedAt:new Date().toISOString()},localStorage.setItem(this.STORAGE_KEYS.USER_PREFERENCES,JSON.stringify(n)),this.addToRecentStyles(r)}catch(n){console.error("Failed to save user style preference:",n)}}getUserPreference(t){try{return this.getUserPreferences()[t]?.styleId||null}catch(r){return console.error("Failed to get user style preference:",r),null}}getRecentStyles(t=10){try{const r=localStorage.getItem(this.STORAGE_KEYS.RECENT_STYLES);return r?JSON.parse(r).slice(0,t):[]}catch(r){return console.error("Failed to get recent styles:",r),[]}}clearPreferences(){try{localStorage.removeItem(this.STORAGE_KEYS.USER_PREFERENCES),localStorage.removeItem(this.STORAGE_KEYS.RECENT_STYLES)}catch(t){console.error("Failed to clear style preferences:",t)}}setDefaultStyle(t){try{localStorage.setItem(this.STORAGE_KEYS.DEFAULT_STYLE,t)}catch(r){console.error("Failed to set default style:",r)}}getDefaultStyle(){try{return localStorage.getItem(this.STORAGE_KEYS.DEFAULT_STYLE)}catch(t){return console.error("Failed to get default style:",t),null}}getUserPreferences(){try{const t=localStorage.getItem(this.STORAGE_KEYS.USER_PREFERENCES);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to parse user preferences:",t),{}}}addToRecentStyles(t){try{const n=this.getRecentStyles().filter(a=>a!==t),o=[t,...n].slice(0,10);localStorage.setItem(this.STORAGE_KEYS.RECENT_STYLES,JSON.stringify(o))}catch(r){console.error("Failed to update recent styles:",r)}}getStyleUsageStats(){try{const t=this.getUserPreferences(),r={};return Object.values(t).forEach(({styleId:n})=>{r[n]=(r[n]||0)+1}),r}catch(t){return console.error("Failed to get style usage stats:",t),{}}}getMostUsedStyles(t=5){try{const r=this.getStyleUsageStats();return Object.entries(r).sort(([,n],[,o])=>o-n).slice(0,t).map(([n])=>n)}catch(r){return console.error("Failed to get most used styles:",r),[]}}}const Qu=ln.getInstance(),Cv=()=>{const e=[Q2,fv,rv,vv,ov,xv,gv,ev,uv,sv,cv,pv];e.forEach(t=>{vi.register(t)}),console.log(`Registered ${e.length} card style presets`)};Cv();const _v=({isOpen:e,onClose:t,context:r})=>{const[n,o]=g.useState(null),[a,u]=g.useState([]);g.useEffect(()=>{const h=wv();console.log("Loaded style presets:",h.length,h),u(h);const p=Qu.getUserPreference(r.targetCardId);p&&o(p)},[r.targetCardId]);const l=h=>{const p=vi.getById(h);p&&(o(h),r.onStyleApply(p.style),Qu.saveUserPreference(r.targetCardId,h))},d=()=>{o(null),t()};return e?i.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.1)",backdropFilter:"blur(2px)"},children:[i.jsx("div",{className:"absolute inset-0",onClick:d}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl border border-gray-200 p-6 w-full max-w-md sm:max-w-2xl lg:max-w-4xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Card Styles"}),i.jsx("button",{onClick:d,className:"p-1 rounded-lg hover:bg-gray-100 transition-colors",children:i.jsx(Zr,{className:"w-5 h-5 text-gray-500"})})]}),i.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3 mb-6",style:{minHeight:"300px",maxHeight:"70vh",overflowY:"auto"},children:a.map(h=>{const p=h.previewComponent;return console.log("Rendering preset:",h.id,h.name,p),i.jsxs("div",{className:"relative",children:[i.jsx(p,{isSelected:n===h.id,onClick:()=>l(h.id),className:"w-full"}),i.jsxs("div",{className:"mt-2 text-center",children:[i.jsx("div",{className:"text-xs font-medium text-gray-700 truncate",children:h.name}),i.jsx("div",{className:"text-xs text-gray-500 capitalize",children:h.category})]})]},h.id)})}),i.jsxs("div",{className:"text-xs text-gray-400 text-center mb-2",children:["Loaded ",a.length," presets"]}),i.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Click any style to apply it instantly to your card"})]})]}):null},Hd=g.createContext(void 0),kv=()=>{const e=g.useContext(Hd);if(!e)throw new Error("useStylePanel must be used within a StylePanelProvider");return e},Sv=({children:e})=>{const[t,r]=g.useState({isOpen:!1,context:null}),n=u=>{r({isOpen:!0,context:u})},o=()=>{r({isOpen:!1,context:null})},a={openStylePanel:n,closeStylePanel:o,isOpen:t.isOpen};return i.jsxs(Hd.Provider,{value:a,children:[e,typeof window<"u"&&t.isOpen&&t.context&&vn.createPortal(i.jsx(_v,{isOpen:t.isOpen,onClose:o,context:t.context}),document.body)]})},Kd=g.createContext(void 0);function Ev({children:e}){const[t,r]=g.useState(!1),[n,o]=g.useState(null),[a,u]=g.useState([]),[l,d]=g.useState(null),x={isOpen:t,currentCardId:n,currentCardTags:a,onTagsChange:l,openTagPanel:C=>{o(C.targetCardId),u(C.currentTags),d(()=>C.onTagsApply),r(!0)},closeTagPanel:()=>{r(!1),o(null),u([]),d(null)}};return i.jsx(Kd.Provider,{value:x,children:e})}function Vd(){const e=g.useContext(Kd);if(e===void 0)throw new Error("useTagPanel must be used within a TagPanelProvider");return e}const kt=g.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));kt.displayName="Input";function oo(e,[t,r]){return Math.min(r,Math.max(t,e))}function jv(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var wi="ScrollArea",[Wd,M_]=ar(wi),[Av,$t]=Wd(wi),Gd=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:a=600,...u}=e,[l,d]=g.useState(null),[h,p]=g.useState(null),[x,C]=g.useState(null),[y,w]=g.useState(null),[k,D]=g.useState(null),[S,E]=g.useState(0),[_,A]=g.useState(0),[P,$]=g.useState(!1),[U,Y]=g.useState(!1),te=We(t,V=>d(V)),he=uo(o);return i.jsx(Av,{scope:r,type:n,dir:he,scrollHideDelay:a,scrollArea:l,viewport:h,onViewportChange:p,content:x,onContentChange:C,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:P,onScrollbarXEnabledChange:$,scrollbarY:k,onScrollbarYChange:D,scrollbarYEnabled:U,onScrollbarYEnabledChange:Y,onCornerWidthChange:E,onCornerHeightChange:A,children:i.jsx(qe.div,{dir:he,...u,ref:te,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});Gd.displayName=wi;var Yd="ScrollAreaViewport",Zd=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...a}=e,u=$t(Yd,r),l=g.useRef(null),d=We(t,l,u.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Zd.displayName=Yd;var lr="ScrollAreaScrollbar",Ci=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=$t(lr,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:u}=o,l=e.orientation==="horizontal";return g.useEffect(()=>(l?a(!0):u(!0),()=>{l?a(!1):u(!1)}),[l,a,u]),o.type==="hover"?i.jsx(Dv,{...n,ref:t,forceMount:r}):o.type==="scroll"?i.jsx(Nv,{...n,ref:t,forceMount:r}):o.type==="auto"?i.jsx(Xd,{...n,ref:t,forceMount:r}):o.type==="always"?i.jsx(_i,{...n,ref:t}):null});Ci.displayName=lr;var Dv=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=$t(lr,e.__scopeScrollArea),[a,u]=g.useState(!1);return g.useEffect(()=>{const l=o.scrollArea;let d=0;if(l){const h=()=>{window.clearTimeout(d),u(!0)},p=()=>{d=window.setTimeout(()=>u(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",h),l.addEventListener("pointerleave",p),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",h),l.removeEventListener("pointerleave",p)}}},[o.scrollArea,o.scrollHideDelay]),i.jsx(Or,{present:r||a,children:i.jsx(Xd,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Nv=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=$t(lr,e.__scopeScrollArea),a=e.orientation==="horizontal",u=ga(()=>d("SCROLL_END"),100),[l,d]=jv("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const h=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(h)}},[l,o.scrollHideDelay,d]),g.useEffect(()=>{const h=o.viewport,p=a?"scrollLeft":"scrollTop";if(h){let x=h[p];const C=()=>{const y=h[p];x!==y&&(d("SCROLL"),u()),x=y};return h.addEventListener("scroll",C),()=>h.removeEventListener("scroll",C)}},[o.viewport,a,d,u]),i.jsx(Or,{present:r||l!=="hidden",children:i.jsx(_i,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:me(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:me(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Xd=g.forwardRef((e,t)=>{const r=$t(lr,e.__scopeScrollArea),{forceMount:n,...o}=e,[a,u]=g.useState(!1),l=e.orientation==="horizontal",d=ga(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,p=r.viewport.offsetHeight<r.viewport.scrollHeight;u(l?h:p)}},10);return xn(r.viewport,d),xn(r.content,d),i.jsx(Or,{present:n||a,children:i.jsx(_i,{"data-state":a?"visible":"hidden",...o,ref:t})})}),_i=g.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=$t(lr,e.__scopeScrollArea),a=g.useRef(null),u=g.useRef(0),[l,d]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=rf(l.viewport,l.content),p={...n,sizes:l,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:C=>a.current=C,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:C=>u.current=C};function x(C,y){return Rv(C,u.current,l,y)}return r==="horizontal"?i.jsx(Tv,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const C=o.viewport.scrollLeft,y=Ju(C,l,o.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:C=>{o.viewport&&(o.viewport.scrollLeft=C)},onDragScroll:C=>{o.viewport&&(o.viewport.scrollLeft=x(C,o.dir))}}):r==="vertical"?i.jsx(Pv,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const C=o.viewport.scrollTop,y=Ju(C,l);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:C=>{o.viewport&&(o.viewport.scrollTop=C)},onDragScroll:C=>{o.viewport&&(o.viewport.scrollTop=x(C))}}):null}),Tv=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=$t(lr,e.__scopeScrollArea),[u,l]=g.useState(),d=g.useRef(null),h=We(t,d,a.onScrollbarXChange);return g.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),i.jsx(Jd,{"data-orientation":"horizontal",...o,ref:h,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ma(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,x)=>{if(a.viewport){const C=a.viewport.scrollLeft+p.deltaX;e.onWheelScroll(C),of(C,x)&&p.preventDefault()}},onResize:()=>{d.current&&a.viewport&&u&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:ta(u.paddingLeft),paddingEnd:ta(u.paddingRight)}})}})}),Pv=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=$t(lr,e.__scopeScrollArea),[u,l]=g.useState(),d=g.useRef(null),h=We(t,d,a.onScrollbarYChange);return g.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),i.jsx(Jd,{"data-orientation":"vertical",...o,ref:h,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ma(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,x)=>{if(a.viewport){const C=a.viewport.scrollTop+p.deltaY;e.onWheelScroll(C),of(C,x)&&p.preventDefault()}},onResize:()=>{d.current&&a.viewport&&u&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:ta(u.paddingTop),paddingEnd:ta(u.paddingBottom)}})}})}),[Mv,Qd]=Wd(lr),Jd=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:a,onThumbPointerUp:u,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:p,onResize:x,...C}=e,y=$t(lr,r),[w,k]=g.useState(null),D=We(t,te=>k(te)),S=g.useRef(null),E=g.useRef(""),_=y.viewport,A=n.content-n.viewport,P=Pt(p),$=Pt(d),U=ga(x,10);function Y(te){if(S.current){const he=te.clientX-S.current.left,V=te.clientY-S.current.top;h({x:he,y:V})}}return g.useEffect(()=>{const te=he=>{const V=he.target;w?.contains(V)&&P(he,A)};return document.addEventListener("wheel",te,{passive:!1}),()=>document.removeEventListener("wheel",te,{passive:!1})},[_,w,A,P]),g.useEffect($,[n,$]),xn(w,U),xn(y.content,U),i.jsx(Mv,{scope:r,scrollbar:w,hasThumb:o,onThumbChange:Pt(a),onThumbPointerUp:Pt(u),onThumbPositionChange:$,onThumbPointerDown:Pt(l),children:i.jsx(qe.div,{...C,ref:D,style:{position:"absolute",...C.style},onPointerDown:me(e.onPointerDown,te=>{te.button===0&&(te.target.setPointerCapture(te.pointerId),S.current=w.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),Y(te))}),onPointerMove:me(e.onPointerMove,Y),onPointerUp:me(e.onPointerUp,te=>{const he=te.target;he.hasPointerCapture(te.pointerId)&&he.releasePointerCapture(te.pointerId),document.body.style.webkitUserSelect=E.current,y.viewport&&(y.viewport.style.scrollBehavior=""),S.current=null})})})}),ea="ScrollAreaThumb",ef=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Qd(ea,e.__scopeScrollArea);return i.jsx(Or,{present:r||o.hasThumb,children:i.jsx(Iv,{ref:t,...n})})}),Iv=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,a=$t(ea,r),u=Qd(ea,r),{onThumbPositionChange:l}=u,d=We(t,x=>u.onThumbChange(x)),h=g.useRef(void 0),p=ga(()=>{h.current&&(h.current(),h.current=void 0)},100);return g.useEffect(()=>{const x=a.viewport;if(x){const C=()=>{if(p(),!h.current){const y=Ov(x,l);h.current=y,l()}};return l(),x.addEventListener("scroll",C),()=>x.removeEventListener("scroll",C)}},[a.viewport,p,l]),i.jsx(qe.div,{"data-state":u.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:me(e.onPointerDownCapture,x=>{const y=x.target.getBoundingClientRect(),w=x.clientX-y.left,k=x.clientY-y.top;u.onThumbPointerDown({x:w,y:k})}),onPointerUp:me(e.onPointerUp,u.onThumbPointerUp)})});ef.displayName=ea;var ki="ScrollAreaCorner",tf=g.forwardRef((e,t)=>{const r=$t(ki,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(Fv,{...e,ref:t}):null});tf.displayName=ki;var Fv=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=$t(ki,r),[a,u]=g.useState(0),[l,d]=g.useState(0),h=!!(a&&l);return xn(o.scrollbarX,()=>{const p=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(p),d(p)}),xn(o.scrollbarY,()=>{const p=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(p),u(p)}),h?i.jsx(qe.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ta(e){return e?parseInt(e,10):0}function rf(e,t){const r=e/t;return isNaN(r)?0:r}function ma(e){const t=rf(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Rv(e,t,r,n="ltr"){const o=ma(r),a=o/2,u=t||a,l=o-u,d=r.scrollbar.paddingStart+u,h=r.scrollbar.size-r.scrollbar.paddingEnd-l,p=r.content-r.viewport,x=n==="ltr"?[0,p]:[p*-1,0];return nf([d,h],x)(e)}function Ju(e,t,r="ltr"){const n=ma(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,u=t.content-t.viewport,l=a-n,d=r==="ltr"?[0,u]:[u*-1,0],h=oo(e,d);return nf([0,u],[0,l])(h)}function nf(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function of(e,t){return e>0&&e<t}var Ov=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},u=r.left!==a.left,l=r.top!==a.top;(u||l)&&t(),r=a,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function ga(e,t){const r=Pt(e),n=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),g.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function xn(e,t){const r=Pt(t);Wt(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var af=Gd,Lv=Zd,zv=tf;const sf=g.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(af,{ref:n,className:oe("relative overflow-hidden",e),...r,children:[i.jsx(Lv,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(uf,{}),i.jsx(zv,{})]}));sf.displayName=af.displayName;const uf=g.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(Ci,{ref:n,orientation:t,className:oe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(ef,{className:"relative flex-1 rounded-full bg-border"})}));uf.displayName=Ci.displayName;const Bv=Qs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Mt({className:e,variant:t,...r}){return i.jsx("div",{className:oe(Bv({variant:t}),e),...r})}const Gr=kl,$v=_l,lf=g.forwardRef(({className:e,...t},r)=>i.jsx(Ks,{ref:r,className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lf.displayName=Ks.displayName;const Fr=g.forwardRef(({className:e,children:t,...r},n)=>i.jsxs($v,{children:[i.jsx(lf,{}),i.jsxs(Vs,{ref:n,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(Ws,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Zr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fr.displayName=Vs.displayName;const kn=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});kn.displayName="DialogHeader";const Sn=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Sn.displayName="DialogFooter";const En=g.forwardRef(({className:e,...t},r)=>i.jsx(Gs,{ref:r,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));En.displayName=Gs.displayName;const ba=g.forwardRef(({className:e,...t},r)=>i.jsx(Ys,{ref:r,className:oe("text-sm text-muted-foreground",e),...t}));ba.displayName=Ys.displayName;function qv({isOpen:e,onClose:t,currentCardId:r,currentFolderId:n,onFolderSelect:o}){const{folders:a,getFolderById:u}=Tl(),[l,d]=g.useState(""),[h,p]=g.useState(n);g.useEffect(()=>{e&&(p(n),d(""))},[e,n]);const x=a.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())),C=n?u(n):null,y=S=>{p(S)},w=()=>{o&&o(h),t()},k=()=>{p(n),t()},D=h!==n;return i.jsx(Gr,{open:e,onOpenChange:t,children:i.jsxs(Fr,{className:"sm:max-w-md",children:[i.jsx(kn,{children:i.jsxs(En,{className:"flex items-center gap-2",children:[i.jsx(Pr,{className:"h-5 w-5"}),"Move Card to Folder"]})}),i.jsxs("div",{className:"space-y-4",children:[C&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i.jsx(Kl,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Currently in:"}),i.jsx(Mt,{variant:"secondary",children:C.name})]}),!C&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i.jsx(Cu,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Currently in: Root"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{placeholder:"Search folders...",value:l,onChange:S=>d(S.target.value),className:"pl-10"})]}),i.jsx(sf,{className:"h-64 w-full border rounded-md",children:i.jsxs("div",{className:"p-2 space-y-1",children:[i.jsxs("div",{className:oe("flex items-center gap-3 p-2 rounded-md cursor-pointer transition-colors",h===null?"bg-primary text-primary-foreground":"hover:bg-muted"),onClick:()=>y(null),children:[i.jsx(Cu,{className:"h-4 w-4 flex-shrink-0"}),i.jsx("span",{className:"flex-1",children:"Root"}),h===null&&i.jsx(Mr,{className:"h-4 w-4 flex-shrink-0"}),n===null&&i.jsx(Mt,{variant:"outline",className:"text-xs",children:"Current"})]}),x.map(S=>i.jsxs("div",{className:oe("flex items-center gap-3 p-2 rounded-md cursor-pointer transition-colors",h===S.id?"bg-primary text-primary-foreground":"hover:bg-muted",n===S.id&&"opacity-60"),onClick:()=>y(S.id),children:[i.jsx(Pr,{className:"h-4 w-4 flex-shrink-0"}),i.jsx("span",{className:"flex-1",children:S.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Mt,{variant:"outline",className:"text-xs",children:S.cardIds.length}),h===S.id&&i.jsx(Mr,{className:"h-4 w-4 flex-shrink-0"}),n===S.id&&i.jsx(Mt,{variant:"outline",className:"text-xs",children:"Current"})]})]},S.id)),x.length===0&&l&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Pr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No folders found"})]})]})})]}),i.jsxs(Sn,{children:[i.jsx(ke,{variant:"outline",onClick:k,children:"Cancel"}),i.jsx(ke,{onClick:w,disabled:!D,children:D?"Move Card":"No Change"})]})]})})}const cf=g.createContext(void 0);function Uv({children:e}){const[t,r]=g.useState(!1),[n,o]=g.useState(null),[a,u]=g.useState(null),[l,d]=g.useState(null),h=C=>{o(C.targetCardId),u(C.currentFolderId||null),d(()=>C.onFolderApply),r(!0)},p=()=>{r(!1),o(null),u(null),d(null)},x={isOpen:t,currentCardId:n,currentFolderId:a,onFolderSelect:l,openFolderPanel:h,closeFolderPanel:p};return i.jsxs(cf.Provider,{value:x,children:[e,typeof window<"u"&&t&&n&&vn.createPortal(i.jsx(qv,{isOpen:t,onClose:p,currentCardId:n,currentFolderId:a,onFolderSelect:l}),document.body)]})}function Hv(){const e=g.useContext(cf);if(e===void 0)throw new Error("useFolderPanel must be used within a FolderPanelProvider");return e}function Kv({card:e,onFlip:t,onUpdate:r,onCopy:n,onScreenshot:o,onShare:a,onDelete:u,onMoveToFolder:l,className:d,size:h="md"}){const{openStylePanel:p}=kv(),{openTagPanel:x}=Vd(),{openFolderPanel:C}=Hv(),y=(E,_)=>{r(E,{style:_,updatedAt:new Date})},w=()=>{p({targetCardId:e.id,currentStyle:e.style,onStyleApply:E=>y(e.id,E),onPanelClose:()=>{}})},k=(E,_)=>{const A=e.isFlipped?e.backContent:e.frontContent,P=e.isFlipped?"backContent":"frontContent";r(E,{[P]:{...A,tags:_,lastModified:new Date},updatedAt:new Date})},D=()=>{const E=e.isFlipped?e.backContent:e.frontContent;x({targetCardId:e.id,currentTags:E.tags,onTagsApply:_=>k(e.id,_),onPanelClose:()=>{}})},S=()=>{l&&C({targetCardId:e.id,currentFolderId:e.folderId,onFolderApply:E=>l(e.id,E),onPanelClose:()=>{}})};return i.jsx(Y2,{card:e,onFlip:t,onUpdate:r,onCopy:n,onScreenshot:o,onShare:a,onDelete:u,onStyleChange:w,onTagsChange:D,onMoveToFolder:l?S:void 0,className:d,size:h})}function Vv({items:e,gap:t=16,minColumnWidth:r=280,maxColumns:n=5,breakpoints:o={sm:640,md:768,lg:1024,xl:1280,"2xl":1536}}){const a=g.useRef(null),[u,l]=g.useState(new Map),[d,h]=g.useState(0),[p,x]=g.useState({columns:1,gap:t,containerWidth:0}),C=g.useCallback(S=>{if(S===0)return 1;let E=n;S<o.sm?E=1:S<o.md?E=2:S<o.lg?E=3:S<o.xl&&(E=4);const _=S-t,A=Math.floor(_/(r+t));return Math.min(Math.max(1,A),E)},[t,r,n,o]),y=g.useCallback((S,E,_,A)=>{if(E===0||_===0)return{positions:new Map,totalHeight:0};const P=A*(E-1),$=_-P,U=Math.floor($/E),Y=new Array(E).fill(0),te=new Map;S.forEach(V=>{const X=Y.indexOf(Math.min(...Y)),ye=X*(U+A),Pe=Y[X];te.set(V.id,{x:ye,y:Pe,width:U,height:V.height}),Y[X]+=V.height+A});const he=Math.max(...Y)-A;return{positions:te,totalHeight:he}},[]),w=g.useCallback(S=>{const E=S[0];if(!E)return;const _=E.contentRect.width,A=C(_);x(P=>({...P,columns:A,containerWidth:_}))},[C]);g.useEffect(()=>{const S=a.current;if(!S)return;const E=new ResizeObserver(_=>{w(_)});return E.observe(S),()=>{E.disconnect()}},[w]),g.useEffect(()=>{if(e.length===0||p.containerWidth===0){l(new Map),h(0);return}const{positions:S,totalHeight:E}=y(e,p.columns,p.containerWidth,t);l(S),h(E)},[e,p,t,y]);const k=g.useCallback(S=>u.get(S),[u]),D=g.useCallback((S,E)=>{const _=e.findIndex(U=>U.id===S);if(_===-1)return;const A=[...e];A[_]={...A[_],height:E};const{positions:P,totalHeight:$}=y(A,p.columns,p.containerWidth,t);l(P),h($)},[e,p,t,y]);return{containerRef:a,positions:u,containerHeight:d,config:p,getItemPosition:k,updateItemHeight:D}}function Wv({cards:e,onCardFlip:t,onCardUpdate:r,onCardCopy:n,onCardScreenshot:o,onCardShare:a,onCardDelete:u,onMoveToFolder:l,onCardStyleChange:d,cardSize:h="md",className:p,gap:x=16,enableVirtualization:C=!0,overscan:y=5}){const[w,k]=g.useState(new Map),[D,S]=g.useState(!1),[E,_]=g.useState(0),[A,P]=g.useState(0),$=g.useRef(new Map),U=g.useRef(null),Y=g.useMemo(()=>[...e].sort((H,fe)=>new Date(fe.createdAt).getTime()-new Date(H.createdAt).getTime()),[e]),te=g.useCallback(H=>{const xe={sm:.8,md:1,lg:1.3}[h],Ce=200*xe,ve=Math.min(Math.ceil(H.frontContent.title.length/25),3)*24*xe,Ee=Math.min(Math.ceil(H.frontContent.text.length/40),8)*18*xe,Be=H.frontContent.images.length>0?120*xe:0,se=H.frontContent.tags.length>0?32*xe:0,Z=32*xe;return Math.round(Ce+ve+Ee+Be+se+Z)},[h]),he=g.useMemo(()=>Y.map(H=>({id:H.id,height:w.get(H.id)||te(H)})),[Y,w,te]),V=g.useMemo(()=>({sm:{minColumnWidth:240,maxColumns:5},md:{minColumnWidth:280,maxColumns:4},lg:{minColumnWidth:320,maxColumns:3}})[h],[h]),{containerRef:X,positions:ye,containerHeight:Pe,updateItemHeight:Ne}=Vv({items:he,gap:x,...V,breakpoints:{sm:640,md:768,lg:1024,xl:1280,"2xl":1536}}),be=g.useMemo(()=>{if(!C||!U.current)return Y;const H=U.current.clientHeight,fe=E-y*100,xe=E+H+y*100;return Y.filter(Ce=>{const ve=ye.get(Ce.id);return ve?ve.y+ve.height>=fe&&ve.y<=xe:!0})},[Y,ye,E,C,y]);g.useCallback(H=>{C&&_(H.currentTarget.scrollTop)},[C]);const Ie=g.useCallback(H=>{const fe=$.current.get(H);if(!fe)return;const xe=new ResizeObserver(Ce=>{const ve=Ce[0];if(ve){const Ee=ve.contentRect.height,Be=w.get(H);Math.abs(Ee-(Be||0))>3&&(k(se=>{const Z=new Map(se);return Z.set(H,Ee),Z}),Ne(H,Ee))}});return xe.observe(fe),()=>xe.disconnect()},[w,Ne]);g.useEffect(()=>{if(!D&&Y.length>0){const H=new Map;Y.forEach(fe=>{H.set(fe.id,te(fe))}),k(H),S(!0)}},[Y,te,D]),g.useEffect(()=>{const H=[];return be.forEach(fe=>{const xe=Ie(fe.id);xe&&H.push(xe)}),()=>{H.forEach(fe=>fe())}},[be,Ie]);const je=g.useCallback((H,fe)=>{fe?$.current.set(H,fe):$.current.delete(H)},[]);return g.useEffect(()=>{U.current&&P(U.current.clientHeight)},[]),Y.length===0?i.jsx("div",{className:"flex-1 flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-24 h-24 mx-auto rounded-full bg-muted flex items-center justify-center",children:i.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-lg",children:"+"})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"No cards yet"}),i.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Create your first knowledge card to get started. Click the + button to begin."})]})]})}):i.jsx("div",{ref:X,className:oe("relative w-full",p),style:{height:Pe},children:be.map(H=>{const fe=ye.get(H.id);return fe?i.jsx("div",{ref:xe=>je(H.id,xe),className:"absolute transition-all duration-300 ease-out",style:{transform:`translate3d(${fe.x}px, ${fe.y}px, 0)`,width:fe.width,willChange:"transform"},children:i.jsx(Kv,{card:H,onFlip:t,onUpdate:r,onCopy:n,onScreenshot:o,onShare:a,onDelete:u,onMoveToFolder:l,size:h,className:"w-full"})},H.id):null})})}function df(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ff=["PageUp","PageDown"],hf=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],pf={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},jn="Slider",[Fs,Gv,Yv]=aa(jn),[mf,I_]=ar(jn,[Yv]),[Zv,xa]=mf(jn),gf=g.forwardRef((e,t)=>{const{name:r,min:n=0,max:o=100,step:a=1,orientation:u="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[n],value:p,onValueChange:x=()=>{},onValueCommit:C=()=>{},inverted:y=!1,form:w,...k}=e,D=g.useRef(new Set),S=g.useRef(0),_=u==="horizontal"?Xv:Qv,[A=[],P]=Xn({prop:p,defaultProp:h,onChange:V=>{[...D.current][S.current]?.focus(),x(V)}}),$=g.useRef(A);function U(V){const X=nw(A,V);he(V,X)}function Y(V){he(V,S.current)}function te(){const V=$.current[S.current];A[S.current]!==V&&C(A)}function he(V,X,{commit:ye}={commit:!1}){const Pe=iw(a),Ne=uw(Math.round((V-n)/a)*a+n,Pe),be=oo(Ne,[n,o]);P((Ie=[])=>{const je=tw(Ie,be,X);if(sw(je,d*a)){S.current=je.indexOf(be);const H=String(je)!==String(Ie);return H&&ye&&C(je),H?je:Ie}else return Ie})}return i.jsx(Zv,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:o,valueIndexToChangeRef:S,thumbs:D.current,values:A,orientation:u,form:w,children:i.jsx(Fs.Provider,{scope:e.__scopeSlider,children:i.jsx(Fs.Slot,{scope:e.__scopeSlider,children:i.jsx(_,{"aria-disabled":l,"data-disabled":l?"":void 0,...k,ref:t,onPointerDown:me(k.onPointerDown,()=>{l||($.current=A)}),min:n,max:o,inverted:y,onSlideStart:l?void 0:U,onSlideMove:l?void 0:Y,onSlideEnd:l?void 0:te,onHomeKeyDown:()=>!l&&he(n,0,{commit:!0}),onEndKeyDown:()=>!l&&he(o,A.length-1,{commit:!0}),onStepKeyDown:({event:V,direction:X})=>{if(!l){const Ne=ff.includes(V.key)||V.shiftKey&&hf.includes(V.key)?10:1,be=S.current,Ie=A[be],je=a*Ne*X;he(Ie+je,be,{commit:!0})}}})})})})});gf.displayName=jn;var[bf,xf]=mf(jn,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Xv=g.forwardRef((e,t)=>{const{min:r,max:n,dir:o,inverted:a,onSlideStart:u,onSlideMove:l,onSlideEnd:d,onStepKeyDown:h,...p}=e,[x,C]=g.useState(null),y=We(t,_=>C(_)),w=g.useRef(void 0),k=uo(o),D=k==="ltr",S=D&&!a||!D&&a;function E(_){const A=w.current||x.getBoundingClientRect(),P=[0,A.width],U=Si(P,S?[r,n]:[n,r]);return w.current=A,U(_-A.left)}return i.jsx(bf,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:i.jsx(yf,{dir:k,"data-orientation":"horizontal",...p,ref:y,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const A=E(_.clientX);u?.(A)},onSlideMove:_=>{const A=E(_.clientX);l?.(A)},onSlideEnd:()=>{w.current=void 0,d?.()},onStepKeyDown:_=>{const P=pf[S?"from-left":"from-right"].includes(_.key);h?.({event:_,direction:P?-1:1})}})})}),Qv=g.forwardRef((e,t)=>{const{min:r,max:n,inverted:o,onSlideStart:a,onSlideMove:u,onSlideEnd:l,onStepKeyDown:d,...h}=e,p=g.useRef(null),x=We(t,p),C=g.useRef(void 0),y=!o;function w(k){const D=C.current||p.current.getBoundingClientRect(),S=[0,D.height],_=Si(S,y?[n,r]:[r,n]);return C.current=D,_(k-D.top)}return i.jsx(bf,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:i.jsx(yf,{"data-orientation":"vertical",...h,ref:x,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:k=>{const D=w(k.clientY);a?.(D)},onSlideMove:k=>{const D=w(k.clientY);u?.(D)},onSlideEnd:()=>{C.current=void 0,l?.()},onStepKeyDown:k=>{const S=pf[y?"from-bottom":"from-top"].includes(k.key);d?.({event:k,direction:S?-1:1})}})})}),yf=g.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:o,onSlideEnd:a,onHomeKeyDown:u,onEndKeyDown:l,onStepKeyDown:d,...h}=e,p=xa(jn,r);return i.jsx(qe.span,{...h,ref:t,onKeyDown:me(e.onKeyDown,x=>{x.key==="Home"?(u(x),x.preventDefault()):x.key==="End"?(l(x),x.preventDefault()):ff.concat(hf).includes(x.key)&&(d(x),x.preventDefault())}),onPointerDown:me(e.onPointerDown,x=>{const C=x.target;C.setPointerCapture(x.pointerId),x.preventDefault(),p.thumbs.has(C)?C.focus():n(x)}),onPointerMove:me(e.onPointerMove,x=>{x.target.hasPointerCapture(x.pointerId)&&o(x)}),onPointerUp:me(e.onPointerUp,x=>{const C=x.target;C.hasPointerCapture(x.pointerId)&&(C.releasePointerCapture(x.pointerId),a(x))})})}),vf="SliderTrack",wf=g.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,o=xa(vf,r);return i.jsx(qe.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...n,ref:t})});wf.displayName=vf;var Rs="SliderRange",Cf=g.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,o=xa(Rs,r),a=xf(Rs,r),u=g.useRef(null),l=We(t,u),d=o.values.length,h=o.values.map(C=>kf(C,o.min,o.max)),p=d>1?Math.min(...h):0,x=100-Math.max(...h);return i.jsx(qe.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:p+"%",[a.endEdge]:x+"%"}})});Cf.displayName=Rs;var Os="SliderThumb",_f=g.forwardRef((e,t)=>{const r=Gv(e.__scopeSlider),[n,o]=g.useState(null),a=We(t,l=>o(l)),u=g.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(Jv,{...e,ref:a,index:u})}),Jv=g.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:o,...a}=e,u=xa(Os,r),l=xf(Os,r),[d,h]=g.useState(null),p=We(t,E=>h(E)),x=d?u.form||!!d.closest("form"):!0,C=_p(d),y=u.values[n],w=y===void 0?0:kf(y,u.min,u.max),k=rw(n,u.values.length),D=C?.[l.size],S=D?ow(D,w,l.direction):0;return g.useEffect(()=>{if(d)return u.thumbs.add(d),()=>{u.thumbs.delete(d)}},[d,u.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${S}px)`},children:[i.jsx(Fs.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(qe.span,{role:"slider","aria-label":e["aria-label"]||k,"aria-valuemin":u.min,"aria-valuenow":y,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...a,ref:p,style:y===void 0?{display:"none"}:e.style,onFocus:me(e.onFocus,()=>{u.valueIndexToChangeRef.current=n})})}),x&&i.jsx(ew,{name:o??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:y},n)]})});_f.displayName=Os;var ew=e=>{const{value:t,...r}=e,n=g.useRef(null),o=df(t);return g.useEffect(()=>{const a=n.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==t&&d){const h=new Event("input",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[o,t]),i.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function tw(e=[],t,r){const n=[...e];return n[r]=t,n.sort((o,a)=>o-a)}function kf(e,t,r){const a=100/(r-t)*(e-t);return oo(a,[0,100])}function rw(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function nw(e,t){if(e.length===1)return 0;const r=e.map(o=>Math.abs(o-t)),n=Math.min(...r);return r.indexOf(n)}function ow(e,t,r){const n=e/2,a=Si([0,50],[0,n]);return(n-a(t)*r)*r}function aw(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function sw(e,t){if(t>0){const r=aw(e);return Math.min(...r)>=t}return!0}function Si(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function iw(e){return(String(e).split(".")[1]||"").length}function uw(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Sf=gf,lw=wf,cw=Cf,dw=_f;const Ef=g.forwardRef(({className:e,...t},r)=>i.jsxs(Sf,{ref:r,className:oe("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(lw,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(cw,{className:"absolute h-full bg-primary"})}),i.jsx(dw,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ef.displayName=Sf.displayName;var fw="Label",jf=g.forwardRef((e,t)=>i.jsx(qe.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));jf.displayName=fw;var Af=jf;const hw=Qs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),St=g.forwardRef(({className:e,...t},r)=>i.jsx(Af,{ref:r,className:oe(hw(),e),...t}));St.displayName=Af.displayName;var pw="Separator",el="horizontal",mw=["horizontal","vertical"],Df=g.forwardRef((e,t)=>{const{decorative:r,orientation:n=el,...o}=e,a=gw(n)?n:el,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(qe.div,{"data-orientation":a,...l,...o,ref:t})});Df.displayName=pw;function gw(e){return mw.includes(e)}var Nf=Df;const Kn=g.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>i.jsx(Nf,{ref:o,decorative:r,orientation:t,className:oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Kn.displayName=Nf.displayName;const bw=Sp,xw=Ep,Tf=g.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>i.jsx(kp,{children:i.jsx(Sl,{ref:o,align:t,sideOffset:r,className:oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Tf.displayName=Sl.displayName;function tl(e){if(!e)return"";try{const t=new DOMParser().parseFromString(e,"text/html");t.querySelectorAll("img").forEach(u=>u.remove()),t.querySelectorAll("br").forEach(u=>{u.replaceWith(`
`)}),t.querySelectorAll("p, div, h1, h2, h3, h4, h5, h6, li, blockquote").forEach(u=>{u.insertAdjacentText("afterend",`
`)});let a=t.body.textContent||t.body.innerText||"";return a=a.replace(/[ \t]+/g," ").replace(/[ \t]*\n[ \t]*/g,`
`).replace(/\n{3,}/g,`

`).trim(),a}catch(t){return console.warn("Failed to parse HTML, falling back to regex cleanup:",t),e.replace(/<img[^>]*>/gi,"").replace(/<br\s*\/?>/gi,`
`).replace(/<\/?(p|div|h[1-6]|li|blockquote)[^>]*>/gi,`
`).replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/[ \t]+/g," ").replace(/[ \t]*\n[ \t]*/g,`
`).replace(/\n{3,}/g,`

`).trim()}}function yw(e,t){const r=tl(e),n=tl(t);return`${r}

${n}`}async function vw(e){try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(e),!0;{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();const r=document.execCommand("copy");return document.body.removeChild(t),r}}catch(t){return console.error("Failed to copy text to clipboard:",t),!1}}function ww(e,t){return e[13]=1,e[14]=t>>8,e[15]=t&255,e[16]=t>>8,e[17]=t&255,e}const Pf=112,Mf=72,If=89,Ff=115;let bs;function Cw(){const e=new Int32Array(256);for(let t=0;t<256;t++){let r=t;for(let n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e}function _w(e){let t=-1;bs||(bs=Cw());for(let r=0;r<e.length;r++)t=bs[(t^e[r])&255]^t>>>8;return t^-1}function kw(e){const t=e.length-1;for(let r=t;r>=4;r--)if(e[r-4]===9&&e[r-3]===Pf&&e[r-2]===Mf&&e[r-1]===If&&e[r]===Ff)return r-3;return 0}function Sw(e,t,r=!1){const n=new Uint8Array(13);t*=39.3701,n[0]=Pf,n[1]=Mf,n[2]=If,n[3]=Ff,n[4]=t>>>24,n[5]=t>>>16,n[6]=t>>>8,n[7]=t&255,n[8]=n[4],n[9]=n[5],n[10]=n[6],n[11]=n[7],n[12]=1;const o=_w(n),a=new Uint8Array(4);if(a[0]=o>>>24,a[1]=o>>>16,a[2]=o>>>8,a[3]=o&255,r){const u=kw(e);return e.set(n,u),e.set(a,u+13),e}else{const u=new Uint8Array(4);u[0]=0,u[1]=0,u[2]=0,u[3]=9;const l=new Uint8Array(54);return l.set(e,0),l.set(u,33),l.set(n,37),l.set(a,50),l}}const Ew="AAlwSFlz",jw="AAAJcEhZ",Aw="AAAACXBI";function Dw(e){let t=e.indexOf(Ew);return t===-1&&(t=e.indexOf(jw)),t===-1&&(t=e.indexOf(Aw)),t}const Rf="[modern-screenshot]",Rr=typeof window<"u",Nw=Rr&&"Worker"in window,Tw=Rr&&"atob"in window,Pw=Rr&&"btoa"in window,Ei=Rr?window.navigator?.userAgent:"",Of=Ei.includes("Chrome"),ra=Ei.includes("AppleWebKit")&&!Of,ji=Ei.includes("Firefox"),Mw=e=>e&&"__CONTEXT__"in e,Iw=e=>e.constructor.name==="CSSFontFaceRule",Fw=e=>e.constructor.name==="CSSImportRule",or=e=>e.nodeType===1,mo=e=>typeof e.className=="object",Lf=e=>e.tagName==="image",Rw=e=>e.tagName==="use",ao=e=>or(e)&&typeof e.style<"u"&&!mo(e),Ow=e=>e.nodeType===8,Lw=e=>e.nodeType===3,yn=e=>e.tagName==="IMG",ya=e=>e.tagName==="VIDEO",zw=e=>e.tagName==="CANVAS",Bw=e=>e.tagName==="TEXTAREA",$w=e=>e.tagName==="INPUT",qw=e=>e.tagName==="STYLE",Uw=e=>e.tagName==="SCRIPT",Hw=e=>e.tagName==="SELECT",Kw=e=>e.tagName==="SLOT",Vw=e=>e.tagName==="IFRAME",Ww=(...e)=>console.warn(Rf,...e);function Gw(e){const t=e?.createElement?.("canvas");return t&&(t.height=t.width=1),!!t&&"toDataURL"in t&&!!t.toDataURL("image/webp").includes("image/webp")}const Ls=e=>e.startsWith("data:");function zf(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(Rr&&e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i)||!Rr)return e;const r=va().implementation.createHTMLDocument(),n=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(o),t&&(n.href=t),o.href=e,o.href}function va(e){return(e&&or(e)?e?.ownerDocument:e)??window.document}const wa="http://www.w3.org/2000/svg";function Yw(e,t,r){const n=va(r).createElementNS(wa,"svg");return n.setAttributeNS(null,"width",e.toString()),n.setAttributeNS(null,"height",t.toString()),n.setAttributeNS(null,"viewBox",`0 0 ${e} ${t}`),n}function Zw(e,t){let r=new XMLSerializer().serializeToString(e);return t&&(r=r.replace(/[\u0000-\u0008\v\f\u000E-\u001F\uD800-\uDFFF\uFFFE\uFFFF]/gu,"")),`data:image/svg+xml;charset=utf-8,${encodeURIComponent(r)}`}function Xw(e,t){return new Promise((r,n)=>{const o=new FileReader;o.onload=()=>r(o.result),o.onerror=()=>n(o.error),o.onabort=()=>n(new Error(`Failed read blob to ${t}`)),o.readAsDataURL(e)})}const Qw=e=>Xw(e,"dataUrl");function fn(e,t){const r=va(t).createElement("img");return r.decoding="sync",r.loading="eager",r.src=e,r}function so(e,t){return new Promise(r=>{const{timeout:n,ownerDocument:o,onError:a,onWarn:u}=t??{},l=typeof e=="string"?fn(e,va(o)):e;let d=null,h=null;function p(){r(l),d&&clearTimeout(d),h?.()}if(n&&(d=setTimeout(p,n)),ya(l)){const x=l.currentSrc||l.src;if(!x)return l.poster?so(l.poster,t).then(r):p();if(l.readyState>=2)return p();const C=p,y=w=>{u?.("Failed video load",x,w),a?.(w),p()};h=()=>{l.removeEventListener("loadeddata",C),l.removeEventListener("error",y)},l.addEventListener("loadeddata",C,{once:!0}),l.addEventListener("error",y,{once:!0})}else{const x=Lf(l)?l.href.baseVal:l.currentSrc||l.src;if(!x)return p();const C=async()=>{if(yn(l)&&"decode"in l)try{await l.decode()}catch(w){u?.("Failed to decode image, trying to render anyway",l.dataset.originalSrc||x,w)}p()},y=w=>{u?.("Failed image load",l.dataset.originalSrc||x,w),p()};if(yn(l)&&l.complete)return C();h=()=>{l.removeEventListener("load",C),l.removeEventListener("error",y)},l.addEventListener("load",C,{once:!0}),l.addEventListener("error",y,{once:!0})}})}async function Jw(e,t){ao(e)&&(yn(e)||ya(e)?await so(e,t):await Promise.all(["img","video"].flatMap(r=>Array.from(e.querySelectorAll(r)).map(n=>so(n,t)))))}const Bf=function(){let t=0;const r=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${r()}${t}`)}();function $f(e){return e?.split(",").map(t=>t.trim().replace(/"|'/g,"").toLowerCase()).filter(Boolean)}let rl=0;function e3(e){const t=`${Rf}[#${rl}]`;return rl++,{time:r=>e&&console.time(`${t} ${r}`),timeEnd:r=>e&&console.timeEnd(`${t} ${r}`),warn:(...r)=>e&&Ww(...r)}}function t3(e){return{cache:e?"no-cache":"force-cache"}}async function Ca(e,t){return Mw(e)?e:r3(e,{...t,autoDestruct:!0})}async function r3(e,t){const{scale:r=1,workerUrl:n,workerNumber:o=1}=t||{},a=!!t?.debug,u=t?.features??!0,l=e.ownerDocument??(Rr?window.document:void 0),d=e.ownerDocument?.defaultView??(Rr?window:void 0),h=new Map,p={width:0,height:0,quality:1,type:"image/png",scale:r,backgroundColor:null,style:null,filter:null,maximumCanvasSize:0,timeout:3e4,progress:null,debug:a,fetch:{requestInit:t3(t?.fetch?.bypassingCache),placeholderImage:"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bypassingCache:!1,...t?.fetch},fetchFn:null,font:{},drawImageInterval:100,workerUrl:null,workerNumber:o,onCloneEachNode:null,onCloneNode:null,onEmbedNode:null,onCreateForeignObjectSvg:null,includeStyleProperties:null,autoDestruct:!1,...t,__CONTEXT__:!0,log:e3(a),node:e,ownerDocument:l,ownerWindow:d,dpi:r===1?null:96*r,svgStyleElement:qf(l),svgDefsElement:l?.createElementNS(wa,"defs"),svgStyles:new Map,defaultComputedStyles:new Map,workers:[...Array.from({length:Nw&&n&&o?o:0})].map(()=>{try{const y=new Worker(n);return y.onmessage=async w=>{const{url:k,result:D}=w.data;D?h.get(k)?.resolve?.(D):h.get(k)?.reject?.(new Error(`Error receiving message from worker: ${k}`))},y.onmessageerror=w=>{const{url:k}=w.data;h.get(k)?.reject?.(new Error(`Error receiving message from worker: ${k}`))},y}catch(y){return p.log.warn("Failed to new Worker",y),null}}).filter(Boolean),fontFamilies:new Map,fontCssTexts:new Map,acceptOfImage:`${[Gw(l)&&"image/webp","image/svg+xml","image/*","*/*"].filter(Boolean).join(",")};q=0.8`,requests:h,drawImageCount:0,tasks:[],features:u,isEnable:y=>y==="restoreScrollPosition"?typeof u=="boolean"?!1:u[y]??!1:typeof u=="boolean"?u:u[y]??!0,shadowRoots:[]};p.log.time("wait until load"),await Jw(e,{timeout:p.timeout,onWarn:p.log.warn}),p.log.timeEnd("wait until load");const{width:x,height:C}=n3(e,p);return p.width=x,p.height=C,p}function qf(e){if(!e)return;const t=e.createElement("style"),r=t.ownerDocument.createTextNode(`
.______background-clip--text {
  background-clip: text;
  -webkit-background-clip: text;
}
`);return t.appendChild(r),t}function n3(e,t){let{width:r,height:n}=t;if(or(e)&&(!r||!n)){const o=e.getBoundingClientRect();r=r||o.width||Number(e.getAttribute("width"))||0,n=n||o.height||Number(e.getAttribute("height"))||0}return{width:r,height:n}}async function o3(e,t){const{log:r,timeout:n,drawImageCount:o,drawImageInterval:a}=t;r.time("image to canvas");const u=await so(e,{timeout:n,onWarn:t.log.warn}),{canvas:l,context2d:d}=a3(e.ownerDocument,t),h=()=>{try{d?.drawImage(u,0,0,l.width,l.height)}catch(p){t.log.warn("Failed to drawImage",p)}};if(h(),t.isEnable("fixSvgXmlDecode"))for(let p=0;p<o;p++)await new Promise(x=>{setTimeout(()=>{d?.clearRect(0,0,l.width,l.height),h(),x()},p+a)});return t.drawImageCount=0,r.timeEnd("image to canvas"),l}function a3(e,t){const{width:r,height:n,scale:o,backgroundColor:a,maximumCanvasSize:u}=t,l=e.createElement("canvas");l.width=Math.floor(r*o),l.height=Math.floor(n*o),l.style.width=`${r}px`,l.style.height=`${n}px`,u&&(l.width>u||l.height>u)&&(l.width>u&&l.height>u?l.width>l.height?(l.height*=u/l.width,l.width=u):(l.width*=u/l.height,l.height=u):l.width>u?(l.height*=u/l.width,l.width=u):(l.width*=u/l.height,l.height=u));const d=l.getContext("2d");return d&&a&&(d.fillStyle=a,d.fillRect(0,0,l.width,l.height)),{canvas:l,context2d:d}}function Uf(e,t){if(e.ownerDocument)try{const a=e.toDataURL();if(a!=="data:,")return fn(a,e.ownerDocument)}catch(a){t.log.warn("Failed to clone canvas",a)}const r=e.cloneNode(!1),n=e.getContext("2d"),o=r.getContext("2d");try{return n&&o&&o.putImageData(n.getImageData(0,0,e.width,e.height),0,0),r}catch(a){t.log.warn("Failed to clone canvas",a)}return r}function s3(e,t){try{if(e?.contentDocument?.body)return Ai(e.contentDocument.body,t)}catch(r){t.log.warn("Failed to clone iframe",r)}return e.cloneNode(!1)}function i3(e){const t=e.cloneNode(!1);return e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager"),t}async function u3(e,t){if(e.ownerDocument&&!e.currentSrc&&e.poster)return fn(e.poster,e.ownerDocument);const r=e.cloneNode(!1);r.crossOrigin="anonymous",e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc);const n=r.ownerDocument;if(n){let o=!0;if(await so(r,{onError:()=>o=!1,onWarn:t.log.warn}),!o)return e.poster?fn(e.poster,e.ownerDocument):r;r.currentTime=e.currentTime,await new Promise(u=>{r.addEventListener("seeked",u,{once:!0})});const a=n.createElement("canvas");a.width=e.offsetWidth,a.height=e.offsetHeight;try{const u=a.getContext("2d");u&&u.drawImage(r,0,0,a.width,a.height)}catch(u){return t.log.warn("Failed to clone video",u),e.poster?fn(e.poster,e.ownerDocument):r}return Uf(a,t)}return r}function l3(e,t){return zw(e)?Uf(e,t):Vw(e)?s3(e,t):yn(e)?i3(e):ya(e)?u3(e,t):e.cloneNode(!1)}function c3(e){let t=e.sandbox;if(!t){const{ownerDocument:r}=e;try{r&&(t=r.createElement("iframe"),t.id=`__SANDBOX__${Bf()}`,t.width="0",t.height="0",t.style.visibility="hidden",t.style.position="fixed",r.body.appendChild(t),t.srcdoc='<!DOCTYPE html><meta charset="UTF-8"><title></title><body>',e.sandbox=t)}catch(n){e.log.warn("Failed to getSandBox",n)}}return t}const d3=["width","height","-webkit-text-fill-color"],f3=["stroke","fill"];function Hf(e,t,r){const{defaultComputedStyles:n}=r,o=e.nodeName.toLowerCase(),a=mo(e)&&o!=="svg",u=a?f3.map(k=>[k,e.getAttribute(k)]).filter(([,k])=>k!==null):[],l=[a&&"svg",o,u.map((k,D)=>`${k}=${D}`).join(","),t].filter(Boolean).join(":");if(n.has(l))return n.get(l);const h=c3(r)?.contentWindow;if(!h)return new Map;const p=h?.document;let x,C;a?(x=p.createElementNS(wa,"svg"),C=x.ownerDocument.createElementNS(x.namespaceURI,o),u.forEach(([k,D])=>{C.setAttributeNS(null,k,D)}),x.appendChild(C)):x=C=p.createElement(o),C.textContent=" ",p.body.appendChild(x);const y=h.getComputedStyle(C,t),w=new Map;for(let k=y.length,D=0;D<k;D++){const S=y.item(D);d3.includes(S)||w.set(S,y.getPropertyValue(S))}return p.body.removeChild(x),n.set(l,w),w}function Kf(e,t,r){const n=new Map,o=[],a=new Map;if(r)for(const l of r)u(l);else for(let l=e.length,d=0;d<l;d++){const h=e.item(d);u(h)}for(let l=o.length,d=0;d<l;d++)a.get(o[d])?.forEach((h,p)=>n.set(p,h));function u(l){const d=e.getPropertyValue(l),h=e.getPropertyPriority(l),p=l.lastIndexOf("-"),x=p>-1?l.substring(0,p):void 0;if(x){let C=a.get(x);C||(C=new Map,a.set(x,C)),C.set(l,[d,h])}t.get(l)===d&&!h||(x?o.push(x):n.set(l,[d,h]))}return n}function h3(e,t,r,n){const{ownerWindow:o,includeStyleProperties:a,currentParentNodeStyle:u}=n,l=t.style,d=o.getComputedStyle(e),h=Hf(e,null,n);u?.forEach((x,C)=>{h.delete(C)});const p=Kf(d,h,a);p.delete("transition-property"),p.delete("all"),p.delete("d"),p.delete("content"),r&&(p.delete("margin-top"),p.delete("margin-right"),p.delete("margin-bottom"),p.delete("margin-left"),p.delete("margin-block-start"),p.delete("margin-block-end"),p.delete("margin-inline-start"),p.delete("margin-inline-end"),p.set("box-sizing",["border-box",""])),p.get("background-clip")?.[0]==="text"&&t.classList.add("______background-clip--text"),Of&&(p.has("font-kerning")||p.set("font-kerning",["normal",""]),(p.get("overflow-x")?.[0]==="hidden"||p.get("overflow-y")?.[0]==="hidden")&&p.get("text-overflow")?.[0]==="ellipsis"&&e.scrollWidth===e.clientWidth&&p.set("text-overflow",["clip",""]));for(let x=l.length,C=0;C<x;C++)l.removeProperty(l.item(C));return p.forEach(([x,C],y)=>{l.setProperty(y,x,C)}),p}function p3(e,t){(Bw(e)||$w(e)||Hw(e))&&t.setAttribute("value",e.value)}const m3=[":before",":after"],g3=[":-webkit-scrollbar",":-webkit-scrollbar-button",":-webkit-scrollbar-thumb",":-webkit-scrollbar-track",":-webkit-scrollbar-track-piece",":-webkit-scrollbar-corner",":-webkit-resizer"];function b3(e,t,r,n,o){const{ownerWindow:a,svgStyleElement:u,svgStyles:l,currentNodeStyle:d}=n;if(!u||!a)return;function h(p){const x=a.getComputedStyle(e,p);let C=x.getPropertyValue("content");if(!C||C==="none")return;o?.(C),C=C.replace(/(')|(")|(counter\(.+\))/g,"");const y=[Bf()],w=Hf(e,p,n);d?.forEach((_,A)=>{w.delete(A)});const k=Kf(x,w,n.includeStyleProperties);k.delete("content"),k.delete("-webkit-locale"),k.get("background-clip")?.[0]==="text"&&t.classList.add("______background-clip--text");const D=[`content: '${C}';`];if(k.forEach(([_,A],P)=>{D.push(`${P}: ${_}${A?" !important":""};`)}),D.length===1)return;try{t.className=[t.className,...y].join(" ")}catch(_){n.log.warn("Failed to copyPseudoClass",_);return}const S=D.join(`
  `);let E=l.get(S);E||(E=[],l.set(S,E)),E.push(`.${y[0]}:${p}`)}m3.forEach(h),r&&g3.forEach(h)}const nl=new Set(["symbol"]);async function ol(e,t,r,n,o){if(or(r)&&(qw(r)||Uw(r))||n.filter&&!n.filter(r))return;nl.has(t.nodeName)||nl.has(r.nodeName)?n.currentParentNodeStyle=void 0:n.currentParentNodeStyle=n.currentNodeStyle;const a=await Ai(r,n,!1,o);n.isEnable("restoreScrollPosition")&&x3(e,a),t.appendChild(a)}async function al(e,t,r,n){let o=e.firstChild;or(e)&&e.shadowRoot&&(o=e.shadowRoot?.firstChild,r.shadowRoots.push(e.shadowRoot));for(let a=o;a;a=a.nextSibling)if(!Ow(a))if(or(a)&&Kw(a)&&typeof a.assignedNodes=="function"){const u=a.assignedNodes();for(let l=0;l<u.length;l++)await ol(e,t,u[l],r,n)}else await ol(e,t,a,r,n)}function x3(e,t){if(!ao(e)||!ao(t))return;const{scrollTop:r,scrollLeft:n}=e;if(!r&&!n)return;const{transform:o}=t.style,a=new DOMMatrix(o),{a:u,b:l,c:d,d:h}=a;a.a=1,a.b=0,a.c=0,a.d=1,a.translateSelf(-n,-r),a.a=u,a.b=l,a.c=d,a.d=h,t.style.transform=a.toString()}function y3(e,t){const{backgroundColor:r,width:n,height:o,style:a}=t,u=e.style;if(r&&u.setProperty("background-color",r,"important"),n&&u.setProperty("width",`${n}px`,"important"),o&&u.setProperty("height",`${o}px`,"important"),a)for(const l in a)u[l]=a[l]}const v3=/^[\w-:]+$/;async function Ai(e,t,r=!1,n){const{ownerDocument:o,ownerWindow:a,fontFamilies:u,onCloneEachNode:l}=t;if(o&&Lw(e))return n&&/\S/.test(e.data)&&n(e.data),o.createTextNode(e.data);if(o&&a&&or(e)&&(ao(e)||mo(e))){const h=await l3(e,t);if(t.isEnable("removeAbnormalAttributes")){const k=h.getAttributeNames();for(let D=k.length,S=0;S<D;S++){const E=k[S];v3.test(E)||h.removeAttribute(E)}}const p=t.currentNodeStyle=h3(e,h,r,t);r&&y3(h,t);let x=!1;if(t.isEnable("copyScrollbar")){const k=[p.get("overflow-x")?.[0],p.get("overflow-y")?.[0]];x=k.includes("scroll")||(k.includes("auto")||k.includes("overlay"))&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}const C=p.get("text-transform")?.[0],y=$f(p.get("font-family")?.[0]),w=y?k=>{C==="uppercase"?k=k.toUpperCase():C==="lowercase"?k=k.toLowerCase():C==="capitalize"&&(k=k[0].toUpperCase()+k.substring(1)),y.forEach(D=>{let S=u.get(D);S||u.set(D,S=new Set),k.split("").forEach(E=>S.add(E))})}:void 0;return b3(e,h,x,t,w),p3(e,h),ya(e)||await al(e,h,t,w),await l?.(h),h}const d=e.cloneNode(!1);return await al(e,d,t),await l?.(d),d}function w3(e){if(e.ownerDocument=void 0,e.ownerWindow=void 0,e.svgStyleElement=void 0,e.svgDefsElement=void 0,e.svgStyles.clear(),e.defaultComputedStyles.clear(),e.sandbox){try{e.sandbox.remove()}catch(t){e.log.warn("Failed to destroyContext",t)}e.sandbox=void 0}e.workers=[],e.fontFamilies.clear(),e.fontCssTexts.clear(),e.requests.clear(),e.tasks=[],e.shadowRoots=[]}function C3(e){const{url:t,timeout:r,responseType:n,...o}=e,a=new AbortController,u=r?setTimeout(()=>a.abort(),r):void 0;return fetch(t,{signal:a.signal,...o}).then(l=>{if(!l.ok)throw new Error("Failed fetch, not 2xx response",{cause:l});switch(n){case"arrayBuffer":return l.arrayBuffer();case"dataUrl":return l.blob().then(Qw);case"text":default:return l.text()}}).finally(()=>clearTimeout(u))}function io(e,t){const{url:r,requestType:n="text",responseType:o="text",imageDom:a}=t;let u=r;const{timeout:l,acceptOfImage:d,requests:h,fetchFn:p,fetch:{requestInit:x,bypassingCache:C,placeholderImage:y},font:w,workers:k,fontFamilies:D}=e;n==="image"&&(ra||ji)&&e.drawImageCount++;let S=h.get(r);if(!S){C&&C instanceof RegExp&&C.test(u)&&(u+=(/\?/.test(u)?"&":"?")+new Date().getTime());const E=n.startsWith("font")&&w&&w.minify,_=new Set;E&&n.split(";")[1].split(",").forEach(U=>{D.has(U)&&D.get(U).forEach(Y=>_.add(Y))});const A=E&&_.size,P={url:u,timeout:l,responseType:A?"arrayBuffer":o,headers:n==="image"?{accept:d}:void 0,...x};S={type:n,resolve:void 0,reject:void 0,response:null},S.response=(async()=>{if(p&&n==="image"){const $=await p(r);if($)return $}return!ra&&r.startsWith("http")&&k.length?new Promise(($,U)=>{k[h.size&k.length-1].postMessage({rawUrl:r,...P}),S.resolve=$,S.reject=U}):C3(P)})().catch($=>{if(h.delete(r),n==="image"&&y)return e.log.warn("Failed to fetch image base64, trying to use placeholder image",u),typeof y=="string"?y:y(a);throw $}),h.set(r,S)}return S.response}async function Vf(e,t,r,n){if(!Wf(e))return e;for(const[o,a]of _3(e,t))try{const u=await io(r,{url:a,requestType:n?"image":"text",responseType:"dataUrl"});e=e.replace(k3(o),`$1${u}$3`)}catch(u){r.log.warn("Failed to fetch css data url",o,u)}return e}function Wf(e){return/url\((['"]?)([^'"]+?)\1\)/.test(e)}const Gf=/url\((['"]?)([^'"]+?)\1\)/g;function _3(e,t){const r=[];return e.replace(Gf,(n,o,a)=>(r.push([a,zf(a,t)]),n)),r.filter(([n])=>!Ls(n))}function k3(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}const S3=["background-image","border-image-source","-webkit-border-image","-webkit-mask-image","list-style-image"];function E3(e,t){return S3.map(r=>{const n=e.getPropertyValue(r);return!n||n==="none"?null:((ra||ji)&&t.drawImageCount++,Vf(n,null,t,!0).then(o=>{!o||n===o||e.setProperty(r,o,e.getPropertyPriority(r))}))}).filter(Boolean)}function j3(e,t){if(yn(e)){const r=e.currentSrc||e.src;if(!Ls(r))return[io(t,{url:r,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(n=>{n&&(e.srcset="",e.dataset.originalSrc=r,e.src=n||"")})];(ra||ji)&&t.drawImageCount++}else if(mo(e)&&!Ls(e.href.baseVal)){const r=e.href.baseVal;return[io(t,{url:r,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(n=>{n&&(e.dataset.originalSrc=r,e.href.baseVal=n||"")})]}return[]}function A3(e,t){const{ownerDocument:r,svgDefsElement:n}=t,o=e.getAttribute("href")??e.getAttribute("xlink:href");if(!o)return[];const[a,u]=o.split("#");if(u){const l=`#${u}`,d=t.shadowRoots.reduce((h,p)=>h??p.querySelector(`svg ${l}`),r?.querySelector(`svg ${l}`));if(a&&e.setAttribute("href",l),n?.querySelector(l))return[];if(d)return n?.appendChild(d.cloneNode(!0)),[];if(a)return[io(t,{url:a,responseType:"text"}).then(h=>{n?.insertAdjacentHTML("beforeend",h)})]}return[]}function Yf(e,t){const{tasks:r}=t;or(e)&&((yn(e)||Lf(e))&&r.push(...j3(e,t)),Rw(e)&&r.push(...A3(e,t))),ao(e)&&r.push(...E3(e.style,t)),e.childNodes.forEach(n=>{Yf(n,t)})}async function D3(e,t){const{ownerDocument:r,svgStyleElement:n,fontFamilies:o,fontCssTexts:a,tasks:u,font:l}=t;if(!(!r||!n||!o.size))if(l&&l.cssText){const d=il(l.cssText,t);n.appendChild(r.createTextNode(`${d}
`))}else{const d=Array.from(r.styleSheets).filter(p=>{try{return"cssRules"in p&&!!p.cssRules.length}catch(x){return t.log.warn(`Error while reading CSS rules from ${p.href}`,x),!1}});await Promise.all(d.flatMap(p=>Array.from(p.cssRules).map(async(x,C)=>{if(Fw(x)){let y=C+1;const w=x.href;let k="";try{k=await io(t,{url:w,requestType:"text",responseType:"text"})}catch(S){t.log.warn(`Error fetch remote css import from ${w}`,S)}const D=k.replace(Gf,(S,E,_)=>S.replace(_,zf(_,w)));for(const S of T3(D))try{p.insertRule(S,S.startsWith("@import")?y+=1:p.cssRules.length)}catch(E){t.log.warn("Error inserting rule from remote css import",{rule:S,error:E})}}}))),d.flatMap(p=>Array.from(p.cssRules)).filter(p=>Iw(p)&&Wf(p.style.getPropertyValue("src"))&&$f(p.style.getPropertyValue("font-family"))?.some(x=>o.has(x))).forEach(p=>{const x=p,C=a.get(x.cssText);C?n.appendChild(r.createTextNode(`${C}
`)):u.push(Vf(x.cssText,x.parentStyleSheet?x.parentStyleSheet.href:null,t).then(y=>{y=il(y,t),a.set(x.cssText,y),n.appendChild(r.createTextNode(`${y}
`))}))})}}const N3=/(\/\*[\s\S]*?\*\/)/g,sl=/((@.*?keyframes [\s\S]*?){([\s\S]*?}\s*?)})/gi;function T3(e){if(e==null)return[];const t=[];let r=e.replace(N3,"");for(;;){const a=sl.exec(r);if(!a)break;t.push(a[0])}r=r.replace(sl,"");const n=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let a=n.exec(r);if(a)o.lastIndex=n.lastIndex;else if(a=o.exec(r),a)n.lastIndex=o.lastIndex;else break;t.push(a[0])}return t}const P3=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,M3=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function il(e,t){const{font:r}=t,n=r?r?.preferredFormat:void 0;return n?e.replace(M3,o=>{for(;;){const[a,,u]=P3.exec(o)||[];if(!u)return"";if(u===n)return`src: ${a};`}}):e}async function I3(e,t){const r=await Ca(e,t);if(or(r.node)&&mo(r.node))return r.node;const{ownerDocument:n,log:o,tasks:a,svgStyleElement:u,svgDefsElement:l,svgStyles:d,font:h,progress:p,autoDestruct:x,onCloneNode:C,onEmbedNode:y,onCreateForeignObjectSvg:w}=r;o.time("clone node");const k=await Ai(r.node,r,!0);if(u&&n){let A="";d.forEach((P,$)=>{A+=`${P.join(`,
`)} {
  ${$}
}
`}),u.appendChild(n.createTextNode(A))}o.timeEnd("clone node"),await C?.(k),h!==!1&&or(k)&&(o.time("embed web font"),await D3(k,r),o.timeEnd("embed web font")),o.time("embed node"),Yf(k,r);const D=a.length;let S=0;const E=async()=>{for(;;){const A=a.pop();if(!A)break;try{await A}catch(P){r.log.warn("Failed to run task",P)}p?.(++S,D)}};p?.(S,D),await Promise.all([...Array.from({length:4})].map(E)),o.timeEnd("embed node"),await y?.(k);const _=F3(k,r);return l&&_.insertBefore(l,_.children[0]),u&&_.insertBefore(u,_.children[0]),x&&w3(r),await w?.(_),_}function F3(e,t){const{width:r,height:n}=t,o=Yw(r,n,e.ownerDocument),a=o.ownerDocument.createElementNS(o.namespaceURI,"foreignObject");return a.setAttributeNS(null,"x","0%"),a.setAttributeNS(null,"y","0%"),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.append(e),o.appendChild(a),o}async function R3(e,t){const r=await Ca(e,t),n=await I3(r),o=Zw(n,r.isEnable("removeControlCharacter"));r.autoDestruct||(r.svgStyleElement=qf(r.ownerDocument),r.svgDefsElement=r.ownerDocument?.createElementNS(wa,"defs"),r.svgStyles.clear());const a=fn(o,n.ownerDocument);return await o3(a,r)}async function O3(e,t){const r=await Ca(e,t),{log:n,quality:o,type:a,dpi:u}=r,l=await R3(r);n.time("canvas to data url");let d=l.toDataURL(a,o);if(["image/png","image/jpeg"].includes(a)&&u&&Tw&&Pw){const[h,p]=d.split(",");let x=0,C=!1;if(a==="image/png"){const _=Dw(p);_>=0?(x=Math.ceil((_+28)/3)*4,C=!0):x=33/3*4}else a==="image/jpeg"&&(x=18/3*4);const y=p.substring(0,x),w=p.substring(x),k=window.atob(y),D=new Uint8Array(k.length);for(let _=0;_<D.length;_++)D[_]=k.charCodeAt(_);const S=a==="image/png"?Sw(D,u,C):ww(D,u),E=window.btoa(String.fromCharCode(...S));d=[h,",",E,w].join("")}return n.timeEnd("canvas to data url"),d}async function L3(e,t){return O3(await Ca(e,{...t,type:"image/png"}))}function z3(e,t=30){if(!e||e.trim()==="")return"untitled-card";let r=e.replace(/[^\w\s\u4e00-\u9fff\u3400-\u4dbf\u20000-\u2a6df\u2a700-\u2b73f\u2b740-\u2b81f\u2b820-\u2ceaf\uf900-\ufaff\u3300-\u33ff-]/g,"").replace(/\s+/g," ").trim();return r?(r.length>t&&(r=r.substring(0,t).trim()),r):"untitled-card"}async function B3(e,t={}){const{quality:r=1,pixelRatio:n=2,backgroundColor:o="transparent",includeStyles:a=!0}=t;try{const u=await L3(e,{quality:r,pixelRatio:n,backgroundColor:o,style:a?void 0:{},filter:d=>{if(d instanceof HTMLElement){const h=d.classList;return!h.contains("tooltip")&&!h.contains("dropdown-menu")&&!h.contains("popover")}return!0}});return await(await fetch(u)).blob()}catch(u){throw console.error("Screenshot capture failed:",u),new Error("Failed to capture screenshot")}}function $3(e,t){const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=`${t}.png`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}async function q3(e,t,r={}){const n=z3(t);return{blob:await B3(e,{quality:1,pixelRatio:2,backgroundColor:"transparent",...r}),fileName:n}}function U3(e={}){const[t,r]=g.useState(!1),[n,o]=g.useState(!1),[a,u]=g.useState(null),[l,d]=g.useState(!1),[h,p]=g.useState(null),x=g.useCallback(async(k,D)=>{r(!0),p(null);try{const{blob:S,fileName:E}=await q3(k,D),_=URL.createObjectURL(S);u({blob:S,fileName:E,previewUrl:_}),d(!0)}catch(S){const E=S instanceof Error?S:new Error("Screenshot failed");p(E.message),e.onError?.(E)}finally{r(!1)}},[e]),C=g.useCallback(async()=>{if(a){o(!0);try{await new Promise(k=>setTimeout(k,500)),$3(a.blob,a.fileName),e.onSuccess?.(a.fileName),d(!1),setTimeout(()=>{a.previewUrl&&URL.revokeObjectURL(a.previewUrl),u(null)},100)}catch(k){const D=k instanceof Error?k:new Error("Download failed");p(D.message),e.onError?.(D)}finally{o(!1)}}},[a,e]),y=g.useCallback(()=>{d(!1),setTimeout(()=>{a?.previewUrl&&URL.revokeObjectURL(a.previewUrl),u(null)},100)},[a]),w=g.useCallback(()=>{p(null)},[]);return{isCapturing:t,isDownloading:n,showPreview:l,previewData:a,error:h,captureScreenshot:x,confirmDownload:C,cancelPreview:y,clearError:w}}function H3({isOpen:e,onClose:t,onConfirm:r,previewUrl:n,fileName:o,isDownloading:a=!1}){const[u,l]=g.useState(!1),d=()=>{l(!0),setTimeout(()=>{r(),l(!1)},800)};return i.jsx(Gr,{open:e,onOpenChange:t,children:i.jsxs(Fr,{className:"max-w-2xl max-h-[90vh] overflow-hidden",children:[i.jsx(kn,{children:i.jsxs(En,{className:"flex items-center gap-2",children:[i.jsx(Es,{className:"h-5 w-5"}),"Screenshot Preview"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Mt,{variant:"secondary",className:"font-mono text-xs",children:[o,".png"]}),i.jsx(Mt,{variant:"outline",className:"text-xs",children:"High Quality"})]})}),i.jsx("div",{className:"relative bg-checkered rounded-lg overflow-hidden border",children:n?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:n,alt:"Screenshot preview",className:oe("w-full h-auto max-h-[60vh] object-contain transition-all duration-300",u&&"scale-95 opacity-80")}),u&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-purple-600/20 flex items-center justify-center",children:i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-6 shadow-lg animate-pulse",children:i.jsxs("div",{className:"relative",children:[i.jsx(Wn,{className:"h-8 w-8 text-blue-600 animate-bounce"}),i.jsx(_u,{className:"h-4 w-4 text-purple-500 absolute -top-1 -right-1 animate-spin"})]})})})]}):i.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx(Es,{className:"h-12 w-12 mx-auto opacity-50"}),i.jsx("p",{children:"Loading preview..."})]})})}),a&&i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"}),"Preparing download..."]})]}),i.jsxs(Sn,{className:"gap-2",children:[i.jsxs(ke,{variant:"outline",onClick:t,disabled:u||a,children:[i.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),i.jsx(ke,{onClick:d,disabled:u||a||!n,className:oe("relative overflow-hidden",u&&"bg-gradient-to-r from-blue-500 to-purple-600"),children:u?i.jsxs(i.Fragment,{children:[i.jsx(_u,{className:"h-4 w-4 mr-2 animate-spin"}),"Downloading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Download PNG"]})})]})]})})}const K3=`
.bg-checkered {
  background-image: 
    linear-gradient(45deg, #f1f5f9 25%, transparent 25%), 
    linear-gradient(-45deg, #f1f5f9 25%, transparent 25%), 
    linear-gradient(45deg, transparent 75%, #f1f5f9 75%), 
    linear-gradient(-45deg, transparent 75%, #f1f5f9 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
}
`;if(typeof document<"u"){const e=document.createElement("style");e.textContent=K3,document.head.appendChild(e)}const V3=1,W3=1e6;let xs=0;function G3(){return xs=(xs+1)%Number.MAX_SAFE_INTEGER,xs.toString()}const ys=new Map,ul=e=>{if(ys.has(e))return;const t=setTimeout(()=>{ys.delete(e),Yn({type:"REMOVE_TOAST",toastId:e})},W3);ys.set(e,t)},Y3=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,V3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ul(r):e.toasts.forEach(n=>{ul(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ho=[];let Ko={toasts:[]};function Yn(e){Ko=Y3(Ko,e),Ho.forEach(t=>{t(Ko)})}function Z3({...e}){const t=G3(),r=o=>Yn({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>Yn({type:"DISMISS_TOAST",toastId:t});return Yn({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:r}}function X3(){const[e,t]=g.useState(Ko);return g.useEffect(()=>(Ho.push(t),()=>{const r=Ho.indexOf(t);r>-1&&Ho.splice(r,1)}),[e]),{...e,toast:Z3,dismiss:r=>Yn({type:"DISMISS_TOAST",toastId:r})}}var Di="Avatar",[Q3,F_]=ar(Di),[J3,Zf]=Q3(Di),Xf=g.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[o,a]=g.useState("idle");return i.jsx(J3,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:i.jsx(qe.span,{...n,ref:t})})});Xf.displayName=Di;var Qf="AvatarImage",Jf=g.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...a}=e,u=Zf(Qf,r),l=e6(n,a.referrerPolicy),d=Pt(h=>{o(h),u.onImageLoadingStatusChange(h)});return Wt(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?i.jsx(qe.img,{...a,ref:t,src:n}):null});Jf.displayName=Qf;var e0="AvatarFallback",t0=g.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...o}=e,a=Zf(e0,r),[u,l]=g.useState(n===void 0);return g.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(d)}},[n]),u&&a.imageLoadingStatus!=="loaded"?i.jsx(qe.span,{...o,ref:t}):null});t0.displayName=e0;function e6(e,t){const[r,n]=g.useState("idle");return Wt(()=>{if(!e){n("error");return}let o=!0;const a=new window.Image,u=l=>()=>{o&&n(l)};return n("loading"),a.onload=u("loaded"),a.onerror=u("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{o=!1}},[e,t]),r}var r0=Xf,n0=Jf,o0=t0;const a0=g.forwardRef(({className:e,...t},r)=>i.jsx(r0,{ref:r,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));a0.displayName=r0.displayName;const s0=g.forwardRef(({className:e,...t},r)=>i.jsx(n0,{ref:r,className:oe("aspect-square h-full w-full",e),...t}));s0.displayName=n0.displayName;const i0=g.forwardRef(({className:e,...t},r)=>i.jsx(o0,{ref:r,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));i0.displayName=o0.displayName;const u0=["from-violet-500 to-pink-500","from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-pink-500 to-rose-600","from-indigo-500 to-blue-600","from-yellow-500 to-orange-600","from-purple-500 to-pink-600","from-teal-500 to-green-600","from-red-500 to-pink-600","from-cyan-500 to-blue-600"];function t6(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return Math.abs(t)%u0.length}function r6(e){return e?e.username?e.username.charAt(0).toUpperCase():e.email?e.email.charAt(0).toUpperCase():"?":"?"}function n6(e){return e&&(e.username||e.email)||"anonymous"}function l0({user:e,size:t="md",className:r,onClick:n,showHoverEffect:o=!0}){const a=r6(e),u=n6(e),l=t6(u),d=u0[l],p=oe({sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-sm",lg:"h-10 w-10 text-base"}[t],o&&n&&"cursor-pointer transition-transform hover:scale-105",r),x=oe("bg-gradient-to-br text-white font-semibold flex items-center justify-center",d,o&&n&&"transition-all duration-200 hover:shadow-md");return i.jsxs(a0,{className:p,onClick:n,children:[i.jsx(s0,{src:e?.avatar_url,alt:e?.username||e?.email||"User"}),i.jsx(i0,{className:x,children:a})]})}var Ni="ContextMenu",[o6,R_]=ar(Ni,[ia]),Ct=ia(),[a6,c0]=o6(Ni),d0=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:n,dir:o,modal:a=!0}=e,[u,l]=g.useState(!1),d=Ct(t),h=Pt(n),p=g.useCallback(x=>{l(x),h(x)},[h]);return i.jsx(a6,{scope:t,open:u,onOpenChange:p,modal:a,children:i.jsx(Sc,{...d,dir:o,open:u,onOpenChange:p,modal:a,children:r})})};d0.displayName=Ni;var f0="ContextMenuTrigger",h0=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,disabled:n=!1,...o}=e,a=c0(f0,r),u=Ct(r),l=g.useRef({x:0,y:0}),d=g.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),h=g.useRef(0),p=g.useCallback(()=>window.clearTimeout(h.current),[]),x=C=>{l.current={x:C.clientX,y:C.clientY},a.onOpenChange(!0)};return g.useEffect(()=>p,[p]),g.useEffect(()=>void(n&&p()),[n,p]),i.jsxs(i.Fragment,{children:[i.jsx(Ec,{...u,virtualRef:d}),i.jsx(qe.span,{"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,...o,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:n?e.onContextMenu:me(e.onContextMenu,C=>{p(),x(C),C.preventDefault()}),onPointerDown:n?e.onPointerDown:me(e.onPointerDown,$o(C=>{p(),h.current=window.setTimeout(()=>x(C),700)})),onPointerMove:n?e.onPointerMove:me(e.onPointerMove,$o(p)),onPointerCancel:n?e.onPointerCancel:me(e.onPointerCancel,$o(p)),onPointerUp:n?e.onPointerUp:me(e.onPointerUp,$o(p))})]})});h0.displayName=f0;var s6="ContextMenuPortal",p0=e=>{const{__scopeContextMenu:t,...r}=e,n=Ct(t);return i.jsx(jc,{...n,...r})};p0.displayName=s6;var m0="ContextMenuContent",g0=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=c0(m0,r),a=Ct(r),u=g.useRef(!1);return i.jsx(Ac,{...a,...n,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),!l.defaultPrevented&&u.current&&l.preventDefault(),u.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),!l.defaultPrevented&&!o.modal&&(u.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});g0.displayName=m0;var i6="ContextMenuGroup",u6=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=Ct(r);return i.jsx(Dc,{...o,...n,ref:t})});u6.displayName=i6;var l6="ContextMenuLabel",b0=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=Ct(r);return i.jsx(Nc,{...o,...n,ref:t})});b0.displayName=l6;var c6="ContextMenuItem",x0=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=Ct(r);return i.jsx(Tc,{...o,...n,ref:t})});x0.displayName=c6;var d6="ContextMenuCheckboxItem",y0=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=Ct(r);return i.jsx(Pc,{...o,...n,ref:t})});y0.displayName=d6;var f6="ContextMenuRadioGroup",h6=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=Ct(r);return i.jsx(Mc,{...o,...n,ref:t})});h6.displayName=f6;var p6="ContextMenuRadioItem",v0=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=Ct(r);return i.jsx(Ic,{...o,...n,ref:t})});v0.displayName=p6;var m6="ContextMenuItemIndicator",w0=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=Ct(r);return i.jsx(Fc,{...o,...n,ref:t})});w0.displayName=m6;var g6="ContextMenuSeparator",C0=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=Ct(r);return i.jsx(Rc,{...o,...n,ref:t})});C0.displayName=g6;var b6="ContextMenuArrow",x6=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=Ct(r);return i.jsx(Oc,{...o,...n,ref:t})});x6.displayName=b6;var y6="ContextMenuSubTrigger",_0=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=Ct(r);return i.jsx(Lc,{...o,...n,ref:t})});_0.displayName=y6;var v6="ContextMenuSubContent",k0=g.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,o=Ct(r);return i.jsx(zc,{...o,...n,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k0.displayName=v6;function $o(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var w6=d0,C6=h0,_6=p0,S0=g0,E0=b0,j0=x0,A0=y0,D0=v0,N0=w0,T0=C0,P0=_0,M0=k0;const I0=w6,F0=C6,k6=g.forwardRef(({className:e,inset:t,children:r,...n},o)=>i.jsxs(P0,{ref:o,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...n,children:[r,i.jsx(ti,{className:"ml-auto h-4 w-4"})]}));k6.displayName=P0.displayName;const S6=g.forwardRef(({className:e,...t},r)=>i.jsx(M0,{ref:r,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));S6.displayName=M0.displayName;const Ti=g.forwardRef(({className:e,...t},r)=>i.jsx(_6,{children:i.jsx(S0,{ref:r,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Ti.displayName=S0.displayName;const hn=g.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(j0,{ref:n,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));hn.displayName=j0.displayName;const E6=g.forwardRef(({className:e,children:t,checked:r,...n},o)=>i.jsxs(A0,{ref:o,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(N0,{children:i.jsx(Mr,{className:"h-4 w-4"})})}),t]}));E6.displayName=A0.displayName;const j6=g.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(D0,{ref:n,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(N0,{children:i.jsx(Hl,{className:"h-2 w-2 fill-current"})})}),t]}));j6.displayName=D0.displayName;const A6=g.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(E0,{ref:n,className:oe("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...r}));A6.displayName=E0.displayName;const R0=g.forwardRef(({className:e,...t},r)=>i.jsx(T0,{ref:r,className:oe("-mx-1 my-1 h-px bg-border",e),...t}));R0.displayName=T0.displayName;function ll({children:e,folderId:t,folderName:r,onRename:n,onDelete:o,onCreateSubfolder:a,disabled:u=!1}){return u?i.jsx(i.Fragment,{children:e}):i.jsxs(I0,{children:[i.jsx(F0,{asChild:!0,children:e}),i.jsxs(Ti,{className:"w-48",children:[i.jsxs(hn,{onClick:()=>n(t),children:[i.jsx(Gl,{className:"h-4 w-4 mr-2"}),"Rename Folder"]}),i.jsxs(hn,{onClick:()=>a(t),children:[i.jsx(js,{className:"h-4 w-4 mr-2"}),"New Subfolder"]}),i.jsx(R0,{}),i.jsxs(hn,{onClick:()=>o(t),className:"text-destructive focus:text-destructive",children:[i.jsx(ri,{className:"h-4 w-4 mr-2"}),"Delete Folder"]})]})]})}var D6="VisuallyHidden",O0=g.forwardRef((e,t)=>i.jsx(qe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));O0.displayName=D6;var N6=[" ","Enter","ArrowUp","ArrowDown"],T6=[" ","Enter"],go="Select",[_a,ka,P6]=aa(go),[An,O_]=ar(go,[P6,oa]),Sa=oa(),[M6,Lr]=An(go),[I6,F6]=An(go),L0=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:u,defaultValue:l,onValueChange:d,dir:h,name:p,autoComplete:x,disabled:C,required:y,form:w}=e,k=Sa(t),[D,S]=g.useState(null),[E,_]=g.useState(null),[A,P]=g.useState(!1),$=uo(h),[U=!1,Y]=Xn({prop:n,defaultProp:o,onChange:a}),[te,he]=Xn({prop:u,defaultProp:l,onChange:d}),V=g.useRef(null),X=D?w||!!D.closest("form"):!0,[ye,Pe]=g.useState(new Set),Ne=Array.from(ye).map(be=>be.props.value).join(";");return i.jsx(wl,{...k,children:i.jsxs(M6,{required:y,scope:t,trigger:D,onTriggerChange:S,valueNode:E,onValueNodeChange:_,valueNodeHasChildren:A,onValueNodeHasChildrenChange:P,contentId:mn(),value:te,onValueChange:he,open:U,onOpenChange:Y,dir:$,triggerPointerDownPosRef:V,disabled:C,children:[i.jsx(_a.Provider,{scope:t,children:i.jsx(I6,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(be=>{Pe(Ie=>new Set(Ie).add(be))},[]),onNativeOptionRemove:g.useCallback(be=>{Pe(Ie=>{const je=new Set(Ie);return je.delete(be),je})},[]),children:r})}),X?i.jsxs(lh,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:x,value:te,onChange:be=>he(be.target.value),disabled:C,form:w,children:[te===void 0?i.jsx("option",{value:""}):null,Array.from(ye)]},Ne):null]})})};L0.displayName=go;var z0="SelectTrigger",B0=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=Sa(r),u=Lr(z0,r),l=u.disabled||n,d=We(t,u.onTriggerChange),h=ka(r),p=g.useRef("touch"),[x,C,y]=ch(k=>{const D=h().filter(_=>!_.disabled),S=D.find(_=>_.value===u.value),E=dh(D,k,S);E!==void 0&&u.onValueChange(E.value)}),w=k=>{l||(u.onOpenChange(!0),y()),k&&(u.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return i.jsx(pl,{asChild:!0,...a,children:i.jsx(qe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":uh(u.value)?"":void 0,...o,ref:d,onClick:me(o.onClick,k=>{k.currentTarget.focus(),p.current!=="mouse"&&w(k)}),onPointerDown:me(o.onPointerDown,k=>{p.current=k.pointerType;const D=k.target;D.hasPointerCapture(k.pointerId)&&D.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(w(k),k.preventDefault())}),onKeyDown:me(o.onKeyDown,k=>{const D=x.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&C(k.key),!(D&&k.key===" ")&&N6.includes(k.key)&&(w(),k.preventDefault())})})})});B0.displayName=z0;var $0="SelectValue",q0=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:u="",...l}=e,d=Lr($0,r),{onValueNodeHasChildrenChange:h}=d,p=a!==void 0,x=We(t,d.onValueNodeChange);return Wt(()=>{h(p)},[h,p]),i.jsx(qe.span,{...l,ref:x,style:{pointerEvents:"none"},children:uh(d.value)?i.jsx(i.Fragment,{children:u}):a})});q0.displayName=$0;var R6="SelectIcon",U0=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return i.jsx(qe.span,{"aria-hidden":!0,...o,ref:t,children:n||"▼"})});U0.displayName=R6;var O6="SelectPortal",H0=e=>i.jsx(hl,{asChild:!0,...e});H0.displayName=O6;var Yr="SelectContent",K0=g.forwardRef((e,t)=>{const r=Lr(Yr,e.__scopeSelect),[n,o]=g.useState();if(Wt(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?vn.createPortal(i.jsx(V0,{scope:e.__scopeSelect,children:i.jsx(_a.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(W0,{...e,ref:t})});K0.displayName=Yr;var Vt=10,[V0,zr]=An(Yr),L6="SelectContentImpl",W0=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:u,side:l,sideOffset:d,align:h,alignOffset:p,arrowPadding:x,collisionBoundary:C,collisionPadding:y,sticky:w,hideWhenDetached:k,avoidCollisions:D,...S}=e,E=Lr(Yr,r),[_,A]=g.useState(null),[P,$]=g.useState(null),U=We(t,Z=>A(Z)),[Y,te]=g.useState(null),[he,V]=g.useState(null),X=ka(r),[ye,Pe]=g.useState(!1),Ne=g.useRef(!1);g.useEffect(()=>{if(_)return vl(_)},[_]),ml();const be=g.useCallback(Z=>{const[Oe,...ue]=X().map(we=>we.ref.current),[Ue]=ue.slice(-1),Me=document.activeElement;for(const we of Z)if(we===Me||(we?.scrollIntoView({block:"nearest"}),we===Oe&&P&&(P.scrollTop=0),we===Ue&&P&&(P.scrollTop=P.scrollHeight),we?.focus(),document.activeElement!==Me))return},[X,P]),Ie=g.useCallback(()=>be([Y,_]),[be,Y,_]);g.useEffect(()=>{ye&&Ie()},[ye,Ie]);const{onOpenChange:je,triggerPointerDownPosRef:H}=E;g.useEffect(()=>{if(_){let Z={x:0,y:0};const Oe=Ue=>{Z={x:Math.abs(Math.round(Ue.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(Ue.pageY)-(H.current?.y??0))}},ue=Ue=>{Z.x<=10&&Z.y<=10?Ue.preventDefault():_.contains(Ue.target)||je(!1),document.removeEventListener("pointermove",Oe),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",ue,{capture:!0})}}},[_,je,H]),g.useEffect(()=>{const Z=()=>je(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[je]);const[fe,xe]=ch(Z=>{const Oe=X().filter(Me=>!Me.disabled),ue=Oe.find(Me=>Me.ref.current===document.activeElement),Ue=dh(Oe,Z,ue);Ue&&setTimeout(()=>Ue.ref.current.focus())}),Ce=g.useCallback((Z,Oe,ue)=>{const Ue=!Ne.current&&!ue;(E.value!==void 0&&E.value===Oe||Ue)&&(te(Z),Ue&&(Ne.current=!0))},[E.value]),ve=g.useCallback(()=>_?.focus(),[_]),Ee=g.useCallback((Z,Oe,ue)=>{const Ue=!Ne.current&&!ue;(E.value!==void 0&&E.value===Oe||Ue)&&V(Z)},[E.value]),Be=n==="popper"?zs:G0,se=Be===zs?{side:l,sideOffset:d,align:h,alignOffset:p,arrowPadding:x,collisionBoundary:C,collisionPadding:y,sticky:w,hideWhenDetached:k,avoidCollisions:D}:{};return i.jsx(V0,{scope:r,content:_,viewport:P,onViewportChange:$,itemRefCallback:Ce,selectedItem:Y,onItemLeave:ve,itemTextRefCallback:Ee,focusSelectedItem:Ie,selectedItemText:he,position:n,isPositioned:ye,searchRef:fe,children:i.jsx(gl,{as:Zn,allowPinchZoom:!0,children:i.jsx(bl,{asChild:!0,trapped:E.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:me(o,Z=>{E.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:i.jsx(xl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:i.jsx(Be,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:Z=>Z.preventDefault(),...S,...se,onPlaced:()=>Pe(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:me(S.onKeyDown,Z=>{const Oe=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!Oe&&Z.key.length===1&&xe(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let Ue=X().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Me=Z.target,we=Ue.indexOf(Me);Ue=Ue.slice(we+1)}setTimeout(()=>be(Ue)),Z.preventDefault()}})})})})})})});W0.displayName=L6;var z6="SelectItemAlignedPosition",G0=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=Lr(Yr,r),u=zr(Yr,r),[l,d]=g.useState(null),[h,p]=g.useState(null),x=We(t,U=>p(U)),C=ka(r),y=g.useRef(!1),w=g.useRef(!0),{viewport:k,selectedItem:D,selectedItemText:S,focusSelectedItem:E}=u,_=g.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&h&&k&&D&&S){const U=a.trigger.getBoundingClientRect(),Y=h.getBoundingClientRect(),te=a.valueNode.getBoundingClientRect(),he=S.getBoundingClientRect();if(a.dir!=="rtl"){const Me=he.left-Y.left,we=te.left-Me,at=U.left-we,At=U.width+at,ht=Math.max(At,Y.width),Yt=window.innerWidth-Vt,cr=oo(we,[Vt,Math.max(Vt,Yt-ht)]);l.style.minWidth=At+"px",l.style.left=cr+"px"}else{const Me=Y.right-he.right,we=window.innerWidth-te.right-Me,at=window.innerWidth-U.right-we,At=U.width+at,ht=Math.max(At,Y.width),Yt=window.innerWidth-Vt,cr=oo(we,[Vt,Math.max(Vt,Yt-ht)]);l.style.minWidth=At+"px",l.style.right=cr+"px"}const V=C(),X=window.innerHeight-Vt*2,ye=k.scrollHeight,Pe=window.getComputedStyle(h),Ne=parseInt(Pe.borderTopWidth,10),be=parseInt(Pe.paddingTop,10),Ie=parseInt(Pe.borderBottomWidth,10),je=parseInt(Pe.paddingBottom,10),H=Ne+be+ye+je+Ie,fe=Math.min(D.offsetHeight*5,H),xe=window.getComputedStyle(k),Ce=parseInt(xe.paddingTop,10),ve=parseInt(xe.paddingBottom,10),Ee=U.top+U.height/2-Vt,Be=X-Ee,se=D.offsetHeight/2,Z=D.offsetTop+se,Oe=Ne+be+Z,ue=H-Oe;if(Oe<=Ee){const Me=V.length>0&&D===V[V.length-1].ref.current;l.style.bottom="0px";const we=h.clientHeight-k.offsetTop-k.offsetHeight,at=Math.max(Be,se+(Me?ve:0)+we+Ie),At=Oe+at;l.style.height=At+"px"}else{const Me=V.length>0&&D===V[0].ref.current;l.style.top="0px";const at=Math.max(Ee,Ne+k.offsetTop+(Me?Ce:0)+se)+ue;l.style.height=at+"px",k.scrollTop=Oe-Ee+k.offsetTop}l.style.margin=`${Vt}px 0`,l.style.minHeight=fe+"px",l.style.maxHeight=X+"px",n?.(),requestAnimationFrame(()=>y.current=!0)}},[C,a.trigger,a.valueNode,l,h,k,D,S,a.dir,n]);Wt(()=>_(),[_]);const[A,P]=g.useState();Wt(()=>{h&&P(window.getComputedStyle(h).zIndex)},[h]);const $=g.useCallback(U=>{U&&w.current===!0&&(_(),E?.(),w.current=!1)},[_,E]);return i.jsx($6,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:$,children:i.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:i.jsx(qe.div,{...o,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});G0.displayName=z6;var B6="SelectPopperPosition",zs=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=Vt,...a}=e,u=Sa(r);return i.jsx(yl,{...u,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zs.displayName=B6;var[$6,Pi]=An(Yr,{}),Bs="SelectViewport",Y0=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=zr(Bs,r),u=Pi(Bs,r),l=We(t,a.onViewportChange),d=g.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(_a.Slot,{scope:r,children:i.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:me(o.onScroll,h=>{const p=h.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:C}=u;if(C?.current&&x){const y=Math.abs(d.current-p.scrollTop);if(y>0){const w=window.innerHeight-Vt*2,k=parseFloat(x.style.minHeight),D=parseFloat(x.style.height),S=Math.max(k,D);if(S<w){const E=S+y,_=Math.min(w,E),A=E-_;x.style.height=_+"px",x.style.bottom==="0px"&&(p.scrollTop=A>0?A:0,x.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});Y0.displayName=Bs;var Z0="SelectGroup",[q6,U6]=An(Z0),H6=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=mn();return i.jsx(q6,{scope:r,id:o,children:i.jsx(qe.div,{role:"group","aria-labelledby":o,...n,ref:t})})});H6.displayName=Z0;var X0="SelectLabel",Q0=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=U6(X0,r);return i.jsx(qe.div,{id:o.id,...n,ref:t})});Q0.displayName=X0;var na="SelectItem",[K6,J0]=An(na),eh=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...u}=e,l=Lr(na,r),d=zr(na,r),h=l.value===n,[p,x]=g.useState(a??""),[C,y]=g.useState(!1),w=We(t,E=>d.itemRefCallback?.(E,n,o)),k=mn(),D=g.useRef("touch"),S=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(K6,{scope:r,value:n,disabled:o,textId:k,isSelected:h,onItemTextChange:g.useCallback(E=>{x(_=>_||(E?.textContent??"").trim())},[]),children:i.jsx(_a.ItemSlot,{scope:r,value:n,disabled:o,textValue:p,children:i.jsx(qe.div,{role:"option","aria-labelledby":k,"data-highlighted":C?"":void 0,"aria-selected":h&&C,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:w,onFocus:me(u.onFocus,()=>y(!0)),onBlur:me(u.onBlur,()=>y(!1)),onClick:me(u.onClick,()=>{D.current!=="mouse"&&S()}),onPointerUp:me(u.onPointerUp,()=>{D.current==="mouse"&&S()}),onPointerDown:me(u.onPointerDown,E=>{D.current=E.pointerType}),onPointerMove:me(u.onPointerMove,E=>{D.current=E.pointerType,o?d.onItemLeave?.():D.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(u.onPointerLeave,E=>{E.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:me(u.onKeyDown,E=>{d.searchRef?.current!==""&&E.key===" "||(T6.includes(E.key)&&S(),E.key===" "&&E.preventDefault())})})})})});eh.displayName=na;var Vn="SelectItemText",th=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,u=Lr(Vn,r),l=zr(Vn,r),d=J0(Vn,r),h=F6(Vn,r),[p,x]=g.useState(null),C=We(t,S=>x(S),d.onItemTextChange,S=>l.itemTextRefCallback?.(S,d.value,d.disabled)),y=p?.textContent,w=g.useMemo(()=>i.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:k,onNativeOptionRemove:D}=h;return Wt(()=>(k(w),()=>D(w)),[k,D,w]),i.jsxs(i.Fragment,{children:[i.jsx(qe.span,{id:d.textId,...a,ref:C}),d.isSelected&&u.valueNode&&!u.valueNodeHasChildren?vn.createPortal(a.children,u.valueNode):null]})});th.displayName=Vn;var rh="SelectItemIndicator",nh=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return J0(rh,r).isSelected?i.jsx(qe.span,{"aria-hidden":!0,...n,ref:t}):null});nh.displayName=rh;var $s="SelectScrollUpButton",oh=g.forwardRef((e,t)=>{const r=zr($s,e.__scopeSelect),n=Pi($s,e.__scopeSelect),[o,a]=g.useState(!1),u=We(t,n.onScrollButtonChange);return Wt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const h=d.scrollTop>0;a(h)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?i.jsx(sh,{...e,ref:u,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});oh.displayName=$s;var qs="SelectScrollDownButton",ah=g.forwardRef((e,t)=>{const r=zr(qs,e.__scopeSelect),n=Pi(qs,e.__scopeSelect),[o,a]=g.useState(!1),u=We(t,n.onScrollButtonChange);return Wt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const h=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<h;a(p)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?i.jsx(sh,{...e,ref:u,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});ah.displayName=qs;var sh=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=zr("SelectScrollButton",r),u=g.useRef(null),l=ka(r),d=g.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return g.useEffect(()=>()=>d(),[d]),Wt(()=>{l().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),i.jsx(qe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:me(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(n,50))}),onPointerMove:me(o.onPointerMove,()=>{a.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(n,50))}),onPointerLeave:me(o.onPointerLeave,()=>{d()})})}),V6="SelectSeparator",ih=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(qe.div,{"aria-hidden":!0,...n,ref:t})});ih.displayName=V6;var Us="SelectArrow",W6=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Sa(r),a=Lr(Us,r),u=zr(Us,r);return a.open&&u.position==="popper"?i.jsx(Cl,{...o,...n,ref:t}):null});W6.displayName=Us;function uh(e){return e===""||e===void 0}var lh=g.forwardRef((e,t)=>{const{value:r,...n}=e,o=g.useRef(null),a=We(t,o),u=df(r);return g.useEffect(()=>{const l=o.current,d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==r&&p){const x=new Event("change",{bubbles:!0});p.call(l,r),l.dispatchEvent(x)}},[u,r]),i.jsx(O0,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});lh.displayName="BubbleSelect";function ch(e){const t=Pt(e),r=g.useRef(""),n=g.useRef(0),o=g.useCallback(u=>{const l=r.current+u;t(l),function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),a=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function dh(e,t,r){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let u=G6(e,Math.max(a,0));o.length===1&&(u=u.filter(h=>h!==r));const d=u.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==r?d:void 0}function G6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Y6=L0,fh=B0,Z6=q0,X6=U0,Q6=H0,hh=K0,J6=Y0,ph=Q0,mh=eh,eC=th,tC=nh,gh=oh,bh=ah,xh=ih;const rC=Y6,nC=Z6,yh=g.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(fh,{ref:n,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(X6,{asChild:!0,children:i.jsx(Ul,{className:"h-4 w-4 opacity-50"})})]}));yh.displayName=fh.displayName;const vh=g.forwardRef(({className:e,...t},r)=>i.jsx(gh,{ref:r,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Qm,{className:"h-4 w-4"})}));vh.displayName=gh.displayName;const wh=g.forwardRef(({className:e,...t},r)=>i.jsx(bh,{ref:r,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Ul,{className:"h-4 w-4"})}));wh.displayName=bh.displayName;const Ch=g.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>i.jsx(Q6,{children:i.jsxs(hh,{ref:o,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(vh,{}),i.jsx(J6,{className:oe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(wh,{})]})}));Ch.displayName=hh.displayName;const oC=g.forwardRef(({className:e,...t},r)=>i.jsx(ph,{ref:r,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));oC.displayName=ph.displayName;const _h=g.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(mh,{ref:n,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(tC,{children:i.jsx(Mr,{className:"h-4 w-4"})})}),i.jsx(eC,{children:t})]}));_h.displayName=mh.displayName;const aC=g.forwardRef(({className:e,...t},r)=>i.jsx(xh,{ref:r,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));aC.displayName=xh.displayName;const sC=[{value:"#3b82f6",label:"Blue"},{value:"#8b5cf6",label:"Purple"},{value:"#10b981",label:"Green"},{value:"#f59e0b",label:"Orange"},{value:"#ef4444",label:"Red"},{value:"#06b6d4",label:"Cyan"},{value:"#84cc16",label:"Lime"},{value:"#f97316",label:"Orange"}],vs=[{value:"Folder",label:"Folder",icon:Pr},{value:"Code",label:"Code",icon:Jm},{value:"Palette",label:"Design",icon:Wl},{value:"BookOpen",label:"Learning",icon:Ym},{value:"Star",label:"Favorites",icon:hg},{value:"Heart",label:"Personal",icon:og},{value:"Zap",label:"Quick",icon:bg},{value:"Target",label:"Goals",icon:pg},{value:"Lightbulb",label:"Ideas",icon:ag},{value:"Coffee",label:"Work",icon:eg}];function iC({isOpen:e,onClose:t,onConfirm:r,parentId:n,initialData:o,mode:a="create"}){const[u,l]=g.useState(""),[d,h]=g.useState("#3b82f6"),[p,x]=g.useState("Folder");g.useEffect(()=>{e&&(o?(l(o.name),h(o.color),x(o.icon)):(l(""),h("#3b82f6"),x("Folder")))},[e]),g.useEffect(()=>{e&&o&&(l(o.name),h(o.color),x(o.icon))},[o,e]);const C=w=>{w.preventDefault(),u.trim()&&(r({name:u.trim(),color:d,icon:p,parentId:n}),t())},y=vs.find(w=>w.value===p)?.icon||Pr;return i.jsx(Gr,{open:e,onOpenChange:t,children:i.jsxs(Fr,{className:"sm:max-w-md",children:[i.jsxs(kn,{children:[i.jsx(En,{children:a==="create"?"Create New Folder":"Edit Folder"}),i.jsx(ba,{children:a==="create"?"Create a new folder to organize your cards.":"Update folder details."})]}),i.jsxs("form",{onSubmit:C,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"folder-name",children:"Folder Name"}),i.jsx(kt,{id:"folder-name",value:u,onChange:w=>l(w.target.value),placeholder:"Enter folder name...",autoFocus:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{children:"Color"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:sC.map(w=>i.jsx("button",{type:"button",onClick:()=>h(w.value),className:`w-8 h-8 rounded-full border-2 transition-all ${d===w.value?"border-foreground scale-110":"border-muted hover:scale-105"}`,style:{backgroundColor:w.value},title:w.label},w.value))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{children:"Icon"}),i.jsxs(rC,{value:p,onValueChange:x,children:[i.jsx(yh,{children:i.jsx(nC,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[ne.createElement(y,{className:"h-4 w-4",style:{color:d}}),vs.find(w=>w.value===p)?.label]})})}),i.jsx(Ch,{children:vs.map(w=>{const k=w.icon;return i.jsx(_h,{value:w.value,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(k,{className:"h-4 w-4"}),w.label]})},w.value)})})]})]}),n&&i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Mt,{variant:"secondary",children:"Subfolder"})}),i.jsxs(Sn,{children:[i.jsx(ke,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),i.jsx(ke,{type:"submit",disabled:!u.trim(),children:a==="create"?"Create Folder":"Save Changes"})]})]})]})})}var kh="AlertDialog",[uC,L_]=ar(kh,[El]),br=El(),Sh=e=>{const{__scopeAlertDialog:t,...r}=e,n=br(t);return i.jsx(kl,{...n,...r,modal:!0})};Sh.displayName=kh;var lC="AlertDialogTrigger",cC=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=br(r);return i.jsx(Dp,{...o,...n,ref:t})});cC.displayName=lC;var dC="AlertDialogPortal",Eh=e=>{const{__scopeAlertDialog:t,...r}=e,n=br(t);return i.jsx(_l,{...n,...r})};Eh.displayName=dC;var fC="AlertDialogOverlay",jh=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=br(r);return i.jsx(Ks,{...o,...n,ref:t})});jh.displayName=fC;var pn="AlertDialogContent",[hC,pC]=uC(pn),Ah=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...o}=e,a=br(r),u=g.useRef(null),l=We(t,u),d=g.useRef(null);return i.jsx(jp,{contentName:pn,titleName:Dh,docsSlug:"alert-dialog",children:i.jsx(hC,{scope:r,cancelRef:d,children:i.jsxs(Vs,{role:"alertdialog",...a,...o,ref:l,onOpenAutoFocus:me(o.onOpenAutoFocus,h=>{h.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[i.jsx(Ap,{children:n}),i.jsx(gC,{contentRef:u})]})})})});Ah.displayName=pn;var Dh="AlertDialogTitle",Nh=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=br(r);return i.jsx(Gs,{...o,...n,ref:t})});Nh.displayName=Dh;var Th="AlertDialogDescription",Ph=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=br(r);return i.jsx(Ys,{...o,...n,ref:t})});Ph.displayName=Th;var mC="AlertDialogAction",Mh=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=br(r);return i.jsx(Ws,{...o,...n,ref:t})});Mh.displayName=mC;var Ih="AlertDialogCancel",Fh=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:o}=pC(Ih,r),a=br(r),u=We(t,o);return i.jsx(Ws,{...a,...n,ref:u})});Fh.displayName=Ih;var gC=({contentRef:e})=>{const t=`\`${pn}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${pn}\` by passing a \`${Th}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${pn}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},bC=Sh,xC=Eh,Rh=jh,Oh=Ah,Lh=Mh,zh=Fh,Bh=Nh,$h=Ph;const yC=bC,vC=xC,qh=g.forwardRef(({className:e,...t},r)=>i.jsx(Rh,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));qh.displayName=Rh.displayName;const Uh=g.forwardRef(({className:e,...t},r)=>i.jsxs(vC,{children:[i.jsx(qh,{}),i.jsx(Oh,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Uh.displayName=Oh.displayName;const Hh=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Hh.displayName="AlertDialogHeader";const Kh=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Kh.displayName="AlertDialogFooter";const Vh=g.forwardRef(({className:e,...t},r)=>i.jsx(Bh,{ref:r,className:oe("text-lg font-semibold",e),...t}));Vh.displayName=Bh.displayName;const Wh=g.forwardRef(({className:e,...t},r)=>i.jsx($h,{ref:r,className:oe("text-sm text-muted-foreground",e),...t}));Wh.displayName=$h.displayName;const Gh=g.forwardRef(({className:e,...t},r)=>i.jsx(Lh,{ref:r,className:oe(ei(),e),...t}));Gh.displayName=Lh.displayName;const Yh=g.forwardRef(({className:e,...t},r)=>i.jsx(zh,{ref:r,className:oe(ei({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Yh.displayName=zh.displayName;function wC({isOpen:e,onClose:t,onConfirm:r,folderName:n,cardCount:o,hasSubfolders:a=!1,subfolderCount:u=0}){const l=()=>{r(),t()};return i.jsx(yC,{open:e,onOpenChange:t,children:i.jsxs(Uh,{children:[i.jsxs(Hh,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Zl,{className:"h-5 w-5 text-destructive"}),i.jsx(Vh,{children:"Delete Folder"})]}),i.jsxs(Wh,{className:"space-y-3",children:[i.jsxs("p",{children:["Are you sure you want to delete the folder ",i.jsxs("strong",{children:['"',n,'"']}),"?"]}),i.jsxs("div",{className:"bg-destructive/10 p-3 rounded-lg space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-destructive",children:"This action will permanently delete:"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[o>0&&i.jsxs(Mt,{variant:"destructive",children:[o," card",o!==1?"s":""]}),a&&u>0&&i.jsxs(Mt,{variant:"destructive",children:[u," subfolder",u!==1?"s":""]})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone."})]})]}),i.jsxs(Kh,{children:[i.jsx(Yh,{children:"Cancel"}),i.jsx(Gh,{onClick:l,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Forever"})]})]})})}function CC({children:e,tagName:t,onRename:r,onDelete:n,disabled:o=!1}){const a=()=>{o||r(t)},u=()=>{o||n(t)};return o?i.jsx(i.Fragment,{children:e}):i.jsxs(I0,{children:[i.jsx(F0,{asChild:!0,children:e}),i.jsxs(Ti,{className:"w-48",children:[i.jsxs(hn,{onClick:a,className:"flex items-center gap-2",children:[i.jsx(Gl,{className:"h-4 w-4"}),"Rename Tag"]}),i.jsxs(hn,{onClick:u,className:"flex items-center gap-2 text-destructive focus:text-destructive",children:[i.jsx(ri,{className:"h-4 w-4"}),"Delete Tag"]})]})]})}function _C({isOpen:e,onClose:t,onConfirm:r,tagName:n,existingTags:o}){const[a,u]=g.useState(""),[l,d]=g.useState("");g.useEffect(()=>{e&&(u(n),d(""))},[e,n]);const h=C=>{const y=C.trim();return y?y===n?"Please enter a different name":o.includes(y)?"A tag with this name already exists":y.length>50?"Tag name must be less than 50 characters":"":"Tag name cannot be empty"},p=()=>{const C=a.trim(),y=h(C);if(y){d(y);return}r(n,C),t()},x=C=>{C.key==="Enter"&&p()};return i.jsx(Gr,{open:e,onOpenChange:t,children:i.jsxs(Fr,{className:"sm:max-w-md",children:[i.jsxs(kn,{children:[i.jsx(En,{children:"Rename Tag"}),i.jsxs(ba,{children:['Enter a new name for the tag "',n,'". This will update all cards using this tag.']})]}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"tag-name",children:"Tag Name"}),i.jsx(kt,{id:"tag-name",value:a,onChange:C=>{u(C.target.value),l&&d("")},onKeyPress:x,placeholder:"Enter tag name...",autoFocus:!0}),l&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[i.jsx(Kt,{className:"h-4 w-4"}),l]})]})}),i.jsxs(Sn,{children:[i.jsx(ke,{variant:"outline",onClick:t,children:"Cancel"}),i.jsx(ke,{onClick:p,disabled:!!l||!a.trim(),children:"Rename Tag"})]})]})})}function kC({isOpen:e,onClose:t,onConfirm:r,tagName:n,cardCount:o}){return i.jsx(Gr,{open:e,onOpenChange:t,children:i.jsxs(Fr,{className:"sm:max-w-md",children:[i.jsxs(kn,{children:[i.jsxs(En,{className:"flex items-center gap-2",children:[i.jsx(Zl,{className:"h-5 w-5 text-destructive"}),"Delete Tag"]}),i.jsxs(ba,{children:['Are you sure you want to delete the tag "',n,'"?']})]}),i.jsx("div",{className:"py-4",children:i.jsxs("div",{className:"rounded-lg bg-destructive/10 p-4 border border-destructive/20",children:[i.jsx("p",{className:"text-sm text-destructive font-medium mb-2",children:"This action cannot be undone."}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["This tag will be removed from ",i.jsx("strong",{children:o})," ",o===1?"card":"cards","."]})]})}),i.jsxs(Sn,{children:[i.jsx(ke,{variant:"outline",onClick:t,children:"Cancel"}),i.jsx(ke,{variant:"destructive",onClick:r,children:"Delete Tag"})]})]})})}const SC=({tag:e,isSelected:t,onClick:r,className:n,showCount:o=!0})=>i.jsxs("button",{onClick:()=>r(e),className:oe("relative flex items-center justify-between px-3 py-2 rounded-xl border transition-all duration-300 ease-out","hover:shadow-lg hover:shadow-black/10 active:scale-[0.98] focus:outline-none focus:ring-2 focus:ring-blue-500/30","backdrop-blur-sm group",t?"bg-gradient-to-r from-blue-500 to-blue-600 border-blue-500 text-white shadow-md shadow-blue-500/25":"bg-white/80 border-gray-200/60 text-gray-700 hover:bg-white hover:border-gray-300/80",n),style:{boxShadow:t?"0 4px 20px -4px rgba(59, 130, 246, 0.3), 0 0 0 1px rgba(59, 130, 246, 0.1)":void 0},children:[i.jsxs("div",{className:"flex items-center gap-2.5 flex-1 min-w-0",children:[i.jsx("div",{className:oe("w-2 h-2 rounded-full flex-shrink-0 transition-all duration-300",t?"bg-white/90 shadow-sm":"shadow-sm"),style:{backgroundColor:t?"rgba(255, 255, 255, 0.9)":e.color,boxShadow:t?"0 1px 3px rgba(0, 0, 0, 0.1)":`0 1px 3px ${e.color}40`}}),i.jsx("span",{className:oe("text-sm font-medium truncate transition-all duration-300",t?"text-white":"text-gray-700 group-hover:text-gray-900"),children:e.name}),t&&i.jsx(Mr,{className:"w-3.5 h-3.5 text-white/90 flex-shrink-0 animate-in fade-in-0 zoom-in-95 duration-200"})]}),o&&i.jsx("span",{className:oe("text-xs font-medium px-2 py-0.5 rounded-full ml-2 flex-shrink-0 transition-all duration-300",t?"text-blue-600 bg-white/90 shadow-sm":"text-gray-500 bg-gray-100/80 group-hover:bg-gray-200/80 group-hover:text-gray-600"),children:e.count})]}),EC=({tags:e,selectedTags:t,onTagClick:r,className:n,emptyMessage:o="No tags found"})=>e.length===0?i.jsx("div",{className:oe("text-center py-8 text-gray-500",n),children:i.jsx("p",{className:"text-sm",children:o})}):i.jsx("div",{className:oe("grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",n),children:e.map(a=>i.jsx(SC,{tag:a,isSelected:t.includes(a.name),onClick:r},a.id))}),jC=({onSearch:e,onCreateTag:t,searchResults:r,searchQuery:n,className:o})=>{const[a,u]=g.useState(n);g.useEffect(()=>{u(n)},[n]);const l=p=>{const x=p.target.value;u(x),e(x)},d=()=>{a.trim()&&(t(a.trim()),u(""),e(""))},h=a.trim()&&r.length===0&&!r.some(p=>p.name.toLowerCase()===a.toLowerCase());return i.jsxs("div",{className:oe("space-y-3",o),children:[i.jsxs("div",{className:"relative",children:[i.jsx(Gn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(kt,{placeholder:"Search tags or create new...",value:a,onChange:l,className:"pl-11 pr-4 py-3 rounded-2xl border-gray-200/60 bg-gray-50/50 backdrop-blur-sm focus:bg-white focus:border-blue-300 transition-all duration-300"})]}),h&&i.jsxs(ke,{onClick:d,variant:"outline",className:"w-full justify-start text-left rounded-xl border-dashed border-2 border-gray-300 hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 py-3",children:[i.jsx(Uo,{className:"h-4 w-4 mr-2 text-blue-500"}),i.jsxs("span",{className:"text-gray-700",children:['Create tag "',i.jsx("span",{className:"font-medium text-blue-600",children:a}),'"']})]})]})},AC=({isOpen:e,onClose:t,currentCardTags:r,onTagsChange:n})=>{const{tags:o,searchTags:a,dispatch:u,createTagIfNotExists:l}=Pl(),[d,h]=g.useState(""),[p,x]=g.useState([]),[C,y]=g.useState(r);g.useEffect(()=>{if(d.trim()){const E=a(d);x(E)}else{const E=[...o].sort((_,A)=>A.count-_.count);x(E)}},[d,o,a]),g.useEffect(()=>{y(r)},[r]);const w=E=>{h(E)},k=E=>{u({type:"CREATE_TAG",payload:{name:E,color:"#3b82f6"}});const _=[...C,E];y(_),n(_),h("")},D=E=>{const _=C.includes(E.name);let A;_?A=C.filter(P=>P!==E.name):A=[...C,E.name],y(A),n(A)},S=()=>{h(""),t()};return e?i.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.15)",backdropFilter:"blur(8px)"},children:[i.jsx("div",{className:"absolute inset-0",onClick:S}),i.jsxs("div",{className:"relative bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl border border-gray-200/50 p-6 w-full max-w-sm sm:max-w-md lg:max-w-2xl max-h-[85vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Manage Tags"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select tags for this card"})]}),i.jsx("button",{onClick:S,className:"p-1 rounded-lg hover:bg-gray-100 transition-colors",children:i.jsx(Zr,{className:"w-5 h-5 text-gray-500"})})]}),i.jsx(jC,{onSearch:w,onCreateTag:k,searchResults:p,searchQuery:d,className:"mb-4"}),C.length>0&&i.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-100/50",children:[i.jsxs("p",{className:"text-sm font-medium text-blue-700 mb-3",children:["Selected tags (",C.length,"):"]}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:C.map(E=>i.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-sm",children:E},E))})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx(EC,{tags:p,selectedTags:C,onTagClick:D,emptyMessage:d?`No tags found for "${d}"`:"No tags available"})}),i.jsx("div",{className:"text-xs text-gray-400 text-center mt-4 pt-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),i.jsx("span",{children:"Click tags to add/remove them from this card"}),i.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"})]})})]})]}):null},DC=()=>{const{isOpen:e,currentCardTags:t,onTagsChange:r,closeTagPanel:n}=Vd();return!e||!r?null:i.jsx(AC,{isOpen:e,onClose:n,currentCardTags:t,onTagsChange:r})};function NC({className:e}){const[t,r]=g.useState({user:null,session:null,loading:!1,error:null}),{openModal:n}=Il(),{cards:o,filter:a,setFilter:u,viewSettings:l,setViewSettings:d,dispatch:h,getAllTags:p,updateTagsInAllCards:x,getCardsWithTag:C}=fm(),{folderTree:y,selectedFolderId:w,setSelectedFolderId:k,dispatch:D,getFolderById:S,folders:E}=Tl(),{tags:_,popularTags:A,renameTag:P,deleteTagByName:$,getAllTagNames:U}=Pl(),{toast:Y}=X3(),[te,he]=g.useState(!1),[V,X]=g.useState(!1),[ye,Pe]=g.useState({gap:16,showLayoutControls:!1});g.useEffect(()=>tr.onAuthStateChange(r),[]);const[Ne,be]=g.useState(!1),[Ie,je]=g.useState(!1),[H,fe]=g.useState(null),[xe,Ce]=g.useState(null),[ve,Ee]=g.useState(),[Be,se]=g.useState(!1),[Z,Oe]=g.useState(!1),[ue,Ue]=g.useState(""),[Me,we]=g.useState(null),{isDownloading:at,showPreview:At,previewData:ht,captureScreenshot:Yt,confirmDownload:cr,cancelPreview:Br}=U3({onSuccess:Q=>{Y({title:"Screenshot saved!",description:`${Q}.png has been downloaded successfully.`})},onError:Q=>{Y({title:"Screenshot failed",description:Q.message,variant:"destructive"})}}),Dn=Q=>{h({type:"FLIP_CARD",payload:Q})},xr=(Q,ge)=>{h({type:"UPDATE_CARD",payload:{id:Q,updates:ge}})},st=async Q=>{const ge=o.find(Fe=>Fe.id===Q);if(ge){const Fe=ge.isFlipped?ge.backContent:ge.frontContent,Nt=yw(Fe.title,Fe.text);await vw(Nt)?console.log("Card content copied to clipboard"):console.error("Failed to copy card content")}},$r=async Q=>{const ge=o.find(ze=>ze.id===Q);if(!ge)return;const Fe=document.querySelector(`[data-card-id="${Q}"]`);if(!Fe){Y({title:"Screenshot failed",description:"Could not find card element. Please try again.",variant:"destructive"});return}const _e=(ge.isFlipped?ge.backContent:ge.frontContent).title||"Untitled Card";await Yt(Fe,_e)},xt=Q=>{console.log("Share card:",Q)},Jr=Q=>{h({type:"DELETE_CARD",payload:Q})},dr=(Q,ge)=>{const Fe=o.find(ze=>ze.id===Q);if(!Fe)return;const Nt=Fe.folderId;if(h({type:"UPDATE_CARD",payload:{id:Q,updates:{folderId:ge||void 0}}}),Nt){const ze=S(Nt);ze&&D({type:"UPDATE_FOLDER",payload:{id:Nt,updates:{cardIds:ze.cardIds.filter(Ge=>Ge!==Q)}}})}if(ge){const ze=S(ge);ze&&D({type:"UPDATE_FOLDER",payload:{id:ge,updates:{cardIds:[...ze.cardIds,Q]}}})}const _e=ge?S(ge)?.name:"Root";Y({title:"Card moved",description:`Card has been moved to "${_e}".`})},Je=()=>{h({type:"CREATE_CARD",payload:{frontContent:{title:"New Card",text:"Click to edit this card...",images:[],tags:[],lastModified:new Date},backContent:{title:"Back Side",text:"Add additional content here...",images:[],tags:[],lastModified:new Date},style:{type:"solid",backgroundColor:"#ffffff",fontFamily:"system-ui",fontSize:"base",fontWeight:"normal",textColor:"#1f2937",borderRadius:"xl",shadow:"md",borderWidth:0},isFlipped:!1,folderId:w||void 0}})},ft=()=>{Ee(void 0),fe(null),be(!0)},yr=Q=>{Ee(Q),fe(null),be(!0)},Zt=Q=>{const ge=S(Q);ge&&(fe({id:Q,name:ge.name,color:ge.color,icon:ge.icon||"Folder"}),Ee(void 0),be(!0))},qt=Q=>{const ge=S(Q);if(ge){const Fe=E.filter(Nt=>Nt.parentId===Q);Ce({id:Q,name:ge.name,cardCount:ge.cardIds.length,hasSubfolders:Fe.length>0,subfolderCount:Fe.length}),je(!0)}},vr=Q=>{H?(D({type:"UPDATE_FOLDER",payload:{id:H.id,updates:{name:Q.name,color:Q.color,icon:Q.icon}}}),Y({title:"Folder updated",description:`"${Q.name}" has been updated successfully.`})):(D({type:"CREATE_FOLDER",payload:{name:Q.name,color:Q.color,icon:Q.icon,cardIds:[],parentId:Q.parentId,isExpanded:!0}}),Y({title:"Folder created",description:`"${Q.name}" has been created successfully.`}))},Ft=()=>{xe&&(D({type:"DELETE_FOLDER",payload:xe.id,onDeleteCards:Q=>{Q.forEach(ge=>{h({type:"DELETE_CARD",payload:ge})})}}),Y({title:"Folder deleted",description:`"${xe.name}" and ${xe.cardCount} cards have been deleted.`}),w===xe.id&&yt(null))},Xt=Q=>{const ge=a.tags.includes(Q);u({...a,tags:ge?a.tags.filter(Fe=>Fe!==Q):[...a.tags,Q]})},yt=Q=>{k(Q),u({...a,folderId:Q||void 0})},Dt=Q=>{Ue(Q),se(!0)},pe=Q=>{const ge=C(Q);we({name:Q,cardCount:ge.length}),Oe(!0)},fr=(Q,ge)=>{P(Q,ge)?(x(Q,ge),Y({title:"Tag renamed",description:`"${Q}" has been renamed to "${ge}".`}),se(!1),Ue("")):Y({title:"Rename failed",description:"A tag with this name already exists.",variant:"destructive"})},Ut=()=>{Me&&$(Me.name)&&(x(Me.name),a.tags.includes(Me.name)&&u({...a,tags:a.tags.filter(ge=>ge!==Me.name)}),Y({title:"Tag deleted",description:`"${Me.name}" has been removed from ${Me.cardCount} cards.`}),Oe(!1),we(null))},Qt=(Q,ge=0)=>Q.map(Fe=>i.jsxs("div",{style:{marginLeft:ge*16},children:[i.jsx(ll,{folderId:Fe.id,folderName:Fe.name,onRename:Zt,onDelete:qt,onCreateSubfolder:yr,children:i.jsxs(ke,{variant:w===Fe.id?"secondary":"ghost",className:"w-full justify-start text-sm mb-1",onClick:()=>yt(Fe.id),children:[i.jsx(Pr,{className:"h-4 w-4 mr-2",style:{color:Fe.color}}),Fe.name,i.jsx(Mt,{variant:"secondary",className:"ml-auto",children:Fe.cardIds.length})]})}),Fe.children&&Fe.children.length>0&&Fe.isExpanded&&i.jsx("div",{className:"ml-4",children:Qt(Fe.children,ge+1)})]},Fe.id)),ie=Q=>Q.map(ge=>i.jsxs("div",{children:[i.jsx(ll,{folderId:ge.id,folderName:ge.name,onRename:Zt,onDelete:qt,onCreateSubfolder:yr,children:i.jsx(ke,{variant:w===ge.id?"secondary":"ghost",className:"w-full h-10 p-0 mb-1",onClick:()=>yt(ge.id),title:ge.name,children:i.jsx(Pr,{className:"h-4 w-4",style:{color:ge.color}})})}),ge.children&&ge.children.length>0&&ge.isExpanded&&i.jsx("div",{children:ie(ge.children)})]},ge.id));return i.jsx(Uv,{children:i.jsxs("div",{className:oe("min-h-screen bg-background",e),children:[i.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-sm",children:"CA"})}),i.jsxs("h1",{className:"text-xl font-bold",children:[i.jsx("span",{className:"text-violet-600",children:"Card"}),i.jsx("span",{className:"text-pink-500",children:"All"})]})]}),i.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 hidden md:block",children:i.jsxs("div",{className:"relative",children:[i.jsx(Gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{placeholder:"Search cards...",value:a.searchTerm,onChange:Q=>u({...a,searchTerm:Q.target.value}),className:"pl-10 rounded-full w-80"})]})}),i.jsx("div",{className:"md:hidden absolute left-1/2 transform -translate-x-1/2",children:i.jsxs("div",{className:"relative",children:[i.jsx(Gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{placeholder:"Search...",value:a.searchTerm,onChange:Q=>u({...a,searchTerm:Q.target.value}),className:"pl-10 rounded-full w-60"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(bw,{children:[i.jsx(xw,{asChild:!0,children:i.jsx(ke,{variant:"ghost",size:"sm",children:i.jsx(cg,{className:"h-4 w-4"})})}),i.jsx(Tf,{className:"w-80",align:"end",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Layout Settings"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize the masonry layout appearance"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(St,{children:["Gap Size: ",ye.gap,"px"]}),i.jsx(Ef,{value:[ye.gap],onValueChange:([Q])=>Pe(ge=>({...ge,gap:Q})),max:32,min:8,step:4,className:"w-full"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{children:"Card Size"}),i.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(Q=>i.jsx(ke,{variant:l.cardSize===Q?"default":"outline",size:"sm",onClick:()=>d(ge=>({...ge,cardSize:Q})),children:Q.charAt(0).toUpperCase()+Q.slice(1)},Q))})]})]})})]}),i.jsxs(ke,{onClick:Je,variant:"ghost",size:"sm",className:"text-black font-bold hover:bg-gray-100 rounded-full w-10 h-10 p-0 flex items-center justify-center",children:[i.jsx(Uo,{className:"h-6 w-6"}),i.jsx("span",{className:"sr-only",children:"Add Card"})]}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-2",children:t.user?i.jsxs(i.Fragment,{children:[i.jsx(l0,{user:t.user,size:"sm",onClick:n,showHoverEffect:!0}),i.jsx("span",{className:"hidden sm:inline text-sm",children:t.user.username||"User"})]}):i.jsxs(i.Fragment,{children:[i.jsx(sg,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Login"})]})})]})]})}),i.jsxs("main",{className:"flex h-[calc(100vh-4rem)]",children:[i.jsxs("aside",{className:oe("border-r transition-all duration-300 ease-in-out flex flex-col",V?"w-16":"w-72"),children:[i.jsx("div",{className:"p-3 flex items-center justify-end",children:i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>X(!V),className:"h-8 w-8 p-0",children:V?i.jsx(ti,{className:"h-4 w-4"}):i.jsx(Xm,{className:"h-4 w-4"})})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsxs("div",{className:"p-3 space-y-4",children:[!V&&i.jsxs("div",{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ke,{className:"w-full justify-start",onClick:Je,children:[i.jsx(Uo,{className:"h-4 w-4 mr-2"}),"New Card"]}),i.jsxs(ke,{variant:"outline",className:"w-full justify-start",onClick:ft,children:[i.jsx(js,{className:"h-4 w-4 mr-2"}),"New Folder"]})]}),i.jsx(Kn,{className:"my-4"})]}),V&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{variant:"ghost",size:"sm",className:"w-full h-10 p-0",onClick:Je,title:"New Card",children:i.jsx(Uo,{className:"h-4 w-4"})}),i.jsx(ke,{variant:"ghost",size:"sm",className:"w-full h-10 p-0",onClick:ft,title:"New Folder",children:i.jsx(js,{className:"h-4 w-4"})}),i.jsx(Kn,{className:"my-4"})]}),i.jsxs("div",{children:[!V&&i.jsx("h3",{className:"text-sm font-medium mb-3",children:"Folders"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(ke,{variant:w?"ghost":"secondary",className:oe("w-full text-sm",V?"h-10 p-0":"justify-start"),onClick:()=>yt(null),title:V?"All Cards":void 0,children:[i.jsx(Pr,{className:"h-4 w-4"}),!V&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"ml-2",children:"All Cards"}),i.jsx(Mt,{variant:"secondary",className:"ml-auto",children:o.length})]})]}),V?ie(y):Qt(y)]})]}),i.jsx(Kn,{}),i.jsxs("div",{children:[!V&&i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Tags"}),a.tags.length>0&&i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>u({...a,tags:[]}),className:"h-6 px-2 text-xs",children:"Clear"})]}),i.jsx("div",{className:"space-y-1",children:A(V?5:10).map(Q=>i.jsx(CC,{tagName:Q.name,onRename:Dt,onDelete:pe,disabled:V,children:i.jsxs(ke,{variant:a.tags.includes(Q.name)?"secondary":"ghost",className:oe("w-full text-sm",V?"h-10 p-0":"justify-start"),onClick:()=>Xt(Q.name),title:V?`${Q.name} (Right-click to expand sidebar for tag management)`:Q.name,children:[i.jsx(Yl,{className:"h-3 w-3",style:{color:Q.color}}),!V&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"ml-2",children:Q.name}),i.jsx(Mt,{variant:"secondary",className:"ml-auto",children:Q.count})]})]})},Q.id))})]}),!V&&(a.tags.length>0||a.searchTerm)&&i.jsxs(i.Fragment,{children:[i.jsx(Kn,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-3",children:"Active Filters"}),i.jsxs("div",{className:"space-y-2",children:[a.searchTerm&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gn,{className:"h-3 w-3"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:['"',a.searchTerm,'"']})]}),a.tags.map(Q=>i.jsx(Mt,{variant:"secondary",className:"mr-1",children:Q},Q))]})]})]})]})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"p-4",children:i.jsx(Wv,{cards:o,onCardFlip:Dn,onCardUpdate:xr,onCardCopy:st,onCardScreenshot:$r,onCardShare:xt,onCardDelete:Jr,onMoveToFolder:dr,cardSize:l.cardSize==="small"?"sm":l.cardSize==="large"?"lg":"md",enableVirtualization:o.length>20,gap:ye.gap,overscan:3})})})]}),i.jsx(H3,{isOpen:At,onClose:Br,onConfirm:cr,previewUrl:ht?.previewUrl||null,fileName:ht?.fileName||"",isDownloading:at}),i.jsx(iC,{isOpen:Ne,onClose:()=>{be(!1),fe(null),Ee(void 0)},onConfirm:vr,parentId:ve,initialData:g.useMemo(()=>H?{name:H.name,color:H.color,icon:H.icon}:void 0,[H]),mode:H?"edit":"create"}),i.jsx(wC,{isOpen:Ie,onClose:()=>{je(!1),Ce(null)},onConfirm:Ft,folderName:xe?.name||"",cardCount:xe?.cardCount||0,hasSubfolders:xe?.hasSubfolders||!1,subfolderCount:xe?.subfolderCount||0}),i.jsx(_C,{isOpen:Be,onClose:()=>{se(!1),Ue("")},onConfirm:fr,tagName:ue,existingTags:U()}),i.jsx(kC,{isOpen:Z,onClose:()=>{Oe(!1),we(null)},onConfirm:Ut,tagName:Me?.name||"",cardCount:Me?.cardCount||0}),i.jsx(DC,{})]})})}const TC={theme:"system",setTheme:()=>null},PC=g.createContext(TC);function MC({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[o,a]=g.useState(()=>localStorage.getItem(r)||t);g.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),o==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(d);return}l.classList.add(o)},[o]);const u={theme:o,setTheme:l=>{localStorage.setItem(r,l),a(l)}};return i.jsx(PC.Provider,{...n,value:u,children:e})}var IC=e=>{switch(e){case"success":return OC;case"info":return zC;case"warning":return LC;case"error":return BC;default:return null}},FC=Array(12).fill(0),RC=({visible:e,className:t})=>ne.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ne.createElement("div",{className:"sonner-spinner"},FC.map((r,n)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),OC=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LC=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zC=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BC=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$C=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qC=()=>{let[e,t]=ne.useState(document.hidden);return ne.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Hs=1,UC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Hs++,a=this.toasts.find(l=>l.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...e,id:o,title:r}),{...l,...e,id:o,dismissible:u,title:r}):l):this.addToast({title:r,...n,dismissible:u,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),o=r!==void 0,a,u=n.then(async d=>{if(a=["resolve",d],ne.isValidElement(d))o=!1,this.create({id:r,type:"default",message:d});else if(KC(d)&&!d.ok){o=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:r,type:"error",message:h,description:p})}else if(t.success!==void 0){o=!1;let h=typeof t.success=="function"?await t.success(d):t.success,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"success",message:h,description:p})}}).catch(async d=>{if(a=["reject",d],t.error!==void 0){o=!1;let h=typeof t.error=="function"?await t.error(d):t.error,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"error",message:h,description:p})}}).finally(()=>{var d;o&&(this.dismiss(r),r=void 0),(d=t.finally)==null||d.call(t)}),l=()=>new Promise((d,h)=>u.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||Hs++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},_t=new UC,HC=(e,t)=>{let r=t?.id||Hs++;return _t.addToast({title:e,...t,id:r}),r},KC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",VC=HC,WC=()=>_t.toasts,GC=()=>_t.getActiveToasts();Object.assign(VC,{success:_t.success,info:_t.info,warning:_t.warning,error:_t.error,custom:_t.custom,message:_t.message,promise:_t.promise,dismiss:_t.dismiss,loading:_t.loading},{getHistory:WC,getToasts:GC});function YC(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}YC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qo(e){return e.label!==void 0}var ZC=3,XC="32px",QC="16px",cl=4e3,JC=356,e_=14,t_=20,r_=200;function Ht(...e){return e.filter(Boolean).join(" ")}function n_(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var o_=e=>{var t,r,n,o,a,u,l,d,h,p,x;let{invert:C,toast:y,unstyled:w,interacting:k,setHeights:D,visibleToasts:S,heights:E,index:_,toasts:A,expanded:P,removeToast:$,defaultRichColors:U,closeButton:Y,style:te,cancelButtonStyle:he,actionButtonStyle:V,className:X="",descriptionClassName:ye="",duration:Pe,position:Ne,gap:be,loadingIcon:Ie,expandByDefault:je,classNames:H,icons:fe,closeButtonAriaLabel:xe="Close toast",pauseWhenPageIsHidden:Ce}=e,[ve,Ee]=ne.useState(null),[Be,se]=ne.useState(null),[Z,Oe]=ne.useState(!1),[ue,Ue]=ne.useState(!1),[Me,we]=ne.useState(!1),[at,At]=ne.useState(!1),[ht,Yt]=ne.useState(!1),[cr,Br]=ne.useState(0),[Dn,xr]=ne.useState(0),st=ne.useRef(y.duration||Pe||cl),$r=ne.useRef(null),xt=ne.useRef(null),Jr=_===0,dr=_+1<=S,Je=y.type,ft=y.dismissible!==!1,yr=y.className||"",Zt=y.descriptionClassName||"",qt=ne.useMemo(()=>E.findIndex(_e=>_e.toastId===y.id)||0,[E,y.id]),vr=ne.useMemo(()=>{var _e;return(_e=y.closeButton)!=null?_e:Y},[y.closeButton,Y]),Ft=ne.useMemo(()=>y.duration||Pe||cl,[y.duration,Pe]),Xt=ne.useRef(0),yt=ne.useRef(0),Dt=ne.useRef(0),pe=ne.useRef(null),[fr,Ut]=Ne.split("-"),Qt=ne.useMemo(()=>E.reduce((_e,ze,Ge)=>Ge>=qt?_e:_e+ze.height,0),[E,qt]),ie=qC(),Q=y.invert||C,ge=Je==="loading";yt.current=ne.useMemo(()=>qt*be+Qt,[qt,Qt]),ne.useEffect(()=>{st.current=Ft},[Ft]),ne.useEffect(()=>{Oe(!0)},[]),ne.useEffect(()=>{let _e=xt.current;if(_e){let ze=_e.getBoundingClientRect().height;return xr(ze),D(Ge=>[{toastId:y.id,height:ze,position:y.position},...Ge]),()=>D(Ge=>Ge.filter(it=>it.toastId!==y.id))}},[D,y.id]),ne.useLayoutEffect(()=>{if(!Z)return;let _e=xt.current,ze=_e.style.height;_e.style.height="auto";let Ge=_e.getBoundingClientRect().height;_e.style.height=ze,xr(Ge),D(it=>it.find(ut=>ut.toastId===y.id)?it.map(ut=>ut.toastId===y.id?{...ut,height:Ge}:ut):[{toastId:y.id,height:Ge,position:y.position},...it])},[Z,y.title,y.description,D,y.id]);let Fe=ne.useCallback(()=>{Ue(!0),Br(yt.current),D(_e=>_e.filter(ze=>ze.toastId!==y.id)),setTimeout(()=>{$(y)},r_)},[y,$,D,yt]);ne.useEffect(()=>{if(y.promise&&Je==="loading"||y.duration===1/0||y.type==="loading")return;let _e;return P||k||Ce&&ie?(()=>{if(Dt.current<Xt.current){let ze=new Date().getTime()-Xt.current;st.current=st.current-ze}Dt.current=new Date().getTime()})():st.current!==1/0&&(Xt.current=new Date().getTime(),_e=setTimeout(()=>{var ze;(ze=y.onAutoClose)==null||ze.call(y,y),Fe()},st.current)),()=>clearTimeout(_e)},[P,k,y,Je,Ce,ie,Fe]),ne.useEffect(()=>{y.delete&&Fe()},[Fe,y.delete]);function Nt(){var _e,ze,Ge;return fe!=null&&fe.loading?ne.createElement("div",{className:Ht(H?.loader,(_e=y?.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":Je==="loading"},fe.loading):Ie?ne.createElement("div",{className:Ht(H?.loader,(ze=y?.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":Je==="loading"},Ie):ne.createElement(RC,{className:Ht(H?.loader,(Ge=y?.classNames)==null?void 0:Ge.loader),visible:Je==="loading"})}return ne.createElement("li",{tabIndex:0,ref:xt,className:Ht(X,yr,H?.toast,(t=y?.classNames)==null?void 0:t.toast,H?.default,H?.[Je],(r=y?.classNames)==null?void 0:r[Je]),"data-sonner-toast":"","data-rich-colors":(n=y.richColors)!=null?n:U,"data-styled":!(y.jsx||y.unstyled||w),"data-mounted":Z,"data-promise":!!y.promise,"data-swiped":ht,"data-removed":ue,"data-visible":dr,"data-y-position":fr,"data-x-position":Ut,"data-index":_,"data-front":Jr,"data-swiping":Me,"data-dismissible":ft,"data-type":Je,"data-invert":Q,"data-swipe-out":at,"data-swipe-direction":Be,"data-expanded":!!(P||je&&Z),style:{"--index":_,"--toasts-before":_,"--z-index":A.length-_,"--offset":`${ue?cr:yt.current}px`,"--initial-height":je?"auto":`${Dn}px`,...te,...y.style},onDragEnd:()=>{we(!1),Ee(null),pe.current=null},onPointerDown:_e=>{ge||!ft||($r.current=new Date,Br(yt.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(we(!0),pe.current={x:_e.clientX,y:_e.clientY}))},onPointerUp:()=>{var _e,ze,Ge,it;if(at||!ft)return;pe.current=null;let ut=Number(((_e=xt.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rt=Number(((ze=xt.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ot=new Date().getTime()-((Ge=$r.current)==null?void 0:Ge.getTime()),$e=ve==="x"?ut:Rt,Ye=Math.abs($e)/Ot;if(Math.abs($e)>=t_||Ye>.11){Br(yt.current),(it=y.onDismiss)==null||it.call(y,y),se(ve==="x"?ut>0?"right":"left":Rt>0?"down":"up"),Fe(),At(!0),Yt(!1);return}we(!1),Ee(null)},onPointerMove:_e=>{var ze,Ge,it,ut;if(!pe.current||!ft||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let Rt=_e.clientY-pe.current.y,Ot=_e.clientX-pe.current.x,$e=(Ge=e.swipeDirections)!=null?Ge:n_(Ne);!ve&&(Math.abs(Ot)>1||Math.abs(Rt)>1)&&Ee(Math.abs(Ot)>Math.abs(Rt)?"x":"y");let Ye={x:0,y:0};ve==="y"?($e.includes("top")||$e.includes("bottom"))&&($e.includes("top")&&Rt<0||$e.includes("bottom")&&Rt>0)&&(Ye.y=Rt):ve==="x"&&($e.includes("left")||$e.includes("right"))&&($e.includes("left")&&Ot<0||$e.includes("right")&&Ot>0)&&(Ye.x=Ot),(Math.abs(Ye.x)>0||Math.abs(Ye.y)>0)&&Yt(!0),(it=xt.current)==null||it.style.setProperty("--swipe-amount-x",`${Ye.x}px`),(ut=xt.current)==null||ut.style.setProperty("--swipe-amount-y",`${Ye.y}px`)}},vr&&!y.jsx?ne.createElement("button",{"aria-label":xe,"data-disabled":ge,"data-close-button":!0,onClick:ge||!ft?()=>{}:()=>{var _e;Fe(),(_e=y.onDismiss)==null||_e.call(y,y)},className:Ht(H?.closeButton,(o=y?.classNames)==null?void 0:o.closeButton)},(a=fe?.close)!=null?a:$C):null,y.jsx||g.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:ne.createElement(ne.Fragment,null,Je||y.icon||y.promise?ne.createElement("div",{"data-icon":"",className:Ht(H?.icon,(u=y?.classNames)==null?void 0:u.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Nt():null,y.type!=="loading"?y.icon||fe?.[Je]||IC(Je):null):null,ne.createElement("div",{"data-content":"",className:Ht(H?.content,(l=y?.classNames)==null?void 0:l.content)},ne.createElement("div",{"data-title":"",className:Ht(H?.title,(d=y?.classNames)==null?void 0:d.title)},typeof y.title=="function"?y.title():y.title),y.description?ne.createElement("div",{"data-description":"",className:Ht(ye,Zt,H?.description,(h=y?.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),g.isValidElement(y.cancel)?y.cancel:y.cancel&&qo(y.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||he,onClick:_e=>{var ze,Ge;qo(y.cancel)&&ft&&((Ge=(ze=y.cancel).onClick)==null||Ge.call(ze,_e),Fe())},className:Ht(H?.cancelButton,(p=y?.classNames)==null?void 0:p.cancelButton)},y.cancel.label):null,g.isValidElement(y.action)?y.action:y.action&&qo(y.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||V,onClick:_e=>{var ze,Ge;qo(y.action)&&((Ge=(ze=y.action).onClick)==null||Ge.call(ze,_e),!_e.defaultPrevented&&Fe())},className:Ht(H?.actionButton,(x=y?.classNames)==null?void 0:x.actionButton)},y.action.label):null))};function dl(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function a_(e,t){let r={};return[e,t].forEach((n,o)=>{let a=o===1,u=a?"--mobile-offset":"--offset",l=a?QC:XC;function d(h){["top","right","bottom","left"].forEach(p=>{r[`${u}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${u}-${h}`]=l:r[`${u}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):d(l)}),r}var s_=g.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:u,className:l,offset:d,mobileOffset:h,theme:p="light",richColors:x,duration:C,style:y,visibleToasts:w=ZC,toastOptions:k,dir:D=dl(),gap:S=e_,loadingIcon:E,icons:_,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:P}=e,[$,U]=ne.useState([]),Y=ne.useMemo(()=>Array.from(new Set([n].concat($.filter(Ce=>Ce.position).map(Ce=>Ce.position)))),[$,n]),[te,he]=ne.useState([]),[V,X]=ne.useState(!1),[ye,Pe]=ne.useState(!1),[Ne,be]=ne.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Ie=ne.useRef(null),je=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=ne.useRef(null),fe=ne.useRef(!1),xe=ne.useCallback(Ce=>{U(ve=>{var Ee;return(Ee=ve.find(Be=>Be.id===Ce.id))!=null&&Ee.delete||_t.dismiss(Ce.id),ve.filter(({id:Be})=>Be!==Ce.id)})},[]);return ne.useEffect(()=>_t.subscribe(Ce=>{if(Ce.dismiss){U(ve=>ve.map(Ee=>Ee.id===Ce.id?{...Ee,delete:!0}:Ee));return}setTimeout(()=>{Np.flushSync(()=>{U(ve=>{let Ee=ve.findIndex(Be=>Be.id===Ce.id);return Ee!==-1?[...ve.slice(0,Ee),{...ve[Ee],...Ce},...ve.slice(Ee+1)]:[Ce,...ve]})})})}),[]),ne.useEffect(()=>{if(p!=="system"){be(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?be("dark"):be("light")),typeof window>"u")return;let Ce=window.matchMedia("(prefers-color-scheme: dark)");try{Ce.addEventListener("change",({matches:ve})=>{be(ve?"dark":"light")})}catch{Ce.addListener(({matches:Ee})=>{try{be(Ee?"dark":"light")}catch(Be){console.error(Be)}})}},[p]),ne.useEffect(()=>{$.length<=1&&X(!1)},[$]),ne.useEffect(()=>{let Ce=ve=>{var Ee,Be;o.every(se=>ve[se]||ve.code===se)&&(X(!0),(Ee=Ie.current)==null||Ee.focus()),ve.code==="Escape"&&(document.activeElement===Ie.current||(Be=Ie.current)!=null&&Be.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",Ce),()=>document.removeEventListener("keydown",Ce)},[o]),ne.useEffect(()=>{if(Ie.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,fe.current=!1)}},[Ie.current]),ne.createElement("section",{ref:t,"aria-label":`${A} ${je}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Y.map((Ce,ve)=>{var Ee;let[Be,se]=Ce.split("-");return $.length?ne.createElement("ol",{key:Ce,dir:D==="auto"?dl():D,tabIndex:-1,ref:Ie,className:l,"data-sonner-toaster":!0,"data-theme":Ne,"data-y-position":Be,"data-lifted":V&&$.length>1&&!a,"data-x-position":se,style:{"--front-toast-height":`${((Ee=te[0])==null?void 0:Ee.height)||0}px`,"--width":`${JC}px`,"--gap":`${S}px`,...y,...a_(d,h)},onBlur:Z=>{fe.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(fe.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,H.current=Z.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{ye||X(!1)},onDragEnd:()=>X(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||Pe(!0)},onPointerUp:()=>Pe(!1)},$.filter(Z=>!Z.position&&ve===0||Z.position===Ce).map((Z,Oe)=>{var ue,Ue;return ne.createElement(o_,{key:Z.id,icons:_,index:Oe,toast:Z,defaultRichColors:x,duration:(ue=k?.duration)!=null?ue:C,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Ue=k?.closeButton)!=null?Ue:u,interacting:ye,position:Ce,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,removeToast:xe,toasts:$.filter(Me=>Me.position==Z.position),heights:te.filter(Me=>Me.position==Z.position),setHeights:he,expandByDefault:a,gap:S,loadingIcon:E,expanded:V,pauseWhenPageIsHidden:P,swipeDirections:e.swipeDirections})})):null}))});const i_=({...e})=>i.jsx(s_,{theme:"light",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e}),Mi=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Mi.displayName="Card";const Zh=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));Zh.displayName="CardHeader";const Xh=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Xh.displayName="CardTitle";const Qh=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:oe("text-sm text-muted-foreground",e),...t}));Qh.displayName="CardDescription";const Ii=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:oe("p-6 pt-0",e),...t}));Ii.displayName="CardContent";const u_=g.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:oe("flex items-center p-6 pt-0",e),...t}));u_.displayName="CardFooter";function l_({open:e,onOpenChange:t}){const[r,n]=g.useState({user:null,session:null,loading:!1,error:null}),[o,a]=g.useState("main"),[u,l]=g.useState(!1),[d,h]=g.useState({email:"",password:"",confirmPassword:"",name:""}),[p,x]=g.useState({}),[C,y]=g.useState(!1);g.useEffect(()=>tr.onAuthStateChange(n),[]);const w=()=>{h({email:"",password:"",confirmPassword:"",name:""}),x({}),y(!1),l(!1)},k=V=>{const X={};return(V==="email-login"||V==="email-signup"||V==="forgot-password")&&(d.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(X.email="请输入有效的邮箱地址"):X.email="请输入邮箱地址"),(V==="email-login"||V==="email-signup")&&(d.password?d.password.length<6&&(X.password="密码至少需要6个字符"):X.password="请输入密码"),V==="email-signup"&&(d.name||(X.name="请输入姓名"),d.password!==d.confirmPassword&&(X.confirmPassword="两次输入的密码不一致")),x(X),Object.keys(X).length===0},D=async()=>{y(!0);const{error:V}=await tr.signInWithGitHub();V&&console.error("GitHub登录失败:",V),y(!1)},S=async()=>{if(!k("email-login"))return;y(!0);const{error:V}=await tr.signInWithEmail(d.email,d.password);V?x({general:V.message}):(t(!1),w(),a("main")),y(!1)},E=async()=>{if(!k("email-signup"))return;y(!0);const{error:V}=await tr.signUpWithEmail(d.email,d.password,{name:d.name});V?x({general:V.message}):a("check-email"),y(!1)},_=async()=>{if(!k("forgot-password"))return;y(!0);const{error:V}=await tr.resetPassword(d.email);V?x({general:V.message}):a("check-email"),y(!1)},A=async()=>{const{error:V}=await tr.signOut();V&&console.error("登出失败:",V)},P=async()=>{await ot.performFullSync()};if(r.user)return i.jsx(Gr,{open:e,onOpenChange:t,children:i.jsx(Fr,{className:"sm:max-w-md border-0 shadow-2xl",children:i.jsxs("div",{className:"space-y-6 p-2",children:[i.jsx(Mi,{className:"border-0 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20",children:i.jsx(Ii,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(l0,{user:r.user,size:"lg",className:"h-16 w-16 shadow-lg",showHoverEffect:!1}),i.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 bg-green-500 rounded-full border-2 border-white"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-lg",children:r.user.username||"用户"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:r.user.email}),i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(yu,{className:"h-3 w-3 text-green-500"}),i.jsx("span",{className:"text-xs text-green-600",children:"云端同步已启用"})]})]})]})})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ke,{onClick:P,variant:"outline",className:"w-full h-12 rounded-2xl border-2 hover:bg-blue-50 transition-all duration-200",disabled:r.loading,children:[r.loading?i.jsx($n,{className:"h-5 w-5 mr-2 animate-spin"}):i.jsx(yu,{className:"h-5 w-5 mr-2 text-blue-500"}),"立即同步数据"]}),i.jsx(ke,{onClick:A,variant:"ghost",className:"w-full h-12 rounded-2xl hover:bg-red-50 hover:text-red-600 transition-all duration-200",disabled:r.loading,children:"退出登录"})]})]})})});const $=()=>i.jsxs("div",{className:"space-y-6 p-2",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"欢迎使用 CardAll"}),i.jsx("p",{className:"text-muted-foreground",children:"选择您的登录方式"})]}),i.jsxs(ke,{onClick:D,disabled:C,className:"w-full h-14 rounded-2xl bg-gray-900 hover:bg-gray-800 text-white shadow-lg transition-all duration-200 transform hover:scale-[1.02]",size:"lg",children:[C?i.jsx($n,{className:"h-5 w-5 mr-3 animate-spin"}):i.jsx(ng,{className:"h-5 w-5 mr-3"}),"使用 GitHub 登录"]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t border-gray-200"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-4 text-muted-foreground",children:"或"})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ke,{onClick:()=>a("email-login"),variant:"outline",className:"w-full h-14 rounded-2xl border-2 hover:bg-blue-50 transition-all duration-200 transform hover:scale-[1.02]",size:"lg",children:[i.jsx(qn,{className:"h-5 w-5 mr-3 text-blue-500"}),"使用邮箱登录"]}),i.jsxs(ke,{onClick:()=>a("email-signup"),variant:"ghost",className:"w-full h-12 rounded-2xl hover:bg-green-50 hover:text-green-600 transition-all duration-200",children:[i.jsx(ku,{className:"h-4 w-4 mr-2"}),"创建新账户"]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1 pt-4",children:[i.jsx("p",{children:"登录后可享受云端同步功能"}),i.jsx("p",{children:"即使不登录也可正常使用本地功能"})]})]}),U=()=>i.jsxs("div",{className:"space-y-6 p-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>a("main"),className:"rounded-full p-2",children:i.jsx(ns,{className:"h-4 w-4"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"邮箱登录"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"email",children:"邮箱地址"}),i.jsxs("div",{className:"relative",children:[i.jsx(qn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"email",type:"email",placeholder:"输入您的邮箱地址",value:d.email,onChange:V=>h(X=>({...X,email:V.target.value})),className:"pl-10 h-12 rounded-2xl border-2"})]}),p.email&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Kt,{className:"h-3 w-3"}),p.email]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"password",children:"密码"}),i.jsxs("div",{className:"relative",children:[i.jsx(os,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"password",type:u?"text":"password",placeholder:"输入您的密码",value:d.password,onChange:V=>h(X=>({...X,password:V.target.value})),className:"pl-10 pr-10 h-12 rounded-2xl border-2"}),i.jsx(ke,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-10 w-10 rounded-xl",onClick:()=>l(!u),children:u?i.jsx(vu,{className:"h-4 w-4"}):i.jsx(wu,{className:"h-4 w-4"})})]}),p.password&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Kt,{className:"h-3 w-3"}),p.password]})]}),i.jsx("div",{className:"text-right",children:i.jsx(ke,{variant:"link",size:"sm",onClick:()=>a("forgot-password"),className:"text-blue-600 hover:text-blue-700 p-0 h-auto",children:"忘记密码？"})}),p.general&&i.jsxs("div",{className:"text-sm text-red-500 text-center bg-red-50 p-3 rounded-2xl flex items-center justify-center gap-2",children:[i.jsx(Kt,{className:"h-4 w-4"}),p.general]}),i.jsxs(ke,{onClick:S,disabled:C,className:"w-full h-12 rounded-2xl bg-blue-600 hover:bg-blue-700 transition-all duration-200",children:[C?i.jsx($n,{className:"h-4 w-4 mr-2 animate-spin"}):null,"登录"]})]})]}),Y=()=>i.jsxs("div",{className:"space-y-6 p-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>a("main"),className:"rounded-full p-2",children:i.jsx(ns,{className:"h-4 w-4"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"创建账户"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"name",children:"姓名"}),i.jsxs("div",{className:"relative",children:[i.jsx(ku,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"name",type:"text",placeholder:"输入您的姓名",value:d.name,onChange:V=>h(X=>({...X,name:V.target.value})),className:"pl-10 h-12 rounded-2xl border-2"})]}),p.name&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Kt,{className:"h-3 w-3"}),p.name]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"signup-email",children:"邮箱地址"}),i.jsxs("div",{className:"relative",children:[i.jsx(qn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"signup-email",type:"email",placeholder:"输入您的邮箱地址",value:d.email,onChange:V=>h(X=>({...X,email:V.target.value})),className:"pl-10 h-12 rounded-2xl border-2"})]}),p.email&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Kt,{className:"h-3 w-3"}),p.email]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"signup-password",children:"密码"}),i.jsxs("div",{className:"relative",children:[i.jsx(os,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"signup-password",type:u?"text":"password",placeholder:"设置您的密码（至少6个字符）",value:d.password,onChange:V=>h(X=>({...X,password:V.target.value})),className:"pl-10 pr-10 h-12 rounded-2xl border-2"}),i.jsx(ke,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-10 w-10 rounded-xl",onClick:()=>l(!u),children:u?i.jsx(vu,{className:"h-4 w-4"}):i.jsx(wu,{className:"h-4 w-4"})})]}),p.password&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Kt,{className:"h-3 w-3"}),p.password]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"confirm-password",children:"确认密码"}),i.jsxs("div",{className:"relative",children:[i.jsx(os,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"confirm-password",type:u?"text":"password",placeholder:"再次输入密码",value:d.confirmPassword,onChange:V=>h(X=>({...X,confirmPassword:V.target.value})),className:"pl-10 h-12 rounded-2xl border-2"})]}),p.confirmPassword&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Kt,{className:"h-3 w-3"}),p.confirmPassword]})]}),p.general&&i.jsxs("div",{className:"text-sm text-red-500 text-center bg-red-50 p-3 rounded-2xl flex items-center justify-center gap-2",children:[i.jsx(Kt,{className:"h-4 w-4"}),p.general]}),i.jsxs(ke,{onClick:E,disabled:C,className:"w-full h-12 rounded-2xl bg-green-600 hover:bg-green-700 transition-all duration-200",children:[C?i.jsx($n,{className:"h-4 w-4 mr-2 animate-spin"}):null,"创建账户"]}),i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:i.jsx("p",{children:"注册即表示您同意我们的服务条款和隐私政策"})})]})]}),te=()=>i.jsxs("div",{className:"space-y-6 p-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>a("email-login"),className:"rounded-full p-2",children:i.jsx(ns,{className:"h-4 w-4"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"重置密码"})]}),i.jsx("div",{className:"text-center space-y-2",children:i.jsx("p",{className:"text-muted-foreground",children:"输入您的邮箱地址，我们将发送重置密码的链接"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(St,{htmlFor:"reset-email",children:"邮箱地址"}),i.jsxs("div",{className:"relative",children:[i.jsx(qn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(kt,{id:"reset-email",type:"email",placeholder:"输入您的邮箱地址",value:d.email,onChange:V=>h(X=>({...X,email:V.target.value})),className:"pl-10 h-12 rounded-2xl border-2"})]}),p.email&&i.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[i.jsx(Kt,{className:"h-3 w-3"}),p.email]})]}),p.general&&i.jsxs("div",{className:"text-sm text-red-500 text-center bg-red-50 p-3 rounded-2xl flex items-center justify-center gap-2",children:[i.jsx(Kt,{className:"h-4 w-4"}),p.general]}),i.jsxs(ke,{onClick:_,disabled:C,className:"w-full h-12 rounded-2xl bg-blue-600 hover:bg-blue-700 transition-all duration-200",children:[C?i.jsx($n,{className:"h-4 w-4 mr-2 animate-spin"}):null,"发送重置链接"]})]})]}),he=()=>i.jsxs("div",{className:"space-y-6 p-2 text-center",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(qn,{className:"h-8 w-8 text-blue-600"})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"检查您的邮箱"}),i.jsxs("p",{className:"text-muted-foreground",children:["我们已向 ",i.jsx("span",{className:"font-medium",children:d.email})," 发送了一封邮件"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["请点击邮件中的链接来完成",o==="check-email"?"账户激活":"密码重置"]})]}),i.jsx(ke,{onClick:()=>{a("main"),w()},variant:"outline",className:"w-full h-12 rounded-2xl border-2",children:"返回登录"})]});return i.jsx(Gr,{open:e,onOpenChange:V=>{t(V),V||(a("main"),w())},children:i.jsxs(Fr,{className:"sm:max-w-md border-0 shadow-2xl rounded-3xl",children:[o==="main"&&$(),o==="email-login"&&U(),o==="email-signup"&&Y(),o==="forgot-password"&&te(),o==="check-email"&&he()]})})}const c_=({onClose:e})=>{const[t,r]=g.useState(null),[n,o]=g.useState(!1),[a,u]=g.useState(!1),[l,d]=g.useState(navigator.onLine);g.useEffect(()=>{const x=()=>{window.matchMedia("(display-mode: standalone)").matches&&u(!0)},C=D=>{D.preventDefault(),r(D),setTimeout(()=>{a||o(!0)},3e3)},y=()=>{u(!0),o(!1),r(null),console.log("PWA was installed")},w=()=>d(!0),k=()=>d(!1);return x(),window.addEventListener("beforeinstallprompt",C),window.addEventListener("appinstalled",y),window.addEventListener("online",w),window.addEventListener("offline",k),()=>{window.removeEventListener("beforeinstallprompt",C),window.removeEventListener("appinstalled",y),window.removeEventListener("online",w),window.removeEventListener("offline",k)}},[a]);const h=async()=>{if(t)try{await t.prompt();const{outcome:x}=await t.userChoice;console.log(x==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),r(null),o(!1)}catch(x){console.error("Error during installation:",x)}},p=()=>{o(!1),e?.()};return!n||a?null:i.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-sm",children:i.jsxs(Mi,{className:"shadow-lg border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-white",children:[i.jsxs(Zh,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"h-5 w-5 text-blue-600"}),i.jsx(Xh,{className:"text-lg",children:"安装 CardAll"})]}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:p,className:"h-6 w-6 p-0",children:i.jsx(Zr,{className:"h-4 w-4"})})]}),i.jsx(Qh,{children:"将 CardAll 安装到您的设备上，享受更好的体验"})]}),i.jsxs(Ii,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[l?i.jsx(gg,{className:"h-4 w-4"}):i.jsx(mg,{className:"h-4 w-4"}),i.jsx("span",{children:l?"在线使用":"离线可用"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(dg,{className:"h-4 w-4"}),i.jsx("span",{children:"移动优化"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-purple-600",children:[i.jsx(ig,{className:"h-4 w-4"}),i.jsx("span",{children:"桌面应用"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[i.jsx(Wn,{className:"h-4 w-4"}),i.jsx("span",{children:"快速启动"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-sm",children:"安装后您将获得："}),i.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[i.jsx("li",{children:"• 完全离线功能"}),i.jsx("li",{children:"• 更快的加载速度"}),i.jsx("li",{children:"• 桌面快捷方式"}),i.jsx("li",{children:"• 推送通知支持"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ke,{onClick:h,className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:!t,children:[i.jsx(Wn,{className:"h-4 w-4 mr-2"}),"立即安装"]}),i.jsx(ke,{variant:"outline",onClick:p,className:"px-3",children:"稍后"})]})]})]})})};function d_(){const{isOpen:e,closeModal:t}=Il();return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(dm,{children:i.jsx(Sv,{children:i.jsx(Ev,{children:i.jsx(NC,{})})})}),i.jsx(c_,{}),i.jsx(l_,{open:e,onOpenChange:t}),i.jsx(i_,{})]})}function f_(){return i.jsx(MC,{defaultTheme:"light",storageKey:"cardall-theme",children:i.jsx(hm,{children:i.jsx(d_,{})})})}_s.createRoot(document.getElementById("root")).render(i.jsx(ne.StrictMode,{children:i.jsx(f_,{})}));
