## 实现思路

1. **模块化支付架构设计**：
   - 采用抽象化设计，将支付功能与UI分离
   - 创建可扩展的支付上下文，支持未来从单次捐赠无缝切换到订阅模式
   - 使用策略模式处理不同支付类型（单次、订阅）

2. **选择合适的支付平台**：
   - 针对海外用户，推荐使用 **Stripe** 或 **PayPal**，两者均支持单次捐赠和订阅模式
   - 这些平台提供统一的API，便于未来扩展功能

3. **UI设计与布局**：
   - 在顶部导航栏添加"Price"按钮
   - 点击按钮后打开一个灵活的支付模态框，预留订阅选项位置
   - 采用组件化设计，便于未来添加订阅相关UI元素

## 实施步骤

1. **创建支付相关组件**：
   - `src/components/payment/payment-provider.tsx` - 支付上下文，管理支付状态和类型
   - `src/components/payment/donation-modal.tsx` - 捐赠/支付模态框（预留订阅选项）
   - `src/components/payment/donation-button.tsx` - 导航栏支付按钮
   - `src/components/payment/payment-methods.tsx` - 支付方式选择组件
   - `src/components/payment/subscription-options.tsx` - 订阅选项组件（初始隐藏）

2. **实现支付上下文**：
   - 定义支付类型枚举：`enum PaymentType { ONE_TIME, SUBSCRIPTION }`
   - 管理当前支付类型状态
   - 提供切换支付类型的方法
   - 预留订阅相关状态管理

3. **集成第三方支付平台**：
   - 集成Stripe Checkout或PayPal Smart Buttons
   - 配置支持单次捐赠和订阅的支付按钮
   - 实现基本的支付成功/失败处理

4. **集成到现有应用**：
   - 在`dashboard.tsx`的顶部导航栏添加支付按钮
   - 实现模态框的打开/关闭逻辑
   - 添加响应式设计和动画效果

5. **添加配置文件**：
   - `src/config/payment-config.ts` - 支付配置，便于未来修改支付参数
   - 包含支付平台API密钥、金额选项、货币设置等

## 扩展性设计要点

1. **支付类型抽象**：
   - 使用抽象类或接口定义支付行为
   - 实现单次支付和订阅支付的具体策略
   - 预留支付类型切换接口

2. **订阅管理预留**：
   - 设计订阅选项组件，初始隐藏
   - 预留订阅状态管理（如订阅周期、价格等级）
   - 实现订阅与单次支付的UI切换逻辑

3. **支付平台API统一**：
   - 使用适配器模式封装不同支付平台的API
   - 便于未来切换或扩展支付平台
   - 统一处理支付回调和状态更新

4. **配置驱动设计**：
   - 所有支付参数通过配置文件管理
   - 便于未来调整支付金额、订阅价格等
   - 支持多环境配置（开发、生产）

## 准备工作

1. **创建支付平台账户**：
   - 访问 [Stripe](https://stripe.com/) 或 [PayPal Developer](https://developer.paypal.com/)
   - 注册账户并获取API密钥
   - 配置支付产品（单次捐赠和订阅计划）

2. **设计支付界面内容**：
   - 准备捐赠和订阅的说明文案
   - 确定捐赠金额选项（如$3、$5、$10）
   - 设计订阅等级（如Basic、Pro、Premium）和对应价格
   - 准备相关图标和视觉元素

3. **测试支付流程**：
   - 使用支付平台的测试环境测试支付流程
   - 测试不同支付类型的切换
   - 确保支付成功后有适当的反馈

## 预期效果

- 导航栏中显示一个"Price"按钮
- 点击按钮后打开一个美观的支付模态框
- 模态框初始显示单次捐赠选项
- 预留订阅选项切换接口，便于未来启用
- 支持多种支付方式，适合海外用户
- 响应式设计，适配移动端和桌面端
- 模块化架构，便于未来扩展订阅功能