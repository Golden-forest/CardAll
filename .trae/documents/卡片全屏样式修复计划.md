# 卡片全屏样式修复计划

## 问题分析

### 当前问题
- 全屏时卡片内容不在中间
- 卡片超出屏幕边缘
- 看不到完整内容
- 用户体验差

### 根本原因
1. **样式层次复杂**：
   - 多个嵌套元素的宽度设置冲突
   - `flip-card-container` 和 `flip-card-inner` 宽度设置不合理
   - 缺少垂直居中处理

2. **样式优先级问题**：
   - 组件内部样式与全屏样式冲突
   - 父容器与子容器样式冲突

3. **内容溢出**：
   - 卡片内容区域没有固定的最大尺寸
   - 内容没有正确的溢出处理

## 修复思路

### 简化样式结构
1. **直接操作卡片内容**：
   - 简化全屏样式层次
   - 直接控制卡片内容区域
   - 避免复杂的样式继承

2. **固定尺寸限制**：
   - 为卡片内容设置明确的最大宽度和高度
   - 确保内容在视口内
   - 禁止内容溢出

3. **确保居中对齐**：
   - 同时处理水平和垂直居中
   - 使用简单可靠的居中方式
   - 避免冲突的居中样式

## 具体修复方案

### 方案：重写全屏样式逻辑

1. **简化全屏样式**：
   - 移除不必要的样式设置
   - 直接控制卡片内容区域
   - 使用简单可靠的居中方式

2. **固定内容尺寸**：
   - 设置卡片内容最大宽度为 `calc(100vw - 4rem)`
   - 设置卡片内容最大高度为 `calc(100vh - 4rem)`
   - 确保内容在视口内

3. **完善居中处理**：
   - 使用 flexbox 实现居中
   - 确保水平和垂直居中
   - 避免冲突的样式

4. **禁止内容溢出**：
   - 设置 `overflow: hidden` 防止滚动
   - 确保内容完整显示
   - 避免需要滚动查看

## 修复步骤

1. **修改全屏样式处理逻辑**：
   - 简化样式选择器
   - 优化样式设置
   - 确保只在全屏状态下应用

2. **确保样式恢复完整**：
   - 验证退出全屏时所有样式恢复正常
   - 确保非全屏状态不受影响

3. **测试验证**：
   - 测试全屏状态下的居中效果
   - 测试非全屏状态下的正常显示
   - 测试全屏切换功能

## 预期效果

✅ 全屏时卡片内容居中显示
✅ 内容完全在视口内，无需滚动
✅ 非全屏状态不受影响
✅ 界面简洁直观
✅ 全屏切换流畅

## 风险评估

- **风险级别**：低
  - 仅修改样式，不影响核心逻辑
  - 可以快速回滚
  - 不影响非全屏状态

- **潜在风险点**：
  - 样式冲突影响其他组件
  - 内容显示问题
  - 兼容性问题

- **风险缓解措施**：
  - 严格限定样式作用域
  - 完善样式恢复逻辑
  - 充分测试各种场景

## 技术实现

- 简化 `card-side.tsx` 中的全屏样式逻辑
- 直接控制卡片内容区域
- 确保居中对齐
- 固定内容尺寸
- 禁止内容溢出
- 完善样式恢复机制