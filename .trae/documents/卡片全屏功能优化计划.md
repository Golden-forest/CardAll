# 卡片全屏功能优化计划

## 问题分析

### 当前问题
1. **全屏时能看到其他卡片，且其他卡片在上层**
   - 原因：全屏卡片的 z-index 不够高，或其他卡片有更高的 z-index
   - 背景遮罩效果不佳，未完全遮挡其他内容

2. **全屏时需要水平滚动**
   - 原因：卡片内容宽度超过视口宽度
   - 内容溢出，未正确设置自适应宽度

3. **用户期望**
   - 全屏时只显示当前卡片，其他卡片不可见
   - 无需滚动，内容自适应屏幕宽度
   - 界面简洁直观
   - 不影响其他卡片的正常显示

## 修复思路

### 方案：精准样式优化（仅修改全屏相关样式）

1. **增强全屏卡片层级**
   - 提高全屏卡片的 z-index 值，确保在最上层
   - 增强背景遮罩效果，完全遮挡其他内容

2. **优化内容自适应**
   - 设置卡片内容最大宽度为 100vw
   - 禁用内容水平溢出
   - 确保文本自动换行

3. **防止滚动**
   - 在全屏时设置 `overflow: hidden` 防止滚动
   - 确保内容完全显示在视口内

4. **保持其他卡片正常显示**
   - 不修改其他卡片的样式
   - 仅对当前全屏卡片应用优化后的样式

## 具体修复步骤

1. **提高 z-index 值**
   - 将全屏卡片的 z-index 从 9999 提高到更高值（如 10000）
   - 确保背景遮罩完全覆盖

2. **优化宽度设置**
   - 设置卡片内容最大宽度为 `100vw` 或 `calc(100vw - 2rem)`
   - 添加 `max-width: 100%` 确保内容自适应
   - 设置 `overflow-x: hidden` 防止水平溢出

3. **增强背景遮罩**
   - 确保背景色为不透明或半透明黑色
   - 覆盖整个视口

4. **防止滚动**
   - 在全屏时设置 `body` 和卡片容器的 `overflow: hidden`
   - 确保内容完全显示在视口内

## 风险评估

- **风险级别**：低
  - 仅修改全屏相关样式
  - 不影响其他卡片的正常显示
  - 可以快速回滚

- **潜在风险点**：
  - z-index 值过高可能影响其他模态框
  - 样式冲突影响其他全屏功能

- **风险缓解措施**：
  - 精确设置样式作用域
  - 避免使用过高的 z-index 值
  - 充分测试各种场景

## 预期效果

- ✅ 全屏时只显示当前卡片，其他卡片被完全遮挡
- ✅ 无需水平滚动，内容自适应屏幕宽度
- ✅ 界面简洁直观，符合用户期望
- ✅ 不影响其他卡片的正常显示
- ✅ 全屏切换流畅，无明显卡顿