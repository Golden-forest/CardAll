# 卡片全屏功能实现分析

## 现状分析

1. **已有基础**：
   - 已导入全屏图标 `Maximize2`（在 `card-side.tsx` 第16行）
   - 已添加菜单选项 "Zoom View"（在 `card-side.tsx` 第160-167行）
   - 项目中已有完整的全屏功能实现示例（在 `image-zoom-modal.tsx` 中）

2. **当前问题**：
   - 菜单选项仅触发自定义事件 `'card-view-detail'`，无实际全屏功能
   - 缺少全屏状态管理和切换逻辑
   - 缺少全屏样式适配

## 实现难度与风险

- **难度**：低
  - 浏览器原生 Fullscreen API 兼容性好
  - 项目已有现成实现示例可借鉴
  - 功能逻辑相对简单

- **风险**：小
  - 全屏API是浏览器标准，稳定可靠
  - 实现方式成熟，无复杂依赖
  - 出现问题易于调试和修复

## 现成方案借鉴

可以直接参考项目中 `image-zoom-modal.tsx` 的全屏实现：

- 使用 `document.documentElement.requestFullscreen()` 进入全屏
- 使用 `document.exitFullscreen()` 退出全屏
- 监听 `fullscreenchange` 事件更新状态
- 实现键盘快捷键支持

## 实现思路

1. **组件修改**：
   - 在 `CardSide` 组件中添加全屏状态管理
   - 实现 `toggleFullscreen` 函数
   - 添加全屏状态监听

2. **UI调整**：
   - 修改 "Zoom View" 菜单项，将其功能改为切换全屏
   - 添加全屏状态下的样式适配
   - 确保卡片内容在全屏模式下居中显示

3. **功能扩展**：
   - 支持键盘快捷键（如 F 键切换全屏）
   - 适配不同屏幕尺寸
   - 确保全屏退出后恢复正常状态

## 实现步骤

1. 在 `CardSide` 组件中添加 `isFullscreen` 状态
2. 实现 `toggleFullscreen` 函数
3. 添加 `useEffect` 监听 `fullscreenchange` 事件
4. 修改菜单选项的点击事件，调用 `toggleFullscreen`
5. 添加全屏模式下的样式适配
6. 测试全屏功能的各种场景

## 预期效果

- 用户点击 "Zoom View" 按钮可切换卡片全屏显示
- 全屏模式下卡片内容居中，自适应屏幕尺寸
- 支持通过 ESC 键或再次点击按钮退出全屏
- 提供良好的视觉反馈

该功能实现简单，风险低，可以快速集成到现有系统中，提升用户体验。